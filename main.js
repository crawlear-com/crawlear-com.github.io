/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t,n,r,i={12599:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{AV:()=>Z,Ep:()=>f,Gn:()=>O,J0:()=>c,LX:()=>R,OF:()=>Q,PP:()=>a,PQ:()=>K,RQ:()=>U,WK:()=>J,WS:()=>b,X3:()=>q,Zn:()=>M,Zq:()=>F,aU:()=>i,cP:()=>p,fZ:()=>Y,fp:()=>_,i3:()=>D,lX:()=>s,ov:()=>ae,p7:()=>de,pC:()=>z,q_:()=>l,qp:()=>se,uX:()=>$}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const o="popstate";function a(e){void 0===e&&(e={});let t,{initialEntries:n=["/"],initialIndex:r,v5Compat:o=!1}=e;t=n.map(((e,t)=>g(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let a=c(null==r?t.length-1:r),s=i.Pop,l=null;function c(e){return Math.min(Math.max(e,0),t.length-1)}function d(){return t[a]}function g(e,n,r){void 0===n&&(n=null);let i=h(t?d().pathname:"/",e,n,r);return u("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}function m(e){return"string"==typeof e?e:f(e)}return{get index(){return a},get action(){return s},get location(){return d()},createHref:m,createURL:e=>new URL(m(e),"http://localhost"),encodeLocation(e){let t="string"==typeof e?p(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,n){s=i.Push;let r=g(e,n);a+=1,t.splice(a,t.length,r),o&&l&&l({action:s,location:r,delta:1})},replace(e,n){s=i.Replace;let r=g(e,n);t[a]=r,o&&l&&l({action:s,location:r,delta:0})},go(e){s=i.Pop;let n=c(a+e),r=t[n];a=n,l&&l({action:s,location:r,delta:e})},listen:e=>(l=e,()=>{l=null})}}function s(e){return void 0===e&&(e={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:f(t)}),null,e)}function l(e){return void 0===e&&(e={}),g((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=p(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:f(t))}),(function(e,t){u("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function c(e,t){if(!1===e||null==e)throw new Error(t)}function u(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?p(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:l=!1}=a,u=s.history,p=i.Pop,g=null,m=v();function v(){return(u.state||{idx:null}).idx}function y(){p=i.Pop;let e=v(),t=null==e?null:e-m;m=e,g&&g({action:p,location:b.location,delta:t})}function _(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"==typeof e?e:f(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,u.replaceState(r({},u.state,{idx:m}),""));let b={get action(){return p},get location(){return e(s,u)},listen(e){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(o,y),g=e,()=>{s.removeEventListener(o,y),g=null}},createHref:e=>t(s,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=i.Push;let r=h(b.location,e,t);n&&n(r,e),m=v()+1;let o=d(r,m),a=b.createHref(r);try{u.pushState(o,"",a)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;s.location.assign(a)}l&&g&&g({action:p,location:b.location,delta:1})},replace:function(e,t){p=i.Replace;let r=h(b.location,e,t);n&&n(r,e),m=v();let o=d(r,m),a=b.createHref(r);u.replaceState(o,"",a),l&&g&&g({action:p,location:b.location,delta:0})},go:e=>u.go(e)};return b}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));const v=new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),e.map(((e,o)=>{let a=[...n,o],s="string"==typeof e.id?e.id:a.join("-");if(c(!0!==e.index||!e.children,"Cannot specify children on an index route"),c(!i[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=r({},e,t(e),{id:s});return i[s]=n,n}{let n=r({},e,t(e),{id:s,children:void 0});return i[s]=n,e.children&&(n.children=y(e.children,t,a,i)),n}}))}function _(e,t,n){void 0===n&&(n="/");let r=M(("string"==typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e)o=N(i[e],L(r));return o}function b(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=U([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),w(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:P(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of x(e.path))i(e,t,n);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=x(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const C=/^:\w+$/,E=3,I=2,T=1,k=10,S=-2,A=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=S),t&&(r+=I),n.filter((e=>!A(e))).reduce(((e,t)=>e+(C.test(t)?E:""===t?T:k)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=R({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=a.route;o.push({params:r,pathname:U([i,c.pathname]),pathnameBase:V(U([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=U([i,c.pathnameBase]))}return o}function O(e,t){void 0===t&&(t={});let n=e;n.endsWith("*")&&"*"!==n&&!n.endsWith("/*")&&(u(!1,'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",i=e=>null==e?"":"string"==typeof e?e:String(e);return r+n.split(/\/+/).map(((e,n,r)=>{if(n===r.length-1&&"*"===e)return i(t["*"]);const o=e.match(/^:(\w+)(\??)$/);if(o){const[,e,n]=o;let r=t[e];return c("?"===n||null!=r,'Missing ":'+e+'" param'),i(r)}return e.replace(/\?$/g,"")})).filter((e=>!!e)).join("/")}function R(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function L(e){try{return decodeURI(e)}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:B(r),hash:G(i)}}function j(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function z(e,t,n,i){let o;void 0===i&&(i=!1),"string"==typeof e?o=p(e):(o=r({},e),c(!o.pathname||!o.pathname.includes("?"),j("?","pathname","search",o)),c(!o.pathname||!o.pathname.includes("#"),j("#","pathname","hash",o)),c(!o.search||!o.search.includes("#"),j("#","search","hash",o)));let a,s=""===e||""===o.pathname,l=s?"/":o.pathname;if(null==l)a=n;else if(i){let e=t[t.length-1].replace(/^\//,"").split("/");if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e.pop();o.pathname=t.join("/")}a="/"+e.join("/")}else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=D(o,a),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const U=e=>e.join("/").replace(/\/\/+/g,"/"),V=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",Z=function(e,t){void 0===t&&(t={});let n="number"==typeof t?{status:t}:t,i=new Headers(n.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),r({},n,{headers:i}))};class q extends Error{}class W{constructor(e,t){let n;this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],c(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise(((e,t)=>n=t)),this.controller=new AbortController;let r=()=>n(new q("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:this.trackPromise(n,r)})}),{}),this.done&&this.unlistenAbortSignal(),this.init=t}trackPromise(e,t){if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let n=Promise.race([t,this.abortPromise]).then((t=>this.onSettle(n,e,void 0,t)),(t=>this.onSettle(n,e,t)));return n.catch((()=>{})),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(e,t,n,r){if(this.controller.signal.aborted&&n instanceof q)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>n}),Promise.reject(n);if(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),void 0===n&&void 0===r){let n=new Error('Deferred data for key "'+t+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,t),Promise.reject(n)}return void 0===r?(Object.defineProperty(e,"_error",{get:()=>n}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:()=>r}),this.emit(!1,t),r)}emit(e,t){this.subscribers.forEach((n=>n(e,t)))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach(((e,t)=>this.pendingKeysSet.delete(t))),this.emit(!0)}async resolveData(e){let t=!1;if(!this.done){let n=()=>this.cancel();e.addEventListener("abort",n),t=await new Promise((t=>{this.subscribe((r=>{e.removeEventListener("abort",n),(r||this.done)&&t(r)}))}))}return t}get done(){return 0===this.pendingKeysSet.size}get unwrappedData(){return c(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce(((e,t)=>{let[n,r]=t;return Object.assign(e,{[n]:H(r)})}),{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function H(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}const K=function(e,t){return void 0===t&&(t={}),new W(e,"number"==typeof t?{status:t}:t)},$=function(e,t){void 0===t&&(t=302);let n=t;"number"==typeof n?n={status:n}:void 0===n.status&&(n.status=302);let i=new Headers(n.headers);return i.set("Location",e),new Response(null,r({},n,{headers:i}))},Y=(e,t)=>{let n=$(e,t);return n.headers.set("X-Remix-Reload-Document","true"),n};class Q{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function J(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const X=["post","put","patch","delete"],ee=new Set(X),te=["get",...X],ne=new Set(te),re=new Set([301,302,303,307,308]),ie=new Set([307,308]),oe={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ae={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},se={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ue="remix-router-transitions";function de(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,n=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement,o=!n;let a;if(c(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;a=e=>({hasErrorBoundary:t(e)})}else a=ce;let s,l={},d=y(e.routes,a,void 0,l),f=e.basename||"/",p=r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),g=null,v=new Set,w=null,x=null,C=null,E=null!=e.hydrationData,I=_(d,e.history.location,f),T=null;if(null==I){let t=Te(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Ie(d);I=n,T={[r.id]:t}}let k,S,A=!(I.some((e=>e.route.lazy))||I.some((e=>e.route.loader))&&null==e.hydrationData),P={historyAction:e.history.action,location:e.history.location,matches:I,initialized:A,navigation:oe,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||T,fetchers:new Map,blockers:new Map},N=i.Pop,O=!1,R=!1,L=new Map,D=null,j=!1,F=!1,z=[],U=[],V=new Map,B=0,G=-1,Z=new Map,q=new Set,W=new Map,H=new Map,K=new Set,$=new Map,Y=new Map,Q=!1;function J(e,t){void 0===t&&(t={}),P=r({},P,e);let n=[],i=[];p.v7_fetcherPersist&&P.fetchers.forEach(((e,t)=>{"idle"===e.state&&(K.has(t)?i.push(t):n.push(t))})),[...v].forEach((e=>e(P,{deletedFetchers:i,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),p.v7_fetcherPersist&&(n.forEach((e=>P.fetchers.delete(e))),i.forEach((e=>ve(e))))}function X(t,n,o){var a,l;let c,{flushSync:u}=void 0===o?{}:o,h=null!=P.actionData&&null!=P.navigation.formMethod&&Oe(P.navigation.formMethod)&&"loading"===P.navigation.state&&!0!==(null==(a=t.state)?void 0:a._isRedirect);c=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?P.actionData:null;let f=n.loaderData?Ce(P.loaderData,n.loaderData,n.matches||[],n.errors):P.loaderData,p=P.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,se))));let g,m=!0===O||null!=P.navigation.formMethod&&Oe(P.navigation.formMethod)&&!0!==(null==(l=t.state)?void 0:l._isRedirect);if(s&&(d=s,s=void 0),j||N===i.Pop||(N===i.Push?e.history.push(t,t.state):N===i.Replace&&e.history.replace(t,t.state)),N===i.Pop){let e=L.get(P.location.pathname);e&&e.has(t.pathname)?g={currentLocation:P.location,nextLocation:t}:L.has(t.pathname)&&(g={currentLocation:t,nextLocation:P.location})}else if(R){let e=L.get(P.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),L.set(P.location.pathname,e)),g={currentLocation:P.location,nextLocation:t}}J(r({},n,{actionData:c,loaderData:f,historyAction:N,location:t,initialized:!0,navigation:oe,revalidation:"idle",restoreScrollPosition:We(t,n.matches||P.matches),preventScrollReset:m,blockers:p}),{viewTransitionOpts:g,flushSync:!0===u}),N=i.Pop,O=!1,R=!1,j=!1,F=!1,z=[],U=[]}async function ee(t,n,o){S&&S.abort(),S=null,N=t,j=!0===(o&&o.startUninterruptedRevalidation),function(e,t){if(w&&C){let n=qe(e,t);w[n]=C()}}(P.location,P.matches),O=!0===(o&&o.preventScrollReset),R=!0===(o&&o.enableViewTransition);let c=s||d,u=o&&o.overrideNavigation,h=_(c,n,f),p=!0===(o&&o.flushSync);if(!h){let e=Te(404,{pathname:n.pathname}),{matches:t,route:r}=Ie(c);return Ze(),void X(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:p})}if(P.initialized&&!F&&(g=P.location,v=n,g.pathname===v.pathname&&g.search===v.search&&(""===g.hash?""!==v.hash:g.hash===v.hash||""!==v.hash))&&!(o&&o.submission&&Oe(o.submission.formMethod)))return void X(n,{matches:h},{flushSync:p});var g,v;S=new AbortController;let y,b,x=_e(e.history,n,S.signal,o&&o.submission);if(o&&o.pendingError)b={[Ee(h).route.id]:o.pendingError};else if(o&&o.submission&&Oe(o.submission.formMethod)){let e=await async function(e,t,n,r,o){void 0===o&&(o={}),re();let s,c=function(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}(t,n);J({navigation:c},{flushSync:!0===o.flushSync});let u=De(r,t);if(u.route.action||u.route.lazy){if(s=await ye("action",e,u,r,l,a,f),e.signal.aborted)return{shortCircuited:!0}}else s={type:m.error,error:Te(405,{method:e.method,pathname:t.pathname,routeId:u.route.id})};if(Ne(s)){let e;return e=o&&null!=o.replace?o.replace:s.location===P.location.pathname+P.location.search,await te(P,s,{submission:n,replace:e}),{shortCircuited:!0}}if(Pe(s)){let e=Ee(r,u.route.id);return!0!==(o&&o.replace)&&(N=i.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(Ae(s))throw Te(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:s.data}}}(x,n,o.submission,h,{replace:o.replace,flushSync:p});if(e.shortCircuited)return;y=e.pendingActionData,b=e.pendingActionError,u=Fe(n,o.submission),p=!1,x=new Request(x.url,{signal:x.signal})}let{shortCircuited:E,loaderData:I,errors:T}=await async function(t,n,i,o,a,l,c,u,h,p){let g=o||Fe(n,a),m=a||l||je(g),v=s||d,[y,_]=pe(e.history,P,i,m,n,F,z,U,W,q,v,f,h,p);if(Ze((e=>!(i&&i.some((t=>t.route.id===e)))||y&&y.some((t=>t.route.id===e)))),G=++B,0===y.length&&0===_.length){let e=Se();return X(n,r({matches:i,loaderData:{},errors:p||null},h?{actionData:h}:{},e?{fetchers:new Map(P.fetchers)}:{}),{flushSync:u}),{shortCircuited:!0}}if(!j){_.forEach((e=>{let t=P.fetchers.get(e.key),n=ze(void 0,t?t.data:void 0);P.fetchers.set(e.key,n)}));let e=h||P.actionData;J(r({navigation:g},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},_.length>0?{fetchers:new Map(P.fetchers)}:{}),{flushSync:u})}_.forEach((e=>{V.has(e.key)&&be(e.key),e.controller&&V.set(e.key,e.controller)}));let b=()=>_.forEach((e=>be(e.key)));S&&S.signal.addEventListener("abort",b);let{results:w,loaderResults:x,fetcherResults:C}=await ne(P.matches,i,y,_,t);if(t.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",b),_.forEach((e=>V.delete(e.key)));let E=ke(w);if(E){if(E.idx>=y.length){let e=_[E.idx-y.length].key;q.add(e)}return await te(P,E.result,{replace:c}),{shortCircuited:!0}}let{loaderData:I,errors:T}=xe(P,i,y,x,p,_,C,$);$.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&$.delete(t)}))}));let k=Se(),A=Me(G);return r({loaderData:I,errors:T},k||A||_.length>0?{fetchers:new Map(P.fetchers)}:{})}(x,n,h,u,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,p,y,b);E||(S=null,X(n,r({matches:h},y?{actionData:y}:{},{loaderData:I,errors:T})))}async function te(o,a,s){let{submission:l,fetcherSubmission:u,replace:d}=void 0===s?{}:s;a.revalidate&&(F=!0);let p=h(o.location,a.location,{_isRedirect:!0});if(c(p,"Expected a location on the redirect navigation"),n){let n=!1;if(a.reloadDocument)n=!0;else if(le.test(a.location)){const r=e.history.createURL(a.location);n=r.origin!==t.location.origin||null==M(r.pathname,f)}if(n)return void(d?t.location.replace(a.location):t.location.assign(a.location))}S=null;let g=!0===d?i.Replace:i.Push,{formMethod:m,formAction:v,formEncType:y}=o.navigation;!l&&!u&&m&&v&&y&&(l=je(o.navigation));let _=l||u;if(ie.has(a.status)&&_&&Oe(_.formMethod))await ee(g,p,{submission:r({},_,{formAction:a.location}),preventScrollReset:O});else{let e=Fe(p,l);await ee(g,p,{overrideNavigation:e,fetcherSubmission:u,preventScrollReset:O})}}async function ne(t,n,r,i,o){let s=await Promise.all([...r.map((e=>ye("loader",o,e,n,l,a,f))),...i.map((t=>t.matches&&t.match&&t.controller?ye("loader",_e(e.history,t.path,t.controller.signal),t.match,t.matches,l,a,f):{type:m.error,error:Te(404,{pathname:t.path})}))]),c=s.slice(0,r.length),u=s.slice(r.length);return await Promise.all([Re(t,r,c,c.map((()=>o.signal)),!1,P.loaderData),Re(t,i.map((e=>e.match)),u,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:s,loaderResults:c,fetcherResults:u}}function re(){F=!0,z.push(...Ze()),W.forEach(((e,t)=>{V.has(t)&&(U.push(t),be(t))}))}function de(e,t,n){void 0===n&&(n={}),P.fetchers.set(e,t),J({fetchers:new Map(P.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function ge(e,t,n,r){void 0===r&&(r={});let i=Ee(P.matches,t);ve(e),J({errors:{[i.route.id]:n},fetchers:new Map(P.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function me(e){return p.v7_fetcherPersist&&(H.set(e,(H.get(e)||0)+1),K.has(e)&&K.delete(e)),P.fetchers.get(e)||ae}function ve(e){let t=P.fetchers.get(e);!V.has(e)||t&&"loading"===t.state&&Z.has(e)||be(e),W.delete(e),Z.delete(e),q.delete(e),K.delete(e),P.fetchers.delete(e)}function be(e){let t=V.get(e);c(t,"Expected fetch controller: "+e),t.abort(),V.delete(e)}function we(e){for(let t of e){let e=Ue(me(t).data);P.fetchers.set(t,e)}}function Se(){let e=[],t=!1;for(let n of q){let r=P.fetchers.get(n);c(r,"Expected fetcher: "+n),"loading"===r.state&&(q.delete(n),e.push(n),t=!0)}return we(e),t}function Me(e){let t=[];for(let[n,r]of Z)if(r<e){let e=P.fetchers.get(n);c(e,"Expected fetcher: "+n),"loading"===e.state&&(be(n),Z.delete(n),t.push(n))}return we(t),t.length>0}function Ve(e){P.blockers.delete(e),Y.delete(e)}function Be(e,t){let n=P.blockers.get(e)||se;c("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(P.blockers);r.set(e,t),J({blockers:r})}function Ge(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===Y.size)return;Y.size>1&&u(!1,"A router only supports one blocker at a time");let i=Array.from(Y.entries()),[o,a]=i[i.length-1],s=P.blockers.get(o);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function Ze(e){let t=[];return $.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),$.delete(r))})),t}function qe(e,t){return x&&x(e,t.map((e=>b(e,P.loaderData))))||e.key}function We(e,t){if(w){let n=qe(e,t),r=w[n];if("number"==typeof r)return r}return null}return k={get basename(){return f},get state(){return P},get routes(){return d},get window(){return t},initialize:function(){if(g=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(Q)return void(Q=!1);u(0===Y.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=Ge({currentLocation:P.location,nextLocation:r,historyAction:n});return o&&null!=i?(Q=!0,e.history.go(-1*i),void Be(o,{state:"blocked",location:r,proceed(){Be(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(P.blockers);e.set(o,se),J({blockers:e})}})):ee(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(ue);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(e){}}(t,L);let e=()=>function(e,t){if(t.size>0){let n={};for(let[e,r]of t)n[e]=[...r];try{e.sessionStorage.setItem(ue,JSON.stringify(n))}catch(e){u(!1,"Failed to save applied view transitions in sessionStorage ("+e+").")}}}(t,L);t.addEventListener("pagehide",e),D=()=>t.removeEventListener("pagehide",e)}return P.initialized||ee(i.Pop,P.location),k},subscribe:function(e){return v.add(e),()=>v.delete(e)},enableScrollRestoration:function(e,t,n){if(w=e,C=t,x=n||null,!E&&P.navigation===oe){E=!0;let e=We(P.location,P.matches);null!=e&&J({restoreScrollPosition:e})}return()=>{w=null,C=null,x=null}},navigate:async function t(n,o){if("number"==typeof n)return void e.history.go(n);let a=he(P.location,P.matches,f,p.v7_prependBasename,n,null==o?void 0:o.fromRouteId,null==o?void 0:o.relative),{path:s,submission:l,error:c}=fe(p.v7_normalizeFormMethod,!1,a,o),u=P.location,d=h(P.location,s,o&&o.state);d=r({},d,e.history.encodeLocation(d));let g=o&&null!=o.replace?o.replace:void 0,m=i.Push;!0===g?m=i.Replace:!1===g||null!=l&&Oe(l.formMethod)&&l.formAction===P.location.pathname+P.location.search&&(m=i.Replace);let v=o&&"preventScrollReset"in o?!0===o.preventScrollReset:void 0,y=!0===(o&&o.unstable_flushSync),_=Ge({currentLocation:u,nextLocation:d,historyAction:m});if(!_)return await ee(m,d,{submission:l,pendingError:c,preventScrollReset:v,replace:o&&o.replace,enableViewTransition:o&&o.unstable_viewTransition,flushSync:y});Be(_,{state:"blocked",location:d,proceed(){Be(_,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,o)},reset(){let e=new Map(P.blockers);e.set(_,se),J({blockers:e})}})},fetch:function(t,n,r,i){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(t)&&be(t);let u=!0===(i&&i.unstable_flushSync),h=s||d,g=he(P.location,P.matches,f,p.v7_prependBasename,r,n,null==i?void 0:i.relative),m=_(h,g,f);if(!m)return void ge(t,n,Te(404,{pathname:g}),{flushSync:u});let{path:v,submission:y,error:b}=fe(p.v7_normalizeFormMethod,!0,g,i);if(b)return void ge(t,n,b,{flushSync:u});let w=De(m,v);O=!0===(i&&i.preventScrollReset),y&&Oe(y.formMethod)?async function(t,n,r,i,o,u,h){if(re(),W.delete(t),!i.route.action&&!i.route.lazy){let e=Te(405,{method:h.formMethod,pathname:r,routeId:n});return void ge(t,n,e,{flushSync:u})}let p=P.fetchers.get(t);de(t,function(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}(h,p),{flushSync:u});let g=new AbortController,m=_e(e.history,r,g.signal,h);V.set(t,g);let v=B,y=await ye("action",m,i,o,l,a,f);if(m.signal.aborted)return void(V.get(t)===g&&V.delete(t));if(K.has(t))return void de(t,Ue(void 0));if(Ne(y))return V.delete(t),G>v?void de(t,Ue(void 0)):(q.add(t),de(t,ze(h)),te(P,y,{fetcherSubmission:h}));if(Pe(y))return void ge(t,n,y.error);if(Ae(y))throw Te(400,{type:"defer-action"});let b=P.navigation.location||P.location,w=_e(e.history,b,g.signal),x=s||d,C="idle"!==P.navigation.state?_(x,P.navigation.location,f):P.matches;c(C,"Didn't find any matches after fetcher action");let E=++B;Z.set(t,E);let I=ze(h,y.data);P.fetchers.set(t,I);let[T,k]=pe(e.history,P,C,h,b,F,z,U,W,q,x,f,{[i.route.id]:y.data},void 0);k.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=P.fetchers.get(t),r=ze(void 0,n?n.data:void 0);P.fetchers.set(t,r),V.has(t)&&be(t),e.controller&&V.set(t,e.controller)})),J({fetchers:new Map(P.fetchers)});let A=()=>k.forEach((e=>be(e.key)));g.signal.addEventListener("abort",A);let{results:O,loaderResults:R,fetcherResults:L}=await ne(P.matches,C,T,k,w);if(g.signal.aborted)return;g.signal.removeEventListener("abort",A),Z.delete(t),V.delete(t),k.forEach((e=>V.delete(e.key)));let M=ke(O);if(M){if(M.idx>=T.length){let e=k[M.idx-T.length].key;q.add(e)}return te(P,M.result)}let{loaderData:D,errors:j}=xe(P,P.matches,T,R,void 0,k,L,$);if(P.fetchers.has(t)){let e=Ue(y.data);P.fetchers.set(t,e)}Me(E),"loading"===P.navigation.state&&E>G?(c(N,"Expected pending action"),S&&S.abort(),X(P.navigation.location,{matches:C,loaderData:D,errors:j,fetchers:new Map(P.fetchers)})):(J({errors:j,loaderData:Ce(P.loaderData,D,C,j),fetchers:new Map(P.fetchers)}),F=!1)}(t,n,v,w,m,u,y):(W.set(t,{routeId:n,path:v}),async function(t,n,r,i,o,s,u){let d=P.fetchers.get(t);de(t,ze(u,d?d.data:void 0),{flushSync:s});let h=new AbortController,p=_e(e.history,r,h.signal);V.set(t,h);let g=B,m=await ye("loader",p,i,o,l,a,f);if(Ae(m)&&(m=await Le(m,p.signal,!0)||m),V.get(t)===h&&V.delete(t),!p.signal.aborted){if(!K.has(t))return Ne(m)?G>g?void de(t,Ue(void 0)):(q.add(t),void await te(P,m)):void(Pe(m)?ge(t,n,m.error):(c(!Ae(m),"Unhandled fetcher deferred data"),de(t,Ue(m.data))));de(t,Ue(void 0))}}(t,n,v,w,m,u,y))},revalidate:function(){re(),J({revalidation:"loading"}),"submitting"!==P.navigation.state&&("idle"!==P.navigation.state?ee(N||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation}):ee(P.historyAction,P.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:me,deleteFetcher:function(e){if(p.v7_fetcherPersist){let t=(H.get(e)||0)-1;t<=0?(H.delete(e),K.add(e)):H.set(e,t)}else ve(e);J({fetchers:new Map(P.fetchers)})},dispose:function(){g&&g(),D&&D(),v.clear(),S&&S.abort(),P.fetchers.forEach(((e,t)=>ve(t))),P.blockers.forEach(((e,t)=>Ve(t)))},getBlocker:function(e,t){let n=P.blockers.get(e)||se;return Y.get(e)!==t&&Y.set(e,t),n},deleteBlocker:Ve,_internalFetchControllers:V,_internalActiveDeferreds:$,_internalSetRoutes:function(e){l={},s=y(e,a,void 0,l)}},k}function he(e,t,n,r,i,o,a){let s,l;if(o){s=[];for(let e of t)if(s.push(e),e.route.id===o){l=e;break}}else s=t,l=t[t.length-1];let c=z(i||".",F(s).map((e=>e.pathnameBase)),M(e.pathname,n)||e.pathname,"path"===a);return null==i&&(c.search=e.search,c.hash=e.hash),null!=i&&""!==i&&"."!==i||!l||!l.route.index||Me(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:U([n,c.pathname])),f(c)}function fe(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&(i=r.formMethod,!ne.has(i.toLowerCase())))return{path:n,error:Te(405,{method:r.formMethod})};var i;let o,a,s=()=>({path:n,error:Te(400,{type:"invalid-body"})}),l=r.formMethod||"get",u=e?l.toUpperCase():l.toLowerCase(),d=Se(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Oe(u))return s();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:u,formAction:d,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Oe(u))return s();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:d,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return s()}}}if(c("function"==typeof FormData,"FormData is not available in this environment"),r.formData)o=be(r.formData),a=r.formData;else if(r.body instanceof FormData)o=be(r.body),a=r.body;else if(r.body instanceof URLSearchParams)o=r.body,a=we(o);else if(null==r.body)o=new URLSearchParams,a=new FormData;else try{o=new URLSearchParams(r.body),a=we(o)}catch(e){return s()}let h={formMethod:u,formAction:d,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(Oe(h.formMethod))return{path:n,submission:h};let g=p(n);return t&&g.search&&Me(g.search)&&o.append("index",""),g.search="?"+o,{path:f(g),submission:h}}function pe(e,t,n,i,o,a,s,l,c,u,d,h,f,p){let g=p?Object.values(p)[0]:f?Object.values(f)[0]:void 0,m=e.createURL(t.location),v=e.createURL(o),y=p?Object.keys(p)[0]:void 0,b=function(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}(n,y).filter(((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||s.some((t=>t===e.route.id)))return!0;let o=t.matches[n],l=e;return me(e,r({currentUrl:m,currentParams:o.params,nextUrl:v,nextParams:l.params},i,{actionResult:g,defaultShouldRevalidate:a||m.pathname+m.search===v.pathname+v.search||m.search!==v.search||ge(o,l)}))})),w=[];return c.forEach(((e,o)=>{if(!n.some((t=>t.route.id===e.routeId)))return;let s=_(d,e.path,h);if(!s)return void w.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let c=t.fetchers.get(o),f=De(s,e.path),p=!1;p=!u.has(o)&&(!!l.includes(o)||(c&&"idle"!==c.state&&void 0===c.data?a:me(f,r({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},i,{actionResult:g,defaultShouldRevalidate:a})))),p&&w.push({key:o,routeId:e.routeId,path:e.path,matches:s,match:f,controller:new AbortController})})),[b,w]}function ge(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function me(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}async function ve(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let o=n[e.id];c(o,"No route found in manifest");let a={};for(let e in i){let t=void 0!==o[e]&&"hasErrorBoundary"!==e;u(!t,'Route "'+o.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),t||v.has(e)||(a[e]=i[e])}Object.assign(o,a),Object.assign(o,r({},t(o),{lazy:void 0}))}async function ye(e,t,n,r,i,o,a,s){let l,u,d;void 0===s&&(s={});let h=e=>{let r,i=new Promise(((e,t)=>r=t));return d=()=>r(),t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:n.params,context:s.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([h(r).catch((t=>{e=t})),ve(n.route,o,i)]);if(e)throw e;u=t[0]}else{if(await ve(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw Te(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:m.data,data:void 0}}u=await h(r)}else{if(!r){let e=new URL(t.url);throw Te(404,{pathname:e.pathname+e.search})}u=await h(r)}c(void 0!==u,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){l=m.error,u=e}finally{d&&t.signal.removeEventListener("abort",d)}if(null!=(f=u)&&"number"==typeof f.status&&"string"==typeof f.statusText&&"object"==typeof f.headers&&void 0!==f.body){let e,i=u.status;if(re.has(i)){let e=u.headers.get("Location");if(c(e,"Redirects returned/thrown from loaders/actions must have a Location header"),le.test(e)){if(!s.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=M(r.pathname,a);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=he(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,e);if(s.isStaticRequest)throw u.headers.set("Location",e),u;return{type:m.redirect,status:i,location:e,revalidate:null!==u.headers.get("X-Remix-Revalidate"),reloadDocument:null!==u.headers.get("X-Remix-Reload-Document")}}if(s.isRouteRequest)throw{type:l===m.error?m.error:m.data,response:u};let o=u.headers.get("Content-Type");return e=o&&/\bapplication\/json\b/.test(o)?await u.json():await u.text(),l===m.error?{type:l,error:new Q(i,u.statusText,e),headers:u.headers}:{type:m.data,data:e,statusCode:u.status,headers:u.headers}}var f,p,g;return l===m.error?{type:l,error:u}:function(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}(u)?{type:m.deferred,deferredData:u,statusCode:null==(p=u.init)?void 0:p.status,headers:(null==(g=u.init)?void 0:g.headers)&&new Headers(u.init.headers)}:{type:m.data,data:u}}function _e(e,t,n,r){let i=e.createURL(Se(t)).toString(),o={signal:n};if(r&&Oe(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=be(r.formData):o.body=r.formData}return new Request(i,o)}function be(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"==typeof r?r:r.name);return t}function we(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function xe(e,t,n,i,o,a,s,l){let{loaderData:u,errors:d}=function(e,t,n,r,i){let o,a={},s=null,l=!1,u={};return n.forEach(((n,d)=>{let h=t[d].route.id;if(c(!Ne(n),"Cannot handle redirect results in processLoaderData"),Pe(n)){let t=Ee(e,h),i=n.error;r&&(i=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=i),a[h]=void 0,l||(l=!0,o=J(n.error)?n.error.status:500),n.headers&&(u[h]=n.headers)}else Ae(n)?(i.set(h,n.deferredData),a[h]=n.deferredData.data):a[h]=n.data,null==n.statusCode||200===n.statusCode||l||(o=n.statusCode),n.headers&&(u[h]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:u}}(t,n,i,o,l);for(let t=0;t<a.length;t++){let{key:n,match:i,controller:o}=a[t];c(void 0!==s&&void 0!==s[t],"Did not find corresponding fetcher result");let l=s[t];if(!o||!o.signal.aborted)if(Pe(l)){let t=Ee(e.matches,null==i?void 0:i.route.id);d&&d[t.route.id]||(d=r({},d,{[t.route.id]:l.error})),e.fetchers.delete(n)}else if(Ne(l))c(!1,"Unhandled fetcher revalidation redirect");else if(Ae(l))c(!1,"Unhandled fetcher deferred data");else{let t=Ue(l.data);e.fetchers.set(n,t)}}return{loaderData:u,errors:d}}function Ce(e,t,n,i){let o=r({},t);for(let r of n){let n=r.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(o[n]=t[n]):void 0!==e[n]&&r.route.loader&&(o[n]=e[n]),i&&i.hasOwnProperty(n))break}return o}function Ee(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Ie(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Te(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?s="defer() is not supported in actions":"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",s='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new Q(e||500,a,new Error(s),!0)}function ke(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Ne(n))return{result:n,idx:t}}}function Se(e){return f(r({},"string"==typeof e?p(e):e,{hash:""}))}function Ae(e){return e.type===m.deferred}function Pe(e){return e.type===m.error}function Ne(e){return(e&&e.type)===m.redirect}function Oe(e){return ee.has(e.toLowerCase())}async function Re(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let u=e.find((e=>e.route.id===l.route.id)),d=null!=u&&!ge(u,l)&&void 0!==(o&&o[l.route.id]);if(Ae(s)&&(i||d)){let e=r[a];c(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Le(s,e,i).then((e=>{e&&(n[a]=e||n[a])}))}}}async function Le(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:m.data,data:e.deferredData.unwrappedData}}catch(e){return{type:m.error,error:e}}return{type:m.data,data:e.deferredData.data}}}function Me(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function De(e,t){let n="string"==typeof t?p(t).search:t.search;if(e[e.length-1].route.index&&Me(n||""))return e[e.length-1];let r=F(e);return r[r.length-1]}function je(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function Fe(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ze(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ue(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}Symbol("deferred")},77721:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(49089);function i(){return document.location.href.indexOf("localhost")>=0}const o=class{static init(e){i()||r.ZP.initialize(e)}static pageview(e){i()||r.ZP.send({hitType:"pageview",page:e})}static event(e,t,n){i()||r.ZP.event({category:e,action:t,label:n})}}},5103:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(68752);class i{static isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static isIphone(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}static isFirefox(){return/Firefox/i.test(navigator.userAgent)}static sanitizeUrl(e){const t=e.indexOf("?");return t>=0&&(e=e.slice(0,t)),"/"!==e[e.length-1]&&(e+="/"),e}static isYoutubeUrl(e){var t=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11==t[2].length}static isInstagramUrl(e){var t=this.sanitizeUrl(e).match(/(?:(?:http|https):\/\/)?(?:www.)?(?:instagram.com|instagr.am|instagr.com)(?:\/(?:.?)*)*\/(?:reel|p|tv)\/(.*)*(?:\/)*/);return t&&t[1]}static getTiktokVideoId(e){var t=this.sanitizeUrl(e).match(/(?:(?:http|https):\/\/)?(?:www.)?tiktok.com\/@(.*)\/video\/(.*)*/);return t&&t[1]&&t[2]?t[2]:null}static isTiktokUrl(e){var t=this.sanitizeUrl(e).match(/(?:(?:http|https):\/\/)?(?:www.)?tiktok.com\/@(.*)\/video\/(.*)*/);return t&&t[1]&&t[2]}static isFacebookUrl(e){var t=this.sanitizeUrl(e).match(/(?:https?:\/\/)?(?:www\.)?(mbasic.facebook|m\.facebook|facebook|fb)\.(com|me)\/(?:(?:\w\.)*#!\/)?(?:pages\/)?(?:[\w\-\.]*\/)*([\w\-\.]*)/);return t&&t[1]&&t[2]}static tokenToTexts(e){return e.map((e=>(0,r.t)(e)))}static getUidsFromUsers(e){const t=[];return e.forEach((e=>{e.uid&&t.push(e.uid)})),t}static millisToTime(e){let t=Math.floor(e/1e3),n=Math.floor(t/60),r=Math.floor(n/60);return t%=60,n%=60,r%=24,{h:r,m:n,s:t,mm:e%1e3}}static timeToMillis(e,t,n){const r=new Date,i=new Date;return i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),r.setMinutes(e),r.setSeconds(t),r.setMilliseconds(n),r.getTime()-i.getTime()}static printTime(e){return"".concat(String(e.m).padStart(2,"0"),":").concat(String(e.s).padStart(2,"0"),":").concat(String(e.mm).padStart(3,"0"))}static randomizeArray(e){let t,n=e.length;for(;0!==n;)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e}static getWinnerByPoints(e){const t=[...e];return t.sort((function(e,t){const n=e.points-t.points;return 0===n?e.id-t.id:n})),t}static getWinnerByPointsAndTime(e){const t=[...e];return t.sort((function(e,t){const n=e.points-t.points;return 0===n?e.time-t.time:n})),t}static getOrderedGameResult(e){return(e=this.calulateFinalGameResult(e)).players=e.players.sort(((e,t)=>{const n=e.totalPoints-t.totalPoints;if(0===n){const n=e.totalTime-t.totalTime;return 0===n?t.totalGateProgression-e.totalGateProgression:n}return n})),e}static calulateFinalGameResult(e){const t={...e};return t.players.forEach((e=>{let t=0,n=0,r=0;e.zones.forEach((e=>{t+=e.totalPoints,n+=e.time,r+=e.gateProgression})),e.totalPoints=t,e.totalTime=n,e.totalGateProgression=r})),t}static getMapsURL(e,t){return"https://www.google.com/maps/search/?api=1&query=".concat(e,"%2C").concat(t)}}i.PLAYER_STATE_STOP="stop",i.PLAYER_STATE_START="start",i.PLAYER_STATE_PAUSE="pause";const o=i},42742:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(9226),i=n(93379),o=n.n(i),a=n(7795),s=n.n(a),l=n(90569),c=n.n(l),u=n(3565),d=n.n(u),h=n(19216),f=n.n(h),p=n(44589),g=n.n(p),m=n(87291),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;var y=n(77721),_=n(26793);const b=function(e){let{text:t,step:n,value:i,maxValue:o,onValueChange:a}=e;const s=n<0;let l=s?i<0:i>0;const c=r.useRef(),{t:u}=(0,_.$)();function d(e){(!s&&i+e>=0&&(!o||i+e<=Math.abs(o*e))||s&&i+e<=0)&&(y.default.event("menu","pointValueChanged","".concat(t," : ").concat(e)),a(e))}function h(e){return l?"bold ".concat(e):"".concat(e)}return r.createElement("div",{className:"controlText"},r.createElement("button",{className:"buttonControlTextPlus",onClick:()=>{c.current.focus(),d(n)}},"+"),r.createElement("button",{className:"buttonControlTextMinus",onClick:()=>{c.current.focus(),d(-n)}},"-"),r.createElement("div",{className:h("controlTextText")},u(t)," "),r.createElement("div",{ref:c,className:h("controlTextValue")},i))};var w=n(25082),x=n(13750);const C=function(e){let{controlTextValuesString:t,textToken:n,steps:i,maxValues:o,texts:a,player:s,zone:l,isClosed:c=!0,onValueChange:u}=e,d=0;const{t:h}=(0,_.$)(),{game:f}=r.useContext(w.GameContext),p=[],g=[];if(!f||!f.players.length)return r.createElement(r.Fragment,null);const m=f.players[s].zones[l],v=t.indexOf("fiasco")<0?m.gateProgressionData[m.gateProgression][t]:m[t],y=v.length>14;function C(e){const t=e.target;t.classList.contains("controlTextTitle")&&t.parentElement.classList.toggle("closed")}for(;d<14&&d<v.length;){const e=d;p.push(r.createElement(b,{key:d,value:v[d],onValueChange:t=>{u(t,e,s)},maxValue:o[d],initialValue:0,text:a[d],step:i[d]})),d++}if(y)for(;d<v.length;){const e=d;g.push(r.createElement(b,{key:"fullScore".concat(d),value:v[d],maxValue:o[d],onValueChange:t=>{u(t,e,s)},initialValue:0,text:a[d],step:i[d]})),d++}return n?r.createElement(r.Fragment,null,r.createElement("div",{className:c?"controlTextContainer closed":"controlTextContainer",onClick:C},r.createElement("p",{key:"mainTitle",className:"controlTextTitle rounded rounded2"},h(n),r.createElement("img",{src:x,className:"dropdown",alt:"dropdown icon"})),p),y?r.createElement("div",{className:"controlTextContainer closed",onClick:C},r.createElement("p",{key:"additialTitle",className:"controlTextTitle rounded rounded2"},h("description.penalizacionesadicionales"),r.createElement("img",{src:x,className:"dropdown",alt:"dropdown icon"})),g):r.createElement(r.Fragment,null)):r.createElement("div",{className:"controlTextContainer",onClick:C},p,g)}},13093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(9226),i=n(93379),o=n.n(i),a=n(7795),s=n.n(a),l=n(90569),c=n.n(l),u=n(3565),d=n.n(u),h=n(19216),f=n.n(h),p=n(44589),g=n.n(p),m=n(53803),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;const y=function(e){let{controlTextValues:t,texts:n}=e,i=0;const o=[];return t&&t.forEach((e=>{0!==e&&o.push(r.createElement("div",{key:i,className:"controlTextValues"},n[i],": ",e)),i++})),o}},98695:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(9226),i=n(93379),o=n.n(i),a=n(7795),s=n.n(a),l=n(90569),c=n.n(l),u=n(3565),d=n.n(u),h=n(19216),f=n.n(h),p=n(44589),g=n.n(p),m=n(19114),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;const y=function(e){let{message:t}=e;return!t||t.length<=0?r.createElement(r.Fragment,null):r.createElement("div",{className:"errorBoxContainer"},t)}},49702:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(9226),i=n(97924),o=n(5103),a=n(29525),s=n(26793),l=n(93379),c=n.n(l),u=n(7795),d=n.n(u),h=n(90569),f=n.n(h),p=n(3565),g=n.n(p),m=n(19216),v=n.n(m),y=n(44589),_=n.n(y),b=n(5523),w={};w.styleTagTransform=_(),w.setAttributes=g(),w.insert=f().bind(null,"head"),w.domAPI=d(),w.insertStyleElement=v(),c()(b.Z,w),b.Z&&b.Z.locals&&b.Z.locals;const x=function(e){let{game:t}=e;const{t:n}=(0,s.$)();return r.createElement("div",{className:"gameHeaderInfo rounded"},r.createElement("div",{className:"gameGameType"},n("gametype.modojuego"),": ",r.createElement("span",{className:"bold"},n(a.GameUtils.resolveGameTypeName(t.gameType)))),r.createElement("div",{className:"gamePointsType"},n("description.zonas"),": ",r.createElement("span",{className:"bold"},t.zones)),r.createElement("div",{className:"gameIsPublic"},r.createElement("span",{className:"bold"},t.isPublic?n("description.esPublica"):"")),t.location&&t.location.longitude&&t.location.longitude?r.createElement(r.Fragment,null,r.createElement("div",{className:"gameName"},n("description.localizacion")," :"),r.createElement(i.Z,{location:t.location})):r.createElement(r.Fragment,null),r.createElement("div",{className:"gamePointsType"},t.maxPoints>0?"".concat(n("description.puntosmaximo"),": ").concat(t.maxPoints):""),r.createElement("div",{className:"gamePointsType"},t.maxTime>0?"".concat(n("description.tiempomaximo"),": ").concat(o.default.printTime(o.default.millisToTime(t.maxTime))):""))}},16514:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(9226),i=n(26793),o=n(98875),a=n(29525),s=n(98493);const l="waiting",c="playing",u="done",d=function(e){let{game:t,jidGroup:n,onZoneClick:d}=e;const{t:h}=(0,i.$)(),[f,p]=r.useState(-1),[g,m]=r.useState(-1),v=r.useRef(),[y,_]=r.useContext(s.GameProgressionContext),b=[];let w=0;function x(){d(-1,-1),m(-1),p(-1)}return b.push(r.createElement("div",{key:"eZ",className:""},h("content.estadozona"))),b.push(r.createElement("div",{key:"nAz"},function(){const e=new Array(t.zones).fill(!1);return y&&Object.entries(y).forEach(((t,n)=>{Object.entries(t[1]).forEach(((t,n)=>{Object.entries(t[1]).forEach(((t,n)=>{"playing"===t[1].status&&!e[n]&&(e[n]=!0)}))}))})),function(e){const t=[];return e.forEach(((e,n)=>{const i=[];i.push(r.createElement("span",{key:n},h("description.zona")," ",n+1,": ")),e?i.push(r.createElement("span",{key:"dG".concat(n),className:"directorGroup colorRed"},h("description.ocupado"))):i.push(r.createElement("span",{key:"div".concat(n)},r.createElement("span",{className:"directorGroup"},h("description.libre")),r.createElement("br",null))),t.push(r.createElement("div",{key:"dZ".concat(n),className:"directorZone"},i))})),r.createElement("div",{className:""},t)}(e)}())),b.push(r.createElement("p",{key:"header"},h("content.seleccionapilotoyzona"),":")),t.players.forEach(((e,i)=>{let s,_=[],C=0;(e.group===n||a.GameUtils.isCurrentUserIsOwner(t.owner))&&(e.zones.forEach((t=>{s=e.id===g&&C===f?"colorGrey rounded":"rounded",y&&y[e.group]&&y[e.group][e.id]&&(y[e.group][e.id][C].status!==l?y[e.group][e.id][C].status===c?s+=" colorOrange":"repair"===y[e.group][e.id][C].status?s+=" colorRed":y[e.group][e.id][C].status===u&&(s+=" colorGreen"):y[e.group][e.id][C].data&&(s+=" colorClearGrey"),_.push(r.createElement("span",{"data-zone":C,onClick:t=>{!function(e,t){const n=Number(e.target.closest("[data-zone]").getAttribute("data-zone")),r=y[t.group][t.id][n].status;f===n&&g===t.id?x():r===l||r===u||r===c?(m(t.id),p(n),d(t,n)):x()}(t,e)},key:C+1,className:s},r.createElement("div",null,h("description.zona")," ",C+1),r.createElement("br",null),r.createElement("div",null,h("description.estado"),":"),r.createElement("div",null,function(e,t,n){let r;switch(t){case"waiting":r=e(n?"description.reparacionfinalizada":"description.waiting");break;case"done":r=e("description.done");break;case"repair":r=e("description.repair");break;case"playing":r=e("description.playing");break;default:r=e("description.waiting")}return r}(h,y[e.group][e.id][C].status,y[e.group][e.id][C].data))))),C++})),b.push(r.createElement("div",{key:w+C,className:"gameProgressionItem rounded rounded1"},r.createElement("div",null,r.createElement("img",{src:e.avatar,alt:"player avatar"}),e.name," ",r.createElement("br",null),h("description.grupo")," ",e.group+1),r.createElement("div",{className:"horizontalScrollContainer"},_))),g>=0&&f>=0&&e.id===g&&y[e.group][g][f].data&&b.push(r.createElement("div",{key:"".concat(w+C,"Info"),className:"gameProgressionInfoItem smallText rounded rounded2"},r.createElement(o.Z,{gameType:t.gameType,innerRef:v,gameProgression:y[e.group][g][f]}))),w++)})),r.createElement(r.Fragment,null,b)}},65150:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(9226),i=n(26793),o=n(93379),a=n.n(o),s=n(7795),l=n.n(s),c=n(90569),u=n.n(c),d=n(3565),h=n.n(d),f=n(19216),p=n.n(f),g=n(44589),m=n.n(g),v=n(56783),y={};y.styleTagTransform=m(),y.setAttributes=h(),y.insert=u().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=p(),a()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;const _=function(e){let{game:t,gameProgression:n}=e;const{t:o}=(0,i.$)(),a=window.crawlear.fb,s=r.useRef(),[l,c]=r.useState({}),u=[];function d(e,t){if("pending"===t.status){const n={};n[e]=t,s.current={...s.current,...n},c(s.current)}}function h(e,t){if("pending"===t.status){const n={};n[e]=t,s.current={...s.current,...n},c(s.current)}}u.push(r.createElement("div",{key:"zC",className:""},o("content.zonascompletadas"))),r.useEffect((()=>{a.getDirectorPresenceRequest(t.gid,d,h)}),[]);for(let e=0;e<t.zones;e++){let t=[];Object.entries(n).forEach(((n,i)=>{let a=0;Object.entries(n[1]).forEach(((t,n)=>{t[1]&&t[1][e]&&"done"===t[1][e].status&&t[1][e].data&&a++})),a===Object.entries(n[1]).length&&t.push(r.createElement("span",{key:"dG".concat(e),className:"directorGroup"},o("description.grupo")," ",i+1))})),u.push(r.createElement("div",{key:"dZ".concat(e),className:"directorZone horizontalScrolling"},o("description.zona")," ",e+1,": ",t))}return u.push(r.createElement("p",{key:"pdp",className:"bold"},o("description.peticionesdepresencia"),":")),s.current||u.push(r.createElement("p",{key:"npsp",className:""},o("description.nopeticionespresencia"))),s.current&&Object.keys(s.current).forEach(((e,n)=>{const i=s.current[e];u.push(r.createElement("div",{key:"dR".concat(n),className:"directorRequestContainer blink"},r.createElement("div",null,r.createElement("div",null,o("description.de")," ",i.fromName),r.createElement("div",null,o("description.zona"),": ",i.zone+1),r.createElement("div",null,o("description.jugador"),": ",i.playerName),r.createElement("div",null,o("description.estado"),": ",i.status)),r.createElement("div",null,r.createElement("button",{onClick:()=>{!function(e){if(window.confirm(o("content.aceptarpresencia"))){const n={...s.current};delete n[e],c(n),s.current=n,a.acceptDirectorPresenceRequest(t.gid,e)}}(e)}},o("description.aceptar")))))})),r.createElement(r.Fragment,null,[u])}},16992:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(68752),i=n(9226),o=n(49702),a=n(98875),s=n(37789),l=n(29525);const c=function(e){let{game:t,gameProgression:n}=e;const c=[];let u=0;return t&&(c.push(i.createElement(o.Z,{key:"header",game:t})),t.players.forEach((e=>{let o,d=[],h=0;e.zones.forEach(((c,u)=>{const f=e.group;if(n&&n[f]&&n[f][e.id]&&n[f][e.id][h]&&n[f][e.id][h].data){let c=[];const p=n[f][e.id][h];"done"===p.status?c.push(i.createElement(a.Z,{gameType:t.gameType,key:"progressRow".concat(h),gameProgression:p})):"repair"===p.status&&c.push((0,r.t)("points.reparacion").toUpperCase()),l.GameUtils.isFiasco(t,e.id,u)&&(o=i.createElement("img",{src:s,alt:"fiasco"})),d.push(i.createElement("div",{key:h,className:"gameProgressionInfoItem"},i.createElement("div",{className:"bold"},(0,r.t)("description.zona")," ",h+1," ",o),c))}h++})),d.length>0&&c.push(i.createElement("div",{key:u+h,className:"gameProgressionItem rounded rounded1"},i.createElement("img",{src:e.avatar,alt:"player avatar"}),i.createElement("div",null,d))),u++}))),i.createElement(i.Fragment,null,c)}},98875:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(68752),i=n(9226),o=n(13093),a=n(5103),s=n(32181),l=n(38690),c=n(75793),u=n(56573),d=n(42274),h=n(53177),f=n(29525);const p=function(e){let{gameType:t,gameProgression:n}=e;if(n.data){const e=n.data.points,p=n.data.totalPoints,g=n.data.time,m=n.data.gatesWithFail,v=n.data.gateProgression,y=n.data.simpathyPoints,_=n.data.handicap,b=n.data.gatesWithBonification;let w=a.default.tokenToTexts(s.AecarGameScores.texts),x=a.default.tokenToTexts(s.AecarGameScores.fiascoTexts);return t===f.GAME_TYPE_ISRCC&&(w=a.default.tokenToTexts(u.IsrccGameScores.texts),x=a.default.tokenToTexts(u.IsrccGameScores.fiascoTexts)),t===f.GAME_TYPE_LEVANTE&&(w=a.default.tokenToTexts(c.Levante124GameScores.texts),x=a.default.tokenToTexts(c.Levante124GameScores.fiascoTexts)),t===f.GAME_TYPE_COPAESPANA&&(w=a.default.tokenToTexts(l.RegionalZonaRcGameScores.texts),x=a.default.tokenToTexts(l.RegionalZonaRcGameScores.fiascoTexts)),t===f.GAME_TYPE_MINICRAWLERPASSION&&(w=a.default.tokenToTexts(d.MiniCrawlerPassionGameScores.texts),x=a.default.tokenToTexts(d.MiniCrawlerPassionGameScores.fiascoTexts)),t===f.GAME_TYPE_GENERIC&&(w=a.default.tokenToTexts(h.GenericGameScores.texts),x=a.default.tokenToTexts(h.GenericGameScores.fiascoTexts)),i.createElement(i.Fragment,null,i.createElement("ul",null,i.createElement("li",null,(0,r.t)("description.puntos"),": ",i.createElement("span",{className:"bold"},e)),v?i.createElement("li",null,(0,r.t)("description.avancepuerta"),": ",i.createElement("span",{className:"bold"},v)):i.createElement(i.Fragment,null),void 0!==typeof m&&void 0!==typeof b?i.createElement(i.Fragment,null,i.createElement("li",null,(0,r.t)("description.fallospuerta"),": ",i.createElement("span",{className:"bold"},m)),i.createElement("li",null,(0,r.t)("description.bonificacion"),": ",i.createElement("span",{className:"bold"},-2*b))):i.createElement(i.Fragment,null),void 0!==typeof y?i.createElement("li",null,(0,r.t)("description.portiempo"),": ",i.createElement("span",{className:"bold"},y)):i.createElement(i.Fragment,null),void 0!==typeof _?i.createElement("li",null,(0,r.t)("description.handicap"),": ",i.createElement("span",{className:"bold"},_)):i.createElement(i.Fragment,null),i.createElement("li",null,(0,r.t)("description.total"),": ",i.createElement("span",{className:"bold"},p)),i.createElement("li",null,(0,r.t)("description.tiempo"),": ",i.createElement("span",{className:"bold"},a.default.printTime(a.default.millisToTime(g))))),i.createElement(o.Z,{controlTextValues:n.data.gateProgressionData?f.GameUtils.sumControlTextValues(n.data.gateProgressionData):n.data.controlTextValues,texts:w}),n.data.fiascoControlTextValues&&n.data.fiascoControlTextValues.filter((e=>e>0)).length>0?i.createElement(i.Fragment,null,i.createElement("div",{className:"fiascosText left bold"},(0,r.t)("points.fiascos"),":"),i.createElement(o.Z,{controlTextValues:n.data.fiascoControlTextValues,texts:x})):i.createElement(i.Fragment,null))}return i.createElement(i.Fragment,null)}},18146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(9226),i=n(93379),o=n.n(i),a=n(7795),s=n.n(a),l=n(90569),c=n.n(l),u=n(3565),d=n.n(u),h=n(19216),f=n.n(h),p=n(44589),g=n.n(p),m=n(17925),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;const y=function(e){let{callback:t,minValue:n=0,maxValue:i=200,initialValue:o=0,value:a=0}=e;const s=r.useRef();function l(e,r){let o=Number(e.current.textContent)+r;o>=n&&o<=i&&(e.current.textContent=o,t&&t(o))}return!a&&(a=o),r.createElement("div",{className:"picker"},r.createElement("button",{className:"picker--arrowUp",onClick:e=>{l(s,1)}}),r.createElement("div",{className:"picker--value",ref:s},a),r.createElement("button",{className:"picker--arrowDown",onClick:e=>{l(s,-1)}}))}},83172:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(9226),i=n(93379),o=n.n(i),a=n(7795),s=n.n(a),l=n(90569),c=n.n(l),u=n(3565),d=n.n(u),h=n(19216),f=n.n(h),p=n(44589),g=n.n(p),m=n(89195),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;const y=function(){return r.createElement(r.Fragment,null,r.createElement("div",{className:"spinner"},r.createElement("div",null),r.createElement("div",null),r.createElement("div",null),r.createElement("div",null)))}},8697:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>F});var r=n(9226),i=n(26793),o=n(5103),a=n(13093),s=n(56573),l=n(32181),c=n(38690),u=n(75793),d=n(42274),h=n(53177),f=n(29525),p=n(37789);const g=n.p+"0bc852df265dd5f2d503.png",m=n.p+"fd12d494b254065b7749.png";var v=n(13750);const y=function(e){let{game:t,isDraw:n}=e;const{t:y}=(0,i.$)(),_=[];let b=o.default.tokenToTexts(l.AecarGameScores.texts),w=0,x=0;switch(t.gameType){case f.GAME_TYPE_ISRCC:b=o.default.tokenToTexts(s.IsrccGameScores.texts);break;case f.GAME_TYPE_LEVANTE:b=o.default.tokenToTexts(u.Levante124GameScores.texts);break;case f.GAME_TYPE_COPAESPANA:b=o.default.tokenToTexts(c.RegionalZonaRcGameScores.texts);break;case f.GAME_TYPE_MINICRAWLERPASSION:b=o.default.tokenToTexts(d.MiniCrawlerPassionGameScores.texts);break;case f.GAME_TYPE_GENERIC:b=o.default.tokenToTexts(h.GenericGameScores.texts);break;default:b=o.default.tokenToTexts(l.AecarGameScores.texts)}function C(e){let t=e.target;t="IMG"===t.tagName?t.parentElement:t,t.parentElement.nextElementSibling.classList.toggle("closed")}return _.push(r.createElement("tr",{key:"game".concat((new Date).getMilliseconds())},r.createElement("td",null),r.createElement("td",{className:""}),r.createElement("td",null,y("description.puntos")),r.createElement("td",null,y("description.puertas")),r.createElement("td",null,y("description.bonificacion")),r.createElement("td",null,y("description.puntos")," ",y("description.portiempo")),r.createElement("td",null))),t.players.forEach((e=>{_.push(r.createElement("tr",{key:"header".concat(x+w)},n?r.createElement("td",null):r.createElement("td",{className:"bold gameListPosition"},0===w?r.createElement("img",{src:g,alt:"winner"}):w+1),1===t.gameType?r.createElement("td",{className:"bold gameListPlayerName gameListPoints bold textOverflow"},e.name):r.createElement("td",{className:"bold gameListPlayerName gameListPoints bold withTime textOverflow"},e.name),r.createElement("td",{className:"bold gameListPoints"},e.totalPoints),r.createElement("td",{className:"gameListPoints"},"."),r.createElement("td",{className:"gameListPoints"},"."),r.createElement("td",{className:"gameListPoints"},"."),1!==t.gameType?r.createElement("td",{className:"bold gameListPoints gameListTime"},e.totalTime?o.default.printTime(o.default.millisToTime(e.totalTime)):r.createElement(r.Fragment,null,"00:00:000")):r.createElement(r.Fragment,null))),e.zones.forEach((n=>{let i;i=n.fiascoControlTextValues?n.fiascoControlTextValues[4]?r.createElement("img",{src:m,alt:"battery"}):t.maxTime&&n.time===t.maxTime+t.courtesyTime||t.maxPoints&&n.totalPoints===t.maxPoints||n.fiascoControlTextValues.filter((e=>e>0)).length>0?r.createElement("img",{src:p,alt:"fiasco"}):r.createElement(r.Fragment,null):n.battery?r.createElement("img",{src:m,alt:"fiasco"}):t.maxTime&&n.time===t.maxTime+t.courtesyTime||t.maxPoints&&n.totalPoints===t.maxPoints?r.createElement("img",{src:p,alt:"battery"}):r.createElement(r.Fragment,null),_.push(r.createElement("tr",{key:"row0".concat(x+w+1)},r.createElement("td",null,i),r.createElement("td",{onClick:C},"".concat(y("description.zona")," ").concat(x%e.zones.length+1),r.createElement("img",{className:"iconArrowDown",src:v,alt:"click open"})),r.createElement("td",{className:"gameListPoints"},n.totalPoints),r.createElement("td",{className:"gameListPoints"},n.gateProgression),r.createElement("td",{className:"gameListPoints"},n.gatesWithBonification?-2*n.gatesWithBonification:"0"),r.createElement("td",{className:"gameListPoints"},n.simpathyPoints?n.simpathyPoints:"0"),1!==t.gameType?r.createElement("td",{className:"gameListTime"},o.default.printTime(o.default.millisToTime(n.time))):r.createElement(r.Fragment,null))),_.push(r.createElement("tr",{key:"row1".concat(x+w+2),className:"closed"},r.createElement("td",{colSpan:7},0!==n.handicap?r.createElement("div",{className:"controlTextValues"},y("description.bonificacionaccesorios"),": ",n.handicap):r.createElement(r.Fragment,null),r.createElement(a.Z,{controlTextValues:f.GameUtils.sumControlTextValues(n.gateProgressionData),texts:b}),n.fiascoControlTextValues&&n.fiascoControlTextValues.filter((e=>e>0)).length?r.createElement(r.Fragment,null,r.createElement("div",{className:"left bold"},y("points.fiascos"),":"),r.createElement(a.Z,{controlTextValues:n.fiascoControlTextValues,texts:o.default.tokenToTexts(s.IsrccGameScores.fiascoTexts)})):r.createElement(r.Fragment,null)))),x++})),w++})),r.createElement("div",{className:"gameParticipants"},r.createElement("table",null,r.createElement("tbody",null,_)))};var _=n(49702),b=n(46196),w=n(83172),x=n(54350),C=n.n(x),E=n(93379),I=n.n(E),T=n(7795),k=n.n(T),S=n(90569),A=n.n(S),P=n(3565),N=n.n(P),O=n(19216),R=n.n(O),L=n(44589),M=n.n(L),D=n(38992),j={};j.styleTagTransform=M(),j.setAttributes=N(),j.insert=A().bind(null,"head"),j.domAPI=k(),j.insertStyleElement=R(),I()(D.Z,j),D.Z&&D.Z.locals&&D.Z.locals;const F=function(e){let{game:t}=e;const{t:n}=(0,i.$)();return t.players?r.createElement("div",{className:"gameContainer"},r.createElement("div",{className:"winnerBox importantNote rounded"},r.createElement(C(),{game:t})),r.createElement("div",{className:"gameList rounded rounded2"},r.createElement(_.Z,{game:t}),r.createElement(y,{game:t,isDraw:(0,x.isDraw)(t)}),t.isPublic&&r.createElement(b.default,{url:"gameviewer?gid=".concat(t.gid),text:"".concat(n("description.resolverjuego")," ").concat(t.name),headerText:n("description.compartir")}))):r.createElement(w.default,{className:"centerText"})}},25082:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GameContext:()=>r});const r=n(9226).createContext()},98493:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GameProgressionContext:()=>r});const r=n(9226).createContext()},81683:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});const r=n(9226).createContext()},32181:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AecarGameScores:()=>l,gameExtras:()=>d,getGameContent:()=>c});var r=n(9226),i=n(42742),o=n(29525),a=n(82905),s=n(77721);const l={steps:[5,3,2,5,5,3,-1,3,1,5,1,2,3,1,5,5,3,3,5,5,5,3,3],maxValues:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0],texts:["points.vuelco","points.tocar","points.puerta","points.saltoobstaculo","points.reparacion","points.winch","points.puertaprogresion","points.equipaje","points.distancia","points.anclajeindebido","points.juez","points.saltopelota","points.recolocacionbateria","points.puertamarchaatras","points.nocomunicarcambio","points.conductaincivica","points.perdidacarnet","points.modificarpista","points.perdidadorsal","points.modificarcoche","points.sacarcoche","points.nodorsal","points.incumplimientotecnico"],fiascoTexts:["points.noterminado","points.bateria"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:12e7,maxPoints:40,maxTime:6e5};function c(e,t){const n=[];return n.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:e,zone:t,steps:l.steps,maxValues:l.maxValues,texts:l.texts,isClosed:!1})),n.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:l.fiascoSteps,maxValues:l.fiascoMaxValues,texts:l.fiascoTexts,player:e,zone:t,isClosed:!0})),n.push(r.createElement(a.Z,{key:"gp",player:e,zone:t})),n}function u(e){e.totalPoints=e.points+e.simpathyPoints}const d={controlTextValuesInit:()=>new Array(l.steps.length).fill(0),fiascoControlTextValuesInit:()=>new Array(l.fiascoSteps.length).fill(0),onTimerChange:e=>{u(e)},onChangeScore:e=>{u(e)},onEndPlayer:(e,t,n,r)=>{e.players[n].zones[r].time=t},onGameEnd:e=>{e.players.forEach(((t,n)=>{t.zones.forEach(((t,r)=>{if(o.GameUtils.isFiasco(e,n,r)){const t=e.players[n].zones[r];t.time=e.maxTime>0?e.maxTime:t.time,t.points=e.maxPoints>0?e.maxPoints:t.maxPoints,u(t)}}))}))},onGateProgressionChange:e=>{u(e)},onFiascoChangeScore:()=>{},onPointBecauseLastMinute:e=>{u(e)},generateSliderMarksFromGates:(e,t)=>{const n={};for(let i=0;i<e.length;i++){let o,a="gatePoints ";i<t?(a+="colorGreen",o="-"):(a+="colorGrey",o="-"),n[i]=r.createElement("div",{className:a},o,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:()=>{s.default.pageview("/aecar/")}}},82905:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9226),i=n(26793),o=n(25082);const a=function(e){let{player:t,zone:n}=e;const{t:a}=(0,i.$)(),{game:s}=r.useContext(o.GameContext);if(!s||!s.players.length)return r.createElement(r.Fragment,null);const l=s.players[t].zones[n];return r.createElement("div",{className:"pointsText"},a("description.puntos"),": ",l.points)}},53177:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GenericGameScores:()=>u,gameExtras:()=>f,getGameContent:()=>d});var r=n(9226),i=n(42742),o=n(29525),a=n(26793),s=n(25082);const l=function(e){let{player:t,zone:n}=e;const{t:i}=(0,a.$)(),{game:o}=r.useContext(s.GameContext);if(!o||!o.players.length)return r.createElement(r.Fragment,null);const l=o.players[t].zones[n];return r.createElement("div",{className:"pointsText"},i("description.puntos"),": ",l.points)};var c=n(77721);const u={steps:[1,2,3,4,5,-5],maxValues:[0,0,0,0,0,0],texts:["points.masuno","points.masdos","points.mastres","points.mascuatro","points.mascinco","points.bonificacion"],fiascoTexts:["points.fiasco"],fiascoSteps:[1],fiascoMaxValues:[1],courtesyTime:12e7,maxPoints:40,maxTime:6e5};function d(e,t){const n=[];return n.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:e,zone:t,steps:u.steps,maxValues:u.maxValues,texts:u.texts,isClosed:!1})),n.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:u.fiascoSteps,maxValues:u.fiascoMaxValues,texts:u.fiascoTexts,player:e,zone:t,isClosed:!0})),n.push(r.createElement(l,{key:"gP",player:e,zone:t})),n}function h(e){e.gatesWithFail=function(e){return e.gateProgressionData.length-e.gateProgression}(e),e.totalPoints=e.points+e.simpathyPoints+3*e.gatesWithFail}const f={controlTextValuesInit:()=>new Array(u.steps.length).fill(0),fiascoControlTextValuesInit:()=>new Array(u.fiascoSteps.length).fill(0),onTimerChange:e=>{h(e)},onChangeScore:e=>{h(e)},onEndPlayer:(e,t,n,r)=>{e.players[n].zones[r].time=t},onGameEnd:e=>{e.players.forEach(((t,n)=>{t.zones.forEach(((t,r)=>{if(o.GameUtils.isFiasco(e,n,r)){const t=e.players[n].zones[r];t.time=e.maxTime>0?e.maxTime:t.time,t.points=e.maxPoints>0?e.maxPoints:t.maxPoints,h(t)}}))}))},onGateProgressionChange:e=>{h(e)},onFiascoChangeScore:()=>{},onPointBecauseLastMinute:e=>{h(e)},generateSliderMarksFromGates:(e,t)=>{const n={};for(let i=0;i<e.length;i++){let o,a="gatePoints ";i<t?(a+="colorGreen",o="-"):(a+="colorGrey",o="-"),n[i]=r.createElement("div",{className:a},o,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:()=>{c.default.pageview("/aecar/")}}},56573:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IsrccGameScores:()=>u,gameExtras:()=>f,getGameContent:()=>d});var r=n(9226),i=n(42742),o=n(29525),a=n(26793),s=n(25082);const l=function(e){let{player:t,zone:n}=e;const{t:i}=(0,a.$)(),{game:l}=r.useContext(s.GameContext);if(!l||!l.players.length)return r.createElement(r.Fragment,null);const c=l.players[t].zones[n],u=o.GameUtils.getZoneTotalBonification(c.gateProgressionData,c.gateProgression);return r.createElement(r.Fragment,null,r.createElement("div",{className:"pointsText"},i("description.bonificacion"),": ",u),r.createElement("div",{className:"pointsText"},i("description.puntos"),": ",c.points))};var c=n(77721);const u={steps:[5,10,10,1,5,3],maxValues:[0,0,0,0,0,0],texts:["points.vuelco","points.tocar","points.puerta","points.retroceso","points.direcciondelcurso","points.limite"],fiascoTexts:["points.noempezado","points.reparacion","points.fueraespecificacion","points.usodispositivo","points.bateria"],fiascoSteps:[50,1,1,1,1],fiascoMaxValues:[1,1,1,1,1],courtesyTime:0,maxPoints:40,maxTime:6e5};function d(e,t){const n=[];return n.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",steps:u.steps,maxValues:u.maxValues,texts:u.texts,player:e,zone:t,isClosed:!1})),n.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:u.fiascoSteps,maxValues:u.fiascoMaxValues,texts:u.fiascoTexts,player:e,zone:t,isClosed:!0})),n.push(r.createElement(l,{key:"iP",player:e,zone:t})),n}function h(e){e.gatesWithFail=function(e){return e.gateProgressionData.filter(((t,n)=>t.gatePoints>=20&&n<e.gateProgression&&t.controlTextValues[2]>0)).length}(e),e.gatesWithBonification=function(e){return e.gateProgressionData.filter(((t,n)=>t.gatePoints<20&&n<e.gateProgression&&t.controlTextValues[2]<1)).length}(e),e.totalPoints=e.points+e.simpathyPoints+-2*e.gatesWithBonification}const f={controlTextValuesInit:()=>new Array(u.steps.length).fill(0),fiascoControlTextValuesInit:()=>new Array(u.fiascoSteps.length).fill(0),onTimerChange:e=>{h(e)},onChangeScore:e=>{h(e)},onEndPlayer:(e,t,n,r)=>{e.players[n].zones[r].time=t},onGameEnd:e=>{e.players.forEach(((t,n)=>{t.zones.forEach(((t,r)=>{if(o.GameUtils.isFiasco(e,n,r)){const t=e.players[n].zones[r];t.time=e.maxTime>0?e.maxTime:t.time,o.GameUtils.isNonPresentedFiasco(e,n,r)?t.points=50:t.points=e.maxPoints>0?e.maxPoints:t.totalPoints,h(t)}}))}))},onGateProgressionChange:e=>{h(e)},onFiascoChangeScore:(e,t,n)=>{0===t&&(e.points+=n)},onPointBecauseLastMinute:e=>{h(e)},generateSliderMarksFromGates:(e,t)=>{const n={};for(let i=0;i<e.length;i++){let o,a="gatePoints ";i<t?e[i].gatePoints<20&&e[i].controlTextValues[2]<1?(a+="colorGreen",o="-2"):(a+="colorRed",o="0"):(a+="colorGrey",o="-"),n[i]=r.createElement("div",{className:a},o,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:()=>{c.default.pageview("/isrcc/")}}},5368:(e,t,n)=>{"use strict";n.r(t),n.d(t,{KingGameScores:()=>l,gameExtras:()=>d,getGameContent:()=>c});var r=n(9226),i=n(42742),o=n(29525),a=n(82905),s=n(77721);const l={steps:[5,3,5,5,3],maxValues:[0,0,0,0,0],texts:["points.vuelco","points.tocar","points.saltoobstaculo","points.reparacion","points.winch"],fiascoTexts:["points.noterminado","points.bateria"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:0,maxPoints:50,maxTime:6e5};function c(e,t){const n=[];return n.push(r.createElement(i.Z,{controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:e,zone:t,steps:l.steps,maxValues:l.maxValues,texts:l.texts,isClosed:!1})),n.push(r.createElement(i.Z,{textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:l.fiascoSteps,maxValues:l.fiascoMaxValues,texts:l.fiascoTexts,player:e,zone:t,isClosed:!0})),n.push(r.createElement(a.Z,{player:e,zone:t})),n}function u(e){e.totalPoints=e.points+e.simpathyPoints}const d={controlTextValuesInit:()=>new Array(l.steps.length).fill(0),fiascoControlTextValuesInit:()=>new Array(l.fiascoSteps.length).fill(0),onTimerChange:()=>{},onChangeScore:e=>{u(e)},onGameEnd:e=>{e.players.forEach(((t,n)=>{t.zones.forEach(((r,i)=>{if(o.GameUtils.isFiasco(e,n,i)){const a=e.players[n].zones[i];a.time=e.maxTime>0?e.maxTime+e.courtesyTime:a.time,(o.GameUtils.isTimeFiasco(e,a)||o.GameUtils.isFiascoFromFiascoControlTextValues(e,t,r))&&(a.totalPoints+=25),u(a)}}))}))},onEndPlayer:(e,t,n,r)=>{const i=e.players[n].zones[r];i.time=t,o.GameUtils.isFiasco(e,n,r)&&(i.time=e.maxTime>0?e.maxTime:t,i.totalPoints=e.maxPoints)},onGateProgressionChange:()=>{},onFiascoChangeScore:()=>{},onPointBecauseLastMinute:()=>{},generateSliderMarksFromGates:()=>{},doPageView:()=>{s.default.pageview("/king/")}}},75793:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Levante124GameScores:()=>l,gameExtras:()=>d,getGameContent:()=>c});var r=n(9226),i=n(42742),o=n(29525),a=n(82905),s=n(77721);const l={steps:[1,3,5,5,5,10],maxValues:[0,0,0,0],texts:["points.puerta","points.tocarcochenoavanzar","points.tocarcochepuerta","points.vuelco","points.saltopelota","points.reparacion"],fiascoTexts:["points.bateria","points.reparacion"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:0,maxPoints:100,maxTime:0};function c(e,t){const n=[];return n.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:e,zone:t,steps:l.steps,maxValues:l.maxValues,texts:l.texts,isClosed:!1})),n.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:l.fiascoSteps,maxValues:l.fiascoMaxValues,texts:l.fiascoTexts,player:e,zone:t,isClosed:!0})),n.push(r.createElement(a.Z,{key:"aP",player:e,zone:t})),n}function u(e){e.totalPoints=e.points+e.simpathyPoints}const d={controlTextValuesInit:()=>new Array(l.steps.length).fill(0),fiascoControlTextValuesInit:()=>new Array(l.fiascoSteps.length).fill(0),onTimerChange:e=>{u(e)},onChangeScore:e=>{u(e)},onEndPlayer:(e,t,n,r)=>{e.players[n].zones[r].time=t},onGameEnd:e=>{e.players.forEach(((t,n)=>{t.zones.forEach(((t,r)=>{if(o.GameUtils.isFiasco(e,n,r)){const t=e.players[n].zones[r];t.time=e.maxTime>0?e.maxTime:t.time,t.points=e.maxPoints>0?e.maxPoints:t.maxPoints,u(t)}}))}))},onGateProgressionChange:e=>{u(e)},onFiascoChangeScore:()=>{},onPointBecauseLastMinute:e=>{u(e)},generateSliderMarksFromGates:(e,t)=>{const n={};for(let i=0;i<e.length;i++){let o,a="gatePoints ";i<t?(a+="colorGreen",o="-"):(a+="colorGrey",o="-"),n[i]=r.createElement("div",{className:a},o,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:()=>{s.default.pageview("/levante124/")}}},42274:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MiniCrawlerPassionGameScores:()=>l,gameExtras:()=>d,getGameContent:()=>c});var r=n(9226),i=n(77721),o=n(82905),a=n(42742),s=n(29525);const l={steps:[1,3,5,5,5,5,10],maxValues:[0,0,0,0,0,0,0],texts:["points.puerta","points.tocarcoche","points.saltoobstaculo","points.vuelco","points.saltopelota","points.winch","points.reparacion"],fiascoTexts:["points.bateria","points.reparacion"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:0,maxPoints:80,maxTime:48e4};function c(e,t){const n=[];return n.push(r.createElement(a.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:e,zone:t,steps:l.steps,maxValues:l.maxValues,texts:l.texts,isClosed:!1})),n.push(r.createElement(a.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:l.fiascoSteps,maxValues:l.fiascoMaxValues,texts:l.fiascoTexts,player:e,zone:t,isClosed:!0})),n.push(r.createElement(o.Z,{key:"aP",player:e,zone:t})),n}function u(e){e.totalPoints=e.points+e.simpathyPoints}const d={controlTextValuesInit:()=>new Array(l.steps.length).fill(0),fiascoControlTextValuesInit:()=>new Array(l.fiascoSteps.length).fill(0),onTimerChange:e=>{u(e)},onChangeScore:e=>{u(e)},onEndPlayer:(e,t,n,r)=>{e.players[n].zones[r].time=t},onGameEnd:e=>{e.players.forEach(((t,n)=>{t.zones.forEach(((t,r)=>{if(s.GameUtils.isFiasco(e,n,r)){const t=e.players[n].zones[r];t.time=e.maxTime>0?e.maxTime:t.time,t.points=e.maxPoints>0?e.maxPoints:t.maxPoints,u(t)}}))}))},onGateProgressionChange:e=>{u(e)},onFiascoChangeScore:()=>{},onPointBecauseLastMinute:e=>{u(e)},generateSliderMarksFromGates:(e,t)=>{const n={};for(let i=0;i<e.length;i++){let o,a="gatePoints ";i<t?(a+="colorGreen",o="-"):(a+="colorGrey",o="-"),n[i]=r.createElement("div",{className:a},o,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:()=>{i.default.pageview("/minicrawlerpassion/")}}},38690:(e,t,n)=>{"use strict";n.r(t),n.d(t,{RegionalZonaRcGameScores:()=>A,gameExtras:()=>O,getGameContent:()=>P});var r=n(9226),i=n(42742),o=n(29525),a=n(26793),s=n(25082);const l=function(e){let{player:t,zone:n}=e;const{t:i}=(0,a.$)(),{game:o}=r.useContext(s.GameContext);if(!o||!o.players.length)return r.createElement(r.Fragment,null);const l=o.players[t].zones[n];return r.createElement("div",{className:"pointsText"},i("description.puntos"),": ",l.points)};var c=n(18146),u=n(93379),d=n.n(u),h=n(7795),f=n.n(h),p=n(90569),g=n.n(p),m=n(3565),v=n.n(m),y=n(19216),_=n.n(y),b=n(44589),w=n.n(b),x=n(39468),C={};C.styleTagTransform=w(),C.setAttributes=v(),C.insert=g().bind(null,"head"),C.domAPI=f(),C.insertStyleElement=_(),d()(x.Z,C),x.Z&&x.Z.locals&&x.Z.locals;const E=function(e){let{handicap:t,onHandicapChange:n}=e;const{t:i}=(0,a.$)();return r.createElement("div",{className:"gameProgressionItem rounded rounded3"},r.createElement("div",{className:"handicapContainer"},i("description.bonificacionaccesorios"),": ",r.createElement(c.Z,{callback:function(e){n(e)},minValue:-5,maxValue:0,initialValue:0,value:t})))},I=function(e){let{player:t,zone:n}=e;const{t:i}=(0,a.$)(),{game:o,setGame:l}=r.useContext(s.GameContext),[c,u]=r.useState(0);return o&&o.players.length?r.createElement(E,{handicap:c,onHandicapChange:function(e){const r={...o},i=r.players[t].zones[n];u(e),i.handicap=e,O.onHandicapChange&&O.onHandicapChange(i),l(r)}}):r.createElement(r.Fragment,null)};var T=n(77721),k=n(56725),S={};S.styleTagTransform=w(),S.setAttributes=v(),S.insert=g().bind(null,"head"),S.domAPI=f(),S.insertStyleElement=_(),d()(k.Z,S),k.Z&&k.Z.locals&&k.Z.locals;const A={steps:[-5,5,5,1,10,5,1,1,4,4,4,3,2,1,3,1,3,5,10,10,10,5,2,1,1,3,3],maxValues:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],texts:["points.puertabonificada","points.saltarsepuerta","points.saltarzona","points.unaruedaejetrasero","points.empujarcocheacompañar","points.acaompañarcoche","points.tocarcoche","points.tocarpuerta","points.tocarcocheiniciovuelco","points.tocarpuertaunarueda","points.vuelcoasistidotoque","points.vuelcoasistido","points.vuelcotoquepuertapiloto","points.vuelconoasistido","points.utilizacionextrawinch","points.moverwinch","points.reparacion30mins","points.reparacionherramientasinsitu","points.conectarentiempoajuste","points.nococheparquecerrado","points.manipulacionvehiculocarpa","points.terminarzonasinobjeto","points.interferiraccionjuez","points.tiemposentrenamiento","points.caidapuente","points.recolocarpuente"],fiascoTexts:["points.noempezado","points.bateria","points.reparacion"],fiascoSteps:[1,1,1],fiascoMaxValues:[1,1,1],courtesyTime:6e4,maxPoints:25,maxTime:6e5};function P(e,t){const n=[];return n.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",player:e,zone:t,steps:A.steps,maxValues:A.maxValues,texts:A.texts,isClosed:!1})),n.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:A.fiascoSteps,maxValues:A.fiascoMaxValues,texts:A.fiascoTexts,player:e,zone:t,isClosed:!0})),n.push(r.createElement(l,{key:"zRP",player:e,zone:t})),n.push(r.createElement(I,{key:"zRM",player:e,zone:t})),n}function N(e){e.totalPoints=e.points+e.simpathyPoints+e.handicap}const O={controlTextValuesInit:()=>new Array(A.steps.length).fill(0),fiascoControlTextValuesInit:()=>new Array(A.fiascoSteps.length).fill(0),onTimerChange:e=>{N(e)},onChangeScore:e=>{N(e)},onGameEnd:e=>{e.players.forEach(((t,n)=>{t.zones.forEach(((r,i)=>{if(o.GameUtils.isFiasco(e,n,i)){const a=e.players[n].zones[i];a.time=e.maxTime>0?e.maxTime+e.courtesyTime:a.time,(o.GameUtils.isTimeFiasco(e,a)||o.GameUtils.isFiascoFromFiascoControlTextValues(e,t,r))&&(a.points+=25),N(a)}}))}))},onEndPlayer:(e,t,n,r)=>{e.players[n].zones[r].time=t},onGateProgressionChange:e=>{N(e)},onHandicapChange:e=>{N(e)},onFiascoChangeScore:()=>{},onPointBecauseLastMinute:e=>{N(e)},generateSliderMarksFromGates:(e,t)=>{const n={};for(let i=0;i<e.length;i++){let o,a="gatePoints ";i<t?(e[i].controlTextValues[0]<0?a+="colorGreen":a+="colorClearGrey",o="-"):(a+="colorGrey",o="-"),n[i]=r.createElement("div",{className:a},o,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:()=>{T.default.pageview("/copaespana/")}}},83915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(9226),i=n(26793),o=n(11569);n(40495);const a=n.p+"78b7bb4a554381a9ba80.png",s=function(e){let{onUserSeachPlayerAdd:t,onUserClick:n,onPlusAddUserClick:s,mainText:l,secondaryText:c,iconSend:u,children:d}=e;const h=window.crawlear.fb,{t:f}=(0,i.$)(),[p,g]=r.useState(""),[m,v]=r.useState([]),y=r.useRef(),_=r.useRef();function b(e){const n=e.target,r=n.getAttribute("data-uid"),i=n.getAttribute("data-displayname"),o=n.getAttribute("data-photourl");v([]),g(""),t&&t({uid:r,displayName:i,photoURL:o})}function w(e){const t=e.target.nextElementSibling.getAttribute("data-uid");n&&n(t)}const x=[];let C,E=0;return m.length>0&&(x.push(r.createElement("div",{key:E,className:"userSearchResultsText smallText"},c)),E++),m.forEach((e=>{let n=u;t&&e.uid===window.crawlear.user.uid&&(n=a),x.push(r.createElement("div",{className:"bold userSearchItem",key:E},r.createElement("span",{onClick:w,className:"userSearchResult textOverflow"},e.displayName),r.createElement("img",{src:n,alt:"send icon","data-uid":e.uid,"data-displayname":e.displayName,"data-photourl":e.photoURL,onClick:b}))),E++})),s&&(C=r.createElement("button",{className:"buttonControlTextPlus",onClick:()=>{const e=_.current.value;v([]),g(""),s({uid:"",displayName:e})}},"+")),r.createElement("div",{className:"userSearchContainer rounded rounded3"},!o.isOffline||s?r.createElement(r.Fragment,null,r.createElement("div",{className:"userSearchText smallText"},l),r.createElement("input",{id:Date.now(),ref:_,className:"userSearchName",onChange:function(e){const t=e.target.value;g(t),!o.isOffline&&h.isUserLogged()&&(t.length>0?h.userSearch(t,(e=>{v(e)}),(()=>{})):v([]))},value:p})):r.createElement(r.Fragment,null),C,d,r.createElement("div",{ref:y,className:"resultsContainer"},x))}},71728:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var r=n(9226),i=n(29525),o=n(26793),a=n(93379),s=n.n(a),l=n(7795),c=n.n(l),u=n(90569),d=n.n(u),h=n(3565),f=n.n(h),p=n(19216),g=n.n(p),m=n(44589),v=n.n(m),y=n(88076),_={};_.styleTagTransform=v(),_.setAttributes=f(),_.insert=d().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=g(),s()(y.Z,_),y.Z&&y.Z.locals&&y.Z.locals;const b=function(e){let{onGameTypeChange:t,selectedGameType:n=0,selectedPointsType:i=0}=e;const{t:a}=(0,o.$)(),s=[a("gametype.aecar"),a("gametype.rey"),a("gametype.isrcc"),a("gametype.levante124"),a("gametype.copaespana"),a("gametype.minicrawlerpassion"),a("gametype.generic")],l=[r.createElement("div",null,a("gametype.modojuegoarcar")),r.createElement("div",null,a("gametype.modojuegorey")),r.createElement("div",null,a("gametype.modojuegoisrcc")),r.createElement("div",null,a("gametype.modojuegolevante124")),r.createElement("div",null,a("gametype.modojuegocopaespana")),r.createElement("div",null,a("gametype.modojuegominicrawlerpassion")),r.createElement("div",null,a("gametype.modojuegogeneric"))],[c,u]=r.useState({gameType:n}),d=[];return s.forEach(((e,t)=>{d.push(r.createElement("option",{key:t,value:t},s[t]))})),r.createElement(r.Fragment,null,r.createElement("div",{className:"gameType rounded1 rounded"},r.createElement("label",{htmlFor:"gameTypeSelect",className:"headerText bold"},a("gametype.modojuego"),r.createElement("select",{id:"gameTypeSelect",defaultValue:n,onChange:function(e){const n=e.target.selectedIndex;t&&t(n),u({gameType:n})}},d)),r.createElement("div",{className:"gameSelectText smallText"},l[c.gameType])))};var w=n(14305),x={};x.styleTagTransform=v(),x.setAttributes=f(),x.insert=d().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=g(),s()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;const C=function(e){let{player:t,i:n,onRemovePlayer:i,onClickPlayer:a,onGroupChange:s,maxGroups:l,editMode:c,isForJudge:u,onGameDirectorChange:d}=e;const{t:h}=(0,o.$)(),f=[];if(c){const e=[];for(let t=0;t<l;t++)e.push(r.createElement("option",{value:t},h("description.grupo")," ",t+1));f.push(r.createElement("button",{className:"buttonControlTextMinus",id:n,onClick:function(e){e.stopPropagation(),i&&i(e)}},"-")),f.push(r.createElement("div",null,r.createElement("select",{value:t.group,onChange:function(e){const n=e.target.selectedIndex;s&&s(t.id,n)}},e))),u&&f.push(r.createElement(r.Fragment,null,r.createElement("input",{type:"checkbox",onChange:function(e){d&&d(t.id,e.target.checked)}}),r.createElement("span",{className:"PlayerItemGameDirector"},h("description.directordepartida"))))}return r.createElement("li",{key:n,onClick:function(){a&&a(t.id)},className:"closed importantNote rounded playerListItem",value:t.name},r.createElement("div",{className:"playerBox"},r.createElement("img",{referrerPolicy:"no-referrer",src:t.avatar,alt:"avatar"}),r.createElement("div",{className:"textOverflow"},t.name),f))};var E=n(83915);n(40495);const I=n.p+"9f5743cc8ab0daaa6f24.png",T=function(e){let{onUserSeachPlayerAdd:t,gameName:n,isForJudge:i}=e;const a=window.crawlear.fb,{t:s}=(0,o.$)(),l=r.useRef(0),[c,u]=r.useState(0),d=[];return l.current>0&&d.push(r.createElement("div",{key:0},l.current," ",s("description.peticionespendientes"))),r.createElement(E.Z,{onUserSeachPlayerAdd:function(e){let{uid:r,displayName:i,photoURL:o}=e;if(r&&(r===window.crawlear.user.uid||window.confirm(s("content.peticionjuegoconfirmacion"))))if(r===window.crawlear.user.uid){const e=window.crawlear.user;t({uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,group:0})}else a.setUserGameRequest(window.crawlear.user.uid,window.crawlear.user.displayName,r,n,((e,n)=>{"pending"===n?(l.current+=1,u(c+1)):"accepted"===n?(t({uid:r,displayName:i,photoURL:o,group:0}),l.current-=1,u(c-1)):(l.current-=1,u(c-1))}))},onPlusAddUserClick:i?void 0:t,mainText:a.isUserLogged()?s("content.usuariodesistema"):s("content.usuarionosistema"),secondaryText:"".concat(s("content.enviorequest"),". ").concat(s("content.enviorequest2")),iconSend:I},d)};var k=n(77721),S=n(72504),A={};A.styleTagTransform=v(),A.setAttributes=f(),A.insert=d().bind(null,"head"),A.domAPI=c(),A.insertStyleElement=g(),s()(S.Z,A),S.Z&&S.Z.locals&&S.Z.locals;const P=function(e){let{inPlayers:t,onPlayerNumerChange:n,onGameDirectorChange:i,gameName:a,isForJudge:s,maxGroups:l}=e;const[c,u]=r.useState(t||[]),{t:d}=(0,o.$)();function h(e){k.default.event("menu","removePlayer",c[e.target.id].name),delete c[e.target.id];const t=c.filter((e=>e));u(t),n&&n(t)}function f(e,t){const n=[...c];n[e].group=t,u(n)}function p(e,t){i&&i(e,t)}r.useEffect((()=>{n&&n(c)}),[c]);let g=c.length?d("description.jugadores"):d("description.nojugadores");return s&&(g=c.length?d("description.jueces"):d("description.nojueces")),r.createElement(r.Fragment,null,r.createElement("div",{className:"players rounded rounded1"},r.createElement("div",{className:"headerText bold"},d(s?"description.jueces":"description.jugadores")),r.createElement(T,{isForJudge:s,onUserSeachPlayerAdd:function(e){const t=e.displayName;!t||0===t.trim().length||c.find((t=>t.uid===e.uid&&e.uid.length>0))||s&&!e.uid||(c.push({id:c.length,uid:e.uid||"",name:t,avatar:e.photoURL||"".concat("https://eu.ui-avatars.com/api/?background=345B63&color=FFFFFF&name=").concat(t),group:0,time:0,points:0,battery:!1}),k.default.event("menu","addPlayer",t),n&&n(c))},gameName:a}),r.createElement("div",{className:"headerText"},d(s?"description.juecesenpartida":"description.usuariosenpartida")),r.createElement("ul",{className:"playersList"},0===c.length?g:c.map(((e,t)=>r.createElement(C,{key:t,player:e,i:t,onGameDirectorChange:p,maxGroups:l,onGroupChange:f,editMode:!0,isForJudge:s,onRemovePlayer:h}))))))};var N=n(18146),O=n(42929),R={};R.styleTagTransform=v(),R.setAttributes=f(),R.insert=d().bind(null,"head"),R.domAPI=c(),R.insertStyleElement=g(),s()(O.Z,R),O.Z&&O.Z.locals&&O.Z.locals;const L=function(e){let{onMaxTimeChange:t,minutes:n,seconds:i}=e;const o=[n,i];function a(e,n){const r=[...o];r[n]=e,e=function(e){const t=Number(e[0])||0;return 1e3*(Number(e[1])||0)+60*t*1e3}(r),t&&t(e)}return r.createElement("div",{className:"pickerContainer rounded rounded2"},r.createElement(N.Z,{value:o[0],initialValue:0,minValue:0,maxValue:60,callback:e=>{a(e,0)}}),r.createElement("div",{className:"maxTimePickerContainer--separator"},"m"),r.createElement(N.Z,{value:o[1],initialValue:0,minValue:0,maxValue:60,callback:e=>{a(e,1)}}),r.createElement("div",{className:"maxTimePickerContainer--separator"},"s"))};var M=n(5103);const D=function(e){let{onMaxTimeChange:t,onMaxPointsChange:n,showTimePicker:i,time:a,points:s}=e;const{t:l}=(0,o.$)(),c=M.default.millisToTime(a);let u=r.createElement(r.Fragment,null);return i&&(u=r.createElement(r.Fragment,null,r.createElement("p",null,l("content.maxTimeText1")),r.createElement(L,{onMaxTimeChange:t,onMaxPointsChange:n,minutes:c.m,seconds:c.s,millis:c.mm}))),r.createElement("div",null,u,r.createElement("p",null,l("content.maxTimeText2")),r.createElement("div",{className:"pickerContainer rounded rounded2"},r.createElement(N.Z,{value:s,minValue:0,initialValue:0,callback:e=>{n(e)}})))},j=function(e){let{onZonesChange:t,value:n=1}=e;const{t:i}=(0,o.$)();return r.createElement("div",null,r.createElement("p",null,i("content.seleccionZonas"),":"),r.createElement("div",{className:"pickerContainer rounded rounded2"},r.createElement(N.Z,{value:n,minValue:1,maxValue:40,callback:e=>{t(e)},initialValue:1})))};var F=n(11569);const z=function(e){let{onGroupsChange:t,value:n,minValue:i,maxValue:a}=e;const{t:s}=(0,o.$)();return F.isOffline?r.createElement(r.Fragment,null):r.createElement("div",null,r.createElement("p",null,s("content.selecciongrupos"),":"),r.createElement("div",{className:"pickerContainer horizontalScrollContainer rounded rounded2"},r.createElement(N.Z,{minValue:i||1,maxValue:a||10,value:n,callback:e=>{t(e)},initialValue:1})))},U=function(e){let{onGatesChange:t,zones:n,value:i,minValue:a,maxValue:s}=e;const{t:l}=(0,o.$)(),c=[];for(let e=0;e<n;e++)c.push(r.createElement("div",{key:"pickerContainer".concat(e)},r.createElement("div",{key:e,className:"zoneName"},l("description.zona")," ",e+1,":"),r.createElement("br",{key:"br".concat(e)}),r.createElement(N.Z,{key:"picker".concat(e),minValue:a||1,maxValue:s||40,value:i,callback:n=>{t(n,e)},initialValue:1})));return r.createElement("div",null,r.createElement("p",null,l("content.seleccionPuertas"),":"),r.createElement("div",{className:"gatesPickerContainer pickerContainer horizontalScrollContainer rounded rounded2"},c))};var V=n(98695),B=n(81683),G=n(77230),Z=n.n(G),q=n(19850),W=n.n(q),H=n(46274),K={};K.styleTagTransform=v(),K.setAttributes=f(),K.insert=d().bind(null,"head"),K.domAPI=c(),K.insertStyleElement=g(),s()(H.Z,K),H.Z&&H.Z.locals&&H.Z.locals;const $=function(e){let{onLogin:t,preconfiguredGame:n,onGameCreated:a}=e;const{t:s}=(0,o.$)(),l=[],{isUserLoged:c}=r.useContext(B.Y),u=window.crawlear.fb,[d,h,f,p,g,m,v,y,_,w,x,C,E,I,T,k,S]=W()({preconfiguredGame:n,onGameCreated:a});return r.useEffect((()=>{u.checkIfLogged((()=>{t(!1)}))}),[]),l.push(r.createElement(D,{key:0,mode:d.pointsType,onMaxPointsChange:y,onMaxTimeChange:_,time:d.maxTime,points:d.maxPoints,showTimePicker:!0})),d.gameType!==i.GAME_TYPE_KING&&(l.push(r.createElement(j,{key:1,game:d,value:d.zones,onZonesChange:w,onGatesChange:x,onMaxPointsChange:y,onMaxTimeChange:_})),l.push(r.createElement(U,{key:2,zones:d.zones,value:10,onGatesChange:x})),l.push(r.createElement(z,{key:3,onGroupsChange:E,value:1,minValue:1,maxValue:10})),F.isOffline||l.push(r.createElement(P,{key:4,isForJudge:!0,maxGroups:f,inPlayers:d.judges,gameName:d.name,onGameDirectorChange:T,onPlayerNumerChange:m}))),c||F.isOffline?r.createElement(r.Fragment,null,r.createElement(V.default,{message:h}),r.createElement("div",{className:"newGameContainer rounded rounded1"},r.createElement("div",{className:"newGame"},r.createElement("div",{className:"headerText bold"},s("description.nuevaPartida")),r.createElement("div",{className:"newGameRow"},r.createElement("span",{className:""},s("description.nombre")),": ",r.createElement("input",{value:d.name,className:"newGameNameInput",type:"text",onChange:C})),r.createElement("div",{className:"newGameRow"},r.createElement("span",{className:""},s("description.fecha")),": ",d.date.toLocaleString()),r.createElement("div",{className:"newGameRow"},r.createElement("span",{className:""},s("description.esPublica")),": ",r.createElement("input",{type:"checkbox",checked:d.isPublic,onChange:I})),r.createElement("div",{className:"newGameRow"},r.createElement("span",{className:""},s("description.localizacion")),":",r.createElement(Z(),{onLocationResolved:g})))),r.createElement(b,{selectedGameType:d.gameType,selectedPointsType:d.pointsType,onGameTypeChange:e=>{p(e)}}),l,r.createElement(P,{gameName:d.name,isForJudge:!1,inPlayers:d.players,maxGroups:f,onPlayerNumerChange:e=>{v&&v(e)}}),r.createElement("input",{type:"checkbox",onChange:k}),s("description.ordenRamdomJugadores"),r.createElement("p",null,r.createElement("button",{className:"importantNote",onClick:()=>{S(f,d)}},s("description.crearjuego")),r.createElement("button",{onClick:()=>{window.location.reload()}},s("description.atras")))):r.createElement(r.Fragment,null,"Not logged! go to ",r.createElement("a",{href:"https://crawlear.com"},"crawlear.com"))}},56689:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var r=n(9226),i=n(26793),o=n(82232),a=n.n(o),s=n(85382),l=n.n(s),c=n(42742),u=n(87165),d=n(29525),h=n(75607),f=n.n(h),p=n(5368),g=n(93379),m=n.n(g),v=n(7795),y=n.n(v),_=n(90569),b=n.n(_),w=n(3565),x=n.n(w),C=n(19216),E=n.n(C),I=n(44589),T=n.n(I),k=n(53304),S={};S.styleTagTransform=T(),S.setAttributes=x(),S.insert=b().bind(null,"head"),S.domAPI=y(),S.insertStyleElement=E(),m()(k.Z,S),k.Z&&k.Z.locals&&k.Z.locals;const A=function(e){let{onGameEnd:t}=e;const{t:n}=(0,i.$)();let o=[];const[a,s,l]=f()({onGameEnd:t}),h=a.game;o.push(r.createElement(u.default,{key:"tmC",courtesyTime:0,startTime:0,label:n("description.tiempo"),maxTime:h.maxTime})),o.push(r.createElement("div",{key:0},n("description.ordenruta"),":"));for(let e=0;e<h.players.length;e++){let t="";d.GameUtils.isPointsFiasco(h,a.order[e].zones[0])&&(t="blink foreColorRed"),o.push(r.createElement("div",{key:e+1},r.createElement("div",{className:"controlTextContainerQueue rounded bold ".concat(t)},a.order[e].name,": ",a.order[e].zones[0].totalPoints," ptos")))}o.push(r.createElement("p",{key:h.players.length+1},n("description.puntos").toUpperCase(),":"));for(let e=0;e<h.players.length;e++){let t,i=h.players[e],a=i.zones[0];o.push(r.createElement("div",{key:h.players.length+e+2,className:"playerInfo"},r.createElement("div",{className:"headerPlayer importantNote rounded2 rounded"},r.createElement("div",{className:"bold"},i.name),n("description.total"),": ",a.totalPoints,t),r.createElement("div",{className:"controlTextContainer rounded rounded1"},(0,c.Z)({controlTextValuesString:"controlTextValues",steps:p.KingGameScores.steps,maxValues:p.KingGameScores.maxValues,texts:p.KingGameScores.texts,zone:0,player:e,onValueChange:s}))))}return o.push(r.createElement("button",{key:2*h.players.length+2,className:"importantNote",onClick:l},n("description.fin"))),r.createElement("div",{key:2*h.players.length+3,className:"gameContainer"},o)};var P=n(35456),N=n.n(P),O=n(85901),R=n.n(O),L=n(63518),M=n.n(L),D=n(2460),j=n.n(D),F=n(93897),z={};z.styleTagTransform=T(),z.setAttributes=x(),z.insert=b().bind(null,"head"),z.domAPI=y(),z.insertStyleElement=E(),m()(F.Z,z),F.Z&&F.Z.locals&&F.Z.locals;const U=function(e){let{children:t,onGameEnd:n,onRepair:o,playerIndex:a,zoneIndex:s}=e;const{t:l}=(0,i.$)(),c=[],[u,d,h,f,p,g,m,v,y,_]=N()(n,o,a,s),b=u.game,w=b.players[a],x=w.zones[s];return t.length&&(c.push(r.cloneElement(t[0],{onValueChange:h})),t[2]?(c.push(r.cloneElement(t[1],{onValueChange:m})),c.push(r.cloneElement(t[2]))):c.push(r.cloneElement(t[1])),t[3]&&c.push(r.cloneElement(t[3]))),r.createElement("div",{className:"gameContainer"},r.createElement(R(),{playerIndex:a,zoneIndex:s}),r.createElement(M(),{playerZone:x,forceAction:u.forceAction,setRepairStatus:_,onTimerChange:d,onTimeFiasco:y,onPointBecauseLastMinute:v}),r.createElement(j(),{playerIndex:a,zoneIndex:s,onGateProgressionChange:g}),r.createElement("div",{className:"controlTextContainer rounded rounded2"},c[2],x.gateProgression<b.gates[s]?c[0]:r.createElement(r.Fragment,null),x.gateProgression<b.gates[s]?c[1]:r.createElement(r.Fragment,null)),c[3],r.createElement("button",{onClick:f,className:"resetButton"},l("description.reset")),r.createElement("button",{className:"importantNote",onClick:()=>{p()}},l("description.finjugador")," (",w.name,")"),r.createElement("p",null))};var V=n(25082);const B=function(e){let{game:t,player:n,zone:i,onGameEnd:o,onRepair:a,gameExtras:s,children:l}=e;const[c,u]=r.useState(t),d=[];return r.useEffect((()=>{s.doPageView()}),[]),1!==c.gameType?d.push(r.createElement(U,{key:1,onGameEnd:e=>{o(e)},onRepair:a,playerIndex:n,zoneIndex:i},l)):d.push(r.createElement(A,{key:0,onGameEnd:e=>{o(e)},onRepair:a})),r.createElement(V.GameContext.Provider,{value:{game:c,setGame:u,gameExtras:s}},d)};var G=n(98493),Z=n(8697),q=n(96281),W=n.n(q),H=n(34418),K={};K.styleTagTransform=T(),K.setAttributes=x(),K.insert=b().bind(null,"head"),K.domAPI=y(),K.insertStyleElement=E(),m()(H.Z,K),H.Z&&H.Z.locals&&H.Z.locals;const $=function(e){let{inGame:t,onBackButtonClick:n}=e,o=r.createElement(r.Fragment,null);const{t:s}=(0,i.$)(),c=a().getGameExtras(t.gameType),[u,h,f,p,g,m,v,y,_,b]=W()(t,c),w=a().getGameContent(h.gameType,g.id,m),[x]=r.useState((()=>a().getGroupFromJid(h,window.crawlear.user.uid)));return u===q.GAME_STATUS_CREATED?o=h.gameType===d.GAME_TYPE_KING?r.createElement(B,{game:h,onGameEnd:_,gameExtras:c}):r.createElement(G.GameProgressionContext.Provider,{value:[f,p]},r.createElement(l(),{game:h,gameProgression:f,jidGroup:x,onBeginGame:v,onBackButtonClick:n,onCloseButonClick:y})):u===q.GAME_STATUS_PLAYING?o=r.createElement(B,{player:g.id,zone:m,game:h,gameExtras:c,onGameEnd:_,onRepair:b},w):u===q.GAME_STATUS_FINISHED&&(o=r.createElement("div",{className:"gameList"},r.createElement(Z.default,{game:h}),r.createElement("button",{className:"backButton",onClick:n},s("description.atras")))),o}},51923:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(9226),i=n(5351),o=n.n(i),a=n(82639);const s=function(){const[e,t]=r.useState(0),[n,i]=r.useState({}),s=new(o()),l=new a.default;function c(e){i(e),t(1),s.listenMessages(a.MSG_START,u),s.listenMessages(a.MSG_STOP,d),s.listenMessages(a.MSG_TIME,h),s.listenMessages(a.MSG_POINTS,f),s.listenMessages(a.MSG_GATES,p)}function u(){l.sendStart()}function d(){l.sendStop()}function h(e){l.sendTime(e.detail)}function f(e){l.sendPoints(e.detail)}function p(e){l.sendGates(e.detail)}return 0===e?r.createElement("div",{className:"controlText",onClick:function(){l.discoverDevice(c)}},"Discover Bluetooth Device"):r.createElement("div",{className:"controlText"},n.name)}},55495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(9226),i=n(26793),o=n(29525);const a=function(e){let{game:t,playerName:n,fromName:a,zone:s}=e;const{t:l}=(0,i.$)(),c=window.crawlear.fb,u=[],d=t.gid,h=[],[f,p]=r.useState({});function g(e,t){if("pending"===e.status){const n={...f};n[t]=e,p(n)}else if("accepted"===e.status){const e={...f};delete e[t],p(e)}}return d&&n&&a&&s>=0&&!o.GameUtils.isCurrentUserIsOwner(t.owner)&&0===Object.entries(f).length&&u.push(r.createElement("button",{onClick:function(){window.confirm(l("content.quieresenviarpeticiondepresencia"))&&c.setDirectorPresenceRequest(d,s,n,a,g)}},l("description.reclamarpresencia"))),Object.keys(f).forEach(((e,t)=>{h.push(r.createElement("div",null,f[e].status))})),r.createElement("div",{className:"presenceButtonContainer"},u,h)}},57124:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(9226),i=n(26793),o=n(87165),a=n(93379),s=n.n(a),l=n(7795),c=n.n(l),u=n(90569),d=n.n(u),h=n(3565),f=n.n(h),p=n(19216),g=n.n(p),m=n(44589),v=n.n(m),y=n(56040),_={};_.styleTagTransform=v(),_.setAttributes=f(),_.insert=d().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=g(),s()(y.Z,_),y.Z&&y.Z.locals&&y.Z.locals;const b=function(e){let{onTimeFiasco:t,onRepairTimerChange:n}=e;const{t:a}=(0,i.$)();return r.createElement("div",{className:"repairTimeContainer"},r.createElement(o.default,{courtesyTime:0,label:a("points.reparacion"),onTimeFiasco:t,onTimerChange:n,maxTime:18e5}))};var w=n(27969),x={};x.styleTagTransform=v(),x.setAttributes=f(),x.insert=d().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=g(),s()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;const C=function(e){let{gameProgression:t,game:n,onRepairEnd:o}=e;const{t:a}=(0,i.$)(),s=[];return t&&Object.entries(t).forEach(((e,t)=>{Object.entries(e[1]).forEach(((i,l)=>{Object.entries(i[1]).forEach(((l,c)=>{if("repair"===l[1].status){const u=new Date(l[1].repairData.setTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});s.push(r.createElement("div",{key:c+t,className:"repairProgressionItem rounded rounded2"},r.createElement("div",{className:"repairProgressionItemHead"},r.createElement("img",{src:n.players[i[0]].avatar,alt:"player avatar"}),r.createElement("span",{className:"repairProgressionItemZone"},a("description.zona"),": ",c+1),r.createElement("span",{className:"gameProgressionItemHour"},a("description.enreparaciondesde")," ",u)),r.createElement(b,null),r.createElement("button",{onClick:()=>{!function(e,t,n,r,i){window.confirm(a("content.finalizarreparacion"))&&o&&o(e,t,n,r,i)}(n.gid,n.players[[i[0]]].id,e[0],c,l[1])},className:"importantNote"},a("description.fin"))))}}))}))})),r.createElement("div",{className:"repairProgressionContainer"},s.length?s:a("description.nohayreparaciones"))}},87165:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(9226),i=n(26793),o=n(77721),a=n(5103),s=n(5351),l=n.n(s),c=n(82639),u=n(93379),d=n.n(u),h=n(7795),f=n.n(h),p=n(90569),g=n.n(p),m=n(3565),v=n.n(m),y=n(19216),_=n.n(y),b=n(44589),w=n.n(b),x=n(7174),C={};C.styleTagTransform=w(),C.setAttributes=v(),C.insert=g().bind(null,"head"),C.domAPI=f(),C.insertStyleElement=_(),d()(x.Z,C),x.Z&&x.Z.locals&&x.Z.locals;const E="play",I="pause",T="stop",k=function(e){let{startTime:t,forceAction:n,label:s,onTimerChange:u,courtesyTime:d,maxTime:h,onPointBecauseLastMinute:f,onTimeFiasco:p}=e;const{t:g}=(0,i.$)(),m=r.useRef(null),v=r.useRef(t||0),y=new(l()),[_,b]=r.useState((()=>({millis:t||0,timer:null,maxTime:h,state:I,timeStart:Date.now()}))),w=a.default.millisToTime(_.millis);function x(){v.current=0,_.timer&&clearInterval(_.timer),m.current.classList.remove("blink"),b({maxTime:_.maxTime,millis:0,timer:null,state:T}),u&&u(v.current),m.current.classList.contains("play")&&m.current.classList.toggle("play")}function C(){m.current.classList.toggle("play"),_.state===I||_.state===T?(_.state=E,o.default.event("play","timePlay",""),m.current.classList.remove("blink")):(_.state=I,o.default.event("play","timePause","")),b((e=>({...e,state:_.state})))}return r.useEffect((()=>{n===T&&x(),n===I&&_.state===E&&C()}),[n]),r.useEffect((()=>{const e={..._};e.state===E?(e.timer&&clearInterval(e.timer),e.millis=v.current,e.timer=setInterval((()=>{!function(e){v.current<e.maxTime?(v.current=Date.now()-e.timeStart+e.millis,u&&u(v.current),b((e=>({...e,millis:v.current}))),Date.now()%2==0&&y.sendMessage(c.MSG_TIME,a.default.printTime(a.default.millisToTime(v.current)))):f&&e.maxTime>0&&v.current>=e.maxTime&&v.current<e.maxTime+d||0===e.maxTime?(v.current=Date.now()-e.timeStart,u&&u(v.current),b((e=>({...e,millis:v.current}))),e.maxTime>0&&!m.current.classList.contains("blink")&&m.current.classList.add("blink"),e.maxTime>0&&(e.maxTime+v.current)%1e4==0&&f()):(m.current.classList.toggle("blink"),m.current.classList.toggle("foreColorRed"),C(),p&&p())}(e)}),10),e.timeStart=Date.now(),y.sendMessage(c.MSG_START,{}),b((t=>({...t,...e})))):e.state===I?(e.timer&&clearInterval(_.timer),e.timer=null,y.sendMessage(c.MSG_STOP,{}),b((t=>({...t,...e})))):(e.millis=0,v.current=0,e.timer&&clearInterval(_.timer),e.timer=null,y.sendMessage(c.MSG_STOP,{}),b((t=>({...t,...e})))),y.sendMessage(c.MSG_TIME,a.default.printTime(a.default.millisToTime(v.current)))}),[_.state]),r.createElement("div",{ref:m,className:"timerContainer"},r.createElement("div",{className:"timerLabel"},(s||g("description.tiempo")).toUpperCase(),":"),r.createElement("div",{className:"timer"},a.default.printTime(w)),r.createElement("button",{className:"timerPlayButton",onClick:C}),r.createElement("button",{onClick:x,className:"resetButton"}))}},58139:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(9226),i=n(93379),o=n.n(i),a=n(7795),s=n.n(a),l=n(90569),c=n.n(l),u=n(3565),d=n.n(u),h=n(19216),f=n.n(h),p=n(44589),g=n.n(p),m=n(20064),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;const y=function(e){let{itemPosition:t,onClickFunction:n,text:i}=e;return r.createElement("div",{"data-itemposition":t,onClick:e=>{e.stopPropagation(),n(e)},className:"itemListMenuItem"},i)};var _=n(26793);const b=function(e){let{itemPosition:t,onRemoveClick:n,onConfigureClick:i}=e;const{t:o}=(0,_.$)(),a=r.useRef(null);function s(){a.current.classList.toggle("closed")}return r.createElement("span",{ref:a,className:"listItemMenu rounded closed"},r.createElement("div",{onClick:s},r.createElement("div",{className:"burguerMenuBar"}),r.createElement("div",{className:"burguerMenuBar"}),r.createElement("div",{className:"burguerMenuBar"})),r.createElement(y,{text:o("description.eliminar"),itemPosition:t,onClickFunction:e=>{s(),n(e)}}),r.createElement(y,{text:o("description.editar"),itemPosition:t,onClickFunction:i}))}},97924:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i}),n(68752);var r=n(9226);const i=function(e){let{location:t}=e;return r.createElement("div",{className:"mapouter"},r.createElement("div",{className:"gmap_canvas"},r.createElement("iframe",{id:"gmap_canvas",src:"https://maps.google.com/maps?q=".concat(t.latitude,",").concat(t.longitude,"&t=&z=13&ie=UTF8&iwloc=&output=embed"),frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0"}),r.createElement("style",null,".mapouter{position:relative;text-align:right;}"),r.createElement("style",null,".gmap_canvas {overflow:hidden;background:none!important;}")))}},46196:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var r=n(26793),i=n(9226),o=(n(68752),n(79517)),a=n(93379),s=n.n(a),l=n(7795),c=n.n(l),u=n(90569),d=n.n(u),h=n(3565),f=n.n(h),p=n(19216),g=n.n(p),m=n(44589),v=n.n(m),y=n(83586),_={};_.styleTagTransform=v(),_.setAttributes=f(),_.insert=d().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=g(),s()(y.Z,_),y.Z&&y.Z.locals&&y.Z.locals;const b=function(e){let{url:t,text:n}=e;return i.useEffect((()=>{document.getElementById("fb-root")?FB&&FB.XFBML&&FB.XFBML.parse():document.createElement("div").id="fb-root"}),[]),(0,o.Z)("https://connect.facebook.net/es_ES/sdk.js#xfbml=1&version=v14.0","fb-root-script"),i.createElement("div",{className:"fb-share-button","data-href":t,"data-layout":"button","data-size":"small"},i.createElement("a",{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t),"&amp;src=sdkpreparse"),className:"fb-xfbml-parse-ignore"},n))};var w=n(43751),x={};x.styleTagTransform=v(),x.setAttributes=f(),x.insert=d().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=g(),s()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;const C=function(e){let{url:t,text:n}=e;return i.useEffect((()=>{var e,t,n,r,i,o;window.twttr=(t="script",n="twitter-wjs",i=(e=document).getElementsByTagName(t)[0],o=window.twttr||{},e.getElementById(n)?(twttr&&twttr.widgets&&twttr.widgets.load(),o):((r=e.createElement(t)).id=n,r.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(r,i),o._e=[],o.ready=function(e){o._e.push(e)},o))}),[]),i.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURI(n)),"data-size":"large"},"Tweet")};var E=n(77721);const I=n.p+"98fe34f5072c9c5d8082.png";var T=n(239),k={};k.styleTagTransform=v(),k.setAttributes=f(),k.insert=d().bind(null,"head"),k.domAPI=c(),k.insertStyleElement=g(),s()(T.Z,k),T.Z&&T.Z.locals&&T.Z.locals;const S=function(e){let{url:t,text:n}=e;const r="https://telegram.me/share/url?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURI(n));return i.createElement("a",{onClick:function(){E.default.event("share","telegram",r)},href:r,target:"_blank","data-action":"share/whatsapp/share"},i.createElement("img",{className:"telegramLogo",src:I,alt:"whatsapp logo"}))},A=n.p+"cca3a79bf4e6827f07de.svg";var P=n(94861),N={};N.styleTagTransform=v(),N.setAttributes=f(),N.insert=d().bind(null,"head"),N.domAPI=c(),N.insertStyleElement=g(),s()(P.Z,N),P.Z&&P.Z.locals&&P.Z.locals;const O=function(e){let{url:t,text:n}=e;const r="https://api.whatsapp.com/send?text=".concat(encodeURI(n)," ").concat(encodeURIComponent(t));return i.createElement("a",{onClick:function(){E.default.event("share","whatsapp",r)},href:r,target:"_blank","data-action":"share/whatsapp/share"},i.createElement("img",{className:"whatsappLogo",src:A,alt:"whatsapp logo"}))},R=function(e){let{url:t,text:n,headerText:o}=e;const{t:a}=(0,r.$)();return i.createElement("div",{className:"sharerContainer"},i.createElement("div",{className:"bold shareProfileText"},o),i.createElement("div",{className:"sharers"},i.createElement(b,{url:"https://crawlear.com/".concat(t),text:n}),i.createElement(C,{url:"https://crawlear.com/".concat(t),text:n}),i.createElement(O,{url:"https://crawlear.com/".concat(t),text:n}),i.createElement(S,{url:"https://crawlear.com/".concat(t),text:n})))}},46622:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var r=n(9226),i=n(93379),o=n.n(i),a=n(7795),s=n.n(a),l=n(90569),c=n.n(l),u=n(3565),d=n.n(u),h=n(19216),f=n.n(h),p=n(44589),g=n.n(p),m=n(80779),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;const y=function(e){let{url:t}=e;const n=function(e){var t=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11==t[2].length?t[2]:void 0}(t);return n?r.createElement("div",{className:"youtube video-responsive"},r.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(n),title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",frameBorder:"0",allowFullScreen:!0})):r.createElement(r.Fragment,null)}},79517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9226);const i=(e,t,n)=>{(0,r.useEffect)((()=>{const r=document.getElementById(t),i=document.createElement("script");return r||(i.id=t,i.src=e,i.async=!0,n&&(i.onload=n),document.body.appendChild(i)),()=>{i.parentElement&&document.body.removeChild(i)}}),[e])}},11569:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>I,isOffline:()=>E});var r=n(9226),i=n(26793),o=n(71728),a=n(56689),s=n(29525),l=n(64491),c=n(93379),u=n.n(c),d=n(7795),h=n.n(d),f=n(90569),p=n.n(f),g=n(3565),m=n.n(g),v=n(19216),y=n.n(v),_=n(44589),b=n.n(_),w=n(59484),x={};x.styleTagTransform=b(),x.setAttributes=m(),x.insert=p().bind(null,"head"),x.domAPI=h(),x.insertStyleElement=y(),u()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;const C=window.document.body,E=!navigator.onLine,I=function(){const{t:e}=(0,i.$)(),[t,n]=r.useState(3),[c,u]=r.useState(null);return r.useEffect((()=>{C.classList.add("offline"),window.crawlear=window.crawlear||{},window.crawlear.user={uid:s.OFFLINE_USER_UID}}),[]),0===t?r.createElement(o.Z,{onGameCreated:function(e){u(e),n(1)}}):1===t?r.createElement(a.Z,{inGame:c,onBackButtonClick:function(){n(3)}}):r.createElement(r.Fragment,null,r.createElement(l.Z,null),r.createElement("div",{className:"errorBoxContainer offlineContainer"},e("content.offlineMainText")),r.createElement("button",{onClick:function(){n(0)},className:"importantNote"},e("description.crearoffline")))}},64491:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(9226),i=n(26793),o=n(51739),a=n(93379),s=n.n(a),l=n(7795),c=n.n(l),u=n(90569),d=n.n(u),h=n(3565),f=n.n(h),p=n(19216),g=n.n(p),m=n(44589),v=n.n(m),y=n(8380),_={};_.styleTagTransform=v(),_.setAttributes=f(),_.insert=d().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=g(),s()(y.Z,_),y.Z&&y.Z.locals&&y.Z.locals;const b=function(){const{t:e}=(0,i.$)();return r.createElement("div",{className:"aboutUsContent"},r.createElement("figure",{className:"logoImg"},r.createElement("img",{alt:"crawlear logo",src:o})),r.createElement("b",null,"crawlear.com")," ",e("content.welcomeMessage"))}},49440:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GpxRouteMap:()=>Be,MapPointPicker:()=>We});var r=n(9226),i=(n(63582),n(61912)),o=n(51051);n(38965),Object.create(null);const a={};function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&a[t[0]]||("string"==typeof t[0]&&(a[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}(...t))}const l=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}};function c(e,t,n){e.loadNamespaces(t,l(e,n))}function u(e,t,n,r){"string"==typeof n&&(n=[n]),n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,l(e,r))}const d=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,h={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},f=e=>h[e];let p,g={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(d,f)};const m={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g={...g,...e}}(e.options.react),function(e){p=e}(e)}},v=(0,r.createContext)();class y{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const _=(e,t)=>{const n=(0,r.useRef)();return(0,r.useEffect)((()=>{n.current=t?n.current:e}),[e,t]),n.current};function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:n}=t,{i18n:i,defaultNS:o}=(0,r.useContext)(v)||{},a=n||i||p;if(a&&!a.reportNamespaces&&(a.reportNamespaces=new y),!a){s("You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react&&void 0!==a.options.react.wait&&s("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...g,...a.options.react,...t},{useSuspense:d,keyPrefix:h}=l;let f=e||o||a.options&&a.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(f);const m=(a.isInitialized||a.initializedStoreOnce)&&f.every((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;const a=(e,n)=>{const r=t.services.backendConnector.state[`${e}|${n}`];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(r,e)||i&&!a(o,e)))}(e,t,n):(s("i18n.languages were undefined or empty",t.languages),!0)}(e,a,l)));function b(){return a.getFixedT(t.lng||null,"fallback"===l.nsMode?f:f[0],h)}const[w,x]=(0,r.useState)(b);let C=f.join();t.lng&&(C=`${t.lng}${C}`);const E=_(C),I=(0,r.useRef)(!0);(0,r.useEffect)((()=>{const{bindI18n:e,bindI18nStore:n}=l;function r(){I.current&&x(b)}return I.current=!0,m||d||(t.lng?u(a,t.lng,f,(()=>{I.current&&x(b)})):c(a,f,(()=>{I.current&&x(b)}))),m&&E&&E!==C&&I.current&&x(b),e&&a&&a.on(e,r),n&&a&&a.store.on(n,r),()=>{I.current=!1,e&&a&&e.split(" ").forEach((e=>a.off(e,r))),n&&a&&n.split(" ").forEach((e=>a.store.off(e,r)))}}),[a,C]);const T=(0,r.useRef)(!0);(0,r.useEffect)((()=>{I.current&&!T.current&&x(b),T.current=!1}),[a,h]);const k=[w,a,m];if(k.t=w,k.i18n=a,k.ready=m,m)return k;if(!m&&!d)return k;throw new Promise((e=>{t.lng?u(a,t.lng,f,(()=>e())):c(a,f,(()=>e()))}))}const w={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class x{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||w,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new x(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new x(this.logger,e)}}var C=new x;class E{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)})),this}off(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((e=>e!==t)):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((e=>{e(...n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((t=>{t.apply(t,[e,...n])}))}}function I(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}function T(e){return null==e?"":""+e}function k(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}const o="string"!=typeof t?[].concat(t):t.split(".");for(;o.length>1;){if(i())return{};const t=r(o.shift());!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function S(e,t,n){const{obj:r,k:i}=k(e,t,Object);r[i]=n}function A(e,t){const{obj:n,k:r}=k(e,t);if(n)return n[r]}function P(e,t,n){for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):P(e[r],t[r],n):e[r]=t[r]);return e}function N(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function R(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(e=>O[e])):e}const L=[" ",",","?","!",";"];function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let e=0;e<r.length;++e){if(!i)return;if("string"==typeof i[r[e]]&&e+1<r.length)return;if(void 0===i[r[e]]){let o=2,a=r.slice(e,e+o).join(n),s=i[a];for(;void 0===s&&r.length>e+o;)o++,a=r.slice(e,e+o).join(n),s=i[a];if(void 0===s)return;if(null===s)return null;if(t.endsWith(a)){if("string"==typeof s)return s;if(a&&"string"==typeof s[a])return s[a]}const l=r.slice(e+o).join(n);return l?M(s,l,n):void 0}i=i[r[e]]}return i}function D(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class j extends E{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));const s=A(this.data,a);return s||!o||"string"!=typeof n?s:M(this.data&&this.data[e]&&this.data[e][t],n,i)}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),S(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);let s=A(this.data,a)||{};r?P(s,n,i):s={...s,...n},S(this.data,a,s),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var F={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,i))})),t}};const z={};class U extends E{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;super(),n=e,r=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{n[e]&&(r[e]=n[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=C.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";const r=L.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const i=new RegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!i.test(e);if(!o){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o}(e,n,r));if(o&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:i};const o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${s}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:o}const u=this.resolve(e,t);let d=u&&u.res;const h=u&&u.usedKey||o,f=u&&u.exactUsedKey||o,p=Object.prototype.toString.apply(d),g=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&d&&"string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0&&("string"!=typeof g||"[object Array]"!==p)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(i){const e="[object Array]"===p,n=e?[]:{},r=e?f:h;for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e)){const o=`${r}${i}${e}`;n[e]=this.translate(o,{...t,joinArrays:!1,ns:a}),n[e]===o&&(n[e]=d[e])}d=n}}else if(m&&"string"==typeof g&&"[object Array]"===p)d=d.join(g),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,a=!1;const c=void 0!==t.count&&"string"!=typeof t.count,h=U.hasDefaultValue(t),f=c?this.pluralResolver.getSuffix(l,t.count,t):"",p=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",g=t[`defaultValue${f}`]||t[`defaultValue${p}`]||t.defaultValue;!this.isValidLookup(d)&&h&&(r=!0,d=g),this.isValidLookup(d)||(a=!0,d=o);const m=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:d,v=h&&g!==d&&this.options.updateMissing;if(a||r||v){if(this.logger.log(v?"updateKey":"missingKey",l,s,o,v?g:d),i){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const i=h&&r!==d?r:m;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,i,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,i,v,t),this.emit("missingKey",e,s,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{this.pluralResolver.getSuffixes(e,t).forEach((n=>{r([e],o+n,t[`defaultValue${n}`]||g)}))})):r(e,o,g))}d=this.extendTranslation(d,e,t,u,n),a&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${s}:${o}`),(a||r)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${o}`:o,r?d:void 0):this.options.parseMissingKeyHandler(d))}return r?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):o.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s="string"==typeof a?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=F.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),l=s.key;n=l;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==a.count&&"string"!=typeof a.count,d=u&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,f=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(o=e,!z[`${f[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(z[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${f.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((n=>{if(this.isValidLookup(t))return;i=n;const o=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,n,e,a);else{let e;u&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(o.push(l+e),a.ordinal&&0===e.indexOf(r)&&o.push(l+e.replace(r,this.options.pluralSeparator)),d&&o.push(l+t)),h){const n=`${l}${this.options.contextSeparator}${a.context}`;o.push(n),u&&(o.push(n+e),a.ordinal&&0===e.indexOf(r)&&o.push(n+e.replace(r,this.options.pluralSeparator)),d&&o.push(n+t))}}let s;for(;s=o.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&"string"!=typeof e.replace;let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}function V(e){return e.charAt(0).toUpperCase()+e.slice(1)}class B{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=C.create("languageUtils")}getScriptPartFromCode(e){if(!(e=D(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=D(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=V(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=V(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=V(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:0===e.indexOf(n)?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):"string"==typeof e&&i(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))})),r}}let G=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Z={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const q=["v1","v2","v3"],W=["v4"],H={zero:0,one:1,two:2,few:3,many:4,other:5};class K{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=C.create("pluralResolver"),this.options.compatibilityJSON&&!W.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return G.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:Z[t.fc]}}))})),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(D(e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>H[e]-H[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!q.includes(this.options.compatibilityJSON)}}function $(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=function(e,t,n){const r=A(e,n);return void 0!==r?r:A(t,n)}(e,t,n);return!o&&i&&"string"==typeof n&&(o=M(e,n,r),void 0===o&&(o=M(t,n,r))),o}class Y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=C.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=void 0!==t.escape?t.escape:R,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?N(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?N(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?N(t.nestingPrefix):t.nestingPrefixEscaped||N("$t("),this.nestingSuffix=t.nestingSuffix?N(t.nestingSuffix):t.nestingSuffixEscaped||N(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(n,"g")}interpolate(e,t,n,r){let i,o,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}const c=e=>{if(e.indexOf(this.formatSeparator)<0){const i=$(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),o=i.shift().trim(),a=i.join(this.formatSeparator).trim();return this.format($(t,s,o,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...r,...t,interpolationkey:o})};this.resetRegExp();const u=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>l(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?l(this.escape(e)):l(e)}].forEach((t=>{for(a=0;i=t.regex.exec(e);){const n=i[1].trim();if(o=c(n),void 0===o)if("function"==typeof u){const t=u(e,i,r);o="string"==typeof t?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(d){o=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else"string"==typeof o||this.useRawValueToEscape||(o=T(o));const s=t.safeValue(o);if(e=e.replace(i[0],s),d?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function a(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let o=`{${r[1]}`;e=r[0],o=this.interpolate(o,i);const a=o.match(/'/g),s=o.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${o}`}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let s=[];i={...o},i=i.replace&&"string"!=typeof i.replace?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,l=!0}if(r=t(a.call(this,n[1].trim(),i),i),r&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=T(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l&&(r=s.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}function Q(e){const t={};return function(n,r,i){const o=r+JSON.stringify(i);let a=t[o];return a||(a=e(D(r),i),t[o]=a),a(n)}}class J{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=C.create("formatter"),this.options=e,this.formats={number:Q(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:Q(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:Q(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:Q(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:Q(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Q(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce(((e,t)=>{const{formatName:i,formatOptions:o}=function(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(!e)return;const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=i),"false"===i&&(n[t.trim()]=!1),"true"===i&&(n[t.trim()]=!0),isNaN(i)||(n[t.trim()]=parseInt(i,10))}))}return{formatName:t,formatOptions:n}}(t);if(this.formats[i]){let t=e;try{const a=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},s=a.locale||a.lng||r.locale||r.lng||n;t=this.formats[i](e,s,{...o,...r,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e)}}class X extends E{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=C.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const i={},o={},a={},s={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===o[a]&&(o[a]=!0):(this.state[a]=1,r=!1,void 0===o[a]&&(o[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===s[t]&&(s[t]=!0)))})),r||(a[e]=!0)})),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;const a={};this.queue.forEach((n=>{!function(e,t,n,r){const{obj:i,k:o}=k(e,t,Object);i[o]=i[o]||[],i[o].push(n)}(n.loaded,[i],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:o});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*i,o)}),i):o(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(e){a(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...o,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;i=5===l.length?l(e,t,n,r,s):l(e,t,n,r),i&&"function"==typeof i.then?i.then((e=>a(null,e))).catch(a):a(null,i)}catch(e){a(e)}else l(e,t,n,r,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}function ee(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:(e,t,n,r)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function te(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ne(){}class re extends E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=te(e),this.services={},this.logger=C,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=ee();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options={...r,...this.options,...te(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?C.init(i(this.modules.logger),this.options):C.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=J);const n=new B(this.options);this.store=new j(this.options.resources,this.options);const o=this.services;o.logger=C,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new K(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new Y(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new X(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new U(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=ne),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=I(),a=()=>{const e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;const n="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};n?r(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e))),this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=I();return e||(e=this.languages),t||(t=this.options.ns),n||(n=ne),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&F.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=I();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let o;if("object"!=typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else o={...t};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,o.keyPrefix=o.keyPrefix||n||i.keyPrefix;const c=r.options.keySeparator||".";let u;return u=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${c}${e}`)):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,r.t(u,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!(!this.hasResourceBundle(n,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!o(n,e)||r&&!o(i,e)))}loadNamespaces(e,t){const n=I();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=I();"string"==typeof e&&(e=[e]);const r=this.options.preload||[],i=e.filter((e=>r.indexOf(e)<0));return i.length?(this.options.preload=r.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new B(ee());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new re(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new re(r);return void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e)),["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new j(this.store.data,r),i.services.resourceStore=i.store),i.translator=new U(i.services,r),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)})),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ie=re.createInstance();function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i),"symbol"===oe(o)?o:String(o)),r)}var i,o}ie.createInstance=re.createInstance,ie.createInstance,ie.dir,ie.init,ie.loadResources,ie.reloadResources,ie.use,ie.changeLanguage,ie.getFixedT,ie.t,ie.exists,ie.setDefaultNamespace,ie.hasLoadedNamespace,ie.loadNamespaces,ie.loadLanguages;var se=[],le=se.forEach,ce=se.slice,ue=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,de={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=encodeURIComponent(t),o="".concat(e,"=").concat(i);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!ue.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!ue.test(r.path))throw new TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}(e,encodeURIComponent(t),i)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},he={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");o>0&&r[i].substring(0,o)===e.lookupQuerystring&&(t=r[i].substring(o+1))}}return t}},fe=null,pe=function(){if(null!==fe)return fe;try{fe="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){fe=!1}return fe},ge={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&pe()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&pe()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},me=null,ve=function(){if(null!==me)return me;try{me="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){me=!1}return me},ye={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&ve()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&ve()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},_e={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},be={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},we={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},xe={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}},Ce=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}var t,n;return t=e,n=[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=function(e){return le.call(ce.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(e){return e.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(de),this.addDetector(he),this.addDetector(ge),this.addDetector(ye),this.addDetector(_e),this.addDetector(be),this.addDetector(we),this.addDetector(xe)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),n=n.map((function(e){return t.options.convertDetectedLanguage(e)})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}],n&&ae(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ce.type="languageDetector";var Ee=n(93379),Ie=n.n(Ee),Te=n(7795),ke=n.n(Te),Se=n(90569),Ae=n.n(Se),Pe=n(3565),Ne=n.n(Pe),Oe=n(19216),Re=n.n(Oe),Le=n(44589),Me=n.n(Le),De=n(47778),je={};je.styleTagTransform=Me(),je.setAttributes=Ne(),je.insert=Ae().bind(null,"head"),je.domAPI=ke(),je.insertStyleElement=Re(),Ie()(De.Z,je),De.Z&&De.Z.locals&&De.Z.locals;const Fe={async:!0,marker_options:{wptIconUrls:{"":"/marker-icon.png"},startIconUrl:"/marker-icon-start.png",endIconUrl:"/marker-icon-end.png",shadowUrl:"/marker-shadow.png"}};function ze(e){let t;try{t=new o.XMLParser({ignoreAttributes:!1}).parse(e)}catch(e){t={gpx:{wpt:[]}}}return t}function Ue(e){let{data:t}=e,n=[];const i=Math.max(...t),o=Math.min(...t),a=i-o;let s=0;return t.forEach((e=>{const i=(e-o)/a*100,l={width:"".concat(300/t.length,"px"),height:"".concat(i+.1,"%")},c=r.createElement("div",{key:s,style:l,className:"dataPoint"});n.push(c),s++})),r.createElement("div",{key:"graph",className:"graphContainer"},n)}function Ve(e){let{onFileLoaded:t}=e;const{t:n}=b(),i=r.useRef(null),o=r.useRef(null);return r.useEffect((()=>{i.current&&i.current.addEventListener("click",(()=>{o.current&&o.current.click()}),!1),o.current&&o.current.addEventListener("change",(e=>{var n;const r=null===(n=(null==e?void 0:e.target).files)||void 0===n?void 0:n[0],i=new FileReader;i.onload=()=>{var e;t((null===(e=i.result)||void 0===e?void 0:e.toString())||"")},r&&i.readAsText(r)}))}),[]),r.createElement(r.Fragment,null,r.createElement("input",{ref:o,title:"inputFile",type:"file",id:"fileElem",multiple:!0,accept:".gpx",style:{display:"none"}}),r.createElement("button",{ref:i,title:"buttonInputFile",id:"fileSelect",type:"button"},n("gpxupload")))}function Be(e){let{gpx:t,onFileResolved:n}=e;const[o,a,s]=function(e,t){const n=r.useRef(null),[o,a]=r.useState(r.createElement(r.Fragment,null)),{t:s}=b();function l(t){try{let o=ze(t);const l=i=>{var l;const c=function(e){return{lat:Number(e.gpx.trk?e.gpx.trk.trkseg.trkpt[0]["@_lat"]:e.gpx.wpt[0]["@_lat"]),lon:Number(e.gpx.trk?e.gpx.trk.trkseg.trkpt[0]["@_lon"]:e.gpx.wpt[0]["@_lon"])}}(o),u={distance:(d=i.target).get_distance(),time:d.get_total_time(),movingTime:d.get_total_time(),speed:d.get_total_speed(),elevationMin:d.get_elevation_min(),elevationMax:d.get_elevation_max()};var d;null===(l=n.current)||void 0===l||l.fitBounds(i.target.getBounds()),a(function(e){return r.createElement("div",{className:"extraGpxInfoContainer rounded rounded3"},r.createElement("span",{className:"bold"},s("distancia")),r.createElement("span",null,": ".concat((e.distance/1e3).toFixed(3)," m")),r.createElement("br",null),r.createElement("span",{className:"bold"},s("tiempo")),r.createElement("span",null,": ".concat((e.time/1e3/60).toFixed(3)," mins")),r.createElement("br",null),r.createElement("span",{className:"bold"},s("tiempomovimiento")),r.createElement("span",null,": ".concat((e.movingTime/1e3/60).toFixed(3)," mins")),r.createElement("br",null),r.createElement("span",{className:"bold"},s("elevacionmin")),r.createElement("span",null,": ".concat(e.elevationMin.toFixed(3)," m")),r.createElement("br",null),r.createElement("span",{className:"bold"},s("elevacionmax")),r.createElement("span",null,": ".concat(e.elevationMax.toFixed(3)," m")),r.createElement("br",null),r.createElement("span",{className:"bold"},s("velocidad")),r.createElement("span",null,": ".concat(e.speed.toFixed(3)," Km/h")),r.createElement("br",null))}(u)),e&&e(t,c)};new i.GPX(t,Fe).on("loaded",l).addTo(n.current)}catch(t){e&&e("",{lat:0,lon:0},r.createElement(r.Fragment,null))}}return r.useEffect((()=>{n.current=i.map("map").fitWorld(),i.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"}).addTo(n.current)}),[]),r.useEffect((()=>{t&&t.length&&l(t)}),[t]),[l,function(e){const t=ze(e);let n;const r=[];return t&&t.gpx&&(n=t.gpx.trk?t.gpx.trk.trkseg.trkpt:t.gpx.wpt,n.forEach((e=>{r.push(e.ele)}))),r},o]}(n,t),l=a(t||"");return r.createElement("div",{className:"mapContainer"},n&&r.createElement(Ve,{onFileLoaded:o}),r.createElement("div",{id:"map",title:"routeMap",className:"map"}),l.length?r.createElement(Ue,{data:l}):r.createElement(r.Fragment,null),s)}ie.use(Ce).use(m).init({resources:{en:{translation:{gpxupload:"Upload a GPX file",distancia:"Distance",velocidad:"Speed",tiempo:"Time",tiempomovimiento:"Movement time",elevacionmin:"Elevation min",elevacionmax:"Elevation max"}},es:{translation:{gpxupload:"Sube un fichero GPX",distancia:"Distancia",velocidad:"Velocidad",tiempo:"Tiempo",tiempomovimiento:"Tiempo en movimiento",elevacionmin:"Elevación min",elevacionmax:"Elevación max"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}}),function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.map{border:4px solid #142733;border-radius:14px;-webkit-box-shadow:0 10px 20px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.05);box-shadow:0 10px 20px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.05);height:250px;max-width:405px;width:99%}.graphContainer{background-image:-webkit-gradient(linear,left top,left bottom,from(#112031),to(#152d35));background-image:linear-gradient(#112031,#152d35);border-radius:15px 15px 0 0;height:50px;margin:10px auto 0;padding:10px 10px 0;width:300px}.graphContainer div:first-of-type:before{color:#777;content:"elevation";display:block;font-size:.6em;left:-10px;position:relative;top:40px;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.graphContainer .dataPoint{background-color:hsla(64,46%,88%,.8);border-radius:0 0 2px 2px;float:left;left:11px;-webkit-transform:rotate(180deg) translate(-100%,-50px);transform:rotate(180deg) translate(-100%,-50px);-webkit-transform-origin:0 0;transform-origin:0 0;z-index:1000}.graphContainer .bold{font-weight:700}.extraGpxInfoContainer{font-size:.8em;text-align:left}'),i.icon({iconUrl:"/marker-icon-end.png",iconSize:[19,31],iconAnchor:[9,0]});const Ge=i.icon({iconUrl:"/marker-icon.png",iconSize:[19,31],iconAnchor:[10,0],shadowUrl:"/marker-shadow.png",shadowSize:[31,31]}),Ze={color:"#444",fillColor:"#447",fillOpacity:.2,radius:25e3},qe=[[41.29,1.7],[41.79,2.3]];function We(e){let{onMapClick:t,points:n}=e;return function(e,t){const n=r.useRef([]),o=r.useRef(null);function a(e){n.current.forEach(((t,n)=>{(0===n&&e||n>0)&&t.remove()}))}r.useEffect((()=>{const t=i.map("mappicker").fitBounds(qe);return i.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap"}).addTo(t),t.on("click",(t=>{!function(t){var r,s;const l=null===(r=o.current)||void 0===r?void 0:r.getBounds(),c=(null==l?void 0:l.getNorthEast().lat)-(null==l?void 0:l.getSouthWest().lat);a(!0),n.current=[],Ze.radius=50332.5*c;const u=i.circle([t.latlng.lat,t.latlng.lng],Ze).addTo(o.current);n.current.push(u),e(t.latlng,null===(s=o.current)||void 0===s?void 0:s.getBounds())}(t)})),o.current=t,()=>{t.remove()}}),[]),r.useEffect((()=>{!function(){let e={lat:-90,lon:-180},r={lat:90,lon:180};a(!1),t.length>0&&t.forEach((t=>{var a,s;n.current.push(i.marker([t.point.lat,t.point.lon],{icon:Ge}).bindPopup(t.content).openPopup().addTo(o.current)),a=t.point,s=e,a.lat>s.lat&&(s.lat=a.lat),a.lon>s.lon&&(s.lon=a.lon),e=s,r=function(e,t){return e.lat<t.lat&&(t.lat=e.lat),e.lon<t.lon&&(t.lon=e.lon),t}(t.point,r)}))}()}),[t])}(t,n),r.createElement("div",{className:"mapContainer"},r.createElement("div",{id:"mappicker",title:"mapPointPicker",className:"map"}))}},76124:(e,t,n)=>{"use strict";if(n(81934),n(95654),n(7694),n.g._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");function r(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}n.g._babelPolyfill=!0,r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(e){[][e]&&r(Array,e,Function.call.bind([][e]))}))},95654:function(e,t,n){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c=t.regeneratorRuntime;if(c)e.exports=c;else{(c=t.regeneratorRuntime=e.exports).wrap=_;var u="suspendedStart",d="suspendedYield",h="executing",f="completed",p={},g={};g[a]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(P([])));v&&v!==r&&i.call(v,a)&&(g=v);var y=C.prototype=w.prototype=Object.create(g);x.prototype=y.constructor=C,C.constructor=x,C[l]=x.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(y),e},c.awrap=function(e){return{__await:e}},E(I.prototype),I.prototype[s]=function(){return this},c.AsyncIterator=I,c.async=function(e,t,n,r){var i=new I(_(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(y),y[l]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function _(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r=u;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=b(e,t,n);if("normal"===l.type){if(r=n.done?f:d,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function x(){}function C(){}function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function I(e){function n(t,r,o,a){var s=b(e[t],e,r);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):Promise.resolve(c).then((function(e){l.value=e,o(l)}),a)}a(s.arg)}var r;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function i(){return new Promise((function(r,i){n(e,t,r,i)}))}return r=r?r.then(i,i):i()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=b(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:n,done:!0}}}("object"==typeof n.g?n.g:"object"==typeof window?window:"object"==typeof self?self:this)},94184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7694:(e,t,n)=>{n(61761),e.exports=n(25645).RegExp.escape},24963:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},83365:(e,t,n)=>{var r=n(92032);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},17722:(e,t,n)=>{var r=n(86314)("unscopables"),i=Array.prototype;null==i[r]&&n(87728)(i,r,{}),e.exports=function(e){i[r][e]=!0}},76793:(e,t,n)=>{"use strict";var r=n(24496)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},83328:e=>{e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},27007:(e,t,n)=>{var r=n(55286);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},5216:(e,t,n)=>{"use strict";var r=n(20508),i=n(92337),o=n(10875);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),l=i(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:i(c,a))-l,a-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},46852:(e,t,n)=>{"use strict";var r=n(20508),i=n(92337),o=n(10875);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>s;)t[s++]=e;return t}},9490:(e,t,n)=>{var r=n(3531);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},79315:(e,t,n)=>{var r=n(22110),i=n(10875),o=n(92337);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},10050:(e,t,n)=>{var r=n(741),i=n(49797),o=n(20508),a=n(10875),s=n(16886);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d,f=t||s;return function(t,s,p){for(var g,m,v=o(t),y=i(v),_=r(s,p,3),b=a(y.length),w=0,x=n?f(t,b):l?f(t,0):void 0;b>w;w++)if((h||w in y)&&(m=_(g=y[w],w,v),e))if(n)x[w]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:x.push(g)}else if(u)return!1;return d?-1:c||u?u:x}}},37628:(e,t,n)=>{var r=n(24963),i=n(20508),o=n(49797),a=n(10875);e.exports=function(e,t,n,s,l){r(t);var c=i(e),u=o(c),d=a(c.length),h=l?d-1:0,f=l?-1:1;if(n<2)for(;;){if(h in u){s=u[h],h+=f;break}if(h+=f,l?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:d>h;h+=f)h in u&&(s=t(s,u[h],h,c));return s}},42736:(e,t,n)=>{var r=n(55286),i=n(4302),o=n(86314)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},16886:(e,t,n)=>{var r=n(42736);e.exports=function(e,t){return new(r(e))(t)}},34398:(e,t,n)=>{"use strict";var r=n(24963),i=n(55286),o=n(97242),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),l=function(){var r=n.concat(a.call(arguments));return this instanceof l?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(l.prototype=t.prototype),l}},41488:(e,t,n)=>{var r=n(92032),i=n(86314)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},92032:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9824:(e,t,n)=>{"use strict";var r=n(99275).f,i=n(42503),o=n(24408),a=n(741),s=n(83328),l=n(3531),c=n(42923),u=n(15436),d=n(2974),h=n(67057),f=n(84728).fastKey,p=n(1616),g=h?"_s":"size",m=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,null!=r&&l(r,n,e[c],e)}));return o(u.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=p(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(p(this,t),e)}}),h&&r(u.prototype,"size",{get:function(){return p(this,t)[g]}}),u},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(t)}}},86132:(e,t,n)=>{var r=n(41488),i=n(9490);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},23657:(e,t,n)=>{"use strict";var r=n(24408),i=n(84728).getWeak,o=n(27007),a=n(55286),s=n(83328),l=n(3531),c=n(10050),u=n(79181),d=n(1616),h=c(5),f=c(6),p=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},v=function(e,t){return h(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=r&&l(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?g(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?g(d(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},45795:(e,t,n)=>{"use strict";var r=n(3816),i=n(42985),o=n(77234),a=n(24408),s=n(84728),l=n(3531),c=n(83328),u=n(55286),d=n(74253),h=n(7462),f=n(22943),p=n(40266);e.exports=function(e,t,n,g,m,v){var y=r[e],_=y,b=m?"set":"add",w=_&&_.prototype,x={},C=function(e){var t=w[e];o(w,e,"delete"==e||"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(v||w.forEach&&!d((function(){(new _).entries().next()})))){var E=new _,I=E[b](v?{}:-0,1)!=E,T=d((function(){E.has(1)})),k=h((function(e){new _(e)})),S=!v&&d((function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)}));k||((_=t((function(t,n){c(t,_,e);var r=p(new y,t,_);return null!=n&&l(n,m,r[b],r),r}))).prototype=w,w.constructor=_),(T||S)&&(C("delete"),C("has"),m&&C("get")),(S||I)&&C(b),v&&w.clear&&delete w.clear}else _=g.getConstructor(t,e,m,b),a(_.prototype,n),s.NEED=!0;return f(_,e),x[e]=_,i(i.G+i.W+i.F*(_!=y),x),v||g.setStrong(_,e,m),_}},25645:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},92811:(e,t,n)=>{"use strict";var r=n(99275),i=n(90681);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},741:(e,t,n)=>{var r=n(24963);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},53537:(e,t,n)=>{"use strict";var r=n(74253),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},870:(e,t,n)=>{"use strict";var r=n(27007),i=n(21689),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},91355:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},67057:(e,t,n)=>{e.exports=!n(74253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},62457:(e,t,n)=>{var r=n(55286),i=n(3816).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},74430:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:(e,t,n)=>{var r=n(47184),i=n(64548),o=n(14682);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},42985:(e,t,n)=>{var r=n(3816),i=n(25645),o=n(87728),a=n(77234),s=n(741),l="prototype",c=function(e,t,n){var u,d,h,f,p=e&c.F,g=e&c.G,m=e&c.S,v=e&c.P,y=e&c.B,_=g?r:m?r[t]||(r[t]={}):(r[t]||{})[l],b=g?i:i[t]||(i[t]={}),w=b[l]||(b[l]={});for(u in g&&(n=t),n)h=((d=!p&&_&&void 0!==_[u])?_:n)[u],f=y&&d?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,_&&a(_,u,h,e&c.U),b[u]!=h&&o(b,u,f),v&&w[u]!=h&&(w[u]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},8852:(e,t,n)=>{var r=n(86314)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},74253:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},28082:(e,t,n)=>{"use strict";n(18269);var r=n(77234),i=n(87728),o=n(74253),a=n(91355),s=n(86314),l=n(21165),c=s("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var h=s(e),f=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=f?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!t})):void 0;if(!f||!p||"replace"===e&&!u||"split"===e&&!d){var g=/./[h],m=n(a,h,""[e],(function(e,t,n,r,i){return t.exec===l?f&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,e,v),i(RegExp.prototype,h,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},53218:(e,t,n)=>{"use strict";var r=n(27007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},13325:(e,t,n)=>{"use strict";var r=n(4302),i=n(55286),o=n(10875),a=n(741),s=n(86314)("isConcatSpreadable");e.exports=function e(t,n,l,c,u,d,h,f){for(var p,g,m=u,v=0,y=!!h&&a(h,f,3);v<c;){if(v in l){if(p=y?y(l[v],v,n):l[v],g=!1,i(p)&&(g=void 0!==(g=p[s])?!!g:r(p)),g&&d>0)m=e(t,n,p,o(p.length),m,d-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=p}m++}v++}return m}},3531:(e,t,n)=>{var r=n(741),i=n(28851),o=n(86555),a=n(27007),s=n(10875),l=n(69002),c={},u={},d=e.exports=function(e,t,n,d,h){var f,p,g,m,v=h?function(){return e}:l(e),y=r(n,d,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(f=s(e.length);f>_;_++)if((m=t?y(a(p=e[_])[0],p[1]):y(e[_]))===c||m===u)return m}else for(g=v.call(e);!(p=g.next()).done;)if((m=i(g,y,p.value,t))===c||m===u)return m};d.BREAK=c,d.RETURN=u},40018:(e,t,n)=>{e.exports=n(3825)("native-function-to-string",Function.toString)},3816:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},79181:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},87728:(e,t,n)=>{var r=n(99275),i=n(90681);e.exports=n(67057)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},40639:(e,t,n)=>{var r=n(3816).document;e.exports=r&&r.documentElement},1734:(e,t,n)=>{e.exports=!n(67057)&&!n(74253)((function(){return 7!=Object.defineProperty(n(62457)("div"),"a",{get:function(){return 7}}).a}))},40266:(e,t,n)=>{var r=n(55286),i=n(27375).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},97242:e=>{e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},49797:(e,t,n)=>{var r=n(92032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},86555:(e,t,n)=>{var r=n(87234),i=n(86314)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},4302:(e,t,n)=>{var r=n(92032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},18367:(e,t,n)=>{var r=n(55286),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},55286:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},55364:(e,t,n)=>{var r=n(55286),i=n(92032),o=n(86314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},28851:(e,t,n)=>{var r=n(27007);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},49988:(e,t,n)=>{"use strict";var r=n(42503),i=n(90681),o=n(22943),a={};n(87728)(a,n(86314)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},42923:(e,t,n)=>{"use strict";var r=n(4461),i=n(42985),o=n(77234),a=n(87728),s=n(87234),l=n(49988),c=n(22943),u=n(468),d=n(86314)("iterator"),h=!([].keys&&"next"in[].keys()),f="keys",p="values",g=function(){return this};e.exports=function(e,t,n,m,v,y,_){l(n,t,m);var b,w,x,C=function(e){if(!h&&e in k)return k[e];switch(e){case f:case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",I=v==p,T=!1,k=e.prototype,S=k[d]||k["@@iterator"]||v&&k[v],A=S||C(v),P=v?I?C("entries"):A:void 0,N="Array"==t&&k.entries||S;if(N&&(x=u(N.call(new e)))!==Object.prototype&&x.next&&(c(x,E,!0),r||"function"==typeof x[d]||a(x,d,g)),I&&S&&S.name!==p&&(T=!0,A=function(){return S.call(this)}),r&&!_||!h&&!T&&k[d]||a(k,d,A),s[t]=A,s[E]=g,v)if(b={values:I?A:C(p),keys:y?A:C(f),entries:P},_)for(w in b)w in k||o(k,w,b[w]);else i(i.P+i.F*(h||T),t,b);return b}},7462:(e,t,n)=>{var r=n(86314)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},15436:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},87234:e=>{e.exports={}},4461:e=>{e.exports=!1},13086:e=>{var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},34934:(e,t,n)=>{var r=n(61801),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),l=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<l?c*(i/l/a+1/o-1/o)*l*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},46206:e=>{e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},68757:e=>{e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},61801:e=>{e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},84728:(e,t,n)=>{var r=n(93953)("meta"),i=n(55286),o=n(79181),a=n(99275).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(74253)((function(){return l(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!o(e,r)&&u(e),e}}},50133:(e,t,n)=>{var r=n(88416),i=n(42985),o=n(3825)("metadata"),a=o.store||(o.store=new(n(30147))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o};e.exports={store:a,map:s,has:function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){s(n,r,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},14351:(e,t,n)=>{var r=n(3816),i=n(74193).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(92032)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){i.call(r,c)};else{var d=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},43499:(e,t,n)=>{"use strict";var r=n(24963);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},35345:(e,t,n)=>{"use strict";var r=n(67057),i=n(47184),o=n(64548),a=n(14682),s=n(20508),l=n(49797),c=Object.assign;e.exports=!c||n(74253)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,u=1,d=o.f,h=a.f;c>u;)for(var f,p=l(arguments[u++]),g=d?i(p).concat(d(p)):i(p),m=g.length,v=0;m>v;)f=g[v++],r&&!h.call(p,f)||(n[f]=p[f]);return n}:c},42503:(e,t,n)=>{var r=n(27007),i=n(35588),o=n(74430),a=n(69335)("IE_PROTO"),s=function(){},l="prototype",c=function(){var e,t=n(62457)("iframe"),r=o.length;for(t.style.display="none",n(40639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c[l][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[l]=r(e),n=new s,s[l]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},99275:(e,t,n)=>{var r=n(27007),i=n(1734),o=n(21689),a=Object.defineProperty;t.f=n(67057)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},35588:(e,t,n)=>{var r=n(99275),i=n(27007),o=n(47184);e.exports=n(67057)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},91670:(e,t,n)=>{"use strict";e.exports=n(4461)||!n(74253)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n(3816)[e]}))},18693:(e,t,n)=>{var r=n(14682),i=n(90681),o=n(22110),a=n(21689),s=n(79181),l=n(1734),c=Object.getOwnPropertyDescriptor;t.f=n(67057)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},39327:(e,t,n)=>{var r=n(22110),i=n(20616).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},20616:(e,t,n)=>{var r=n(60189),i=n(74430).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},64548:(e,t)=>{t.f=Object.getOwnPropertySymbols},468:(e,t,n)=>{var r=n(79181),i=n(20508),o=n(69335)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},60189:(e,t,n)=>{var r=n(79181),i=n(22110),o=n(79315)(!1),a=n(69335)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},47184:(e,t,n)=>{var r=n(60189),i=n(74430);e.exports=Object.keys||function(e){return r(e,i)}},14682:(e,t)=>{t.f={}.propertyIsEnumerable},33160:(e,t,n)=>{var r=n(42985),i=n(25645),o=n(74253);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},51131:(e,t,n)=>{var r=n(67057),i=n(47184),o=n(22110),a=n(14682).f;e.exports=function(e){return function(t){for(var n,s=o(t),l=i(s),c=l.length,u=0,d=[];c>u;)n=l[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},57643:(e,t,n)=>{var r=n(20616),i=n(64548),o=n(27007),a=n(3816).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},47743:(e,t,n)=>{var r=n(3816).parseFloat,i=n(29599).trim;e.exports=1/r(n(84644)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},55960:(e,t,n)=>{var r=n(3816).parseInt,i=n(29599).trim,o=n(84644),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},10188:e=>{e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},50094:(e,t,n)=>{var r=n(27007),i=n(55286),o=n(43499);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},90681:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},24408:(e,t,n)=>{var r=n(77234);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},77234:(e,t,n)=>{var r=n(3816),i=n(87728),o=n(79181),a=n(93953)("src"),s=n(40018),l="toString",c=(""+s).split(l);n(25645).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},27787:(e,t,n)=>{"use strict";var r=n(41488),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},21165:(e,t,n)=>{"use strict";var r,i,o=n(53218),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c="lastIndex",u=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[c]||0!==i[c]),d=void 0!==/()??/.exec("")[1];(u||d)&&(l=function(e){var t,n,r,i,l=this;return d&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),u&&(t=l[c]),r=a.call(l,e),u&&r&&(l[c]=l.global?r.index+r[0].length:t),d&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=l},74398:e=>{e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},27195:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},31024:(e,t,n)=>{"use strict";var r=n(42985),i=n(24963),o=n(741),a=n(3531);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,l=arguments[1];return i(this),(t=void 0!==l)&&i(l),null==e?new this:(n=[],t?(r=0,s=o(l,arguments[2],2),a(e,!1,(function(e){n.push(s(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},94881:(e,t,n)=>{"use strict";var r=n(42985);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},27375:(e,t,n)=>{var r=n(55286),i=n(27007),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(741)(Function.call,n(18693).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},2974:(e,t,n)=>{"use strict";var r=n(3816),i=n(99275),o=n(67057),a=n(86314)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},22943:(e,t,n)=>{var r=n(99275).f,i=n(79181),o=n(86314)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},69335:(e,t,n)=>{var r=n(3825)("keys"),i=n(93953);e.exports=function(e){return r[e]||(r[e]=i(e))}},3825:(e,t,n)=>{var r=n(25645),i=n(3816),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},58364:(e,t,n)=>{var r=n(27007),i=n(24963),o=n(86314)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},77717:(e,t,n)=>{"use strict";var r=n(74253);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},24496:(e,t,n)=>{var r=n(81467),i=n(91355);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},42094:(e,t,n)=>{var r=n(55364),i=n(91355);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},29395:(e,t,n)=>{var r=n(42985),i=n(74253),o=n(91355),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},75442:(e,t,n)=>{var r=n(10875),i=n(68595),o=n(91355);e.exports=function(e,t,n,a){var s=String(o(e)),l=s.length,c=void 0===n?" ":String(n),u=r(t);if(u<=l||""==c)return s;var d=u-l,h=i.call(c,Math.ceil(d/c.length));return h.length>d&&(h=h.slice(0,d)),a?h+s:s+h}},68595:(e,t,n)=>{"use strict";var r=n(81467),i=n(91355);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},29599:(e,t,n)=>{var r=n(42985),i=n(91355),o=n(74253),a=n(84644),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),l=i[e]=s?t(d):a[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},d=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},84644:e=>{e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},74193:(e,t,n)=>{var r,i,o,a=n(741),s=n(97242),l=n(40639),c=n(62457),u=n(3816),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,m=0,v={},y="onreadystatechange",_=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){_.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},f=function(e){delete v[e]},"process"==n(92032)(d)?r=function(e){d.nextTick(a(_,e,1))}:g&&g.now?r=function(e){g.now(a(_,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r=y in c("script")?function(e){l.appendChild(c("script"))[y]=function(){l.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),e.exports={set:h,clear:f}},92337:(e,t,n)=>{var r=n(81467),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},94843:(e,t,n)=>{var r=n(81467),i=n(10875);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},81467:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},22110:(e,t,n)=>{var r=n(49797),i=n(91355);e.exports=function(e){return r(i(e))}},10875:(e,t,n)=>{var r=n(81467),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},20508:(e,t,n)=>{var r=n(91355);e.exports=function(e){return Object(r(e))}},21689:(e,t,n)=>{var r=n(55286);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},78440:(e,t,n)=>{"use strict";if(n(67057)){var r=n(4461),i=n(3816),o=n(74253),a=n(42985),s=n(89383),l=n(91125),c=n(741),u=n(83328),d=n(90681),h=n(87728),f=n(24408),p=n(81467),g=n(10875),m=n(94843),v=n(92337),y=n(21689),_=n(79181),b=n(41488),w=n(55286),x=n(20508),C=n(86555),E=n(42503),I=n(468),T=n(20616).f,k=n(69002),S=n(93953),A=n(86314),P=n(10050),N=n(79315),O=n(58364),R=n(56997),L=n(87234),M=n(7462),D=n(2974),j=n(46852),F=n(5216),z=n(99275),U=n(18693),V=z.f,B=U.f,G=i.RangeError,Z=i.TypeError,q=i.Uint8Array,W="ArrayBuffer",H="Shared"+W,K="BYTES_PER_ELEMENT",$="prototype",Y=Array[$],Q=l.ArrayBuffer,J=l.DataView,X=P(0),ee=P(2),te=P(3),ne=P(4),re=P(5),ie=P(6),oe=N(!0),ae=N(!1),se=R.values,le=R.keys,ce=R.entries,ue=Y.lastIndexOf,de=Y.reduce,he=Y.reduceRight,fe=Y.join,pe=Y.sort,ge=Y.slice,me=Y.toString,ve=Y.toLocaleString,ye=A("iterator"),_e=A("toStringTag"),be=S("typed_constructor"),we=S("def_constructor"),xe=s.CONSTR,Ce=s.TYPED,Ee=s.VIEW,Ie="Wrong length!",Te=P(1,(function(e,t){return Ne(O(e,e[we]),t)})),ke=o((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),Se=!!q&&!!q[$].set&&o((function(){new q(1).set({})})),Ae=function(e,t){var n=p(e);if(n<0||n%t)throw G("Wrong offset!");return n},Pe=function(e){if(w(e)&&Ce in e)return e;throw Z(e+" is not a typed array!")},Ne=function(e,t){if(!w(e)||!(be in e))throw Z("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Re(O(e,e[we]),t)},Re=function(e,t){for(var n=0,r=t.length,i=Ne(e,r);r>n;)i[n]=t[n++];return i},Le=function(e,t,n){V(e,t,{get:function(){return this._d[n]}})},Me=function(e){var t,n,r,i,o,a,s=x(e),l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,h=k(s);if(null!=h&&!C(h)){for(a=h.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(d&&l>2&&(u=c(u,arguments[2],2)),t=0,n=g(s.length),i=Ne(this,n);n>t;t++)i[t]=d?u(s[t],t):s[t];return i},De=function(){for(var e=0,t=arguments.length,n=Ne(this,t);t>e;)n[e]=arguments[e++];return n},je=!!q&&o((function(){ve.call(new q(1))})),Fe=function(){return ve.apply(je?ge.call(Pe(this)):Pe(this),arguments)},ze={copyWithin:function(e,t){return F.call(Pe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return j.apply(Pe(this),arguments)},filter:function(e){return Oe(this,ee(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return re(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ie(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return fe.apply(Pe(this),arguments)},lastIndexOf:function(e){return ue.apply(Pe(this),arguments)},map:function(e){return Te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return de.apply(Pe(this),arguments)},reduceRight:function(e){return he.apply(Pe(this),arguments)},reverse:function(){for(var e,t=this,n=Pe(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(Pe(this),e)},subarray:function(e,t){var n=Pe(this),r=n.length,i=v(e,r);return new(O(n,n[we]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===t?r:v(t,r))-i))}},Ue=function(e,t){return Oe(this,ge.call(Pe(this),e,t))},Ve=function(e){Pe(this);var t=Ae(arguments[1],1),n=this.length,r=x(e),i=g(r.length),o=0;if(i+t>n)throw G(Ie);for(;o<i;)this[t+o]=r[o++]},Be={entries:function(){return ce.call(Pe(this))},keys:function(){return le.call(Pe(this))},values:function(){return se.call(Pe(this))}},Ge=function(e,t){return w(e)&&e[Ce]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ze=function(e,t){return Ge(e,t=y(t,!0))?d(2,e[t]):B(e,t)},qe=function(e,t,n){return!(Ge(e,t=y(t,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?V(e,t,n):(e[t]=n.value,e)};xe||(U.f=Ze,z.f=qe),a(a.S+a.F*!xe,"Object",{getOwnPropertyDescriptor:Ze,defineProperty:qe}),o((function(){me.call({})}))&&(me=ve=function(){return fe.call(this)});var We=f({},ze);f(We,Be),h(We,ye,Be.values),f(We,{slice:Ue,set:Ve,constructor:function(){},toString:me,toLocaleString:Fe}),Le(We,"buffer","b"),Le(We,"byteOffset","o"),Le(We,"byteLength","l"),Le(We,"length","e"),V(We,_e,{get:function(){return this[Ce]}}),e.exports=function(e,t,n,l){var c=e+((l=!!l)?"Clamped":"")+"Array",d="get"+e,f="set"+e,p=i[c],v=p||{},y=p&&I(p),_=!p||!s.ABV,x={},C=p&&p[$],k=function(e,n){V(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,ke)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[f](n*t+i.o,r,ke)}(this,n,e)},enumerable:!0})};_?(p=n((function(e,n,r,i){u(e,p,c,"_d");var o,a,s,l,d=0,f=0;if(w(n)){if(!(n instanceof Q||(l=b(n))==W||l==H))return Ce in n?Re(p,n):Me.call(p,n);o=n,f=Ae(r,t);var v=n.byteLength;if(void 0===i){if(v%t)throw G(Ie);if((a=v-f)<0)throw G(Ie)}else if((a=g(i)*t)+f>v)throw G(Ie);s=a/t}else s=m(n),o=new Q(a=s*t);for(h(e,"_d",{b:o,o:f,l:a,e:s,v:new J(o)});d<s;)k(e,d++)})),C=p[$]=E(We),h(C,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&M((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,r,i){var o;return u(e,p,c),w(n)?n instanceof Q||(o=b(n))==W||o==H?void 0!==i?new v(n,Ae(r,t),i):void 0!==r?new v(n,Ae(r,t)):new v(n):Ce in n?Re(p,n):Me.call(p,n):new v(m(n))})),X(y!==Function.prototype?T(v).concat(T(y)):T(v),(function(e){e in p||h(p,e,v[e])})),p[$]=C,r||(C.constructor=p));var S=C[ye],A=!!S&&("values"==S.name||null==S.name),P=Be.values;h(p,be,!0),h(C,Ce,c),h(C,Ee,!0),h(C,we,p),(l?new p(1)[_e]==c:_e in C)||V(C,_e,{get:function(){return c}}),x[c]=p,a(a.G+a.W+a.F*(p!=v),x),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){v.of.call(p,1)})),c,{from:Me,of:De}),K in C||h(C,K,t),a(a.P,c,ze),D(c),a(a.P+a.F*Se,c,{set:Ve}),a(a.P+a.F*!A,c,Be),r||C.toString==me||(C.toString=me),a(a.P+a.F*o((function(){new p(1).slice()})),c,{slice:Ue}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){C.toLocaleString.call([1,2])}))),c,{toLocaleString:Fe}),L[c]=A?S:P,r||A||h(C,ye,P)}}else e.exports=function(){}},91125:(e,t,n)=>{"use strict";var r=n(3816),i=n(67057),o=n(4461),a=n(89383),s=n(87728),l=n(24408),c=n(74253),u=n(83328),d=n(81467),h=n(10875),f=n(94843),p=n(20616).f,g=n(99275).f,m=n(46852),v=n(22943),y="ArrayBuffer",_="DataView",b="prototype",w="Wrong index!",x=r[y],C=r[_],E=r.Math,I=r.RangeError,T=r.Infinity,k=x,S=E.abs,A=E.pow,P=E.floor,N=E.log,O=E.LN2,R="buffer",L="byteLength",M="byteOffset",D=i?"_b":R,j=i?"_l":L,F=i?"_o":M;function z(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?A(2,-24)-A(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for((e=S(e))!=e||e===T?(i=e!=e?1:0,r=l):(r=P(N(e)/O),e*(o=A(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?u/o:u*A(2,1-c))*o>=2&&(r++,o/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(e*o-1)*A(2,t),r+=c):(i=e*A(2,c-1)*A(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*h,a}function U(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return r?NaN:c?-T:T;r+=A(2,t),u-=a}return(c?-1:1)*r*A(2,u-t)}function V(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function B(e){return[255&e]}function G(e){return[255&e,e>>8&255]}function Z(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function q(e){return z(e,52,8)}function W(e){return z(e,23,4)}function H(e,t,n){g(e[b],t,{get:function(){return this[n]}})}function K(e,t,n,r){var i=f(+n);if(i+t>e[j])throw I(w);var o=e[D]._b,a=i+e[F],s=o.slice(a,a+t);return r?s:s.reverse()}function $(e,t,n,r,i,o){var a=f(+n);if(a+t>e[j])throw I(w);for(var s=e[D]._b,l=a+e[F],c=r(+i),u=0;u<t;u++)s[l+u]=c[o?u:t-u-1]}if(a.ABV){if(!c((function(){x(1)}))||!c((function(){new x(-1)}))||c((function(){return new x,new x(1.5),new x(NaN),x.name!=y}))){for(var Y,Q=(x=function(e){return u(this,x),new k(f(e))})[b]=k[b],J=p(k),X=0;J.length>X;)(Y=J[X++])in x||s(x,Y,k[Y]);o||(Q.constructor=x)}var ee=new C(new x(2)),te=C[b].setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||l(C[b],{setInt8:function(e,t){te.call(this,e,t<<24>>24)},setUint8:function(e,t){te.call(this,e,t<<24>>24)}},!0)}else x=function(e){u(this,x,y);var t=f(e);this._b=m.call(new Array(t),0),this[j]=t},C=function(e,t,n){u(this,C,_),u(e,x,_);var r=e[j],i=d(t);if(i<0||i>r)throw I("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw I("Wrong length!");this[D]=e,this[F]=i,this[j]=n},i&&(H(x,L,"_l"),H(C,R,"_b"),H(C,L,"_l"),H(C,M,"_o")),l(C[b],{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return V(K(this,4,e,arguments[1]))},getUint32:function(e){return V(K(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return U(K(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return U(K(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){$(this,1,e,B,t)},setUint8:function(e,t){$(this,1,e,B,t)},setInt16:function(e,t){$(this,2,e,G,t,arguments[2])},setUint16:function(e,t){$(this,2,e,G,t,arguments[2])},setInt32:function(e,t){$(this,4,e,Z,t,arguments[2])},setUint32:function(e,t){$(this,4,e,Z,t,arguments[2])},setFloat32:function(e,t){$(this,4,e,W,t,arguments[2])},setFloat64:function(e,t){$(this,8,e,q,t,arguments[2])}});v(x,y),v(C,_),s(C[b],a.VIEW,!0),t[y]=x,t[_]=C},89383:(e,t,n)=>{for(var r,i=n(3816),o=n(87728),a=n(93953),s=a("typed_array"),l=a("view"),c=!(!i.ArrayBuffer||!i.DataView),u=c,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[h[d++]])?(o(r.prototype,s,!0),o(r.prototype,l,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},93953:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},30575:(e,t,n)=>{var r=n(3816).navigator;e.exports=r&&r.userAgent||""},1616:(e,t,n)=>{var r=n(55286);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},36074:(e,t,n)=>{var r=n(3816),i=n(25645),o=n(4461),a=n(28787),s=n(99275).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},28787:(e,t,n)=>{t.f=n(86314)},86314:(e,t,n)=>{var r=n(3825)("wks"),i=n(93953),o=n(3816).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},69002:(e,t,n)=>{var r=n(41488),i=n(86314)("iterator"),o=n(87234);e.exports=n(25645).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},61761:(e,t,n)=>{var r=n(42985),i=n(74398)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},32e3:(e,t,n)=>{var r=n(42985);r(r.P,"Array",{copyWithin:n(5216)}),n(17722)("copyWithin")},15745:(e,t,n)=>{"use strict";var r=n(42985),i=n(10050)(4);r(r.P+r.F*!n(77717)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},48977:(e,t,n)=>{var r=n(42985);r(r.P,"Array",{fill:n(46852)}),n(17722)("fill")},98837:(e,t,n)=>{"use strict";var r=n(42985),i=n(10050)(2);r(r.P+r.F*!n(77717)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},94899:(e,t,n)=>{"use strict";var r=n(42985),i=n(10050)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(17722)(o)},52310:(e,t,n)=>{"use strict";var r=n(42985),i=n(10050)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(17722)(o)},24336:(e,t,n)=>{"use strict";var r=n(42985),i=n(10050)(0),o=n(77717)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},30522:(e,t,n)=>{"use strict";var r=n(741),i=n(42985),o=n(20508),a=n(28851),s=n(86555),l=n(10875),c=n(92811),u=n(69002);i(i.S+i.F*!n(7462)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,d,h=o(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(h);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(t=l(h.length));t>v;v++)c(n,v,m?g(h[v],v):h[v]);else for(d=y.call(h),n=new f;!(i=d.next()).done;v++)c(n,v,m?a(d,g,[i.value,v],!0):i.value);return n.length=v,n}})},23369:(e,t,n)=>{"use strict";var r=n(42985),i=n(79315)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(77717)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},20774:(e,t,n)=>{var r=n(42985);r(r.S,"Array",{isArray:n(4302)})},56997:(e,t,n)=>{"use strict";var r=n(17722),i=n(15436),o=n(87234),a=n(22110);e.exports=n(42923)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},87842:(e,t,n)=>{"use strict";var r=n(42985),i=n(22110),o=[].join;r(r.P+r.F*(n(49797)!=Object||!n(77717)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},99564:(e,t,n)=>{"use strict";var r=n(42985),i=n(22110),o=n(81467),a=n(10875),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(77717)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},19371:(e,t,n)=>{"use strict";var r=n(42985),i=n(10050)(1);r(r.P+r.F*!n(77717)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},58295:(e,t,n)=>{"use strict";var r=n(42985),i=n(92811);r(r.S+r.F*n(74253)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},3750:(e,t,n)=>{"use strict";var r=n(42985),i=n(37628);r(r.P+r.F*!n(77717)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},33057:(e,t,n)=>{"use strict";var r=n(42985),i=n(37628);r(r.P+r.F*!n(77717)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},50110:(e,t,n)=>{"use strict";var r=n(42985),i=n(40639),o=n(92032),a=n(92337),s=n(10875),l=[].slice;r(r.P+r.F*n(74253)((function(){i&&l.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return l.call(this,e,t);for(var i=a(e,n),c=a(t,n),u=s(c-i),d=new Array(u),h=0;h<u;h++)d[h]="String"==r?this.charAt(i+h):this[i+h];return d}})},26773:(e,t,n)=>{"use strict";var r=n(42985),i=n(10050)(3);r(r.P+r.F*!n(77717)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},20075:(e,t,n)=>{"use strict";var r=n(42985),i=n(24963),o=n(20508),a=n(74253),s=[].sort,l=[1,2,3];r(r.P+r.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n(77717)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},31842:(e,t,n)=>{n(2974)("Array")},81822:(e,t,n)=>{var r=n(42985);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},91031:(e,t,n)=>{var r=n(42985),i=n(53537);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},19977:(e,t,n)=>{"use strict";var r=n(42985),i=n(20508),o=n(21689);r(r.P+r.F*n(74253)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},41560:(e,t,n)=>{var r=n(86314)("toPrimitive"),i=Date.prototype;r in i||n(87728)(i,r,n(870))},46331:(e,t,n)=>{var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(77234)(r,o,(function(){var e=s.call(this);return e==e?a.call(this):i}))},39730:(e,t,n)=>{var r=n(42985);r(r.P,"Function",{bind:n(34398)})},48377:(e,t,n)=>{"use strict";var r=n(55286),i=n(468),o=n(86314)("hasInstance"),a=Function.prototype;o in a||n(99275).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},6059:(e,t,n)=>{var r=n(99275).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(67057)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},88416:(e,t,n)=>{"use strict";var r=n(9824),i=n(1616),o="Map";e.exports=n(45795)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},76503:(e,t,n)=>{var r=n(42985),i=n(46206),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},66786:(e,t,n)=>{var r=n(42985),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},50932:(e,t,n)=>{var r=n(42985),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},57526:(e,t,n)=>{var r=n(42985),i=n(61801);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},21591:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},9073:(e,t,n)=>{var r=n(42985),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},80347:(e,t,n)=>{var r=n(42985),i=n(13086);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},30579:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{fround:n(34934)})},4669:(e,t,n)=>{var r=n(42985),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,l=0;a<s;)l<(n=i(arguments[a++]))?(o=o*(r=l/n)*r+1,l=n):o+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(o)}})},67710:(e,t,n)=>{var r=n(42985),i=Math.imul;r(r.S+r.F*n(74253)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},45789:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},33514:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{log1p:n(46206)})},99978:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},58472:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{sign:n(61801)})},86946:(e,t,n)=>{var r=n(42985),i=n(13086),o=Math.exp;r(r.S+r.F*n(74253)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},35068:(e,t,n)=>{var r=n(42985),i=n(13086),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},413:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},11246:(e,t,n)=>{"use strict";var r=n(3816),i=n(79181),o=n(92032),a=n(40266),s=n(21689),l=n(74253),c=n(20616).f,u=n(18693).f,d=n(99275).f,h=n(29599).trim,f="Number",p=r[f],g=p,m=p.prototype,v=o(n(42503)(m))==f,y="trim"in String.prototype,_=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=y?t.trim():h(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,l=t.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>i)return NaN;return parseInt(l,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?l((function(){m.valueOf.call(n)})):o(n)!=f)?a(new g(_(t)),n,p):_(t)};for(var b,w=n(67057)?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(g,b=w[x])&&!i(p,b)&&d(p,b,u(g,b));p.prototype=m,m.constructor=p,n(77234)(r,f,p)}},75972:(e,t,n)=>{var r=n(42985);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},53403:(e,t,n)=>{var r=n(42985),i=n(3816).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},92516:(e,t,n)=>{var r=n(42985);r(r.S,"Number",{isInteger:n(18367)})},49371:(e,t,n)=>{var r=n(42985);r(r.S,"Number",{isNaN:function(e){return e!=e}})},86479:(e,t,n)=>{var r=n(42985),i=n(18367),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},91736:(e,t,n)=>{var r=n(42985);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},51889:(e,t,n)=>{var r=n(42985);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},65177:(e,t,n)=>{var r=n(42985),i=n(47743);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},81246:(e,t,n)=>{var r=n(42985),i=n(55960);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},30726:(e,t,n)=>{"use strict";var r=n(42985),i=n(81467),o=n(83365),a=n(68595),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d="0",h=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=l(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=l(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call(d,7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(74253)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,l=o(this,u),c=i(e),m="",v=d;if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*g(2,69,1))-69,n=t<0?l*g(2,-t,1):l/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(h(0,n),r=c;r>=7;)h(1e7,0),r-=7;for(h(g(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),v=p()}else h(0,n),h(1<<-t,0),v=p()+a.call(d,c);return c>0?m+((s=v.length)<=c?"0."+a.call(d,c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):m+v}})},1901:(e,t,n)=>{"use strict";var r=n(42985),i=n(74253),o=n(83365),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},75115:(e,t,n)=>{var r=n(42985);r(r.S+r.F,"Object",{assign:n(35345)})},68132:(e,t,n)=>{var r=n(42985);r(r.S,"Object",{create:n(42503)})},37470:(e,t,n)=>{var r=n(42985);r(r.S+r.F*!n(67057),"Object",{defineProperties:n(35588)})},48388:(e,t,n)=>{var r=n(42985);r(r.S+r.F*!n(67057),"Object",{defineProperty:n(99275).f})},89375:(e,t,n)=>{var r=n(55286),i=n(84728).onFreeze;n(33160)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},94882:(e,t,n)=>{var r=n(22110),i=n(18693).f;n(33160)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},79622:(e,t,n)=>{n(33160)("getOwnPropertyNames",(function(){return n(39327).f}))},41520:(e,t,n)=>{var r=n(20508),i=n(468);n(33160)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},49892:(e,t,n)=>{var r=n(55286);n(33160)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},64157:(e,t,n)=>{var r=n(55286);n(33160)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},35095:(e,t,n)=>{var r=n(55286);n(33160)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},99176:(e,t,n)=>{var r=n(42985);r(r.S,"Object",{is:n(27195)})},27476:(e,t,n)=>{var r=n(20508),i=n(47184);n(33160)("keys",(function(){return function(e){return i(r(e))}}))},84672:(e,t,n)=>{var r=n(55286),i=n(84728).onFreeze;n(33160)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},43533:(e,t,n)=>{var r=n(55286),i=n(84728).onFreeze;n(33160)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},68838:(e,t,n)=>{var r=n(42985);r(r.S,"Object",{setPrototypeOf:n(27375).set})},96253:(e,t,n)=>{"use strict";var r=n(41488),i={};i[n(86314)("toStringTag")]="z",i+""!="[object z]"&&n(77234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},64299:(e,t,n)=>{var r=n(42985),i=n(47743);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},71084:(e,t,n)=>{var r=n(42985),i=n(55960);r(r.G+r.F*(parseInt!=i),{parseInt:i})},40851:(e,t,n)=>{"use strict";var r,i,o,a,s=n(4461),l=n(3816),c=n(741),u=n(41488),d=n(42985),h=n(55286),f=n(24963),p=n(83328),g=n(3531),m=n(58364),v=n(74193).set,y=n(14351)(),_=n(43499),b=n(10188),w=n(30575),x=n(50094),C="Promise",E=l.TypeError,I=l.process,T=I&&I.versions,k=T&&T.v8||"",S=l[C],A="process"==u(I),P=function(){},N=i=_.f,O=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(86314)("species")]=function(e){e(P,P)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==k.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(i||(2==e._h&&j(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?c(E("Promise-chain cycle")):(o=R(n))?o.call(n,l,c):l(n)):c(r)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&M(e)}))}},M=function(e){v.call(l,(function(){var t,n,r,i=e._v,o=D(e);if(o&&(t=b((function(){A?I.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=A||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){v.call(l,(function(){var t;A?I.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},z=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=R(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(z,r,1),c(F,r,1))}catch(e){F.call(r,e)}})):(n._v=e,n._s=1,L(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}};O||(S=function(e){p(this,S,C,"_h"),f(e),r.call(this);try{e(c(z,this,1),c(F,this,1))}catch(e){F.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(24408)(S.prototype,{then:function(e,t){var n=N(m(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(z,e,1),this.reject=c(F,e,1)},_.f=N=function(e){return e===S||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!O,{Promise:S}),n(22943)(S,C),n(2974)(C),a=n(25645)[C],d(d.S+d.F*!O,C,{reject:function(e){var t=N(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!O),C,{resolve:function(e){return x(s&&this===a?S:this,e)}}),d(d.S+d.F*!(O&&n(7462)((function(e){S.all(e).catch(P)}))),C,{all:function(e){var t=this,n=N(t),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,a=1;g(e,!1,(function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=N(t),r=n.reject,i=b((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},21572:(e,t,n)=>{var r=n(42985),i=n(24963),o=n(27007),a=(n(3816).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(74253)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),l=o(n);return a?a(r,t,l):s.call(r,t,l)}})},82139:(e,t,n)=>{var r=n(42985),i=n(42503),o=n(24963),a=n(27007),s=n(55286),l=n(74253),c=n(34398),u=(n(3816).Reflect||{}).construct,d=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),h=!l((function(){u((function(){}))}));r(r.S+r.F*(d||h),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var l=n.prototype,f=i(s(l)?l:Object.prototype),p=Function.apply.call(e,f,t);return s(p)?p:f}})},10685:(e,t,n)=>{var r=n(99275),i=n(42985),o=n(27007),a=n(21689);i(i.S+i.F*n(74253)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},85535:(e,t,n)=>{var r=n(42985),i=n(18693).f,o=n(27007);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},17347:(e,t,n)=>{"use strict";var r=n(42985),i=n(27007),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(49988)(o,"Object",(function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},96633:(e,t,n)=>{var r=n(18693),i=n(42985),o=n(27007);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},68989:(e,t,n)=>{var r=n(42985),i=n(468),o=n(27007);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},83049:(e,t,n)=>{var r=n(18693),i=n(468),o=n(79181),a=n(42985),s=n(55286),l=n(27007);a(a.S,"Reflect",{get:function e(t,n){var a,c,u=arguments.length<3?t:arguments[2];return l(t)===u?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=i(t))?e(c,n,u):void 0}})},78270:(e,t,n)=>{var r=n(42985);r(r.S,"Reflect",{has:function(e,t){return t in e}})},64510:(e,t,n)=>{var r=n(42985),i=n(27007),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},73984:(e,t,n)=>{var r=n(42985);r(r.S,"Reflect",{ownKeys:n(57643)})},75769:(e,t,n)=>{var r=n(42985),i=n(27007),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},96014:(e,t,n)=>{var r=n(42985),i=n(27375);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},50055:(e,t,n)=>{var r=n(99275),i=n(18693),o=n(468),a=n(79181),s=n(42985),l=n(90681),c=n(27007),u=n(55286);s(s.S,"Reflect",{set:function e(t,n,s){var d,h,f=arguments.length<4?t:arguments[3],p=i.f(c(t),n);if(!p){if(u(h=o(t)))return e(h,n,s,f);p=l(0)}if(a(p,"value")){if(!1===p.writable||!u(f))return!1;if(d=i.f(f,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(f,n,d)}else r.f(f,n,l(0,s));return!0}return void 0!==p.set&&(p.set.call(f,s),!0)}})},83946:(e,t,n)=>{var r=n(3816),i=n(40266),o=n(99275).f,a=n(20616).f,s=n(55364),l=n(53218),c=r.RegExp,u=c,d=c.prototype,h=/a/g,f=/a/g,p=new c(h)!==h;if(n(67057)&&(!p||n(74253)((function(){return f[n(86314)("match")]=!1,c(h)!=h||c(f)==f||"/a/i"!=c(h,"i")})))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(p?new u(r&&!o?e.source:e,t):u((r=e instanceof c)?e.source:e,r&&o?l.call(e):t),n?this:d,c)};for(var g=function(e){e in c||o(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=a(u),v=0;m.length>v;)g(m[v++]);d.constructor=c,c.prototype=d,n(77234)(r,"RegExp",c)}n(2974)("RegExp")},18269:(e,t,n)=>{"use strict";var r=n(21165);n(42985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},76774:(e,t,n)=>{n(67057)&&"g"!=/./g.flags&&n(99275).f(RegExp.prototype,"flags",{configurable:!0,get:n(53218)})},21466:(e,t,n)=>{"use strict";var r=n(27007),i=n(10875),o=n(76793),a=n(27787);n(28082)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var l=r(e),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var d,h=[],f=0;null!==(d=a(l,c));){var p=String(d[0]);h[f]=p,""===p&&(l.lastIndex=o(c,i(l.lastIndex),u)),f++}return 0===f?null:h}]}))},59357:(e,t,n)=>{"use strict";var r=n(27007),i=n(20508),o=n(10875),a=n(81467),s=n(76793),l=n(27787),c=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(28082)("replace",2,(function(e,t,n,p){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=p(n,e,this,t);if(i.done)return i.value;var d=r(e),h=String(this),f="function"==typeof t;f||(t=String(t));var m=d.global;if(m){var v=d.unicode;d.lastIndex=0}for(var y=[];;){var _=l(d,h);if(null===_)break;if(y.push(_),!m)break;""===String(_[0])&&(d.lastIndex=s(h,o(d.lastIndex),v))}for(var b,w="",x=0,C=0;C<y.length;C++){_=y[C];for(var E=String(_[0]),I=c(u(a(_.index),h.length),0),T=[],k=1;k<_.length;k++)T.push(void 0===(b=_[k])?b:String(b));var S=_.groups;if(f){var A=[E].concat(T,I,h);void 0!==S&&A.push(S);var P=String(t.apply(void 0,A))}else P=g(E,h,I,T,S,t);I>=x&&(w+=h.slice(x,I)+P,x=I+E.length)}return w+h.slice(x)}];function g(e,t,r,o,a,s){var l=r+e.length,c=o.length,u=f;return void 0!==a&&(a=i(a),u=h),n.call(s,u,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>c){var h=d(u/10);return 0===h?n:h<=c?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},76142:(e,t,n)=>{"use strict";var r=n(27007),i=n(27195),o=n(27787);n(28082)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),l=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var u=o(s,l);return i(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},51876:(e,t,n)=>{"use strict";var r=n(55364),i=n(27007),o=n(58364),a=n(76793),s=n(10875),l=n(27787),c=n(21165),u=n(74253),d=Math.min,h=[].push,f="split",p="length",g="lastIndex",m=4294967295,v=!u((function(){RegExp(m,"y")}));n(28082)("split",2,(function(e,t,n,u){var y;return y="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?m:t>>>0,v=new RegExp(e.source,u+"g");(o=c.call(v,i))&&!((a=v[g])>d&&(l.push(i.slice(d,o.index)),o[p]>1&&o.index<i[p]&&h.apply(l,o.slice(1)),s=o[0][p],d=a,l[p]>=f));)v[g]===o.index&&v[g]++;return d===i[p]?!s&&v.test("")||l.push(""):l.push(i.slice(d)),l[p]>f?l.slice(0,f):l}:"0"[f](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(e,t){var r=u(y,e,this,t,y!==n);if(r.done)return r.value;var c=i(e),h=String(this),f=o(c,RegExp),p=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),_=new f(v?c:"^(?:"+c.source+")",g),b=void 0===t?m:t>>>0;if(0===b)return[];if(0===h.length)return null===l(_,h)?[h]:[];for(var w=0,x=0,C=[];x<h.length;){_.lastIndex=v?x:0;var E,I=l(_,v?h:h.slice(x));if(null===I||(E=d(s(_.lastIndex+(v?0:x)),h.length))===w)x=a(h,x,p);else{if(C.push(h.slice(w,x)),C.length===b)return C;for(var T=1;T<=I.length-1;T++)if(C.push(I[T]),C.length===b)return C;x=w=E}}return C.push(h.slice(w)),C}]}))},66108:(e,t,n)=>{"use strict";n(76774);var r=n(27007),i=n(53218),o=n(67057),a="toString",s=/./[a],l=function(e){n(77234)(RegExp.prototype,a,e,!0)};n(74253)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):s.name!=a&&l((function(){return s.call(this)}))},98184:(e,t,n)=>{"use strict";var r=n(9824),i=n(1616);e.exports=n(45795)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},40856:(e,t,n)=>{"use strict";n(29395)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},80703:(e,t,n)=>{"use strict";n(29395)("big",(function(e){return function(){return e(this,"big","","")}}))},91539:(e,t,n)=>{"use strict";n(29395)("blink",(function(e){return function(){return e(this,"blink","","")}}))},5292:(e,t,n)=>{"use strict";n(29395)("bold",(function(e){return function(){return e(this,"b","","")}}))},29539:(e,t,n)=>{"use strict";var r=n(42985),i=n(24496)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},96620:(e,t,n)=>{"use strict";var r=n(42985),i=n(10875),o=n(42094),a="endsWith",s=""[a];r(r.P+r.F*n(8852)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),l=void 0===n?r:Math.min(i(n),r),c=String(e);return s?s.call(t,c,l):t.slice(l-c.length,l)===c}})},45177:(e,t,n)=>{"use strict";n(29395)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},73694:(e,t,n)=>{"use strict";n(29395)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},37648:(e,t,n)=>{"use strict";n(29395)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},50191:(e,t,n)=>{var r=n(42985),i=n(92337),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},62850:(e,t,n)=>{"use strict";var r=n(42985),i=n(42094),o="includes";r(r.P+r.F*n(8852)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},27795:(e,t,n)=>{"use strict";n(29395)("italics",(function(e){return function(){return e(this,"i","","")}}))},39115:(e,t,n)=>{"use strict";var r=n(24496)(!0);n(42923)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},4531:(e,t,n)=>{"use strict";n(29395)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},98306:(e,t,n)=>{var r=n(42985),i=n(22110),o=n(10875);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},10823:(e,t,n)=>{var r=n(42985);r(r.P,"String",{repeat:n(68595)})},23605:(e,t,n)=>{"use strict";n(29395)("small",(function(e){return function(){return e(this,"small","","")}}))},17732:(e,t,n)=>{"use strict";var r=n(42985),i=n(10875),o=n(42094),a="startsWith",s=""[a];r(r.P+r.F*n(8852)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},6780:(e,t,n)=>{"use strict";n(29395)("strike",(function(e){return function(){return e(this,"strike","","")}}))},69937:(e,t,n)=>{"use strict";n(29395)("sub",(function(e){return function(){return e(this,"sub","","")}}))},10511:(e,t,n)=>{"use strict";n(29395)("sup",(function(e){return function(){return e(this,"sup","","")}}))},64564:(e,t,n)=>{"use strict";n(29599)("trim",(function(e){return function(){return e(this,3)}}))},95767:(e,t,n)=>{"use strict";var r=n(3816),i=n(79181),o=n(67057),a=n(42985),s=n(77234),l=n(84728).KEY,c=n(74253),u=n(3825),d=n(22943),h=n(93953),f=n(86314),p=n(28787),g=n(36074),m=n(5541),v=n(4302),y=n(27007),_=n(55286),b=n(20508),w=n(22110),x=n(21689),C=n(90681),E=n(42503),I=n(39327),T=n(18693),k=n(64548),S=n(99275),A=n(47184),P=T.f,N=S.f,O=I.f,R=r.Symbol,L=r.JSON,M=L&&L.stringify,D="prototype",j=f("_hidden"),F=f("toPrimitive"),z={}.propertyIsEnumerable,U=u("symbol-registry"),V=u("symbols"),B=u("op-symbols"),G=Object[D],Z="function"==typeof R&&!!k.f,q=r.QObject,W=!q||!q[D]||!q[D].findChild,H=o&&c((function(){return 7!=E(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(G,t);r&&delete G[t],N(e,t,n),r&&e!==G&&N(G,t,r)}:N,K=function(e){var t=V[e]=E(R[D]);return t._k=e,t},$=Z&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Y=function(e,t,n){return e===G&&Y(B,t,n),y(e),t=x(t,!0),y(n),i(V,t)?(n.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),n=E(n,{enumerable:C(0,!1)})):(i(e,j)||N(e,j,C(1,{})),e[j][t]=!0),H(e,t,n)):N(e,t,n)},Q=function(e,t){y(e);for(var n,r=m(t=w(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},J=function(e){var t=z.call(this,e=x(e,!0));return!(this===G&&i(V,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(V,e)||i(this,j)&&this[j][e])||t)},X=function(e,t){if(e=w(e),t=x(t,!0),e!==G||!i(V,t)||i(B,t)){var n=P(e,t);return!n||!i(V,t)||i(e,j)&&e[j][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=O(w(e)),r=[],o=0;n.length>o;)i(V,t=n[o++])||t==j||t==l||r.push(t);return r},te=function(e){for(var t,n=e===G,r=O(n?B:w(e)),o=[],a=0;r.length>a;)!i(V,t=r[a++])||n&&!i(G,t)||o.push(V[t]);return o};Z||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===G&&t.call(B,n),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),H(this,e,C(1,n))};return o&&W&&H(G,e,{configurable:!0,set:t}),K(e)})[D],"toString",(function(){return this._k})),T.f=X,S.f=Y,n(20616).f=I.f=ee,n(14682).f=J,k.f=te,o&&!n(4461)&&s(G,"propertyIsEnumerable",J,!0),p.f=function(e){return K(f(e))}),a(a.G+a.W+a.F*!Z,{Symbol:R});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)f(ne[re++]);for(var ie=A(f.store),oe=0;ie.length>oe;)g(ie[oe++]);a(a.S+a.F*!Z,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=R(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!Z,"Object",{create:function(e,t){return void 0===t?E(e):Q(E(e),t)},defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:X,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=c((function(){k.f(1)}));a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return k.f(b(e))}}),L&&a(a.S+a.F*(!Z||c((function(){var e=R();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(_(t)||void 0!==e)&&!$(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,M.apply(L,r)}}),R[D][F]||n(87728)(R[D],F,R[D].valueOf),d(R,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},30142:(e,t,n)=>{"use strict";var r=n(42985),i=n(89383),o=n(91125),a=n(27007),s=n(92337),l=n(10875),c=n(55286),u=n(3816).ArrayBuffer,d=n(58364),h=o.ArrayBuffer,f=o.DataView,p=i.ABV&&u.isView,g=h.prototype.slice,m=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(u!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,v,{isView:function(e){return p&&p(e)||c(e)&&m in e}}),r(r.P+r.U+r.F*n(74253)((function(){return!new h(2).slice(1,void 0).byteLength})),v,{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,h))(l(i-r)),c=new f(this),u=new f(o),p=0;r<i;)u.setUint8(p++,c.getUint8(r++));return o}}),n(2974)(v)},1786:(e,t,n)=>{var r=n(42985);r(r.G+r.W+r.F*!n(89383).ABV,{DataView:n(91125).DataView})},70162:(e,t,n)=>{n(78440)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},33834:(e,t,n)=>{n(78440)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},74821:(e,t,n)=>{n(78440)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},81303:(e,t,n)=>{n(78440)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},75368:(e,t,n)=>{n(78440)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},79103:(e,t,n)=>{n(78440)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},83318:(e,t,n)=>{n(78440)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},46964:(e,t,n)=>{n(78440)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},62152:(e,t,n)=>{n(78440)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},30147:(e,t,n)=>{"use strict";var r,i=n(3816),o=n(10050)(0),a=n(77234),s=n(84728),l=n(35345),c=n(23657),u=n(55286),d=n(1616),h=n(1616),f=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",g=s.getWeak,m=Object.isExtensible,v=c.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(e){if(u(e)){var t=g(e);return!0===t?v(d(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(d(this,p),e,t)}},b=e.exports=n(45795)(p,y,_,c,!0,!0);h&&f&&(l((r=c.getConstructor(y,p)).prototype,_),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=b.prototype,n=t[e];a(t,e,(function(t,i){if(u(t)&&!m(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},59192:(e,t,n)=>{"use strict";var r=n(23657),i=n(1616),o="WeakSet";n(45795)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},1268:(e,t,n)=>{"use strict";var r=n(42985),i=n(13325),o=n(20508),a=n(10875),s=n(24963),l=n(16886);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=l(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(17722)("flatMap")},94692:(e,t,n)=>{"use strict";var r=n(42985),i=n(13325),o=n(20508),a=n(10875),s=n(81467),l=n(16886);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=l(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(17722)("flatten")},62773:(e,t,n)=>{"use strict";var r=n(42985),i=n(79315)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(17722)("includes")},18267:(e,t,n)=>{var r=n(42985),i=n(14351)(),o=n(3816).process,a="process"==n(92032)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},22559:(e,t,n)=>{var r=n(42985),i=n(92032);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},95575:(e,t,n)=>{var r=n(42985);r(r.G,{global:n(3816)})},60525:(e,t,n)=>{n(31024)("Map")},98211:(e,t,n)=>{n(94881)("Map")},97698:(e,t,n)=>{var r=n(42985);r(r.P+r.R,"Map",{toJSON:n(86132)("Map")})},98865:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},60368:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},26427:(e,t,n)=>{var r=n(42985),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},30286:(e,t,n)=>{var r=n(42985),i=n(68757),o=n(34934);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},52816:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},22082:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,l=i>>16,c=(s*a>>>0)+(o*a>>>16);return s*l+(c>>16)+((o*l>>>0)+(c&n)>>16)}})},35986:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},76308:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},89221:(e,t,n)=>{var r=n(42985),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},83570:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{scale:n(68757)})},3776:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},37787:(e,t,n)=>{var r=n(42985);r(r.S,"Math",{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,l=i>>>16,c=(s*a>>>0)+(o*a>>>16);return s*l+(c>>>16)+((o*l>>>0)+(c&n)>>>16)}})},48646:(e,t,n)=>{"use strict";var r=n(42985),i=n(20508),o=n(24963),a=n(99275);n(67057)&&r(r.P+n(91670),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},22658:(e,t,n)=>{"use strict";var r=n(42985),i=n(20508),o=n(24963),a=n(99275);n(67057)&&r(r.P+n(91670),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},83276:(e,t,n)=>{var r=n(42985),i=n(51131)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},98351:(e,t,n)=>{var r=n(42985),i=n(57643),o=n(22110),a=n(18693),s=n(92811);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),l=a.f,c=i(r),u={},d=0;c.length>d;)void 0!==(n=l(r,t=c[d++]))&&s(u,t,n);return u}})},16917:(e,t,n)=>{"use strict";var r=n(42985),i=n(20508),o=n(21689),a=n(468),s=n(18693).f;n(67057)&&r(r.P+n(91670),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},30372:(e,t,n)=>{"use strict";var r=n(42985),i=n(20508),o=n(21689),a=n(468),s=n(18693).f;n(67057)&&r(r.P+n(91670),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},96409:(e,t,n)=>{var r=n(42985),i=n(51131)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},86534:(e,t,n)=>{"use strict";var r=n(42985),i=n(3816),o=n(25645),a=n(14351)(),s=n(86314)("observable"),l=n(24963),c=n(27007),u=n(83328),d=n(24408),h=n(87728),f=n(3531),p=f.RETURN,g=function(e){return null==e?void 0:l(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},y=function(e){v(e)||(e._o=void 0,m(e))},_=function(e,t){c(e),this._c=void 0,this._o=e,e=new b(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:l(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&m(this)};_.prototype=d({},{unsubscribe:function(){y(this)}});var b=function(e){this._s=e};b.prototype=d({},{next:function(e){var t=this._s;if(!v(t)){var n=t._o;try{var r=g(n.next);if(r)return r.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var r=g(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var r=g(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var w=function(e){u(this,w,"Observable","_f")._f=l(e)};d(w.prototype,{subscribe:function(e){return new _(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)((function(n,r){l(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})}))}}),d(w,{from:function(e){var t="function"==typeof this?this:w,n=g(c(e)[s]);if(n){var r=c(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}return new t((function(t){var n=!1;return a((function(){if(!n){try{if(f(e,!1,(function(e){if(t.next(e),n)return p}))===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}})),function(){n=!0}}))},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:w)((function(e){var t=!1;return a((function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}})),function(){t=!0}}))}}),h(w.prototype,s,(function(){return this})),r(r.G,{Observable:w}),n(2974)("Observable")},9865:(e,t,n)=>{"use strict";var r=n(42985),i=n(25645),o=n(3816),a=n(58364),s=n(50094);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},31898:(e,t,n)=>{"use strict";var r=n(42985),i=n(43499),o=n(10188);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},53364:(e,t,n)=>{var r=n(50133),i=n(27007),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},51432:(e,t,n)=>{var r=n(50133),i=n(27007),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var l=s.get(t);return l.delete(n),!!l.size||s.delete(t)}})},84416:(e,t,n)=>{var r=n(98184),i=n(9490),o=n(50133),a=n(27007),s=n(468),l=o.keys,c=o.key,u=function(e,t){var n=l(e,t),o=s(e);if(null===o)return n;var a=u(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return u(a(e),arguments.length<2?void 0:c(arguments[1]))}})},26562:(e,t,n)=>{var r=n(50133),i=n(27007),o=n(468),a=r.has,s=r.get,l=r.key,c=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?c(e,r,n):void 0};r.exp({getMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:l(arguments[2]))}})},32213:(e,t,n)=>{var r=n(50133),i=n(27007),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},98681:(e,t,n)=>{var r=n(50133),i=n(27007),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},63471:(e,t,n)=>{var r=n(50133),i=n(27007),o=n(468),a=r.has,s=r.key,l=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&l(e,r,n)};r.exp({hasMetadata:function(e,t){return l(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},4329:(e,t,n)=>{var r=n(50133),i=n(27007),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},25159:(e,t,n)=>{var r=n(50133),i=n(27007),o=n(24963),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},99467:(e,t,n)=>{n(31024)("Set")},50579:(e,t,n)=>{n(94881)("Set")},48739:(e,t,n)=>{var r=n(42985);r(r.P+r.R,"Set",{toJSON:n(86132)("Set")})},17220:(e,t,n)=>{"use strict";var r=n(42985),i=n(24496)(!0),o=n(74253)((function(){return"𠮷"!=="𠮷".at(0)}));r(r.P+r.F*o,"String",{at:function(e){return i(this,e)}})},74208:(e,t,n)=>{"use strict";var r=n(42985),i=n(91355),o=n(10875),a=n(55364),s=n(53218),l=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};n(49988)(c,"RegExp String",(function(){var e=this._r.exec(this._s);return{value:e,done:null===e}})),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in l?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new c(r,t)}})},92770:(e,t,n)=>{"use strict";var r=n(42985),i=n(75442),o=n(30575),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},41784:(e,t,n)=>{"use strict";var r=n(42985),i=n(75442),o=n(30575),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},65869:(e,t,n)=>{"use strict";n(29599)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},94325:(e,t,n)=>{"use strict";n(29599)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},79665:(e,t,n)=>{n(36074)("asyncIterator")},59593:(e,t,n)=>{n(36074)("observable")},88967:(e,t,n)=>{var r=n(42985);r(r.S,"System",{global:n(3816)})},44188:(e,t,n)=>{n(31024)("WeakMap")},44208:(e,t,n)=>{n(94881)("WeakMap")},73495:(e,t,n)=>{n(31024)("WeakSet")},39550:(e,t,n)=>{n(94881)("WeakSet")},91181:(e,t,n)=>{for(var r=n(56997),i=n(47184),o=n(77234),a=n(3816),s=n(87728),l=n(87234),c=n(86314),u=c("iterator"),d=c("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(f),g=0;g<p.length;g++){var m,v=p[g],y=f[v],_=a[v],b=_&&_.prototype;if(b&&(b[u]||s(b,u,h),b[d]||s(b,d,v),l[v]=h,y))for(m in r)b[m]||o(b,m,r[m],!0)}},84633:(e,t,n)=>{var r=n(42985),i=n(74193);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},32564:(e,t,n)=>{var r=n(3816),i=n(42985),o=n(30575),a=[].slice,s=/MSIE .\./.test(o),l=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},81934:(e,t,n)=>{n(95767),n(68132),n(48388),n(37470),n(94882),n(41520),n(27476),n(79622),n(89375),n(43533),n(84672),n(64157),n(35095),n(49892),n(75115),n(99176),n(68838),n(96253),n(39730),n(6059),n(48377),n(71084),n(64299),n(11246),n(30726),n(1901),n(75972),n(53403),n(92516),n(49371),n(86479),n(91736),n(51889),n(65177),n(81246),n(76503),n(66786),n(50932),n(57526),n(21591),n(9073),n(80347),n(30579),n(4669),n(67710),n(45789),n(33514),n(99978),n(58472),n(86946),n(35068),n(413),n(50191),n(98306),n(64564),n(39115),n(29539),n(96620),n(62850),n(10823),n(17732),n(40856),n(80703),n(91539),n(5292),n(45177),n(73694),n(37648),n(27795),n(4531),n(23605),n(6780),n(69937),n(10511),n(81822),n(19977),n(91031),n(46331),n(41560),n(20774),n(30522),n(58295),n(87842),n(50110),n(20075),n(24336),n(19371),n(98837),n(26773),n(15745),n(33057),n(3750),n(23369),n(99564),n(32e3),n(48977),n(52310),n(94899),n(31842),n(56997),n(83946),n(18269),n(66108),n(76774),n(21466),n(59357),n(76142),n(51876),n(40851),n(88416),n(98184),n(30147),n(59192),n(30142),n(1786),n(75368),n(46964),n(62152),n(74821),n(79103),n(81303),n(83318),n(70162),n(33834),n(21572),n(82139),n(10685),n(85535),n(17347),n(83049),n(96633),n(68989),n(78270),n(64510),n(73984),n(75769),n(50055),n(96014),n(62773),n(1268),n(94692),n(17220),n(41784),n(92770),n(65869),n(94325),n(74208),n(79665),n(59593),n(98351),n(96409),n(83276),n(48646),n(22658),n(16917),n(30372),n(97698),n(48739),n(98211),n(50579),n(44208),n(39550),n(60525),n(99467),n(44188),n(73495),n(95575),n(88967),n(22559),n(98865),n(60368),n(26427),n(30286),n(52816),n(35986),n(22082),n(76308),n(89221),n(83570),n(37787),n(3776),n(9865),n(31898),n(53364),n(51432),n(26562),n(84416),n(98681),n(32213),n(63471),n(4329),n(25159),n(18267),n(86534),n(32564),n(84633),n(91181),e.exports=n(25645)},80008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".rc-slider{position:relative;height:14px;padding:5px 0;width:100%;border-radius:6px;touch-action:none;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-rail{position:absolute;width:100%;background-color:#e9e9e9;height:4px;border-radius:6px}.rc-slider-track{position:absolute;left:0;height:4px;border-radius:6px;background-color:#abe2fb}.rc-slider-handle{position:absolute;width:14px;height:14px;cursor:pointer;cursor:-webkit-grab;margin-top:-5px;cursor:grab;border-radius:50%;border:solid 2px #96dbfa;background-color:#fff;touch-action:pan-x}.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging{border-color:#57c5f7;box-shadow:0 0 0 5px #96dbfa}.rc-slider-handle:focus{outline:none}.rc-slider-handle-click-focused:focus{border-color:#96dbfa;box-shadow:unset}.rc-slider-handle:hover{border-color:#57c5f7}.rc-slider-handle:active{border-color:#57c5f7;box-shadow:0 0 5px #57c5f7;cursor:-webkit-grabbing;cursor:grabbing}.rc-slider-mark{position:absolute;top:18px;left:0;width:100%;font-size:12px}.rc-slider-mark-text{position:absolute;display:inline-block;vertical-align:middle;text-align:center;cursor:pointer;color:#999}.rc-slider-mark-text-active{color:#666}.rc-slider-step{position:absolute;width:100%;height:4px;background:rgba(0,0,0,0)}.rc-slider-dot{position:absolute;bottom:-2px;margin-left:-4px;width:8px;height:8px;border:2px solid #e9e9e9;background-color:#fff;cursor:pointer;border-radius:50%;vertical-align:middle}.rc-slider-dot-active{border-color:#96dbfa}.rc-slider-dot-reverse{margin-right:-4px}.rc-slider-disabled{background-color:#e9e9e9}.rc-slider-disabled .rc-slider-track{background-color:#ccc}.rc-slider-disabled .rc-slider-handle,.rc-slider-disabled .rc-slider-dot{border-color:#ccc;box-shadow:none;background-color:#fff;cursor:not-allowed}.rc-slider-disabled .rc-slider-mark-text,.rc-slider-disabled .rc-slider-dot{cursor:not-allowed !important}.rc-slider-vertical{width:14px;height:100%;padding:0 5px}.rc-slider-vertical .rc-slider-rail{height:100%;width:4px}.rc-slider-vertical .rc-slider-track{left:5px;bottom:0;width:4px}.rc-slider-vertical .rc-slider-handle{margin-left:-5px;touch-action:pan-y}.rc-slider-vertical .rc-slider-mark{top:0;left:18px;height:100%}.rc-slider-vertical .rc-slider-step{height:100%;width:4px}.rc-slider-vertical .rc-slider-dot{left:2px;margin-bottom:-4px}.rc-slider-vertical .rc-slider-dot:first-child{margin-bottom:-4px}.rc-slider-vertical .rc-slider-dot:last-child{margin-bottom:-4px}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear{animation-duration:.3s;animation-fill-mode:both;display:block !important;animation-play-state:paused}.rc-slider-tooltip-zoom-down-leave{animation-duration:.3s;animation-fill-mode:both;display:block !important;animation-play-state:paused}.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active{animation-name:rcSliderTooltipZoomDownIn;animation-play-state:running}.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active{animation-name:rcSliderTooltipZoomDownOut;animation-play-state:running}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear{transform:scale(0, 0);animation-timing-function:cubic-bezier(0.23, 1, 0.32, 1)}.rc-slider-tooltip-zoom-down-leave{animation-timing-function:cubic-bezier(0.755, 0.05, 0.855, 0.06)}@keyframes rcSliderTooltipZoomDownIn{0%{opacity:0;transform-origin:50% 100%;transform:scale(0, 0)}100%{transform-origin:50% 100%;transform:scale(1, 1)}}@keyframes rcSliderTooltipZoomDownOut{0%{transform-origin:50% 100%;transform:scale(1, 1)}100%{opacity:0;transform-origin:50% 100%;transform:scale(0, 0)}}.rc-slider-tooltip{position:absolute;left:-9999px;top:-9999px;visibility:visible;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-tooltip *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-tooltip-hidden{display:none}.rc-slider-tooltip-placement-top{padding:4px 0 8px 0}.rc-slider-tooltip-inner{padding:6px 2px;min-width:24px;height:24px;font-size:12px;line-height:1;color:#fff;text-align:center;text-decoration:none;background-color:#6c6c6c;border-radius:6px;box-shadow:0 0 4px #d9d9d9}.rc-slider-tooltip-arrow{position:absolute;width:0;height:0;border-color:rgba(0,0,0,0);border-style:solid}.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow{bottom:4px;left:50%;margin-left:-4px;border-width:4px 4px 0;border-top-color:#6c6c6c}",""]);const s=a},46274:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gatesPickerContainer .picker,.gatesPickerContainer .zoneName{margin:0 15px}",""]);const s=a},88076:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameType{margin:25px 0}.gameSelectText{line-height:1.5;font-size:16px;padding:25px;text-align:left;margin-bottom:15px;text-align:justify}",""]);const s=a},42929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".pickerContainer{display:flex;font-size:18px;padding:15px;margin:15px}.maxTimePickerContainer--separator{max-width:40px;height:112px;line-height:112px}",""]);const s=a},72504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".players{margin-bottom:25px;padding-bottom:15px}.playersList{margin:10px;padding:0}.playerListItem{margin-bottom:10px;line-height:42px;text-align:right;padding-right:10px}",""]);const s=a},14305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".playerListItem.closed{width:auto;height:155px;overflow:hidden}.pickerContainer.handicapBox{margin:5px;padding:25px}.playerBox .textOverflow{max-width:190px;display:inline-block}.playerBox button{float:right}.handicapBox .handicapLabel{width:50%;text-align:center;line-height:6}.textOverflow{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}",""]);const s=a},58731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".userSearchContainer img{margin:5px 0 5px 5px}.userSearchContainer .userSearchResultsText{margin-bottom:15px}.userSearchContainer .userSearchText{padding:25px}.userSearchContainer .resultsContainer{border:1px solid;width:85%;border-radius:14px;padding:15px;margin-top:15px}.userSearchContainer .resultsContainer .userSearchItem{text-align:right}.userSearchContainer .resultsContainer .userSearchItem .userSearchResult{max-width:230px;display:block;float:left}.userSearchContainer .resultsContainer .userSearchItem button{float:left;margin:0 0 0 5px}.userSearchContainer .resultsContainer:empty{border:0px solid}",""]);const s=a},4731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".newGameContainer{margin-top:25px;width:95%}.newGameContainer .newGame{margin-bottom:25px;text-align:left;padding:15px 26px}.newGameContainer .newGame a{font-size:16px;margin-left:10px}.newGameContainer .newGameRow{padding:5px;font-size:.9em}.newGameContainer .newGameNameInput{max-width:164px}.newGameButton{margin:0 0 45px 0}.viewProfileLink{font-size:.8em;margin:0 auto 25px auto;border-radius:15px;padding:5px;width:70%}.profileHelper{margin-top:0;padding:15px;border:1px dotted #fff;font-size:.8em}",""]);const s=a},41212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameRequestsContainer{margin-bottom:25px;width:95%;display:inline-block}.gameRequestsContainer .gameRequestGameName{margin-bottom:15px}.gameRequestsContainer .gameRequestsItem{text-align:center;margin-bottom:15px}.gameRequestsContainer .acceptButton{margin:10px}.gameRequestsContainer .acceptButton img{width:25px}.gameRequestsContainer .rejectButton{margin:10px}.gameRequestsContainer .rejectButton img{width:25px}",""]);const s=a},93897:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".totalValue{font-size:26px}.totalTimeContainer{margin:10px;padding:10px;font-size:.8em}.repairButton{display:block;margin:10px auto}.generic .gateProgressionContainer{width:26%;float:left;margin:0 10px 0 10px}.generic .gatePoints{padding:0px;width:18px}.generic .controlTextText{width:auto}.gateProgressionContainer .buttonControlTextPlus,.gateProgressionContainer .buttonControlTextMinus{width:35px;height:35px}.gatesContainer{margin:10px;padding:10px;font-size:.8em}.player{padding-bottom:10px}.pointsText{display:inline-block}.fiascoBox{font-size:17px;width:65px;padding:10px;float:left;margin:10px}.fiascoBox .importantNote{margin-bottom:15px}.info{font-size:.8em}.controlTextContainer .timerContainer{float:none;margin:0 auto}",""]);const s=a},34418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameProgressionItem{padding:15px;font-size:.7em;display:flex;margin-bottom:10px}.gameProgressionItem img{display:block;max-width:90px;max-height:45px;width:auto;height:auto;border-radius:15px}.gameProgressionItem .rounded{background-image:none;margin:8px;box-shadow:none}.tendJudgeContainer{margin-top:15px}.directorContainer{margin-bottom:15px}.directorGroup{background-color:green;color:#fff;border-radius:8px;padding:3px;font-size:.8em;margin-right:5px}.directorZone{margin:5px 0}.gatePoints{padding:5px;border-radius:15px;color:#fff}",""]);const s=a},53304:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".controlTextContainerQueue{background-color:#ffa602;border-radius:15px;margin:10px;font-size:15px;padding:5px}",""]);const s=a},27969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".repairProgressionContainer{margin:25px}.repairProgressionItem{margin:10px}.repairProgressionItem .repairProgressionItemHead{font-size:.8em}.repairProgressionItem .repairProgressionItemHead{text-align:left}.repairProgressionItem img{border-radius:15px;margin-right:15px;display:inline-block;max-width:40px}.repairProgressionItem .timerContainer{margin:0 auto;width:100%}.gameProgressionItemHour{margin:0 10px}",""]);const s=a},56040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".repairTimerContainer .timerContainer{padding:0}",""]);const s=a},7174:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),l=n.n(s),c=new URL(n(63442),n.b),u=new URL(n(95019),n.b),d=new URL(n(21926),n.b),h=a()(i()),f=l()(c),p=l()(u),g=l()(d);h.push([e.id,`.timerContainer{font-size:.8em;width:43%;margin:0 auto}.timerContainer button{width:36px;height:48px;background-repeat:no-repeat;background-size:25px;background-position:center;margin:5px 11px}.timerContainer .timer{border:1px solid;border-radius:15px;max-width:163px;margin:0 auto}.timerContainer .timerPlayButton{background-image:url(${f})}.timerContainer .resetButton{background-image:url(${p})}.timerContainer.play .timerPlayButton{background-image:url(${g})}`,""]);const m=h},38639:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".rc-slider{width:80%;height:47px;margin:15px auto}.generic .rc-slider{height:61px;width:61%;min-height:325px;margin:15px auto}.rc-slider-rail{background-color:#333}.rc-slider-track{background-color:#aaa}.rc-slider-dot{border-color:#666}.rc-slider-handle,.rc-slider-dot.rc-slider-dot-active{border-color:#fff;border-top-left-radius:0px;border-bottom-left-radius:0px;border-top-right-radius:75px;border-bottom-right-radius:75px}.rc-slider-mark-text{color:#000;padding-bottom:50%}body.lightMode .rc-slider-handle{background-color:#333}body.lightMode .rc-slider-rail{background-color:#333}body.lightMode .rc-slider-track{background-color:#aaa}body.lightMode .rc-slider-dot{border-color:#666}",""]);const s=a},35659:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),l=n.n(s),c=new URL(n(67180),n.b),u=a()(i()),d=l()(c);u.push([e.id,`.list{margin-bottom:15px;width:95%;text-align:right;display:inline-block;position:relative}.list .listItemContainer{font-size:.9em;margin-bottom:15px;text-align:right;padding-top:0px;overflow:hidden}.list .listItemContainer .spinner{float:right;top:3px}.list .listItemContainer .playButton{background-image:url(${d});background-repeat:no-repeat;background-size:contain;background-position-y:1px;margin:9px 0 0px 5px;display:inline-block}.list .listItemContainer button{height:45px}.list .listItemName{display:inline-block;width:70%;padding:10px 0;vertical-align:top;font-size:.8em}`,""]);const h=u},87914:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".list .listItemMenu{background-color:#222;position:absolute;padding-top:3px;left:14px;width:170px;height:81px;text-align:right;margin:5px 0 0 0;overflow:hidden;z-index:10}.list .listItemMenu .burguerMenuBar{width:15px;height:2px;margin:4px 0}.listItemMenu.closed{width:15px;height:15px;background-color:#333;z-index:1}.listContainer .listItemMenu{padding:5px}",""]);const s=a},20064:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".listMenuItem{font-size:.8em;padding:5px}",""]);const s=a},9526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".lovedRoutesContainer{margin-top:15px}",""]);const s=a},33397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),l=n.n(s),c=new URL(n(37211),n.b),u=new URL(n(74485),n.b),d=a()(i()),h=l()(c),f=l()(u);d.push([e.id,`.routeLoveContainer{float:right}.loveIcon{width:25px;height:23px;display:block;background-size:contain;background-position:top;margin:8px 5px;cursor:pointer}.loved{background-image:url(${h})}.noloved{background-image:url(${f})}`,""]);const p=d},40838:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".routesManagement{text-align:left;padding:15px}.routesManagement textarea{height:320px}.routesManagement .description{white-space:pre-line}.routesManagement .name{font-weight:bold}.routesManagement .routesSection{margin-bottom:15px}.routesManagement .routesSection label{margin-top:10px;display:block;font-weight:bold}.routesManagement .routesSection .value{display:inline;font-size:.9em}.routesManagement .routesSection .ispublic{display:block;font-size:.7em}.routesManagement .youtube{margin-top:15px}.routesManagement .mapRoute{width:95%;min-height:400px;margin:15px auto 0 auto;display:block}.routesManagement .sharerContainer{text-align:center}.routesManagement .editButton{float:right;font-size:.8em}.routesManagement .routeListItem{margin-top:15px;white-space:pre-line}.routesManagement .backButton{text-align:center}.routesManagement #map{width:99%;height:250px;max-width:405px;margin:0 auto}",""]);const s=a},66752:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".routesManagementCreation .center{width:98%;margin:0 auto}.routesManagementCreation .routeName{margin-bottom:15px}.routesManagementCreation .routeName input{width:100%;max-width:310px}.routesManagementCreation .routeDescription{margin-bottom:15px}.routesManagementCreation .routeDescription textarea{width:100%;max-width:310px}.routesManagementCreation .routeIsPublic{margin-bottom:15px}.routesManagementCreation .routeScale{margin-bottom:15px}.routesManagementCreation .routeScale input{width:100%;max-width:240px}.routesManagementCreation .routeDifficulty{margin-bottom:15px}.routesManagementCreation .routePoint{margin-bottom:15px}.routesManagementCreation .routePoint input{width:100%;max-width:310px}.routesManagementCreation .routeMap{margin-bottom:15px;text-align:center}.routesManagementCreation .routeMap button{margin:15px}.routesManagementCreation .endButtons{margin-bottom:15px;text-align:center}",""]);const s=a},37198:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".routesSearchContainer{margin:15px 0px}.routesSearchContainer .popup{padding:0}.map{border:4px solid #142733;height:250px;max-width:405px;width:99%;border-radius:14px;box-shadow:0 10px 20px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.05)}.searchText{font-size:.9em;margin:14px}.routeAltDiv{font-weight:bold;cursor:pointer}",""]);const s=a},76066:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".feedViewer .userSearchContainer{margin:0 auto 25px auto;max-width:470px}.feedViewer .userSearchContainer .resultsContainer .userSearchItem .userSearchResult{max-width:97%}.feedViewer .post{font-size:.8em;margin-bottom:25px;width:95%;overflow:hidden;background-color:#eee;color:#000;text-align:left}.feedViewer .post .userProfilePhotoContainer img{width:30px;height:30px;border-radius:7px;float:left}.feedViewer .refreshButton{position:fixed;top:19px;right:8px;margin-bottom:15px;padding:0}.feedViewer .refreshButton img{width:20px}.feedViewer .postText{margin:25px 0}.feedViewer .postDate{margin:10px 0 15px 0;font-size:.8em}.feedViewer .postGame{margin-bottom:15px}.feedViewer .postText,.feedViewer .postDate,.feedViewer .postGame{padding:0 10px;text-align:justify}.feedViewer .postUrlContent{margin-bottom:15px}",""]);const s=a},32623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".loadingLogo{margin-top:25px}",""]);const s=a},96615:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"body .posts{max-width:470px;margin:0 auto 25px auto}body .posts .embedLoadingContainer{width:300px;height:300px;margin:0 auto}body .post{max-width:546px;margin:0 auto 25px auto}body .post .gameContainer{color:#fff;margin-top:15px}body .post .sharerContainer{width:80%;margin:0 auto;float:right}body .post .sharerContainer .shareProfileText{width:90%;margin:0 auto;text-align:center}body .post .sharerContainer .sharers{width:95%;margin:0 auto}body .post .postGameContainer{text-align:center}body .post .postGameContainer .getGameName,body .post .postGameContainer .gameName{margin:15px 0}body .post .postGameContainer .gameName{width:70%}body .post .postGameContainer .gameAssigned{margin-top:15px}body .post .postGameContainer .postGame{margin:15px 0}body .post .postGameContainer .gameName{margin-left:10px;margin-bottom:10px}body .post .postGameContainer .mapouter{text-align:center}.post .userProfileContainer{margin:0px}.post .postDate{margin:10px 0 0 0}.post .postText{margin:15px 0}.post .name input{color:#000}",""]);const s=a},48349:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".likeContainer{height:50px;margin:10px auto 0 auto;float:left}.likeContainer span{cursor:pointer;padding:10px 12px 8px;background:#fff;border-radius:50%;display:inline-block;margin:0 0 15px;color:#aaa;transition:.2s}.likeContainer span img{width:15px;height:15px}.likeContainer span.press{animation:size .4s;background-color:green}@keyframes fade{0%{color:rgba(0,0,0,0)}50%{color:green}100%{color:rgba(0,0,0,0)}}@keyframes size{0%{padding:10px 12px 8px}50%{padding:14px 16px 12px;margin-top:-4px}100%{padding:10px 12px 8px}}",""]);const s=a},19172:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".userViewer .post input{color:#000}.userProfileContainer{text-align:right;display:inline-block;margin-bottom:15px;width:95%;font-size:.8em}.userProfileContainer .headerText{text-align:center}.userProfileContainer .userProfilePhotoContainer{float:left;width:25%}.userProfileContainer .userProfilePhotoContainer img{margin:0 auto;width:100%;border-radius:15px}.userProfileContainer .userProfileInlineContainer{float:right;width:73%}.userProfileContainer .userProfileInlineContainer .name{margin:5px 0}.userProfileContainer .userProfileInlineContainer textarea{font-size:.8em}.userProfileContainer .userProfileInlineContainer input,.userProfileContainer .userProfileInlineContainer textarea{border-radius:0;text-align:right;width:100%;margin:0;padding:0;resize:none}.userProfileContainer .description{margin-top:5px}.userProfileContainer .hidenInput{font-family:Montserrat,Roboto,sans-serif;color:#fcf7ff;background-color:rgba(0,0,0,0);border:none}.userProfileContainer .userProfileHelper{font-size:.7em}",""]);const s=a},97508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),l=n.n(s),c=new URL(n(88151),n.b),u=a()(i()),d=l()(c);u.push([e.id,`.userViewer{max-width:470px;margin:0 auto 25px auto}.userViewer .statistics,.userViewer .posts{margin-bottom:25px;margin:0 auto 25px auto}.userViewer .statistics{width:96%;background-image:url(${d}),linear-gradient(#345B63, #112031);background-position-x:center;background-repeat:no-repeat;padding-bottom:25px;font-size:.8em}.userViewer .removePostButton{float:right}.userViewer .post{font-size:.8em;margin-bottom:25px;width:95%;overflow:hidden;background-color:#eee;color:#000;text-align:left}.userViewer .submit{border:0px;color:#fff;padding:10px}.sharerContainer{margin-bottom:14px}.sharerContainer .shareProfileText{margin:15px 0 15px 0;font-size:.8em}`,""]);const h=u},98283:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".fb_iframe_widget{max-width:345px !important}.fb_iframe_widget span{max-width:345px !important}.fb_iframe_widget span iframe{max-width:345px !important}",""]);const s=a},83586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"body .post .fb-share-button{margin:0 0 10px 15px}.fb-share-button{height:100%;margin:0 0 10px 0px;display:block;padding-bottom:10px}.fb-share-button span{padding:8px 0}",""]);const s=a},38814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"iframe.instagram-media{max-width:350px;margin:0 auto}.post .instagram{padding:0px;width:100%;margin:0 auto}",""]);const s=a},239:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".telegramLogo{margin-left:5px;width:25px;padding-bottom:2px}",""]);const s=a},38830:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"",""]);const s=a},43751:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".twitter-share-button{height:100%;margin-left:5px}",""]);const s=a},94861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".whatsappLogo{width:25px;margin-left:5px;padding-bottom:2px}",""]);const s=a},80779:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".youtube>iframe{padding:0px;width:104%;position:relative;left:-2%}.video-responsive{height:0;overflow:hidden;padding-bottom:56.25%;padding-top:30px;position:relative}.video-responsive iframe,.video-responsive object,.video-responsive embed{height:100%;left:0;position:absolute;top:0;width:100%}",""]);const s=a},4641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".aboutUsContent{font-size:18px;margin-bottom:35px;font-size:18px;margin-bottom:35px;text-align:left}.aboutUsContent img{width:100%;margin-top:15px}",""]);const s=a},93589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".aboutUsContent{width:85%;margin:0 auto}.loginAndContent{padding-bottom:140px}.loginAndContent .googleSignInButton{margin:auto;padding:15px;width:50%}.loginAndContent .googleSignInButton button{width:100%}img.collaborateLogo{width:100px}img.crawlerImageSignIn{width:50%;margin:0px auto 15px auto;display:block;cursor:pointer;padding:15px}img.youtubeLogo,img.instagramLogo,img.facebookLogo{width:35px;margin-right:15px;border-radius:15px}img.facebookLogo{background-color:#fff}",""]);const s=a},8380:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".contentImg{margin:0;padding:0;width:100%}.logoImg{margin:auto;padding:15px;width:50%}.video-responsive{overflow:hidden;padding-bottom:56.25%;position:relative;height:0}.video-responsive iframe{left:0;top:0;height:100%;width:100%;position:absolute}",""]);const s=a},59484:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"body.offline .offlineContainer{width:95%;margin:10px auto;padding:15px;text-decoration:underline}",""]);const s=a},14534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".privacyPolicy{text-align:left}.privacyPolicy li{text-align:left;list-style-type:circle;margin:15px 0}",""]);const s=a},71740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"#root{width:100%;height:100%}.App{text-align:center;width:100%;height:100%}.AppMainContainer{width:95%;margin:0px auto;height:100%;max-width:430px;min-width:277px;padding-top:65px}.smallText{line-height:1.5;font-size:16px;text-align:justify}.centerText{text-align:center}.headerText{padding:6px;height:40px;line-height:40px;text-align:center}.sectionTitle{text-shadow:5px 5px 5px #222}.App-link{color:#61dafb}.rounded{border-radius:8px;padding:10px}.rounded button{background-color:rgba(0,0,0,0)}body.lightMode input.hidenInput,body.lightMode textarea.hidenInput,body.lightMode .bold,body.lightMode select{color:#000}body.lightMode .controlTextValues:nth-of-type(odd){background-color:#a0bcc2}body.lightMode .resultsContainer{background-image:linear-gradient(#b6ac91, #8c8a7f)}body.lightMode .rounded.colorGrey{color:#fff}body.lightMode .gameList .gameListPoints,body.lightMode .gameList .gameListPosition{background-color:#a0bcc2}body.lightMode .rounded{color:#000}body.lightMode .rounded.controlTextTitle{background-image:linear-gradient(#FEFBE7, #405662)}body.lightMode .rounded1{background-image:linear-gradient(#F9EBC8, #FEFBE7)}body.lightMode .rounded2{background-image:linear-gradient(#FEFBE7, #FEFBE7)}body.lightMode .rounded3{background-image:linear-gradient(#FEFBE7, #A0BCC2)}body.lightMode .rounded button{background-color:#405662}body.lightMode .linksContainer{color:#fefbe7}.rounded1{background-image:linear-gradient(#112031, #152D35)}.rounded2{background-image:linear-gradient(#345B63, #112031)}.rounded3{background-color:#345b63}.headerPlayer{padding:10px}.importantNote{background-image:linear-gradient(#ffa602, #ea7402)}.importantNote img{width:32px;vertical-align:middle;border-radius:8px;padding:5px 0px;float:left}.controlTextContainer{margin:10px auto;padding:10px}.controlTextText{margin:0 5px}.winnerBox{padding:15px;margin-bottom:8px}.winnerBox .headerPlayer{margin-bottom:15px}.notLoggedLogo{width:125px;margin-bottom:40px}.closed{height:26px;box-shadow:none}.horizontalScrollContainer{overflow-x:scroll;overflow-y:hidden;display:flex}::-webkit-scrollbar-track{background:rgba(0,0,0,0)}::-webkit-scrollbar-thumb{background:#888;border-radius:14px;border:solid 1px #444}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0)}::-webkit-scrollbar{background:rgba(0,0,0,0)}",""]);const s=a},23084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),l=n.n(s),c=new URL(n(28666),n.b),u=new URL(n(84162),n.b),d=new URL(n(65247),n.b),h=new URL(n(92308),n.b),f=a()(i()),p=l()(c),g=l()(u),m=l()(d),v=l()(h);f.push([e.id,`html{height:100%;width:100%}body{background-color:#333;color:#fcf7ff;font-family:Montserrat,Roboto,sans-serif;font-size:21px;margin:0px;height:100%;-webkit-font-smoothing:antialiased;background-image:url(${p});background-attachment:fixed;background-position:center;background-position-y:top;background-position-x:right;background-repeat:no-repeat;background-size:cover}body.game{background-image:url(${g})}body.social{background-image:url(${m})}body.route{background-image:url(${v})}.blink{animation:blinker 1s linear infinite}@keyframes blinker{50%{opacity:0}}.bold{font-weight:bold}.left{text-align:left}.inline{display:inline}button,select,input,textarea{margin:5px;border-radius:15px;font-size:21px;background-color:rgba(0,0,0,0);border:1px solid #fff;color:#fff}input,textarea{color:#000}select{padding:10px;width:85%}button{padding:10px;margin:5px;align-items:center;background-color:initial;background-image:linear-gradient(#464d55, #25292e);border-radius:8px;border-width:0;box-shadow:0 10px 20px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.05);box-sizing:border-box;color:#fff;cursor:pointer;font-size:18px;justify-content:center;line-height:.5;outline:none;text-align:center;text-decoration:none;transform:translate3d(0, 0, 0);transition:all 150ms;transition-duration:.4s;-webkit-transition-duration:.4s;vertical-align:baseline;white-space:nowrap;user-select:none}button *:hover{transition-duration:.1s;background-color:#3a3a3a}button *:after{content:"";display:block;position:absolute;border-radius:8px;left:0;top:0;width:100%;height:100%;opacity:0;transition:all .2s;box-shadow:0 0 10px 15px #fff}button *:active:after{box-shadow:0 0 0 0 #fff;position:absolute;border-radius:8px;left:0;top:0;opacity:1;transition:0s}input,textarea{background-color:#fff;max-width:195px;font-size:17px;padding:5px}a{color:#fff;text-decoration:none}li{list-style-type:none;text-align:right}figure{margin:0;padding:0;width:100%}figcaption{text-align:center;font-size:16px}.colorGreen{background-color:green}.colorGrey{background-color:#333}.colorClearGrey{background-color:#666}.colorRed{background-color:red}.colorOrange{background-color:orange}.foreColorRed{color:red}`,""]);const y=f},87291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".controlText{font-size:14px;display:flex;line-height:20px;text-align:left;background-color:rgba(30,30,30,.32);margin-bottom:5px;border-radius:15px}.controlTextValue{background-color:inherit;padding:10px;font-weight:bold;font-size:1.1em;border-radius:15px}.controlTextText{min-width:168px;padding:10px 0;width:100%}.controlTextTitle{margin:0px 0px 10px 0px;font-size:.8em}.controlTextContainer{overflow:hidden}.controlTextContainer .dropdown{width:20px;margin:0;float:right}.controlTextContainer .closed{height:35px}.buttonControlTextPlus,.buttonControlTextMinus{text-shadow:2px 2px 4px #333;font-size:12px}.generic .controlText{font-size:14px;display:flex;line-height:20px;text-align:left;background-color:rgba(30,30,30,.32);margin-bottom:5px;border-radius:15px;font-size:.7em}.generic .controlTextValue{background-color:inherit;padding:10px;font-weight:bold;font-size:1.1em;border-radius:15px;width:100%;text-align:right}.generic .controlTextText{min-width:30px;padding:10px 0;width:100%}.generic .controlTextTitle{margin:0px 0px 10px 0px;font-size:.7em}.generic .controlTextContainer{overflow:hidden}.generic .controlTextContainer .dropdown{width:20px;margin:0;float:right}.generic .controlTextContainer .closed{height:35px}.generic .buttonTextPlus,.generic .buttonTextMinus{text-shadow:2px 2px 4px #333;font-weight:bold}",""]);const s=a},53803:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".controlTextValues{text-align:left;font-size:.9em}.controlTextValues:first-of-type{margin-top:15px}.controlTextValues:nth-of-type(odd){background-color:#345c62}",""]);const s=a},19114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".errorBoxContainer{margin-bottom:25px;padding:5px;color:red;font-size:19px;border:1px solid;border-radius:15px;font-weight:bold;border-style:dotted}",""]);const s=a},98130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".Footer{font-size:14px;margin-top:100px}",""]);const s=a},5523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameHeaderInfo{margin-bottom:15px}",""]);const s=a},56783:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".directorRequestContainer{margin-top:15px;border:1px solid red;border-radius:15px}",""]);const s=a},71735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".App-header{position:fixed;top:0px;left:0;width:100%;z-index:10000;height:56px;font-weight:bold;background-color:#241e1f;min-height:40px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:calc(10px + 2vmin);color:#fff;margin-bottom:10px}.App-header img{position:fixed;top:0px;right:0px;width:60px;margin:5px 8px 10px 0}.menuContainer{position:fixed;top:1px;left:0px;margin:2px;padding:5px;z-index:10;border-radius:7px;overflow:hidden;transition:width .2s;min-height:420px}.burguerMenuBar:first-of-type{margin-top:3px}.burguerMenuBar:last-of-type{margin-bottom:15px}.burguerMenuBar{width:25px;height:4px;background-color:#fff;margin:4px}.open{width:90%;padding-bottom:25px;background-color:#333}.menuContainer.closed{width:35px;min-height:40px}.box:hover{background-color:#fcc;width:200px;height:200px;transform:rotate(180deg)}.closed .linksContainer{visibility:hidden;opacity:0}.linksContainer{width:100%;height:90%;background-color:#333;visibility:visible;opacity:1;transition:visibility 0s,opacity 10s linear}.linksContainer ul{margin:0 25px}.linksContainer ul li{overflow:hidden}.lightModeSwitch{position:absolute;bottom:15px;right:32px}",""]);const s=a},17925:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),l=n.n(s),c=new URL(n(61826),n.b),u=new URL(n(56111),n.b),d=a()(i()),h=l()(c),f=l()(u);d.push([e.id,`.picker--value{background-color:#fff;border:1px solid #000;color:#333;border-radius:5px;font-size:19px;padding:5px}.picker{max-width:34px;width:50%;margin:0 auto;text-align:center;display:grid}.picker--arrowUp,.picker--arrowDown{display:inline-block;background-size:cover;width:35px;height:25px;background-repeat:no-repeat;background-position:center;margin:0px 0 5px 0}.picker--arrowUp{background-image:url(${h})}.picker--arrowDown{top:8px;position:relative;background-image:url(${f})}`,""]);const p=d},39468:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".handicapContainer{width:100%;margin:15px auto}",""]);const s=a},14297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".popup{position:fixed;top:64px;left:50%;transform:translate(-50%, 0);z-index:100000;height:90%;border:2px solid #000;overflow:scroll;transition:heigth .7s linear;width:97%;max-width:412px;overscroll-behavior:contain}.closeButton{width:25px;height:25px;font-size:.8em;position:absolute;top:5px;background-color:#333;z-index:200000;right:5px;border-radius:8px;cursor:pointer}.popup::-webkit-scrollbar{display:none}.popup.closed{height:25px}",""]);const s=a},89195:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".spinner{display:inline-block;position:relative;width:20px;height:20px;top:-2px}.spinner div{box-sizing:border-box;display:block;position:absolute;width:14px;height:14px;margin:8px;border:3px solid #fff;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:#fff rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.spinner div:nth-child(1){animation-delay:-0.45s}.spinner div:nth-child(2){animation-delay:-0.3s}.spinner div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}",""]);const s=a},38992:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".winnerBox .fiasco{margin-bottom:4px}.winnerBox .fiasco img{width:auto;padding:0 5px}.winnerBox .pointsTable{margin-bottom:25px;text-align:right}.gameList{margin-bottom:15px;width:95%;text-align:right;display:inline-block;position:relative}.gameList .gameContainer{font-size:.9em;margin-bottom:15px;text-align:right;padding-top:0px;overflow:hidden}.gameList .gameName{display:inline-block;width:70%;padding:10px 0;vertical-align:top;font-size:.8em}.gameList .gameDate{padding-top:15px;padding-bottom:20px}.gameList .removeButton{width:25px;height:25px}.gameList .gameParticipants{font-size:.8em;max-width:305px;margin:0 auto}.gameList .gameParticipants .closed{display:none}.gameList .gameParticipants .iconArrowDown{height:10px;margin-left:3px}.gameList .gameParticipants img{max-height:15px}.gameList .gameParticipants table{margin:auto}.gameList .gameParticipants table td:nth-of-type(2),.gameList .gameParticipants table td:nth-of-type(7){writing-mode:unset !important}.gameList .gameParticipants table tr:first-of-type td{writing-mode:vertical-lr;word-break:break-all;font-size:.8em}.gameList .gameParticipants .controlTextValues{background-color:rgba(0,0,0,0)}.gameList .gameParticipants .controlTextValues:first-of-type{margin-top:0}.gameList .gameListPosition{overflow:hidden;background-color:#345c62}.gameList .gameListPlayerName{display:block;width:120px;padding:0 5px}.gameList .gameListPoints{overflow:hidden;min-width:25px;background-color:#345c62;max-width:80px}.gameList .gameListTime{overflow:hidden;min-width:45px;padding:0 5px}.gameList .gameListTextArray{margin-top:15px}.gameList .winnerBox .headerPlayer img{position:relative;top:5px;margin-right:5px}.gameList .gameProgressionInfoItem{margin:10px;text-align:left}.gameList .gameProgressionInfoItem .fiascosText{margin-top:10px}.gameList .gameProgressionItem img{margin-right:10px;border-radius:15px;display:inline-block}.gameList .gameProgressionItem ul{padding-left:0px}.gameList .gameProgressionItem li{list-style-type:circle;text-align:left}",""]);const s=a},56725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".regionalzonarc .controlText:nth-of-type(1){background-color:#ccc;color:#000;margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(2),.regionalzonarc .controlText:nth-of-type(3),.regionalzonarc .controlText:nth-of-type(4){background-color:#aaa;color:#000}.regionalzonarc .controlText:nth-of-type(4){margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(5),.regionalzonarc .controlText:nth-of-type(6),.regionalzonarc .controlText:nth-of-type(7),.regionalzonarc .controlText:nth-of-type(8),.regionalzonarc .controlText:nth-of-type(9),.regionalzonarc .controlText:nth-of-type(10){background-color:#888}.regionalzonarc .controlText:nth-of-type(10){margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(11),.regionalzonarc .controlText:nth-of-type(12),.regionalzonarc .controlText:nth-of-type(13),.regionalzonarc .controlText:nth-of-type(14){background-color:#666}.regionalzonarc .controlText:nth-of-type(14){margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(15),.regionalzonarc .controlText:nth-of-type(16){background-color:#444}.regionalzonarc .controlText:nth-of-type(16){margin-bottom:45px}",""]);const s=a},47778:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),l=n.n(s),c=new URL(n(8369),n.b),u=new URL(n(68437),n.b),d=new URL(n(78547),n.b),h=a()(i()),f=l()(c),p=l()(u),g=l()(d);h.push([e.id,`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::selection{background:rgba(0,0,0,0)}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none !important;max-height:none !important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none !important;max-height:none !important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:rgba(0,0,0,0)}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0, 0, 0.25, 1);-moz-transition:-moz-transform .25s cubic-bezier(0, 0, 0.25, 1);transition:transform .25s cubic-bezier(0, 0, 0.25, 1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:"Helvetica Neue",Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:bold 18px "Lucida Console",Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(${f});width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(${p});background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(${g})}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline !important;vertical-align:baseline !important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;-moz-box-sizing:border-box;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:17px 0;margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:rgba(0,0,0,0)}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid rgba(0,0,0,0);background:rgba(0,0,0,0);content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}`,""]);const m=h},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},61667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},97238:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Handle:()=>M,Range:()=>te,SliderTooltip:()=>gr,createSliderWithTooltip:()=>mr,default:()=>yr});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=n(15671),s=n(43144),l=n(79340),c=n(61120),u=n(82963);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var h=n(9226),f={},p=[];function g(e,t){}function m(e,t){}function v(e,t,n){t||f[n]||(e(!1,n),f[n]=!0)}function y(e,t){v(g,e,t)}y.preMessage=function(e){p.push(e)},y.resetWarned=function(){f={}},y.noteOnce=function(e,t){v(m,e,t)};const _=y,b=function(e){var t,n,i=e.className,a=e.included,s=e.vertical,l=e.style,c=e.length,u=e.offset,d=e.reverse;c<0&&(d=!d,c=Math.abs(c),u=100-u);var f=s?(t={},(0,r.Z)(t,d?"top":"bottom","".concat(u,"%")),(0,r.Z)(t,d?"bottom":"top","auto"),(0,r.Z)(t,"height","".concat(c,"%")),t):(n={},(0,r.Z)(n,d?"right":"left","".concat(u,"%")),(0,r.Z)(n,d?"left":"right","auto"),(0,r.Z)(n,"width","".concat(c,"%")),n),p=o(o({},l),f);return a?h.createElement("div",{className:i,style:p}):null};function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}var x=n(44925),C=n(30907),E=n(59199),I=n(40181);function T(e){return function(e){if(Array.isArray(e))return(0,C.Z)(e)}(e)||(0,E.Z)(e)||(0,I.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,c.Z)(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},k.apply(this,arguments)}var S=n(73935);function A(e,t,n,r){var i=S.unstable_batchedUpdates?function(e){S.unstable_batchedUpdates(n,e)}:n;return null!=e&&e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){null!=e&&e.removeEventListener&&e.removeEventListener(t,i,r)}}}var P=n(94184),N=n.n(P);const O=function(e){var t=e.prefixCls,n=e.vertical,i=e.reverse,a=e.marks,s=e.dots,l=e.step,c=e.included,u=e.lowerBound,d=e.upperBound,f=e.max,p=e.min,g=e.dotStyle,m=e.activeDotStyle,v=f-p,y=function(e,t,n,r,i,o){_(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&r)for(var s=i;s<=o;s+=r)-1===a.indexOf(s)&&a.push(s);return a}(0,a,s,l,p,f).map((function(e){var a,s="".concat(Math.abs(e-p)/v*100,"%"),l=!c&&e===d||c&&e<=d&&e>=u,f=o(o({},g),{},n?(0,r.Z)({},i?"top":"bottom",s):(0,r.Z)({},i?"right":"left",s));l&&(f=o(o({},f),m));var y=N()((a={},(0,r.Z)(a,"".concat(t,"-dot"),!0),(0,r.Z)(a,"".concat(t,"-dot-active"),l),(0,r.Z)(a,"".concat(t,"-dot-reverse"),i),a));return h.createElement("span",{className:y,style:f,key:e})}));return h.createElement("div",{className:"".concat(t,"-step")},y)};var R=n(71002);const L=function(e){var t=e.className,n=e.vertical,i=e.reverse,a=e.marks,s=e.included,l=e.upperBound,c=e.lowerBound,u=e.max,d=e.min,f=e.onClickLabel,p=Object.keys(a),g=u-d,m=p.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var u,p=a[e],m="object"===(0,R.Z)(p)&&!h.isValidElement(p),v=m?p.label:p;if(!v&&0!==v)return null;var y=!s&&e===l||s&&e<=l&&e>=c,_=N()((u={},(0,r.Z)(u,"".concat(t,"-text"),!0),(0,r.Z)(u,"".concat(t,"-text-active"),y),u)),b=(0,r.Z)({marginBottom:"-50%"},i?"top":"bottom","".concat((e-d)/g*100,"%")),w=(0,r.Z)({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((e-d)/g*100,"%")),x=n?b:w,C=m?o(o({},x),p.style):x;return h.createElement("span",{className:_,style:C,key:e,onMouseDown:function(t){return f(t,e)},onTouchStart:function(t){return f(t,e)}},v)}));return h.createElement("div",{className:t},m)};var M=function(e){(0,l.Z)(n,e);var t=d(n);function n(){var e;return(0,a.Z)(this,n),(e=t.apply(this,arguments)).state={clickFocused:!1},e.setHandleRef=function(t){e.handle=t},e.handleMouseUp=function(){document.activeElement===e.handle&&e.setClickFocus(!0)},e.handleMouseDown=function(t){t.preventDefault(),e.focus()},e.handleBlur=function(){e.setClickFocus(!1)},e.handleKeyDown=function(){e.setClickFocus(!1)},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.onMouseUpListener=A(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,t,n,i=this.props,a=i.prefixCls,s=i.vertical,l=i.reverse,c=i.offset,u=i.style,d=i.disabled,f=i.min,p=i.max,g=i.value,m=i.tabIndex,v=i.ariaLabel,y=i.ariaLabelledBy,_=i.ariaValueTextFormatter,b=(0,x.Z)(i,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),C=N()(this.props.className,(0,r.Z)({},"".concat(a,"-handle-click-focused"),this.state.clickFocused)),E=s?(e={},(0,r.Z)(e,l?"top":"bottom","".concat(c,"%")),(0,r.Z)(e,l?"bottom":"top","auto"),(0,r.Z)(e,"transform",l?null:"translateY(+50%)"),e):(t={},(0,r.Z)(t,l?"right":"left","".concat(c,"%")),(0,r.Z)(t,l?"left":"right","auto"),(0,r.Z)(t,"transform","translateX(".concat(l?"+":"-","50%)")),t),I=o(o({},u),E),T=m||0;return(d||null===m)&&(T=null),_&&(n=_(g)),h.createElement("div",w({ref:this.setHandleRef,tabIndex:T},b,{className:C,style:I,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":f,"aria-valuemax":p,"aria-valuenow":g,"aria-disabled":!!d,"aria-label":v,"aria-labelledby":y,"aria-valuetext":n}))}}]),n}(h.Component),D={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=D.F1&&t<=D.F12)return!1;switch(t){case D.ALT:case D.CAPS_LOCK:case D.CONTEXT_MENU:case D.CTRL:case D.DOWN:case D.END:case D.ESC:case D.HOME:case D.INSERT:case D.LEFT:case D.MAC_FF_META:case D.META:case D.NUMLOCK:case D.NUM_CENTER:case D.PAGE_DOWN:case D.PAGE_UP:case D.PAUSE:case D.PRINT_SCREEN:case D.RIGHT:case D.SHIFT:case D.UP:case D.WIN_KEY:case D.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=D.ZERO&&e<=D.NINE)return!0;if(e>=D.NUM_ZERO&&e<=D.NUM_MULTIPLY)return!0;if(e>=D.A&&e<=D.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case D.SPACE:case D.QUESTION_MARK:case D.NUM_PLUS:case D.NUM_MINUS:case D.NUM_PERIOD:case D.NUM_DIVISION:case D.SEMICOLON:case D.DASH:case D.EQUALS:case D.COMMA:case D.PERIOD:case D.SLASH:case D.APOSTROPHE:case D.SINGLE_QUOTE:case D.OPEN_SQUARE_BRACKET:case D.BACKSLASH:case D.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const j=D;function F(e,t){try{return Object.keys(t).some((function(n){return e.target===(0,S.findDOMNode)(t[n])}))}catch(e){return!1}}function z(e,t){var n=t.min,r=t.max;return e<n||e>r}function U(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function V(e,t){var n=t.marks,r=t.step,i=t.min,o=t.max,a=Object.keys(n).map(parseFloat);if(null!==r){var s=Math.pow(10,B(r)),l=Math.floor((o*s-i*s)/(r*s)),c=Math.min((e-i)/r,l),u=Math.round(c)*r+i;a.push(u)}var d=a.map((function(t){return Math.abs(e-t)}));return a[d.indexOf(Math.min.apply(Math,T(d)))]}function B(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}function G(e,t){return e?t.clientY:t.pageX}function Z(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function q(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function W(e,t){var n=t.max,r=t.min;return e<=r?r:e>=n?n:e}function H(e,t){var n=t.step,r=isFinite(V(e,t))?V(e,t):0;return null===n?r:parseFloat(r.toFixed(B(n)))}function K(e){e.stopPropagation(),e.preventDefault()}function $(e,t,n){var r="increase",i="decrease",o=r;switch(e.keyCode){case j.UP:o=t&&n?i:r;break;case j.RIGHT:o=!t&&n?i:r;break;case j.DOWN:o=t&&n?r:i;break;case j.LEFT:o=!t&&n?r:i;break;case j.END:return function(e,t){return t.max};case j.HOME:return function(e,t){return t.min};case j.PAGE_UP:return function(e,t){return e+2*t.step};case j.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return function(e,t,n){var r={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},i=r[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(n.marks)[i];return n.step?r[e](t,n.step):Object.keys(n.marks).length&&n.marks[o]?n.marks[o]:t}(o,e,t)}}function Y(){}function Q(e){var t;return t=function(e){(0,l.Z)(n,e);var t=d(n);function n(e){var r;(0,a.Z)(this,n),(r=t.call(this,e)).onDown=function(e,t){var n=t,i=r.props,o=i.draggableTrack,a=i.vertical,s=r.state.bounds,l=o&&r.positionGetValue&&r.positionGetValue(n)||[],c=F(e,r.handlesRefs);if(r.dragTrack=o&&s.length>=2&&!c&&!l.map((function(e,t){var n=!!t||e>=s[t];return t===l.length-1?e<=s[t]:n})).some((function(e){return!e})),r.dragTrack)r.dragOffset=n,r.startBounds=T(s);else{if(c){var u=q(a,e.target);r.dragOffset=n-u,n=u}else r.dragOffset=0;r.onStart(n)}},r.onMouseDown=function(e){if(0===e.button){r.removeDocumentEvents();var t=G(r.props.vertical,e);r.onDown(e,t),r.addDocumentMouseEvents()}},r.onTouchStart=function(e){if(!U(e)){var t=Z(r.props.vertical,e);r.onDown(e,t),r.addDocumentTouchEvents(),K(e)}},r.onFocus=function(e){var t=r.props,n=t.onFocus,i=t.vertical;if(F(e,r.handlesRefs)&&!r.dragTrack){var o=q(i,e.target);r.dragOffset=0,r.onStart(o),K(e),n&&n(e)}},r.onBlur=function(e){var t=r.props.onBlur;r.dragTrack||r.onEnd(),t&&t(e)},r.onMouseUp=function(){r.handlesRefs[r.prevMovedHandleIndex]&&r.handlesRefs[r.prevMovedHandleIndex].clickFocus()},r.onMouseMove=function(e){if(r.sliderRef){var t=G(r.props.vertical,e);r.onMove(e,t-r.dragOffset,r.dragTrack,r.startBounds)}else r.onEnd()},r.onTouchMove=function(e){if(!U(e)&&r.sliderRef){var t=Z(r.props.vertical,e);r.onMove(e,t-r.dragOffset,r.dragTrack,r.startBounds)}else r.onEnd()},r.onKeyDown=function(e){r.sliderRef&&F(e,r.handlesRefs)&&r.onKeyboard(e)},r.onClickMarkLabel=function(e,t){e.stopPropagation(),r.onChange({value:t}),r.setState({value:t},(function(){return r.onEnd(!0)}))},r.saveSlider=function(e){r.sliderRef=e};var i=e.step,o=e.max,s=e.min,l=!isFinite(o-s)||(o-s)%i==0;return _(!i||Math.floor(i)!==i||l,"Slider[max] - Slider[min] (".concat(o-s,") should be a multiple of Slider[step] (").concat(i,")")),r.handlesRefs={},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){k((0,c.Z)(n.prototype),"componentWillUnmount",this)&&k((0,c.Z)(n.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,r=t.reverse,i=e.getBoundingClientRect();return n?r?i.bottom:i.top:window.pageXOffset+(r?i.right:i.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=A(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=A(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=A(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=A(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var e;this.props.disabled||null===(e=this.handlesRefs[0])||void 0===e||e.focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){var n,r;null===(n=e.handlesRefs[t])||void 0===n||null===(r=n.blur)||void 0===r||r.call(n)}))}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,i=t.max,o=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-o)*(i-r)+r:o*(i-r)+r}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min,r=(e-n)/(t.max-n);return Math.max(0,100*r)}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,t=this.props,i=t.prefixCls,a=t.className,s=t.marks,l=t.dots,u=t.step,d=t.included,f=t.disabled,p=t.vertical,g=t.reverse,m=t.min,v=t.max,y=t.children,_=t.maximumTrackStyle,b=t.style,w=t.railStyle,x=t.dotStyle,C=t.activeDotStyle,E=k((0,c.Z)(n.prototype),"render",this).call(this),I=E.tracks,T=E.handles,S=N()(i,(e={},(0,r.Z)(e,"".concat(i,"-with-marks"),Object.keys(s).length),(0,r.Z)(e,"".concat(i,"-disabled"),f),(0,r.Z)(e,"".concat(i,"-vertical"),p),(0,r.Z)(e,a,a),e));return h.createElement("div",{ref:this.saveSlider,className:S,onTouchStart:f?Y:this.onTouchStart,onMouseDown:f?Y:this.onMouseDown,onMouseUp:f?Y:this.onMouseUp,onKeyDown:f?Y:this.onKeyDown,onFocus:f?Y:this.onFocus,onBlur:f?Y:this.onBlur,style:b},h.createElement("div",{className:"".concat(i,"-rail"),style:o(o({},_),w)}),I,h.createElement(O,{prefixCls:i,vertical:p,reverse:g,marks:s,dots:l,step:u,included:d,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:v,min:m,dotStyle:x,activeDotStyle:C}),T,h.createElement(L,{className:"".concat(i,"-mark"),onClickLabel:f?Y:this.onClickMarkLabel,vertical:p,marks:s,included:d,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:v,min:m,reverse:g}),y)}}]),n}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=o(o({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=(0,x.Z)(e,["index"]);return delete n.dragging,null===n.value?null:h.createElement(M,w({},n,{key:t}))},onBeforeChange:Y,onChange:Y,onAfterChange:Y,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}const J=Q(function(e){(0,l.Z)(n,e);var t=d(n);function n(e){var r;(0,a.Z)(this,n),(r=t.call(this,e)).positionGetValue=function(e){return[]},r.onEnd=function(e){var t=r.state.dragging;r.removeDocumentEvents(),(t||e)&&r.props.onAfterChange(r.getValue()),r.setState({dragging:!1})};var i=void 0!==e.defaultValue?e.defaultValue:e.min,o=void 0!==e.value?e.value:i;return r.state={value:r.trimAlignValue(o),dragging:!1},_(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),_(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),r}return(0,s.Z)(n,[{key:"calcValueByPos",value:function(e){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.min,i=n.max,o=n.value,a=n.onChange;if("min"in this.props||"max"in this.props){var s=void 0!==o?o:t.value,l=this.trimAlignValue(s,this.props);l!==t.value&&(this.setState({value:l}),r===e.min&&i===e.max||!z(s,this.props)||a(l))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),r=e.value>this.props.max?o(o({},e),{},{value:this.props.max}):e;n&&this.setState(r);var i=r.value;t.onChange(i)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:r}))}},{key:"onMove",value:function(e,t){K(e);var n=this.state.value,r=this.calcValueByPos(t);r!==n&&this.onChange({value:r})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=$(e,t.vertical,n);if(r){K(e);var i=this.state.value,o=r(i,this.props),a=this.trimAlignValue(o);if(a===i)return;this.onChange({value:a}),this.props.onAfterChange(a),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var e=this.props.startPoint||this.props.min;return this.state.value>e?e:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=o(o({},this.props),t);return H(W(e,n),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,i=t.included,a=t.disabled,s=t.minimumTrackStyle,l=t.trackStyle,c=t.handleStyle,u=t.tabIndex,d=t.ariaLabelForHandle,f=t.ariaLabelledByForHandle,p=t.ariaValueTextFormatterForHandle,g=t.min,m=t.max,v=t.startPoint,y=t.reverse,_=t.handle,w=this.state,x=w.value,C=w.dragging,E=this.calcOffset(x),I=_({className:"".concat(n,"-handle"),prefixCls:n,vertical:r,offset:E,value:x,dragging:C,disabled:a,min:g,max:m,reverse:y,index:0,tabIndex:u,ariaLabel:d,ariaLabelledBy:f,ariaValueTextFormatter:p,style:c[0]||c,ref:function(t){return e.saveHandle(0,t)}}),T=void 0!==v?this.calcOffset(v):0,k=l[0]||l;return{tracks:h.createElement(b,{className:"".concat(n,"-track"),vertical:r,included:i,offset:T,reverse:y,length:E-T,style:o(o({},s),k)}),handles:I}}}]),n}(h.Component));var X=function(e){var t=e.value,n=e.handle,r=e.bounds,i=e.props,o=i.allowCross,a=i.pushable,s=Number(a),l=W(t,i),c=l;return o||null==n||void 0===r||(n>0&&l<=r[n-1]+s&&(c=r[n-1]+s),n<r.length-1&&l>=r[n+1]-s&&(c=r[n+1]-s)),H(c,i)},ee=function(e){(0,l.Z)(n,e);var t=d(n);function n(e){var r;(0,a.Z)(this,n),(r=t.call(this,e)).positionGetValue=function(e){var t=r.getValue(),n=r.calcValueByPos(e),i=r.getClosestBound(n),o=r.getBoundNeedMoving(n,i);if(n===t[o])return null;var a=T(t);return a[o]=n,a},r.onEnd=function(e){var t=r.state.handle;r.removeDocumentEvents(),t||(r.dragTrack=!1),(null!==t||e)&&r.props.onAfterChange(r.getValue()),r.setState({handle:null})};var i=e.count,o=e.min,s=e.max,l=Array.apply(void 0,T(Array(i+1))).map((function(){return o})),c="defaultValue"in e?e.defaultValue:l,u=(void 0!==e.value?e.value:c).map((function(t,n){return X({value:t,handle:n,props:e})})),d=u[0]===s?0:u.length-1;return r.state={handle:null,recent:d,bounds:u},r}return(0,s.Z)(n,[{key:"calcValueByPos",value:function(e){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,i=r.onChange,o=r.value,a=r.min,s=r.max;if(("min"in this.props||"max"in this.props)&&(a!==e.min||s!==e.max)){var l=o||t.bounds;l.some((function(e){return z(e,n.props)}))&&i(l.map((function(e){return W(e,n.props)})))}}},{key:"onChange",value:function(e){var t=this.props;if("value"in t){var n={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),Object.keys(n).length&&this.setState(n)}else this.setState(e);var r=o(o({},this.state),e).bounds;t.onChange(r)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e;var o=this.getClosestBound(i);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(i,o),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),i!==r[this.prevMovedHandleIndex]){var a=T(n.bounds);a[this.prevMovedHandleIndex]=i,this.onChange({bounds:a})}}},{key:"onMove",value:function(e,t,n,r){K(e);var i=this.state,o=this.props,a=o.max||100,s=o.min||0;if(n){var l=o.vertical?-t:t;l=o.reverse?-l:l;var c=a-Math.max.apply(Math,T(r)),u=s-Math.min.apply(Math,T(r)),d=Math.min(Math.max(l/(this.getSliderLength()/(a-s)),u),c),h=r.map((function(e){return Math.floor(Math.max(Math.min(e+d,a),s))}));i.bounds.map((function(e,t){return e===h[t]})).some((function(e){return!e}))&&this.onChange({bounds:h})}else{var f=this.calcValueByPos(t);f!==i.bounds[i.handle]&&this.moveTo(f)}}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=$(e,t.vertical,n);if(r){K(e);var i=this.state,o=this.props,a=i.bounds,s=i.handle,l=a[null===s?i.recent:s],c=r(l,o),u=X({value:c,handle:s,bounds:i.bounds,props:o});if(u===l)return;this.moveTo(u,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;r+=1)e>=t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,r=n.bounds,i=n.recent,o=t,a=r[t+1]===r[t];return a&&r[i]===r[t]&&(o=i),a&&e!==r[t+1]&&(o=e<r[t+1]?t:t+1),o}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,r=e.min,i=e.max,a=this.internalPointsCache;if(!a||a.marks!==t||a.step!==n){var s=o({},t);if(null!==n)for(var l=r;l<=i;l+=n)s[l]=l;var c=Object.keys(s).map(parseFloat);c.sort((function(e,t){return e-t})),this.internalPointsCache={marks:t,step:n,points:c}}return this.internalPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,r=this.state,i=this.props,o=T(r.bounds),a=null===r.handle?r.recent:r.handle;o[a]=e;var s=a;!1!==i.pushable?this.pushSurroundingHandles(o,s):i.allowCross&&(o.sort((function(e,t){return e-t})),s=o.indexOf(e)),this.onChange({recent:s,handle:s,bounds:o}),t&&(this.props.onAfterChange(o),this.setState({},(function(){n.handlesRefs[s].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],r=this.props.pushable,i=Number(r),o=0;if(e[t+1]-n<i&&(o=1),n-e[t-1]<i&&(o=-1),0!==o){var a=t+o,s=o*(e[a]-n);this.pushHandle(e,a,o,i-s)||(e[t]=e[a]-o*i)}}},{key:"pushHandle",value:function(e,t,n,r){for(var i=e[t],o=e[t];n*(o-i)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=i,!1;o=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var r=this.getPoints(),i=r.indexOf(e[t])+n;if(i>=r.length||i<0)return!1;var o=t+n,a=r[i],s=this.props.pushable,l=Number(s),c=n*(e[o]-a);return!!this.pushHandle(e,o,n,l-c)&&(e[t]=a,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,n=t.handle,r=t.bounds;return X({value:e,handle:n,bounds:r,props:this.props})}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,i=t.bounds,o=this.props,a=o.prefixCls,s=o.vertical,l=o.included,c=o.disabled,u=o.min,d=o.max,f=o.reverse,p=o.handle,g=o.trackStyle,m=o.handleStyle,v=o.tabIndex,y=o.ariaLabelGroupForHandles,_=o.ariaLabelledByGroupForHandles,w=o.ariaValueTextFormatterGroupForHandles,x=i.map((function(t){return e.calcOffset(t)})),C="".concat(a,"-handle"),E=i.map((function(t,i){var o,l=v[i]||0;(c||null===v[i])&&(l=null);var h=n===i;return p({className:N()((o={},(0,r.Z)(o,C,!0),(0,r.Z)(o,"".concat(C,"-").concat(i+1),!0),(0,r.Z)(o,"".concat(C,"-dragging"),h),o)),prefixCls:a,vertical:s,dragging:h,offset:x[i],value:t,index:i,tabIndex:l,min:u,max:d,reverse:f,disabled:c,style:m[i],ref:function(t){return e.saveHandle(i,t)},ariaLabel:y[i],ariaLabelledBy:_[i],ariaValueTextFormatter:w[i]})}));return{tracks:i.slice(0,-1).map((function(e,t){var n,i=t+1,o=N()((n={},(0,r.Z)(n,"".concat(a,"-track"),!0),(0,r.Z)(n,"".concat(a,"-track-").concat(i),!0),n));return h.createElement(b,{className:o,vertical:s,reverse:f,included:l,offset:x[i-1],length:x[i]-x[i-1],style:g[t],key:i})})),handles:E}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!("value"in e||"min"in e||"max"in e))return null;var n=e.value||t.bounds,r=n.map((function(n,r){return X({value:n,handle:r,bounds:t.bounds,props:e})}));if(t.bounds.length===r.length){if(r.every((function(e,n){return e===t.bounds[n]})))return null}else r=n.map((function(t,n){return X({value:t,handle:n,props:e})}));return o(o({},t),{},{bounds:r})}}]),n}(h.Component);ee.displayName="Range",ee.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};const te=Q(ee);var ne=n(97326),re=function(e){return+setTimeout(e,16)},ie=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(re=function(e){return window.requestAnimationFrame(e)},ie=function(e){return window.cancelAnimationFrame(e)});var oe=0,ae=new Map;function se(e){ae.delete(e)}var le=function(e){var t=oe+=1;return function n(r){if(0===r)se(t),e();else{var i=re((function(){n(r-1)}));ae.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};le.cancel=function(e){var t=ae.get(e);return se(e),ie(t)};const ce=le;function ue(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}function de(e){return function(e){return e instanceof HTMLElement||e instanceof SVGElement}(e)?e:e instanceof h.Component?S.findDOMNode(e):null}var he=n(11805);function fe(e,t){"function"==typeof e?e(t):"object"===(0,R.Z)(e)&&e&&"current"in e&&(e.current=t)}function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){fe(t,e)}))}}function ge(e){var t,n,r=(0,he.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render)}function me(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}const ve=(0,h.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,i=e.children,o=(0,h.useRef)(),a=(0,h.useRef)();(0,h.useImperativeHandle)(t,(function(){return{}}));var s=(0,h.useRef)(!1);return!s.current&&me()&&(a.current=r(),o.current=a.current.parentNode,s.current=!0),(0,h.useEffect)((function(){null==n||n(e)})),(0,h.useEffect)((function(){return null===a.current.parentNode&&null!==o.current&&o.current.appendChild(a.current),function(){var e;null===(e=a.current)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(a.current)}}),[]),a.current?S.createPortal(i,a.current):null}));function ye(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var _e=n(29439),be=h.createContext({});const we=function(e){(0,l.Z)(n,e);var t=d(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(h.Component);function xe(e){var t=h.useRef(!1),n=h.useState(e),r=(0,_e.Z)(n,2),i=r[0],o=r[1];return h.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||o(e)}]}var Ce="none",Ee="appear",Ie="enter",Te="leave",ke="none",Se="prepare",Ae="start",Pe="active",Ne="end",Oe="prepared";function Re(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Le,Me,De,je=(Le=me(),Me="undefined"!=typeof window?window:{},De={animationend:Re("Animation","AnimationEnd"),transitionend:Re("Transition","TransitionEnd")},Le&&("AnimationEvent"in Me||delete De.animationend.animation,"TransitionEvent"in Me||delete De.transitionend.transition),De),Fe={};if(me()){var ze=document.createElement("div");Fe=ze.style}var Ue={};function Ve(e){if(Ue[e])return Ue[e];var t=je[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Fe)return Ue[e]=t[o],Ue[e]}return""}var Be=Ve("animationend"),Ge=Ve("transitionend"),Ze=!(!Be||!Ge),qe=Be||"animationend",We=Ge||"transitionend";function He(e,t){return e?"object"===(0,R.Z)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}const Ke=me()?h.useLayoutEffect:h.useEffect;var $e=[Se,Ae,Pe,Ne],Ye=[Se,Oe];function Qe(e){return e===Pe||e===Ne}const Je=function(e){var t=e;"object"===(0,R.Z)(e)&&(t=e.transitionSupport);var n=h.forwardRef((function(e,n){var i=e.visible,a=void 0===i||i,s=e.removeOnLeave,l=void 0===s||s,c=e.forceRender,u=e.children,d=e.motionName,f=e.leavedClassName,p=e.eventProps,g=function(e,n){return!(!e.motionName||!t||!1===n)}(e,h.useContext(be).motion),m=(0,h.useRef)(),v=(0,h.useRef)(),y=function(e,t,n,i){var a=i.motionEnter,s=void 0===a||a,l=i.motionAppear,c=void 0===l||l,u=i.motionLeave,d=void 0===u||u,f=i.motionDeadline,p=i.motionLeaveImmediately,g=i.onAppearPrepare,m=i.onEnterPrepare,v=i.onLeavePrepare,y=i.onAppearStart,_=i.onEnterStart,b=i.onLeaveStart,w=i.onAppearActive,x=i.onEnterActive,C=i.onLeaveActive,E=i.onAppearEnd,I=i.onEnterEnd,T=i.onLeaveEnd,k=i.onVisibleChanged,S=xe(),A=(0,_e.Z)(S,2),P=A[0],N=A[1],O=xe(Ce),R=(0,_e.Z)(O,2),L=R[0],M=R[1],D=xe(null),j=(0,_e.Z)(D,2),F=j[0],z=j[1],U=(0,h.useRef)(!1),V=(0,h.useRef)(null);function B(){return n()}var G=(0,h.useRef)(!1);function Z(){M(Ce,!0),z(null,!0)}function q(e){var t=B();if(!e||e.deadline||e.target===t){var n,r=G.current;L===Ee&&r?n=null==E?void 0:E(t,e):L===Ie&&r?n=null==I?void 0:I(t,e):L===Te&&r&&(n=null==T?void 0:T(t,e)),L!==Ce&&r&&!1!==n&&Z()}}var W=function(e){var t=(0,h.useRef)(),n=(0,h.useRef)(e);n.current=e;var r=h.useCallback((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(We,r),e.removeEventListener(qe,r))}return h.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(We,r),e.addEventListener(qe,r),t.current=e)},i]}(q),H=(0,_e.Z)(W,1)[0],K=function(e){var t,n,i;switch(e){case Ee:return t={},(0,r.Z)(t,Se,g),(0,r.Z)(t,Ae,y),(0,r.Z)(t,Pe,w),t;case Ie:return n={},(0,r.Z)(n,Se,m),(0,r.Z)(n,Ae,_),(0,r.Z)(n,Pe,x),n;case Te:return i={},(0,r.Z)(i,Se,v),(0,r.Z)(i,Ae,b),(0,r.Z)(i,Pe,C),i;default:return{}}},$=h.useMemo((function(){return K(L)}),[L]),Y=function(e,t,n){var r=xe(ke),i=(0,_e.Z)(r,2),o=i[0],a=i[1],s=function(){var e=h.useRef(null);function t(){ce.cancel(e.current)}return h.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=ce((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o},t]}(),l=(0,_e.Z)(s,2),c=l[0],u=l[1],d=t?Ye:$e;return Ke((function(){if(o!==ke&&o!==Ne){var e=d.indexOf(o),t=d[e+1],r=n(o);!1===r?a(t,!0):t&&c((function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,o]),h.useEffect((function(){return function(){u()}}),[]),[function(){a(Se,!0)},o]}(L,!e,(function(e){if(e===Se){var t=$[Se];return!!t&&t(B())}var n;return X in $&&z((null===(n=$[X])||void 0===n?void 0:n.call($,B(),null))||null),X===Pe&&(H(B()),f>0&&(clearTimeout(V.current),V.current=setTimeout((function(){q({deadline:!0})}),f))),X===Oe&&Z(),true})),Q=(0,_e.Z)(Y,2),J=Q[0],X=Q[1],ee=Qe(X);G.current=ee,Ke((function(){N(t);var n,r=U.current;U.current=!0,!r&&t&&c&&(n=Ee),r&&t&&s&&(n=Ie),(r&&!t&&d||!r&&p&&!t&&d)&&(n=Te);var i=K(n);n&&(e||i[Se])?(M(n),J()):M(Ce)}),[t]),(0,h.useEffect)((function(){(L===Ee&&!c||L===Ie&&!s||L===Te&&!d)&&M(Ce)}),[c,s,d]),(0,h.useEffect)((function(){return function(){U.current=!1,clearTimeout(V.current)}}),[]);var te=h.useRef(!1);(0,h.useEffect)((function(){P&&(te.current=!0),void 0!==P&&L===Ce&&((te.current||P)&&(null==k||k(P)),te.current=!0)}),[P,L]);var ne=F;return $[Se]&&X===Ae&&(ne=o({transition:"none"},ne)),[L,X,ne,null!=P?P:t]}(g,a,(function(){try{return m.current instanceof HTMLElement?m.current:de(v.current)}catch(e){return null}}),e),_=(0,_e.Z)(y,4),b=_[0],w=_[1],x=_[2],C=_[3],E=h.useRef(C);C&&(E.current=!0);var I,T=h.useCallback((function(e){m.current=e,fe(n,e)}),[n]),k=o(o({},p),{},{visible:a});if(u)if(b===Ce)I=C?u(o({},k),T):!l&&E.current&&f?u(o(o({},k),{},{className:f}),T):c||!l&&!f?u(o(o({},k),{},{style:{display:"none"}}),T):null;else{var S,A;w===Se?A="prepare":Qe(w)?A="active":w===Ae&&(A="start");var P=He(d,"".concat(b,"-").concat(A));I=u(o(o({},k),{},{className:N()(He(d,b),(S={},(0,r.Z)(S,P,P&&A),(0,r.Z)(S,d,"string"==typeof d),S)),style:x}),T)}else I=null;return h.isValidElement(I)&&ge(I)&&(I.ref||(I=h.cloneElement(I,{ref:T}))),h.createElement(we,{ref:v},I)}));return n.displayName="CSSMotion",n}(Ze);var Xe="add",et="keep",tt="remove",nt="removed";function rt(e){var t;return o(o({},t=e&&"object"===(0,R.Z)(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function it(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(rt)}var ot=["component","children","onVisibleChanged","onAllRemoved"],at=["status"],st=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je,n=function(e){(0,l.Z)(i,e);var n=d(i);function i(){var e;(0,a.Z)(this,i);for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];return e=n.call.apply(n,[this].concat(s)),(0,r.Z)((0,ne.Z)(e),"state",{keyEntities:[]}),(0,r.Z)((0,ne.Z)(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:o(o({},e),{},{status:nt})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==nt})).length})),e}return(0,s.Z)(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,a=r.children,s=r.onVisibleChanged,l=r.onAllRemoved,c=(0,x.Z)(r,ot),u=i||h.Fragment,d={};return st.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,h.createElement(u,c,n.map((function(n,r){var i=n.status,c=(0,x.Z)(n,at),u=i===Xe||i===et;return h.createElement(t,w({},d,{key:c.key,visible:u,eventProps:c,onVisibleChanged:function(t){null==s||s(t,{key:c.key}),t||0===e.removeKey(c.key)&&l&&l()}}),(function(e,t){return a(o(o({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=it(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=it(e),s=it(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var l=s[a];if(l.key===e.key){r<a&&(n=n.concat(s.slice(r,a).map((function(e){return o(o({},e),{},{status:Xe})}))),r=a),n.push(o(o({},l),{},{status:et})),r+=1,t=!0;break}}t||n.push(o(o({},e),{},{status:tt}))})),r<i&&(n=n.concat(s.slice(r).map((function(e){return o(o({},e),{},{status:Xe})}))));var l={};return n.forEach((function(e){var t=e.key;l[t]=(l[t]||0)+1})),Object.keys(l).filter((function(e){return l[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==tt}))).forEach((function(t){t.key===e&&(t.status=et)}))})),n}(r,i);return{keyEntities:a.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==nt||e.status!==tt}))}}}]),i}(h.Component);(0,r.Z)(n,"defaultProps",{component:"div"})}(Ze);const lt=Je;function ct(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function ut(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,i=e.mask,a=e.maskMotion,s=e.maskAnimation,l=e.maskTransitionName;if(!i)return null;var c={};return(a||l||s)&&(c=o({motionAppear:!0},ct({motion:a,prefixCls:t,transitionName:l,animation:s}))),h.createElement(lt,w({},c,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return h.createElement("div",{style:{zIndex:r},className:N()("".concat(t,"-mask"),n)})}))}function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt,mt={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function vt(){if(void 0!==gt)return gt;gt="";var e=document.createElement("p").style;for(var t in mt)t+"Transform"in e&&(gt=t);return gt}function yt(){return vt()?"".concat(vt(),"TransitionProperty"):"transitionProperty"}function _t(){return vt()?"".concat(vt(),"Transform"):"transform"}function bt(e,t){var n=yt();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function wt(e,t){var n=_t();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var xt,Ct=/matrix\((.*)\)/,Et=/matrix3d\((.*)\)/;function It(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function Tt(e,t,n){var r=n;if("object"!==ft(t))return void 0!==r?("number"==typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):xt(e,t);for(var i in t)t.hasOwnProperty(i)&&Tt(e,i,t[i])}function kt(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function St(e){return kt(e)}function At(e){return kt(e,!0)}function Pt(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=St(r),t.top+=At(r),t}function Nt(e){return null!=e&&e==e.window}function Ot(e){return Nt(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Rt=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Lt=/^(top|right|bottom|left)$/,Mt="currentStyle",Dt="runtimeStyle",jt="left";function Ft(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function zt(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Ut(e,t,n){"static"===Tt(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=Ft("left",n),a=Ft("top",n),s=zt(o),l=zt(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var c,u="",d=Pt(e);("left"in t||"top"in t)&&(u=(c=e).style.transitionProperty||c.style[yt()]||"",bt(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[a]="".concat(i,"px")),It(e);var h=Pt(e),f={};for(var p in t)if(t.hasOwnProperty(p)){var g=Ft(p,n),m="left"===p?r:i,v=d[p]-h[p];f[g]=g===p?m+v:m-v}Tt(e,f),It(e),("left"in t||"top"in t)&&bt(e,u);var y={};for(var _ in t)if(t.hasOwnProperty(_)){var b=Ft(_,n),w=t[_]-d[_];y[b]=_===b?f[b]+w:f[b]-w}Tt(e,y)}function Vt(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Bt(e){return"border-box"===xt(e,"boxSizing")}"undefined"!=typeof window&&(xt=window.getComputedStyle?function(e,t,n){var r=n,i="",o=Ot(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e[Mt]&&e[Mt][t];if(Rt.test(n)&&!Lt.test(t)){var r=e.style,i=r[jt],o=e[Dt][jt];e[Dt][jt]=e[Mt][jt],r[jt]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[jt]=i,e[Dt][jt]=o}return""===n?"auto":n});var Gt=["margin","border","padding"],Zt=-1,qt=2,Wt=1;function Ht(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(xt(e,s))||0}return a}var Kt={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function $t(e,t,n){var r=n;if(Nt(e))return"width"===t?Kt.viewportWidth(e):Kt.viewportHeight(e);if(9===e.nodeType)return"width"===t?Kt.docWidth(e):Kt.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=Bt(e),s=0;(null==o||o<=0)&&(o=void 0,(null==(s=xt(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=Math.floor(parseFloat(s))||0),void 0===r&&(r=a?Wt:Zt);var l=void 0!==o||a,c=o||s;return r===Zt?l?c-Ht(e,["border","padding"],i):s:l?r===Wt?c:c+(r===qt?-Ht(e,["border"],i):Ht(e,["margin"],i)):s+Ht(e,Gt.slice(r),i)}Vt(["Width","Height"],(function(e){Kt["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Kt["viewport".concat(e)](n))},Kt["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var Yt={position:"absolute",visibility:"hidden",display:"block"};function Qt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=$t.apply(void 0,t):function(e,n,i){var o,a={},s=e.style;for(o in n)n.hasOwnProperty(o)&&(a[o]=s[o],s[o]=n[o]);for(o in function(){r=$t.apply(void 0,t)}.call(e),n)n.hasOwnProperty(o)&&(s[o]=a[o])}(i,Yt),r}function Jt(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Vt(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Kt["outer".concat(t)]=function(t,n){return t&&Qt(t,e,n?0:Wt)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Kt[e]=function(t,r){var i=r;return void 0!==i?t?(Bt(t)&&(i+=Ht(t,["padding","border"],n)),Tt(t,e,i)):void 0:t&&Qt(t,e,Zt)}}));var Xt={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Ot,offset:function(e,t,n){if(void 0===t)return Pt(e);!function(e,t,n){if(n.ignoreShake){var r=Pt(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?Ut(e,t,n):n.useCssTransform&&_t()in document.body.style?function(e,t){var n=Pt(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(_t());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(_t());if(r&&"none"!==r){var i,o=r.match(Ct);o?((i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,wt(e,"matrix(".concat(i.join(","),")"))):((i=r.match(Et)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,wt(e,"matrix3d(".concat(i.join(","),")")))}else wt(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}(e,t):Ut(e,t,n)}(e,t,n||{})},isWindow:Nt,each:Vt,css:Tt,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Jt,getWindowScrollLeft:function(e){return St(e)},getWindowScrollTop:function(e){return At(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Xt.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Jt(Xt,Kt);var en=Xt.getParent;function tn(e){if(Xt.isWindow(e)||9===e.nodeType)return null;var t,n=Xt.getDocument(e).body,r=Xt.css(e,"position");if("fixed"!==r&&"absolute"!==r)return"html"===e.nodeName.toLowerCase()?null:en(e);for(t=en(e);t&&t!==n&&9!==t.nodeType;t=en(t))if("static"!==(r=Xt.css(t,"position")))return t;return null}var nn=Xt.getParent;function rn(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=tn(e),i=Xt.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===Xt.css(r,"overflow")){if(r===a||r===s)break}else{var l=Xt.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=tn(r)}var c=null;Xt.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===Xt.css(e,"position")&&(e.style.position="fixed"));var u=Xt.getWindowScrollLeft(o),d=Xt.getWindowScrollTop(o),h=Xt.viewportWidth(o),f=Xt.viewportHeight(o),p=s.scrollWidth,g=s.scrollHeight,m=window.getComputedStyle(a);if("hidden"===m.overflowX&&(p=o.innerWidth),"hidden"===m.overflowY&&(g=o.innerHeight),e.style&&(e.style.position=c),t||function(e){if(Xt.isWindow(e)||9===e.nodeType)return!1;var t=Xt.getDocument(e),n=t.body,r=null;for(r=nn(e);r&&r!==n&&r!==t;r=nn(r))if("fixed"===Xt.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,d),n.right=Math.min(n.right,u+h),n.bottom=Math.min(n.bottom,d+f);else{var v=Math.max(p,u+h);n.right=Math.min(n.right,v);var y=Math.max(g,d+f);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function on(e){var t,n,r;if(Xt.isWindow(e)||9===e.nodeType){var i=Xt.getWindow(e);t={left:Xt.getWindowScrollLeft(i),top:Xt.getWindowScrollTop(i)},n=Xt.viewportWidth(i),r=Xt.viewportHeight(i)}else t=Xt.offset(e),n=Xt.outerWidth(e),r=Xt.outerHeight(e);return t.width=n,t.height=r,t}function an(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function sn(e,t,n,r,i){var o=an(t,n[1]),a=an(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function ln(e,t,n){return e.left<n.left||e.left+t.width>n.right}function cn(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function un(e,t,n){var r=[];return Xt.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function dn(e,t){return e[t]=-e[t],e}function hn(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function fn(e,t){e[0]=hn(e[0],t.width),e[1]=hn(e[1],t.height)}function pn(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;o=[].concat(o),a=[].concat(a);var c={},u=0,d=rn(l,!(!(s=s||{})||!s.alwaysByViewport)),h=on(l);fn(o,h),fn(a,t);var f=sn(h,t,i,o,a),p=Xt.merge(h,f);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&ln(f,h,d)){var g=un(i,/[lr]/gi,{l:"r",r:"l"}),m=dn(o,0),v=dn(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(sn(h,t,g,m,v),h,d)||(u=1,i=g,o=m,a=v)}if(s.adjustY&&cn(f,h,d)){var y=un(i,/[tb]/gi,{t:"b",b:"t"}),_=dn(o,1),b=dn(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(sn(h,t,y,_,b),h,d)||(u=1,i=y,o=_,a=b)}u&&(f=sn(h,t,i,o,a),Xt.mix(p,f));var w=ln(f,h,d),x=cn(f,h,d);if(w||x){var C=i;w&&(C=un(i,/[lr]/gi,{l:"r",r:"l"})),x&&(C=un(i,/[tb]/gi,{t:"b",b:"t"})),i=C,o=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&w,c.adjustY=s.adjustY&&x,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=Xt.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Xt.mix(i,o)}(f,h,d,c))}return p.width!==h.width&&Xt.css(l,"width",Xt.width(l)+p.width-h.width),p.height!==h.height&&Xt.css(l,"height",Xt.height(l)+p.height-h.height),Xt.offset(l,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:c}}function gn(e,t,n){var r=n.target||t,i=on(r),o=!function(e,t){var n=rn(e,t),r=on(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return pn(e,i,n,o)}gn.__getOffsetParent=tn,gn.__getVisibleRectForElement=rn;var mn=me()?h.useLayoutEffect:h.useEffect;const vn=function(e,t){var n=h.useRef(!0);mn((function(){return e(n.current)}),t),mn((function(){return n.current=!1,function(){n.current=!0}}),[])};var yn=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),_n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,bn=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),wn="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(bn):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},xn=["top","right","bottom","left","width","height","size","weight"],Cn="undefined"!=typeof MutationObserver,En=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){wn(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){_n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Cn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){_n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;xn.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),In=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Tn=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||bn},kn=On(0,0,0,0);function Sn(e){return parseFloat(e)||0}function An(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Sn(e["border-"+n+"-width"])}),0)}var Pn="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Tn(e).SVGGraphicsElement}:function(e){return e instanceof Tn(e).SVGElement&&"function"==typeof e.getBBox};function Nn(e){return _n?Pn(e)?function(e){var t=e.getBBox();return On(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return kn;var r=Tn(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=Sn(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=Sn(r.width),l=Sn(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=An(r,"left","right")+o),Math.round(l+a)!==n&&(l-=An(r,"top","bottom")+a)),!function(e){return e===Tn(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return On(i.left,i.top,s,l)}(e):kn}function On(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Rn=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=On(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Nn(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Ln=function(e,t){var n,r,i,o,a,s,l,c=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),In(l,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),l);In(this,{target:e,contentRect:c})},Mn=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new yn,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Tn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Rn(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Tn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Ln(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Dn="undefined"!=typeof WeakMap?new WeakMap:new yn,jn=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=En.getInstance(),r=new Mn(t,n,this);Dn.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){jn.prototype[e]=function(){var t;return(t=Dn.get(this))[e].apply(t,arguments)}}));const Fn=void 0!==bn.ResizeObserver?bn.ResizeObserver:jn;function zn(e,t){var n=null,r=null,i=new Fn((function(e){var i=(0,_e.Z)(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,l=Math.floor(a),c=Math.floor(s);n===l&&r===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,r=c}}));return e&&i.observe(e),function(){i.disconnect()}}function Un(e){return"function"!=typeof e?null:e()}function Vn(e){return"object"===(0,R.Z)(e)&&e?e:null}var Bn=function(e,t){var n=e.children,r=e.disabled,i=e.target,o=e.align,a=e.onAlign,s=e.monitorWindowResize,l=e.monitorBufferTime,c=void 0===l?0:l,u=h.useRef({}),d=h.useRef(),f=h.Children.only(n),p=h.useRef({});p.current.disabled=r,p.current.target=i,p.current.align=o,p.current.onAlign=a;var g=function(e,t){var n=h.useRef(!1),r=h.useRef(null);function i(){window.clearTimeout(r.current)}return[function e(o){if(i(),n.current&&!0!==o)r.current=window.setTimeout((function(){n.current=!1,e()}),t);else{if(!1===function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign,o=d.current;if(!t&&n&&o){var a,s=Un(n),l=Vn(n);u.current.element=s,u.current.point=l,u.current.align=r;var c=document.activeElement;return s&&function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1}(s)?a=gn(o,s,r):l&&(a=function(e,t,n){var r,i,o=Xt.getDocument(e),a=o.defaultView||o.parentWindow,s=Xt.getWindowScrollLeft(a),l=Xt.getWindowScrollTop(a),c=Xt.viewportWidth(a),u=Xt.viewportHeight(a),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},h=r>=0&&r<=s+c&&i>=0&&i<=l+u,f=[n.points[0],"cc"];return pn(e,d,ht(ht({},n),{},{points:f}),h)}(o,l,r)),function(e,t){e!==document.activeElement&&ue(t,e)&&"function"==typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}())return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,i()}]}(0,c),m=(0,_e.Z)(g,2),v=m[0],y=m[1],b=h.useState(),w=(0,_e.Z)(b,2),x=w[0],C=w[1],E=h.useState(),I=(0,_e.Z)(E,2),T=I[0],k=I[1];return vn((function(){C(Un(i)),k(Vn(i))})),h.useEffect((function(){var e,t;u.current.element===x&&((e=u.current.point)===(t=T)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(t);if(_(!a,"Warning: There may be circular references"),a)return!1;if(t===i)return!0;if(n&&o>1)return!1;r.add(t);var s=o+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],i[l],s))return!1;return!0}if(t&&i&&"object"===(0,R.Z)(t)&&"object"===(0,R.Z)(i)){var c=Object.keys(t);return c.length===Object.keys(i).length&&c.every((function(n){return e(t[n],i[n],s)}))}return!1}(e,t)}(u.current.align,o)||v()})),h.useEffect((function(){return zn(d.current,v)}),[d.current]),h.useEffect((function(){return zn(x,v)}),[x]),h.useEffect((function(){r?y():v()}),[r]),h.useEffect((function(){if(s)return A(window,"resize",v).remove}),[s]),h.useEffect((function(){return function(){y()}}),[]),h.useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),h.isValidElement(f)&&(f=h.cloneElement(f,{ref:pe(f.ref,d)})),f},Gn=h.forwardRef(Bn);Gn.displayName="Align";const Zn=Gn;function qn(){qn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new P(r||[]);return i(a,"_invoke",{value:T(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function _(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(N([])));x&&x!==n&&r.call(x,a)&&(b=x);var C=_.prototype=v.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,a,s){var l=d(e[i],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==(0,R.Z)(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function T(t,n,r){var i=h;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var l=k(s,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?g:f,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,R.Z)(t)+" is not iterable")}return y.prototype=_,i(C,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:y,configurable:!0}),y.displayName=c(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},E(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new I(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(C),c(C,l,"Generator"),c(C,a,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Wn(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Hn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Wn(o,r,i,a,s,"next",e)}function s(e){Wn(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Kn=["measure","alignPre","align",null,"motion"],$n=h.forwardRef((function(e,t){var n=e.visible,r=e.prefixCls,i=e.className,a=e.style,s=e.children,l=e.zIndex,c=e.stretch,u=e.destroyPopupOnHide,d=e.forceRender,f=e.align,p=e.point,g=e.getRootDomNode,m=e.getClassNameFromAlign,v=e.onAlign,y=e.onMouseEnter,_=e.onMouseLeave,b=e.onMouseDown,x=e.onTouchStart,C=e.onClick,E=(0,h.useRef)(),I=(0,h.useRef)(),T=(0,h.useState)(),k=(0,_e.Z)(T,2),S=k[0],A=k[1],P=function(e){var t=h.useState({width:0,height:0}),n=(0,_e.Z)(t,2),r=n[0],i=n[1];return[h.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){var t=e.offsetWidth,n=e.offsetHeight,r=e.getBoundingClientRect(),o=r.width,a=r.height;Math.abs(t-o)<1&&Math.abs(n-a)<1&&(t=o,n=a),i({width:t,height:n})}]}(c),O=(0,_e.Z)(P,2),R=O[0],L=O[1],M=function(e,t){var n=xe(null),r=(0,_e.Z)(n,2),i=r[0],o=r[1],a=(0,h.useRef)();function s(e){o(e,!0)}function l(){ce.cancel(a.current)}return(0,h.useEffect)((function(){s("measure")}),[e]),(0,h.useEffect)((function(){"measure"===i&&(c&&L(g())),i&&(a.current=ce(Hn(qn().mark((function e(){var t,n;return qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Kn.indexOf(i),(n=Kn[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,h.useEffect)((function(){return function(){l()}}),[]),[i,function(e){l(),a.current=ce((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(n),D=(0,_e.Z)(M,2),j=D[0],F=D[1],z=(0,h.useState)(0),U=(0,_e.Z)(z,2),V=U[0],B=U[1],G=(0,h.useRef)();function Z(){var e;null===(e=E.current)||void 0===e||e.forceAlign()}function q(e,t){var n=m(t);S!==n&&A(n),B((function(e){return e+1})),"align"===j&&(null==v||v(e,t))}vn((function(){"alignPre"===j&&B(0)}),[j]),vn((function(){"align"===j&&(V<3?Z():F((function(){var e;null===(e=G.current)||void 0===e||e.call(G)})))}),[V]);var W=o({},ct(e));function H(){return new Promise((function(e){G.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=W[e];W[e]=function(e,n){return F(),null==t?void 0:t(e,n)}})),h.useEffect((function(){W.motionName||"motion"!==j||F()}),[W.motionName,j]),h.useImperativeHandle(t,(function(){return{forceAlign:Z,getElement:function(){return I.current}}}));var K=o(o({},R),{},{zIndex:l,opacity:"motion"!==j&&"stable"!==j&&n?0:void 0,pointerEvents:n||"stable"===j?void 0:"none"},a),$=!0;null==f||!f.points||"align"!==j&&"stable"!==j||($=!1);var Y=s;return h.Children.count(s)>1&&(Y=h.createElement("div",{className:"".concat(r,"-content")},s)),h.createElement(lt,w({visible:n,ref:I,leavedClassName:"".concat(r,"-hidden")},W,{onAppearPrepare:H,onEnterPrepare:H,removeOnLeave:u,forceRender:d}),(function(e,t){var n=e.className,a=e.style,s=N()(r,i,S,n);return h.createElement(Zn,{target:p||g,key:"popup",ref:E,monitorWindowResize:!0,disabled:$,align:f,onAlign:q},h.createElement("div",{ref:t,className:s,onMouseEnter:y,onMouseLeave:_,onMouseDownCapture:b,onTouchStartCapture:x,onClick:C,style:o(o({},a),K)},Y))}))}));$n.displayName="PopupInner";const Yn=$n;var Qn=h.forwardRef((function(e,t){var n=e.prefixCls,r=e.visible,i=e.zIndex,a=e.children,s=e.mobile,l=(s=void 0===s?{}:s).popupClassName,c=s.popupStyle,u=s.popupMotion,d=void 0===u?{}:u,f=s.popupRender,p=e.onClick,g=h.useRef();h.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return g.current}}}));var m=o({zIndex:i},c),v=a;return h.Children.count(a)>1&&(v=h.createElement("div",{className:"".concat(n,"-content")},a)),f&&(v=f(v)),h.createElement(lt,w({visible:r,ref:g,removeOnLeave:!0},d),(function(e,t){var r=e.className,i=e.style,a=N()(n,l,r);return h.createElement("div",{ref:t,className:a,onClick:p,style:o(o({},i),m)},v)}))}));Qn.displayName="MobilePopupInner";const Jn=Qn;var Xn=["visible","mobile"],er=h.forwardRef((function(e,t){var n=e.visible,r=e.mobile,i=(0,x.Z)(e,Xn),a=(0,h.useState)(n),s=(0,_e.Z)(a,2),l=s[0],c=s[1],u=(0,h.useState)(!1),d=(0,_e.Z)(u,2),f=d[0],p=d[1],g=o(o({},i),{},{visible:l});(0,h.useEffect)((function(){c(n),n&&r&&p(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}())}),[n,r]);var m=f?h.createElement(Jn,w({},g,{mobile:r,ref:t})):h.createElement(Yn,w({},g,{ref:t}));return h.createElement("div",null,h.createElement(ut,g),m)}));er.displayName="Popup";const tr=er,nr=h.createContext(null);function rr(){}var ir=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];const or=(ar=ve,sr=function(e){(0,l.Z)(n,e);var t=d(n);function n(e){var i,o;return(0,a.Z)(this,n),i=t.call(this,e),(0,r.Z)((0,ne.Z)(i),"popupRef",h.createRef()),(0,r.Z)((0,ne.Z)(i),"triggerRef",h.createRef()),(0,r.Z)((0,ne.Z)(i),"portalContainer",void 0),(0,r.Z)((0,ne.Z)(i),"attachId",void 0),(0,r.Z)((0,ne.Z)(i),"clickOutsideHandler",void 0),(0,r.Z)((0,ne.Z)(i),"touchOutsideHandler",void 0),(0,r.Z)((0,ne.Z)(i),"contextMenuOutsideHandler1",void 0),(0,r.Z)((0,ne.Z)(i),"contextMenuOutsideHandler2",void 0),(0,r.Z)((0,ne.Z)(i),"mouseDownTimeout",void 0),(0,r.Z)((0,ne.Z)(i),"focusTime",void 0),(0,r.Z)((0,ne.Z)(i),"preClickTime",void 0),(0,r.Z)((0,ne.Z)(i),"preTouchTime",void 0),(0,r.Z)((0,ne.Z)(i),"delayTimer",void 0),(0,r.Z)((0,ne.Z)(i),"hasPopupMouseDown",void 0),(0,r.Z)((0,ne.Z)(i),"onMouseEnter",(function(e){var t=i.props.mouseEnterDelay;i.fireEvents("onMouseEnter",e),i.delaySetPopupVisible(!0,t,t?null:e)})),(0,r.Z)((0,ne.Z)(i),"onMouseMove",(function(e){i.fireEvents("onMouseMove",e),i.setPoint(e)})),(0,r.Z)((0,ne.Z)(i),"onMouseLeave",(function(e){i.fireEvents("onMouseLeave",e),i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)})),(0,r.Z)((0,ne.Z)(i),"onPopupMouseEnter",(function(){i.clearDelayTimer()})),(0,r.Z)((0,ne.Z)(i),"onPopupMouseLeave",(function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&ue(null===(t=i.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)})),(0,r.Z)((0,ne.Z)(i),"onFocus",(function(e){i.fireEvents("onFocus",e),i.clearDelayTimer(),i.isFocusToShow()&&(i.focusTime=Date.now(),i.delaySetPopupVisible(!0,i.props.focusDelay))})),(0,r.Z)((0,ne.Z)(i),"onMouseDown",(function(e){i.fireEvents("onMouseDown",e),i.preClickTime=Date.now()})),(0,r.Z)((0,ne.Z)(i),"onTouchStart",(function(e){i.fireEvents("onTouchStart",e),i.preTouchTime=Date.now()})),(0,r.Z)((0,ne.Z)(i),"onBlur",(function(e){i.fireEvents("onBlur",e),i.clearDelayTimer(),i.isBlurToHide()&&i.delaySetPopupVisible(!1,i.props.blurDelay)})),(0,r.Z)((0,ne.Z)(i),"onContextMenu",(function(e){e.preventDefault(),i.fireEvents("onContextMenu",e),i.setPopupVisible(!0,e)})),(0,r.Z)((0,ne.Z)(i),"onContextMenuClose",(function(){i.isContextMenuToShow()&&i.close()})),(0,r.Z)((0,ne.Z)(i),"onClick",(function(e){if(i.fireEvents("onClick",e),i.focusTime){var t;if(i.preClickTime&&i.preTouchTime?t=Math.min(i.preClickTime,i.preTouchTime):i.preClickTime?t=i.preClickTime:i.preTouchTime&&(t=i.preTouchTime),Math.abs(t-i.focusTime)<20)return;i.focusTime=0}i.preClickTime=0,i.preTouchTime=0,i.isClickToShow()&&(i.isClickToHide()||i.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!i.state.popupVisible;(i.isClickToHide()&&!n||n&&i.isClickToShow())&&i.setPopupVisible(!i.state.popupVisible,e)})),(0,r.Z)((0,ne.Z)(i),"onPopupMouseDown",(function(){var e;i.hasPopupMouseDown=!0,clearTimeout(i.mouseDownTimeout),i.mouseDownTimeout=window.setTimeout((function(){i.hasPopupMouseDown=!1}),0),i.context&&(e=i.context).onPopupMouseDown.apply(e,arguments)})),(0,r.Z)((0,ne.Z)(i),"onDocumentClick",(function(e){if(!i.props.mask||i.props.maskClosable){var t=e.target,n=i.getRootDomNode(),r=i.getPopupDomNode();ue(n,t)&&!i.isContextMenuOnly()||ue(r,t)||i.hasPopupMouseDown||i.close()}})),(0,r.Z)((0,ne.Z)(i),"getRootDomNode",(function(){var e=i.props.getTriggerDOMNode;if(e)return e(i.triggerRef.current);try{var t=de(i.triggerRef.current);if(t)return t}catch(e){}return S.findDOMNode((0,ne.Z)(i))})),(0,r.Z)((0,ne.Z)(i),"getPopupClassNameFromAlign",(function(e){var t=[],n=i.props,r=n.popupPlacement,o=n.builtinPlacements,a=n.prefixCls,s=n.alignPoint,l=n.getPopupClassNameFromAlign;return r&&o&&t.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(ye(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),l&&t.push(l(e)),t.join(" ")})),(0,r.Z)((0,ne.Z)(i),"getComponent",(function(){var e=i.props,t=e.prefixCls,n=e.destroyPopupOnHide,r=e.popupClassName,o=e.onPopupAlign,a=e.popupMotion,s=e.popupAnimation,l=e.popupTransitionName,c=e.popupStyle,u=e.mask,d=e.maskAnimation,f=e.maskTransitionName,p=e.maskMotion,g=e.zIndex,m=e.popup,v=e.stretch,y=e.alignPoint,_=e.mobile,b=e.forceRender,x=e.onPopupClick,C=i.state,E=C.popupVisible,I=C.point,T=i.getPopupAlign(),k={};return i.isMouseEnterToShow()&&(k.onMouseEnter=i.onPopupMouseEnter),i.isMouseLeaveToHide()&&(k.onMouseLeave=i.onPopupMouseLeave),k.onMouseDown=i.onPopupMouseDown,k.onTouchStart=i.onPopupMouseDown,h.createElement(tr,w({prefixCls:t,destroyPopupOnHide:n,visible:E,point:y&&I,className:r,align:T,onAlign:o,animation:s,getClassNameFromAlign:i.getPopupClassNameFromAlign},k,{stretch:v,getRootDomNode:i.getRootDomNode,style:c,mask:u,zIndex:g,transitionName:l,maskAnimation:d,maskTransitionName:f,maskMotion:p,ref:i.popupRef,motion:a,mobile:_,forceRender:b,onClick:x}),"function"==typeof m?m():m)})),(0,r.Z)((0,ne.Z)(i),"attachParent",(function(e){ce.cancel(i.attachId);var t,n=i.props,r=n.getPopupContainer,o=n.getDocument,a=i.getRootDomNode();r?(a||0===r.length)&&(t=r(a)):t=o(i.getRootDomNode()).body,t?t.appendChild(e):i.attachId=ce((function(){i.attachParent(e)}))})),(0,r.Z)((0,ne.Z)(i),"getContainer",(function(){if(!i.portalContainer){var e=(0,i.props.getDocument)(i.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",i.portalContainer=e}return i.attachParent(i.portalContainer),i.portalContainer})),(0,r.Z)((0,ne.Z)(i),"setPoint",(function(e){i.props.alignPoint&&e&&i.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),(0,r.Z)((0,ne.Z)(i),"handlePortalUpdate",(function(){i.state.prevPopupVisible!==i.state.popupVisible&&i.props.afterPopupVisibleChange(i.state.popupVisible)})),(0,r.Z)((0,ne.Z)(i),"triggerContextValue",{onPopupMouseDown:i.onPopupMouseDown}),o="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,i.state={prevPopupVisible:o,popupVisible:o},ir.forEach((function(e){i["fire".concat(e)]=function(t){i.fireEvents(e,t)}})),i}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=A(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=A(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=A(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=A(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),ce.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return o(o({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,t=this.props,n=t.children,r=t.forceRender,i=t.alignPoint,a=t.className,s=t.autoDestroy,l=h.Children.only(n),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,i&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var u=N()(l&&l.props&&l.props.className,a);u&&(c.className=u);var d=o({},c);ge(l)&&(d.ref=pe(this.triggerRef,l.ref));var f,p=h.cloneElement(l,d);return(e||this.popupRef.current||r)&&(f=h.createElement(ar,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&s&&(f=null),h.createElement(nr.Provider,{value:this.triggerContextValue},p,f)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),n}(h.Component),(0,r.Z)(sr,"contextType",nr),(0,r.Z)(sr,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(e){return e?e.ownerDocument:window.document},onPopupVisibleChange:rr,afterPopupVisibleChange:rr,onPopupAlign:rr,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),sr);var ar,sr,lr={adjustX:1,adjustY:1},cr=[0,0],ur={left:{points:["cr","cl"],overflow:lr,offset:[-4,0],targetOffset:cr},right:{points:["cl","cr"],overflow:lr,offset:[4,0],targetOffset:cr},top:{points:["bc","tc"],overflow:lr,offset:[0,-4],targetOffset:cr},bottom:{points:["tc","bc"],overflow:lr,offset:[0,4],targetOffset:cr},topLeft:{points:["bl","tl"],overflow:lr,offset:[0,-4],targetOffset:cr},leftTop:{points:["tr","tl"],overflow:lr,offset:[-4,0],targetOffset:cr},topRight:{points:["br","tr"],overflow:lr,offset:[0,-4],targetOffset:cr},rightTop:{points:["tl","tr"],overflow:lr,offset:[4,0],targetOffset:cr},bottomRight:{points:["tr","br"],overflow:lr,offset:[0,4],targetOffset:cr},rightBottom:{points:["bl","br"],overflow:lr,offset:[4,0],targetOffset:cr},bottomLeft:{points:["tl","bl"],overflow:lr,offset:[0,4],targetOffset:cr},leftBottom:{points:["br","bl"],overflow:lr,offset:[-4,0],targetOffset:cr}};function dr(e){var t=e.showArrow,n=e.arrowContent,r=e.children,i=e.prefixCls,o=e.id,a=e.overlayInnerStyle,s=e.className,l=e.style;return h.createElement("div",{className:N()("".concat(i,"-content"),s),style:l},!1!==t&&h.createElement("div",{className:"".concat(i,"-arrow"),key:"arrow"},n),h.createElement("div",{className:"".concat(i,"-inner"),id:o,role:"tooltip",style:a},"function"==typeof r?r():r))}var hr=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],fr=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,a=e.mouseEnterDelay,s=void 0===a?0:a,l=e.mouseLeaveDelay,c=void 0===l?.1:l,u=e.overlayStyle,d=e.prefixCls,f=void 0===d?"rc-tooltip":d,p=e.children,g=e.onVisibleChange,m=e.afterVisibleChange,v=e.transitionName,y=e.animation,_=e.motion,b=e.placement,C=void 0===b?"right":b,E=e.align,I=void 0===E?{}:E,T=e.destroyTooltipOnHide,k=void 0!==T&&T,S=e.defaultVisible,A=e.getTooltipContainer,P=e.overlayInnerStyle,N=e.arrowContent,O=e.overlay,L=e.id,M=e.showArrow,D=void 0===M||M,j=(0,x.Z)(e,hr),F=(0,h.useRef)(null);(0,h.useImperativeHandle)(t,(function(){return F.current}));var z=o({},j);"visible"in e&&(z.popupVisible=e.visible);var U=!1,V=!1;if("boolean"==typeof k)U=k;else if(k&&"object"===(0,R.Z)(k)){var B=k.keepParent;U=!0===B,V=!1===B}return h.createElement(or,w({popupClassName:n,prefixCls:f,popup:function(){return h.createElement(dr,{showArrow:D,arrowContent:N,key:"content",prefixCls:f,id:L,overlayInnerStyle:P},O)},action:i,builtinPlacements:ur,popupPlacement:C,ref:F,popupAlign:I,getPopupContainer:A,onPopupVisibleChange:g,afterPopupVisibleChange:m,popupTransitionName:v,popupAnimation:y,popupMotion:_,defaultPopupVisible:S,destroyPopupOnHide:U,autoDestroy:V,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:s},z),p)};const pr=(0,h.forwardRef)(fr),gr=h.forwardRef((function(e,t){var n=e.visible,r=e.overlay,i=h.useRef(null),o=pe(t,i),a=h.useRef(null);function s(){ce.cancel(a.current)}return h.useEffect((function(){return n?a.current=ce((function(){var e;null===(e=i.current)||void 0===e||e.forcePopupAlign()})):s(),s}),[n,r]),h.createElement(pr,w({ref:o},e))}));function mr(e){var t;return t=function(t){(0,l.Z)(i,t);var n=d(i);function i(){var e;return(0,a.Z)(this,i),(e=n.apply(this,arguments)).state={visibles:{}},e.handleTooltipVisibleChange=function(t,n){e.setState((function(e){return{visibles:o(o({},e.visibles),{},(0,r.Z)({},t,n))}}))},e.handleWithTooltip=function(t){var n,r=t.value,i=t.dragging,a=t.index,s=t.disabled,l=(0,x.Z)(t,["value","dragging","index","disabled"]),c=e.props,u=c.tipFormatter,d=c.tipProps,f=c.handleStyle,p=c.getTooltipContainer,g=d.prefixCls,m=void 0===g?"rc-slider-tooltip":g,v=d.overlay,y=void 0===v?u(r):v,_=d.placement,b=void 0===_?"top":_,C=d.visible,E=void 0!==C&&C,I=(0,x.Z)(d,["prefixCls","overlay","placement","visible"]);return n=Array.isArray(f)?f[a]||f[0]:f,h.createElement(gr,w({},I,{getTooltipContainer:p,prefixCls:m,overlay:y,placement:b,visible:!s&&(e.state.visibles[a]||i)||E,key:a}),h.createElement(M,w({},l,{style:o({},n),value:r,onMouseEnter:function(){return e.handleTooltipVisibleChange(a,!0)},onMouseLeave:function(){return e.handleTooltipVisibleChange(a,!1)}})))},e}return(0,s.Z)(i,[{key:"render",value:function(){return h.createElement(e,w({},this.props,{handle:this.handleWithTooltip}))}}]),i}(h.Component),t.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{},getTooltipContainer:function(e){return e.parentNode}},t}var vr=J;vr.Range=te,vr.Handle=M,vr.createSliderWithTooltip=mr;const yr=vr},51162:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.isMemo=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case u:case p:case f:case s:return e;default:return t}}case r:return t}}}(e)===f}},11805:(e,t,n)=>{"use strict";e.exports=n(51162)},64448:(e,t,n)=>{"use strict";var r=n(9226),i=n(63840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,j=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function oe(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Ee=null;function Ie(e){if(e=_i(e)){if("function"!=typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){Ce?Ee?Ee.push(e):Ee=[e]:Ce=e}function ke(){if(Ce){var e=Ce,t=Ee;if(Ee=Ce=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Se(e,t){return e(t)}function Ae(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Se(e,t,n)}finally{Pe=!1,(null!==Ce||null!==Ee)&&(Ae(),ke())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Re=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var De=!1,je=null,Fe=!1,ze=null,Ue={onError:function(e){De=!0,je=e}};function Ve(e,t,n,r,i,o,a,s,l){De=!1,je=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ze(e){if(Be(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!=(o&=a)&&(r=dt(o))}else 0!=(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0==(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var wt,xt,Ct,Et,It,Tt=!1,kt=[],St=null,At=null,Pt=null,Nt=new Map,Ot=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=_i(t))&&xt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void It(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==St&&Ft(St)&&(St=null),null!==At&&Ft(At)&&(At=null),null!==Pt&&Ft(Pt)&&(Pt=null),Nt.forEach(zt),Ot.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<kt.length){Vt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&Vt(St,e),null!==At&&Vt(At,e),null!==Pt&&Vt(Pt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var Gt=b.ReactCurrentBatchConfig,Zt=!0;function qt(e,t,n,r){var i=_t,o=Gt.transition;Gt.transition=null;try{_t=1,Ht(e,t,n,r)}finally{_t=i,Gt.transition=o}}function Wt(e,t,n,r){var i=_t,o=Gt.transition;Gt.transition=null;try{_t=4,Ht(e,t,n,r)}finally{_t=i,Gt.transition=o}}function Ht(e,t,n,r){if(Zt){var i=$t(e,t,n,r);if(null===i)Zr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Dt(St,e,t,n,r,i),!0;case"dragenter":return At=Dt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Dt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Dt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&wt(o),null===(o=$t(e,t,n,r))&&Zr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var Kt=null;function $t(e,t,n,r){if(Kt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=j({},cn,{view:0,detail:0}),hn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(j({},fn,{dataTransfer:0})),mn=on(j({},dn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function In(){return En}var Tn=j({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(Tn),Sn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Nn),Rn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Dn=u&&"TextEvent"in window&&!Mn,jn=u&&(!Ln||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1,Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Kn(e){Fr(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Jn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"==typeof er.oninput}Jn=Xn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];qn(t,Hn,e,we(e)),Ne(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==K(r)||(r="selectionStart"in(r=mr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},Er={};function Ir(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Cr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Ir("animationend"),kr=Ir("animationiteration"),Sr=Ir("animationstart"),Ar=Ir("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Lr=Nr[Rr];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(kr,"onAnimationIteration"),Or(Sr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),De){if(!De)throw Error(o(198));var u=je;De=!1,je=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Yt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=we(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tr:case kr:case Sr:l=vn;break;case Ar:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sn}var u=0!=(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&null!=(g=Oe(p,h))&&u.push(qr(p,g,f))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Sn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:bi(l),f=null==c?s:bi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Hr(f))p++;for(f=0,g=h;g;g=Hr(g))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)h=Hr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hr(u),h=Hr(h)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Yn;else if(Zn(s))if(Qn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?qn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?bi(r):window,e){case"focusin":(Zn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Bn=!0)),0<(v=Wr(r,_)).length&&(_=new bn(_,e,null,n,i),a.push({event:_,listeners:v}),(y||null!==(y=Vn(n)))&&(_.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&Un(e,t)?(e=en(),Xt=Jt=Qt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Fr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Oe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Oe(n,o))&&a.unshift(qr(n,l,s)):i||null!=(l=Oe(n,o))&&a.push(qr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"==typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var xi=[],Ci=-1;function Ei(e){return{current:e}}function Ii(e){0>Ci||(e.current=xi[Ci],xi[Ci]=null,Ci--)}function Ti(e,t){Ci++,xi[Ci]=e.current,e.current=t}var ki={},Si=Ei(ki),Ai=Ei(!1),Pi=ki;function Ni(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!=e.childContextTypes}function Ri(){Ii(Ai),Ii(Si)}function Li(e,t,n){if(Si.current!==ki)throw Error(o(168));Ti(Si,t),Ti(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,G(e)||"Unknown",i));return j({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Pi=Si.current,Ti(Si,e),Ti(Ai,Ai.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Si),Ti(Si,e)):Ii(Ai),Ti(Ai,n)}var Fi=null,zi=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Xe,Bi),t}finally{_t=t,Ui=!1}}return null}var Gi=[],Zi=0,qi=null,Wi=0,Hi=[],Ki=0,$i=null,Yi=1,Qi="";function Ji(e,t){Gi[Zi++]=Wi,Gi[Zi++]=qi,qi=e,Wi=t}function Xi(e,t,n){Hi[Ki++]=Yi,Hi[Ki++]=Qi,Hi[Ki++]=$i,$i=e;var r=Yi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Yi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Ji(e,1),Xi(e,1,0))}function to(e){for(;e===qi;)qi=Gi[--Zi],Gi[Zi]=null,Wi=Gi[--Zi],Gi[Zi]=null;for(;e===$i;)$i=Hi[--Ki],Hi[Ki]=null,Qi=Hi[--Ki],Hi[Ki]=null,Yi=Hi[--Ki],Hi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=b.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ei(null),_o=null,bo=null,wo=null;function xo(){wo=bo=_o=null}function Co(e){var t=yo.current;Ii(yo),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){_o=e,wo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(bs=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===_o)throw Error(o(308));bo=e,_o.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var ko=null;function So(e){null===ko?ko=[e]:ko.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,So(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,So(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Do(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;No=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=g.payload)?p.call(f,d,h):p))break e;d=j({},d,h);break e;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);jl|=a,e.lanes=a,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Vo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Lo(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Do(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Do(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Lo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(rc(t,e,r,n),Do(t,e,r))}};function Go(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function Zo(e,t,n){var r=!1,i=ki,o=t.contextType;return"object"==typeof o&&null!==o?o=To(o):(i=Oi(t)?Pi:Si.current,o=(r=null!=(r=t.contextTypes))?Ni(e,i):ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=To(o):(o=Oi(t)?Pi:Si.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ho(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===O&&$o(o)===t.type)?((r=i(t,n.props)).ref=Ho(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ho(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ho(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&Ji(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}function m(i,s,l,c){var u=M(l);if("function"!=typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=f(i,g,y.value,c);if(null===_){null===g&&(g=v);break}e&&g&&null===_.alternate&&t(i,g),s=a(_,s,m),null===d?u=_:d.sibling=_,d=_,g=v}if(y.done)return n(i,g),io&&Ji(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}return function e(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===C){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===O&&$o(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Ho(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===C?((o=Dc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Mc(a.type,a.key,a.props,null,r.mode,l)).ref=Ho(r,o,a),l.return=r,r=l)}return s(r);case x:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(a,r.mode,l)).return=r,r=o}return s(r);case O:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(M(a))return m(r,o,a,l);Ko(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Qo=Yo(!0),Jo=Yo(!1),Xo={},ea=Ei(Xo),ta=Ei(Xo),na=Ei(Xo);function ra(e){if(e===Xo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(ea),Ti(ea,t)}function oa(){Ii(ea),Ii(ta),Ii(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function sa(e){ta.current===e&&(Ii(ea),Ii(ta))}var la=Ei(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=b.ReactCurrentDispatcher,fa=b.ReactCurrentBatchConfig,pa=0,ga=null,ma=null,va=null,ya=!1,_a=!1,ba=0,wa=0;function xa(){throw Error(o(321))}function Ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),_a){a=0;do{if(_a=!1,ba=0,25<=a)throw Error(o(301));a+=1,va=ma=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(_a)}if(ha.current=as,t=null!==ma&&null!==ma.next,pa=0,va=ma=ga=null,ya=!1,t)throw Error(o(300));return e}function Ia(){var e=0!==ba;return ba=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=e:va=va.next=e,va}function ka(){if(null===ma){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===va?ga.memoizedState:va.next;if(null!==t)va=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===va?ga.memoizedState=va=e:va=va.next=e}return va}function Sa(e,t){return"function"==typeof t?t(e):t}function Aa(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ga.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,jl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function Oa(e,t){var n=ga,r=ka(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Za(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,za(9,La.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!=(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function La(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&ja(e)}function Ma(e,t,n){return n((function(){Da(t)&&ja(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function ja(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=Ta();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return ka().memoizedState}function Va(e,t,n,r){var i=Ta();ga.flags|=e,i.memoizedState=za(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=ka();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Ca(r,a.deps))return void(i.memoizedState=za(t,n,o,r))}ga.flags|=e,i.memoizedState=za(1|t,n,o,r)}function Ga(e,t){return Va(8390656,8,e,t)}function Za(e,t){return Ba(2048,8,e,t)}function qa(e,t){return Ba(4,2,e,t)}function Wa(e,t){return Ba(4,4,e,t)}function Ha(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!=n?n.concat([e]):null,Ba(4,4,Ha.bind(null,t,e),n)}function $a(){}function Ya(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ca(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ca(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0==(21&pa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,jl|=n,e.baseState=!0),t)}function Xa(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{_t=n,fa.transition=r}}function es(){return ka().memoizedState}function ts(e,t,n){var r=nc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e)?is(t,n):null!==(n=Ao(e,t,n,r))&&(rc(n,e,r,tc()),os(n,t,r))}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,So(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Ao(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){_a=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:To,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Ga,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Va(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Fa,useDebugValue:$a,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Xa.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!=(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ga(Ma.bind(null,r,a,e),[e]),r.flags|=2048,za(9,La.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Pl.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:To,useCallback:Ya,useContext:To,useEffect:Za,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Qa,useReducer:Aa,useRef:Ua,useState:function(){return Aa(Sa)},useDebugValue:$a,useDeferredValue:function(e){return Ja(ka(),ma.memoizedState,e)},useTransition:function(){return[Aa(Sa)[0],ka().memoizedState]},useMutableSource:Na,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Ya,useContext:To,useEffect:Za,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Qa,useReducer:Pa,useRef:Ua,useState:function(){return Pa(Sa)},useDebugValue:$a,useDeferredValue:function(e){var t=ka();return null===ma?t.memoizedState=e:Ja(t,ma.memoizedState,e)},useTransition:function(){return[Pa(Sa)[0],ka().memoizedState]},useMutableSource:Na,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var fs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),hs(0,t)},n}function gs(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!=typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Qo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Io(t,i),r=Ea(e,t,n,r,o,i),n=Ia(),null===e||bs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Cs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Lc(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!=(131072&e.flags)&&(bs=!0)}}return ks(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ll,Rl),Rl|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ll,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ll,Rl),Rl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Ll,Rl),Rl|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var o=Oi(n)?Pi:Si.current;return o=Ni(t,o),Io(t,i),n=Ea(e,t,n,r,o,i),r=Ia(),null===e||bs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Ss(e,t,n,r,i){if(Oi(n)){var o=!0;Di(t)}else o=!1;if(Io(t,i),null===t.stateNode)Zs(e,t),Zo(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?To(c):Ni(t,c=Oi(n)?Pi:Si.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&qo(t,a,r,c),No=!1;var h=t.memoizedState;a.state=h,Fo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ai.current||No?("function"==typeof u&&(Vo(t,n,u,r),l=t.memoizedState),(s=No||Go(t,n,s,r,h,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,l="object"==typeof(l=n.contextType)&&null!==l?To(l):Ni(t,l=Oi(n)?Pi:Si.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&qo(t,a,r,l),No=!1,h=t.memoizedState,a.state=h,Fo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ai.current||No?("function"==typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(c=No||Go(t,n,c,r,h,p,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){Ts(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),qs(e,t,o);r=t.stateNode,_s.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ia(e,t.containerInfo)}function Ns(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Rs,Ls,Ms,Ds={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=jc(l,i,0,null),e=Dc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ds,e):zs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&Qo(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ds,a);if(0==(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!=(s&e.childLanes),bs||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),rc(r,e,i,-1))}return mc(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Hi[Ki++]=Yi,Hi[Ki++]=Qi,Hi[Ki++]=$i,Yi=e.id,Qi=e.overflow,$i=t),(t=zs(t,r.children)).flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0==(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Lc(r,s):(s=Dc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&go(r),Qo(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!=(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(la,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Hs(t),null;case 3:return r=t.stateNode,oa(),Ii(Ai),Ii(Si),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Rs(e,t),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!=(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":W(r),X(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"==typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&_(e,a,u,l))}switch(n){case"input":W(e),X(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ii(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&la.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),Rs(e,t),null===e&&Br(t.stateNode.containerInfo),Hs(t),null;case 10:return Co(t.type._context),Hs(t),null;case 19:if(Ii(la),null===(a=t.memoizedState))return Hs(t),null;if(r=0!=(128&t.flags),null===(l=a.rendering))if(r)Ws(a,!1);else{if(0!==Ml||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Ws(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Gl&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Hs(t),null}else 2*Qe()-a.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=la.current,Ti(la,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Rl)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $s(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ii(Ai),Ii(Si),da(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ii(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(la),null;case 4:return oa(),null;case 10:return Co(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Qs=!1,Js="function"==typeof WeakSet?WeakSet:Set,Xs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ic(e,t,n)}else n.current=null}function tl(e,t,n){try{n()}catch(n){Ic(e,t,n)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Qs||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Qs&&(el(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ic(n,t,e)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,fl(e,t,n),Qs=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(e){Ic(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(t){Ic(e,e.return,t)}try{rl(5,e,e.return)}catch(t){Ic(e,e.return,t)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(t){Ic(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),_e(l,s);var u=_e(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):_(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(t){Ic(e,e.return,t)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){Ic(e,e.return,t)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(t){Ic(e,e.return,t)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Qe())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,ml(t,e),Qs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!=(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(h=Xs=d;null!==Xs;){switch(p=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"==typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Ic(r,n,e)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Xs=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(t){Ic(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){Ic(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(t){Ic(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){Xs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!=(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Ys;var c=Qs;if(Ys=a,(Qs=l)&&!c)for(Xs=i;null!==Xs;)l=(a=Xs).child,22===a.tag&&null!==a.memoizedState?Cl(i):null!==l?(l.return=a,Xs=l):Cl(i);for(;null!==o;)Xs=o,bl(o,t,n),o=o.sibling;Xs=i,Ys=s,Qs=c}wl(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):wl(e)}}function wl(e){for(;null!==Xs;){var t=Xs;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&ol(t)}catch(e){Ic(t,t.return,e)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function xl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Cl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(e){Ic(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Ic(t,i,e)}}var o=t.return;try{ol(t)}catch(e){Ic(t,o,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){Ic(t,a,e)}}}catch(e){Ic(t,t.return,e)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var El,Il=Math.ceil,Tl=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,Sl=b.ReactCurrentBatchConfig,Al=0,Pl=null,Nl=null,Ol=0,Rl=0,Ll=Ei(0),Ml=0,Dl=null,jl=0,Fl=0,zl=0,Ul=null,Vl=null,Bl=0,Gl=1/0,Zl=null,ql=!1,Wl=null,Hl=null,Kl=!1,$l=null,Yl=0,Ql=0,Jl=null,Xl=-1,ec=0;function tc(){return 0!=(6&Al)?Qe():-1!==Xl?Xl:Xl=Qe()}function nc(e){return 0==(1&e.mode)?1:0!=(2&Al)&&0!==Ol?Ol&-Ol:null!==mo.transition?(0===ec&&(ec=gt()),ec):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Ql)throw Ql=0,Jl=null,Error(o(185));vt(e,n,r),0!=(2&Al)&&e===Pl||(e===Pl&&(0==(2&Al)&&(Fl|=n),4===Ml&&lc(e,Ol)),ic(e,r),1===n&&0===Al&&0==(1&t.mode)&&(Gl=Qe()+500,zi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!=(s&n)&&0==(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Pl?Ol:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),ai((function(){0==(6&Al)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Xl=-1,ec=0,0!=(6&Al))throw Error(o(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Ol:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Al;Al|=2;var a=gc();for(Pl===e&&Ol===t||(Zl=null,Gl=Qe()+500,fc(e,t));;)try{_c();break}catch(t){pc(e,t)}xo(),Tl.current=a,Al=i,null!==Nl?t=0:(Pl=null,Ol=0,t=Ml)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=ac(e,i)),1===t)throw n=Dl,fc(e,0),lc(e,r),ic(e,Qe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&0!==(a=pt(e))&&(r=a,t=ac(e,a)),1===t))throw n=Dl,fc(e,0),lc(e,r),ic(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Vl,Zl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Vl,Zl),t);break}xc(e,Vl,Zl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Vl,Zl),r);break}xc(e,Vl,Zl);break;default:throw Error(o(329))}}}return ic(e,Qe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~zl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!=(6&Al))throw Error(o(327));Cc();var t=ht(e,0);if(0==(1&t))return ic(e,Qe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Dl,fc(e,0),lc(e,t),ic(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Vl,Zl),ic(e,Qe()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Gl=Qe()+500,zi&&Bi())}}function dc(e){null!==$l&&0===$l.tag&&0==(6&Al)&&Cc();var t=Al;Al|=1;var n=Sl.transition,r=_t;try{if(Sl.transition=null,_t=1,e)return e()}finally{_t=r,Sl.transition=n,0==(6&(Al=t))&&Bi()}}function hc(){Rl=Ll.current,Ii(Ll)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ri();break;case 3:oa(),Ii(Ai),Ii(Si),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ii(la);break;case 10:Co(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,Nl=e=Lc(e.current,null),Ol=Rl=t,Ml=0,Dl=null,zl=Fl=jl=0,Vl=Ul=null,null!==ko){for(t=0;t<ko.length;t++)if(null!==(r=(n=ko[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}ko=null}return e}function pc(e,t){for(;;){var n=Nl;try{if(xo(),ha.current=as,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ma=ga=null,_a=!1,ba=0,kl.current=null,null===n||null===n.return){Ml=1,Dl=t,Nl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,h=d.tag;if(0==(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0==(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),go(us(c,l));break e}}a=c=us(c,l),4!==Ml&&(Ml=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,_=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Hl||!Hl.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,gs(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(e){t=e,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function gc(){var e=Tl.current;return Tl.current=as,null===e?as:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0==(268435455&jl)&&0==(268435455&Fl)||lc(Pl,Ol)}function vc(e,t){var n=Al;Al|=2;var r=gc();for(Pl===e&&Ol===t||(Zl=null,fc(e,t));;)try{yc();break}catch(t){pc(e,t)}if(xo(),Al=n,Tl.current=r,null!==Nl)throw Error(o(261));return Pl=null,Ol=0,Ml}function yc(){for(;null!==Nl;)bc(Nl)}function _c(){for(;null!==Nl&&!$e();)bc(Nl)}function bc(e){var t=El(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wc(e):Nl=t,kl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ks(n,t,Rl)))return void(Nl=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ml=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ml&&(Ml=5)}function xc(e,t,n){var r=_t,i=Sl.transition;try{Sl.transition=null,_t=1,function(e,t,n,r){do{Cc()}while(null!==$l);if(0!=(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pl&&(Nl=Pl=null,Ol=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Kl||(Kl=!0,Pc(tt,(function(){return Cc(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Sl.transition,Sl.transition=null;var s=_t;_t=1;var l=Al;Al|=4,kl.current=null,function(e,t){if(ei=Zt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Zt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var g=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(e){Ic(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}g=nl,nl=!1}(e,n),vl(n,e),pr(ti),Zt=!!ei,ti=ei=null,e.current=n,_l(n,e,i),Ye(),Al=l,_t=s,Sl.transition=a}else e.current=n;if(Kl&&(Kl=!1,$l=e,Yl=i),0===(a=e.pendingLanes)&&(Hl=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),ic(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!=(1&Yl)&&0!==e.tag&&Cc(),0!=(1&(a=e.pendingLanes))?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Bi()}(e,t,n,r)}finally{Sl.transition=i,_t=r}return null}function Cc(){if(null!==$l){var e=bt(Yl),t=Sl.transition,n=_t;try{if(Sl.transition=null,_t=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!=(6&Al))throw Error(o(331));var i=Al;for(Al|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!=(16&Xs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xs=h;else for(;null!==Xs;){var f=(d=Xs).sibling,p=d.return;if(al(d),d===u){Xs=null;break}if(null!==f){f.return=p,Xs=f;break}Xs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Xs=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!=(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var _=e.current;for(Xs=_;null!==Xs;){var b=(s=Xs).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=_;null!==Xs;){if(0!=(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(e){Ic(l,l.return,e)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Al=i,Bi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{_t=n,Sl.transition=t}}return!1}function Ec(e,t,n){e=Mo(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Mo(t,e=gs(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ol&n)===n&&(4===Ml||3===Ml&&(130023424&Ol)===Ol&&500>Qe()-Bl?fc(e,0):zl|=n),ic(e,t)}function kc(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ut,0==(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Po(e,t))&&(vt(e,t,n),ic(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kc(e,n)}function Pc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Rc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Dc(n.children,i,a,t);case E:s=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=a,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=a,e;case P:return(e=Oc(19,n,t,i)).elementType=P,e.lanes=a,e;case R:return jc(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case k:s=9;break e;case S:s=11;break e;case N:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Oc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Dc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Oc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Bc(e){if(!e)return ki;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Mi(e,n,t)}return t}function Gc(e,t,n,r,i,o,a,s,l){return(e=Vc(n,r,!0,e,0,o,0,s,l)).context=Bc(null),n=e.current,(o=Lo(r=tc(),i=nc(n))).callback=null!=t?t:null,Mo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Zc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,a))&&(rc(e,i,a,o),Do(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bs=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Di(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(la,1&la.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Fs(e,t,n):(Ti(la,1&la.current),null!==(e=qs(e,t,n))?e.sibling:null);Ti(la,1&la.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return qs(e,t,n)}(e,t,n);bs=0!=(131072&e.flags)}else bs=!1,io&&0!=(1048576&t.flags)&&Xi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zs(e,t),e=t.pendingProps;var i=Ni(t,Si.current);Io(t,n),i=Ea(null,t,r,e,i,n);var a=Ia();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Rc(e)?1:0;if(null!=e){if((e=e.$$typeof)===S)return 11;if(e===N)return 14}return 2}(r),e=vo(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=qs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=qs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Lo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Eo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Eo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Io(t,n),r=r(i=To(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Cs(e,t,r,i=vo(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Zs(e,t),t.tag=1,Oi(r)?(e=!0,Di(t)):e=!1,Io(t,n),Zo(t,r,i),Wo(t,r,i,n),As(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return Is(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"==typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=qc(a);s.call(e)}}Zc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=qc(a);o.call(e)}}var a=Gc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Zc(t,l,n,r)})),l}(n,t,e,i,r);return qc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Zc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Qe()),0==(6&Al)&&(Gl=Qe()+500,Bi()))}break;case 13:dc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Po(e,134217728);null!==t&&rc(t,e,134217728,tc()),Hc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);null!==n&&rc(n,e,t,tc()),Hc(e,t)}},Et=function(){return _t},It=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));H(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=uc,Ae=dc;var tu={usingClientEntryPoint:!1,Events:[_i,bi,wi,Te,ke,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kc;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},20745:(e,t,n)=>{"use strict";var r=n(73935);t.s=r.createRoot,r.hydrateRoot},73935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(64448)},49559:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=t||"";return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(o=t.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,r){return t>0&&t+e.length!==r.length&&e.search(n)>-1&&":"!==r.charAt(t-2)&&("-"!==r.charAt(t+e.length)||"-"===r.charAt(t-1))&&r.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}))),i&&(o=function(e){return"string"==typeof e&&-1!==e.indexOf("@")}(e=o)?(console.warn("This arg looks like an email address, redacting."),r):e),o};var n=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i,r="REDACTED (Potential Email Address)"},41638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var r=l(n(76161)),i=l(n(49559)),o=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],s=["page","hitType"];function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function v(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}var _=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"reset",(function(){t.isInitialized=!1,t._testMode=!1,t._currentMeasurementId,t._hasLoadedGA=!1,t._isQueuing=!1,t._queueGtag=[]})),v(this,"_gtag",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t._testMode||t._isQueuing?t._queueGtag.push(n):r.default.apply(void 0,n)})),v(this,"_loadGA",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://www.googletagmanager.com/gtag/js";if("undefined"!=typeof window&&"undefined"!=typeof document&&!t._hasLoadedGA){var i=document.createElement("script");i.async=!0,i.src="".concat(r,"?id=").concat(e),n&&i.setAttribute("nonce",n),document.body.appendChild(i),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},t._hasLoadedGA=!0}})),v(this,"_toGtagOptions",(function(e){if(e){var t={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"};return Object.entries(e).reduce((function(e,n){var r,i,o=(i=2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(r,i)||p(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];return t[a]?e[t[a]]=s:e[a]=s,e}),{})}})),v(this,"initialize",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Require GA_MEASUREMENT_ID");var r="string"==typeof e?[{trackingId:e}]:e;t._currentMeasurementId=r[0].trackingId;var i=n.gaOptions,o=n.gtagOptions,a=n.nonce,s=n.testMode,l=void 0!==s&&s,c=n.gtagUrl;if(t._testMode=l,l||t._loadGA(t._currentMeasurementId,a,c),t.isInitialized||(t._gtag("js",new Date),r.forEach((function(e){var n=f(f(f({},t._toGtagOptions(f(f({},i),e.gaOptions))),o),e.gtagOptions);Object.keys(n).length?t._gtag("config",e.trackingId,n):t._gtag("config",e.trackingId)}))),t.isInitialized=!0,!l){var u=d(t._queueGtag);for(t._queueGtag=[],t._isQueuing=!1;u.length;){var h=u.shift();t._gtag.apply(t,d(h)),"get"===h[0]&&(t._isQueuing=!0)}}})),v(this,"set",(function(e){e?"object"===u(e)?(0===Object.keys(e).length&&console.warn("empty `fieldsObject` given to .set()"),t._gaCommand("set",e)):console.warn("Expected `fieldsObject` arg to be an Object"):console.warn("`fieldsObject` is required in .set()")})),v(this,"_gaCommandSendEvent",(function(e,n,r,i,o){t._gtag("event",n,f(f({event_category:e,event_label:r,value:i},o&&{non_interaction:o.nonInteraction}),t._toGtagOptions(o)))})),v(this,"_gaCommandSendEventParameters",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"==typeof n[0])t._gaCommandSendEvent.apply(t,d(n.slice(1)));else{var i=n[0],a=i.eventCategory,s=i.eventAction,l=i.eventLabel,u=i.eventValue,h=(i.hitType,c(i,o));t._gaCommandSendEvent(a,s,l,u,h)}})),v(this,"_gaCommandSendTiming",(function(e,n,r,i){t._gtag("event","timing_complete",{name:n,value:r,event_category:e,event_label:i})})),v(this,"_gaCommandSendPageview",(function(e,n){if(n&&Object.keys(n).length){var r=t._toGtagOptions(n),i=r.title,o=r.location,s=c(r,a);t._gtag("event","page_view",f(f(f(f({},e&&{page_path:e}),i&&{page_title:i}),o&&{page_location:o}),s))}else e?t._gtag("event","page_view",{page_path:e}):t._gtag("event","page_view")})),v(this,"_gaCommandSendPageviewParameters",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"==typeof n[0])t._gaCommandSendPageview.apply(t,d(n.slice(1)));else{var i=n[0],o=i.page,a=(i.hitType,c(i,s));t._gaCommandSendPageview(o,a)}})),v(this,"_gaCommandSend",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i="string"==typeof n[0]?n[0]:n[0].hitType;switch(i){case"event":t._gaCommandSendEventParameters.apply(t,n);break;case"pageview":t._gaCommandSendPageviewParameters.apply(t,n);break;case"timing":t._gaCommandSendTiming.apply(t,d(n.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(i));break;default:console.warn("Send command doesn't exist: ".concat(i))}})),v(this,"_gaCommandSet",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]=v({},n[0],n[1])),t._gtag("set",t._toGtagOptions(n[0]))})),v(this,"_gaCommand",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];switch(e){case"send":t._gaCommandSend.apply(t,r);break;case"set":t._gaCommandSet.apply(t,r);break;default:console.warn("Command doesn't exist: ".concat(e))}})),v(this,"ga",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"==typeof n[0])t._gaCommand.apply(t,n);else{var i=n[0];t._gtag("get",t._currentMeasurementId,"client_id",(function(e){t._isQueuing=!1;var n=t._queueGtag;for(i({get:function(n){return"clientId"===n?e:"trackingId"===n?t._currentMeasurementId:"apiVersion"===n?"1":void 0}});n.length;){var r=n.shift();t._gtag.apply(t,d(r))}})),t._isQueuing=!0}return t.ga})),v(this,"event",(function(e,n){if("string"==typeof e)t._gtag("event",e,t._toGtagOptions(n));else{var r=e.action,o=e.category,a=e.label,s=e.value,l=e.nonInteraction,c=e.transport;if(!o||!r)return void console.warn("args.category AND args.action are required in event()");var u={hitType:"event",eventCategory:(0,i.default)(o),eventAction:(0,i.default)(r)};a&&(u.eventLabel=(0,i.default)(a)),void 0!==s&&("number"!=typeof s?console.warn("Expected `args.value` arg to be a Number."):u.eventValue=s),void 0!==l&&("boolean"!=typeof l?console.warn("`args.nonInteraction` must be a boolean."):u.nonInteraction=l),void 0!==c&&("string"!=typeof c?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(c)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),u.transport=c)),t._gaCommand("send",u)}})),v(this,"send",(function(e){t._gaCommand("send",e)})),this.reset()}var t,n;return t=e,n=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],n&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.GA4=_;var b=new _;t.default=b},76161:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;"undefined"!=typeof window&&(void 0===window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(r=window).gtag.apply(r,t))}},49089:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.ZP=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(41638));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}i.GA4;var a=i.default;t.ZP=a},97031:(e,t,n)=>{"use strict";n.d(t,{OO:()=>p,zv:()=>v,qi:()=>w,JP:()=>m,nI:()=>_,kK:()=>x,Db:()=>b,j_:()=>g,I6:()=>y});var r=n(15671),i=n(43144),o=n(4942),a=n(9226),s=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,l={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},c=function(e){return l[e]};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,f={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(s,c)}},p=(0,a.createContext)();function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f=d(d({},f),e)}function m(){return f}var v=function(){function e(){(0,r.Z)(this,e),this.usedNamespaces={}}return(0,i.Z)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function y(e){h=e}function _(){return h}var b={type:"3rdParty",init:function(e){g(e.options.react),y(e)}};function w(e){return function(t){return new Promise((function(n){var r=x();e.getInitialProps?e.getInitialProps(t).then((function(e){n(d(d({},e),r))})):n(r)}))}}function x(){var e=_(),t=e.reportNamespaces?e.reportNamespaces.getUsedNamespaces():[],n={},r={};return e.languages.forEach((function(n){r[n]={},t.forEach((function(t){r[n][t]=e.getResourceBundle(n,t)||{}}))})),n.initialI18nStore=r,n.initialLanguage=e.language,n}},93082:(e,t,n)=>{"use strict";n.r(t),n.d(t,{I18nContext:()=>v.OO,I18nextProvider:()=>D,Trans:()=>k,Translation:()=>M,composeInitialProps:()=>v.qi,date:()=>V,getDefaults:()=>v.JP,getI18n:()=>v.nI,getInitialProps:()=>v.kK,initReactI18next:()=>v.Db,number:()=>G,plural:()=>q,select:()=>Z,selectOrdinal:()=>W,setDefaults:()=>v.j_,setI18n:()=>v.I6,time:()=>B,useSSR:()=>j,useTranslation:()=>S.$,withSSR:()=>U,withTranslation:()=>R});var r=n(44925),i=n(71002),o=n(4942),a=n(9226),s=n(71739),l=n.n(s),c=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function u(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(l()[n[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var i=new RegExp(c),o=null;null!==(o=i.exec(e));)if(o[0].trim())if(o[1]){var a=o[1].trim(),s=[a,""];a.indexOf("=")>-1&&(s=a.split("=")),t.attrs[s[0]]=s[1],i.lastIndex--}else o[2]&&(t.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return t}var d=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,h=/^\s*$/,f=Object.create(null);function p(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(p,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var g={parse:function(e,t){t||(t={}),t.components||(t.components=f);var n,r=[],i=[],o=-1,a=!1;if(0!==e.indexOf("<")){var s=e.indexOf("<");r.push({type:"text",content:-1===s?e:e.substring(0,s)})}return e.replace(d,(function(s,l){if(a){if(s!=="</"+n.name+">")return;a=!1}var c,d="/"!==s.charAt(1),f=s.startsWith("\x3c!--"),p=l+s.length,g=e.charAt(p);if(f){var m=u(s);return o<0?(r.push(m),r):((c=i[o]).children.push(m),r)}if(d&&(o++,"tag"===(n=u(s)).type&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!g||"<"===g||n.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===o&&r.push(n),(c=i[o-1])&&c.children.push(n),i[o]=n),(!d||n.voidElement)&&(o>-1&&(n.voidElement||n.name===s.slice(2,-1))&&(o--,n=-1===o?r:i[o]),!a&&"<"!==g&&g)){c=-1===o?r:i[o].children;var v=e.indexOf("<",p),y=e.slice(p,-1===v?void 0:v);h.test(y)&&(y=" "),(v>-1&&o+c.length>=0||" "!==y)&&c.push({type:"text",content:y})}})),r},stringify:function(e){return e.reduce((function(e,t){return e+p("",t)}),"")}};const m=g;var v=n(97031),y=n(58236),_=["format"],b=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){if(!e)return!1;var n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function E(e){return e?e.props?e.props.children:e.children:[]}function I(e){return Array.isArray(e)?e:[e]}function T(e,t){if(!e)return"";var n="",o=I(e),s=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return o.forEach((function(e,o){if("string"==typeof e)n+="".concat(e);else if((0,a.isValidElement)(e)){var l=Object.keys(e.props).length,c=s.indexOf(e.type)>-1,u=e.props.children;if(!u&&c&&0===l)n+="<".concat(e.type,"/>");else if(u||c&&0===l)if(e.props.i18nIsDynamicList)n+="<".concat(o,"></").concat(o,">");else if(c&&1===l&&"string"==typeof u)n+="<".concat(e.type,">").concat(u,"</").concat(e.type,">");else{var d=T(u,t);n+="<".concat(o,">").concat(d,"</").concat(o,">")}else n+="<".concat(o,"></").concat(o,">")}else if(null===e)(0,y.ZK)("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===(0,i.Z)(e)){var h=e.format,f=(0,r.Z)(e,_),p=Object.keys(f);if(1===p.length){var g=h?"".concat(p[0],", ").concat(h):p[0];n+="{{".concat(g,"}}")}else(0,y.ZK)("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else(0,y.ZK)("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),n}function k(e){var t=e.children,n=e.count,o=e.parent,s=e.i18nKey,l=e.context,c=e.tOptions,u=void 0===c?{}:c,d=e.values,h=e.defaults,f=e.components,p=e.ns,g=e.i18n,_=e.t,w=e.shouldUnescape,k=(0,r.Z)(e,b),S=(0,a.useContext)(v.OO)||{},A=S.i18n,P=S.defaultNS,N=g||A||(0,v.nI)();if(!N)return(0,y.O4)("You will need to pass in an i18next instance by using i18nextReactModule"),t;var O=_||N.t.bind(N)||function(e){return e};l&&(u.context=l);var R=x(x({},(0,v.JP)()),N.options&&N.options.react),L=p||O.ns||P||N.options&&N.options.defaultNS;L="string"==typeof L?[L]:L||["translation"];var M=h||T(t,R)||R.transEmptyNodeValue||s,D=R.hashTransKey,j=s||(D?D(M):M),F=d?u.interpolation:{interpolation:x(x({},u.interpolation),{},{prefix:"#$?",suffix:"?$#"})},z=x(x(x(x({},u),{},{count:n},d),F),{},{defaultValue:M,ns:L}),U=function(e,t,n,r,o,s){if(""===t)return[];var l=r.transKeepBasicHtmlNodesFor||[],c=t&&new RegExp(l.join("|")).test(t);if(!e&&!c)return[t];var u={};!function e(t){I(t).forEach((function(t){"string"!=typeof t&&(C(t)?e(E(t)):"object"!==(0,i.Z)(t)||(0,a.isValidElement)(t)||Object.assign(u,t))}))}(e);var d=m.parse("<0>".concat(t,"</0>")),h=x(x({},u),o);function f(e,t,n){var r=E(e),i=g(r,t.children,n);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return(0,a.isValidElement)(e)}))}(r)&&0===i.length?r:i}function p(e,t,n,r,i){e.dummy&&(e.children=t),n.push((0,a.cloneElement)(e,x(x({},e.props),{},{key:r}),i?void 0:t))}function g(t,o,u){var d=I(t);return I(o).reduce((function(t,o,m){var v,y,_,b=o.children&&o.children[0]&&o.children[0].content&&n.services.interpolator.interpolate(o.children[0].content,h,n.language);if("tag"===o.type){var w=d[parseInt(o.name,10)];!w&&1===u.length&&u[0][o.name]&&(w=u[0][o.name]),w||(w={});var E=0!==Object.keys(o.attrs).length?(v={props:o.attrs},(_=x({},y=w)).props=Object.assign(v.props,y.props),_):w,I=(0,a.isValidElement)(E),T=I&&C(o,!0)&&!o.voidElement,k=c&&"object"===(0,i.Z)(E)&&E.dummy&&!I,S="object"===(0,i.Z)(e)&&null!==e&&Object.hasOwnProperty.call(e,o.name);if("string"==typeof E){var A=n.services.interpolator.interpolate(E,h,n.language);t.push(A)}else if(C(E)||T)p(E,f(E,o,u),t,m);else if(k){var P=g(d,o.children,u);t.push((0,a.cloneElement)(E,x(x({},E.props),{},{key:m}),P))}else if(Number.isNaN(parseFloat(o.name)))if(S)p(E,f(E,o,u),t,m,o.voidElement);else if(r.transSupportBasicHtmlNodes&&l.indexOf(o.name)>-1)if(o.voidElement)t.push((0,a.createElement)(o.name,{key:"".concat(o.name,"-").concat(m)}));else{var N=g(d,o.children,u);t.push((0,a.createElement)(o.name,{key:"".concat(o.name,"-").concat(m)},N))}else if(o.voidElement)t.push("<".concat(o.name," />"));else{var O=g(d,o.children,u);t.push("<".concat(o.name,">").concat(O,"</").concat(o.name,">"))}else if("object"!==(0,i.Z)(E)||I)1===o.children.length&&b?t.push((0,a.cloneElement)(E,x(x({},E.props),{},{key:m}),b)):t.push((0,a.cloneElement)(E,x(x({},E.props),{},{key:m})));else{var R=o.children[0]?b:null;R&&t.push(R)}}else if("text"===o.type){var L=r.transWrapTextNodes,M=s?r.unescape(n.services.interpolator.interpolate(o.content,h,n.language)):n.services.interpolator.interpolate(o.content,h,n.language);L?t.push((0,a.createElement)(L,{key:"".concat(o.name,"-").concat(m)},M)):t.push(M)}return t}),[])}return E(g([{dummy:!0,children:e||[]}],d,I(e||[]))[0])}(f||t,j?O(j,z):M,N,R,z,w),V=void 0!==o?o:R.defaultTransParent;return V?(0,a.createElement)(V,k,U):U}var S=n(26793),A=n(29439),P=["forwardedRef"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){var o=i.forwardedRef,s=(0,r.Z)(i,P),l=(0,S.$)(e,O(O({},s),{},{keyPrefix:t.keyPrefix})),c=(0,A.Z)(l,3),u=c[0],d=c[1],h=c[2],f=O(O({},s),{},{t:u,i18n:d,tReady:h});return t.withRef&&o?f.ref=o:!t.withRef&&o&&(f.forwardedRef=o),(0,a.createElement)(n,f)}return i.displayName="withI18nextTranslation(".concat((0,y.Gf)(n),")"),i.WrappedComponent=n,t.withRef?(0,a.forwardRef)((function(e,t){return(0,a.createElement)(i,Object.assign({},e,{forwardedRef:t}))})):i}}var L=["ns","children"];function M(e){var t=e.ns,n=e.children,i=(0,r.Z)(e,L),o=(0,S.$)(t,i),a=(0,A.Z)(o,3),s=a[0],l=a[1],c=a[2];return n(s,{i18n:l,lng:l.language},c)}function D(e){var t=e.i18n,n=e.defaultNS,r=e.children,i=(0,a.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return(0,a.createElement)(v.OO.Provider,{value:i},r)}function j(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).i18n,r=((0,a.useContext)(v.OO)||{}).i18n,i=n||r||(0,v.nI)();i.options&&i.options.isClone||(e&&!i.initializedStoreOnce&&(i.services.resourceStore.data=e,i.options.ns=Object.values(e).reduce((function(e,t){return Object.keys(t).forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}),i.options.ns),i.initializedStoreOnce=!0,i.isInitialized=!0),t&&!i.initializedLanguageOnce&&(i.changeLanguage(t),i.initializedLanguageOnce=!0))}var F=["initialI18nStore","initialLanguage"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(){return function(e){function t(t){var n=t.initialI18nStore,i=t.initialLanguage,s=(0,r.Z)(t,F);return j(n,i),(0,a.createElement)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s))}return t.getInitialProps=(0,v.qi)(e),t.displayName="withI18nextSSR(".concat((0,y.Gf)(e),")"),t.WrappedComponent=e,t}}var V=function(){return""},B=function(){return""},G=function(){return""},Z=function(){return""},q=function(){return""},W=function(){return""}},26793:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var r=n(29439),i=n(4942),o=n(9226),a=n(97031),s=n(58236);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e,t){var n=(0,o.useRef)();return(0,o.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=(0,o.useContext)(a.OO)||{},l=i.i18n,d=i.defaultNS,h=n||l||(0,a.nI)();if(h&&!h.reportNamespaces&&(h.reportNamespaces=new a.zv),!h){(0,s.O4)("You will need to pass in an i18next instance by using initReactI18next");var f=function(e){return Array.isArray(e)?e[e.length-1]:e},p=[f,{},!1];return p.t=f,p.i18n={},p.ready=!1,p}h.options.react&&void 0!==h.options.react.wait&&(0,s.O4)("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var g=c(c(c({},(0,a.JP)()),h.options.react),t),m=g.useSuspense,v=g.keyPrefix,y=e||d||h.options&&h.options.defaultNS;y="string"==typeof y?[y]:y||["translation"],h.reportNamespaces.addUsedNamespaces&&h.reportNamespaces.addUsedNamespaces(y);var _=(h.isInitialized||h.initializedStoreOnce)&&y.every((function(e){return(0,s.F0)(e,h,g)}));function b(){return h.getFixedT(null,"fallback"===g.nsMode?y:y[0],v)}var w=(0,o.useState)(b),x=(0,r.Z)(w,2),C=x[0],E=x[1],I=y.join(),T=u(I),k=(0,o.useRef)(!0);(0,o.useEffect)((function(){var e=g.bindI18n,t=g.bindI18nStore;function n(){k.current&&E(b)}return k.current=!0,_||m||(0,s.DC)(h,y,(function(){k.current&&E(b)})),_&&T&&T!==I&&k.current&&E(b),e&&h&&h.on(e,n),t&&h&&h.store.on(t,n),function(){k.current=!1,e&&h&&e.split(" ").forEach((function(e){return h.off(e,n)})),t&&h&&t.split(" ").forEach((function(e){return h.store.off(e,n)}))}}),[h,I]);var S=(0,o.useRef)(!0);(0,o.useEffect)((function(){k.current&&!S.current&&E(b),S.current=!1}),[h,v]);var A=[C,h,_];if(A.t=C,A.i18n=h,A.ready=_,_)return A;if(!_&&!m)return A;throw new Promise((function(e){(0,s.DC)(h,y,(function(){e()}))}))}},58236:(e,t,n)=>{"use strict";function r(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}n.d(t,{DC:()=>a,F0:()=>s,Gf:()=>l,O4:()=>o,ZK:()=>r});var i={};function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&i[t[0]]||("string"==typeof t[0]&&(i[t[0]]=new Date),r.apply(void 0,t))}function a(e,t,n){e.loadNamespaces(t,(function(){e.isInitialized?n():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}))}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(r,e)||i&&!a(o,e)))}(e,t,n):(o("i18n.languages were undefined or empty",t.languages),!0)}function l(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}},79655:(e,t,n)=>{"use strict";var r,i;n.r(t),n.d(t,{AbortedDeferredError:()=>l.X3,Await:()=>s.KP,BrowserRouter:()=>R,Form:()=>U,HashRouter:()=>L,Link:()=>F,MemoryRouter:()=>s.VA,NavLink:()=>z,Navigate:()=>s.Fg,NavigationType:()=>l.aU,Outlet:()=>s.j3,Route:()=>s.AW,Router:()=>s.F0,RouterProvider:()=>N,Routes:()=>s.Z5,ScrollRestoration:()=>V,UNSAFE_DataRouterContext:()=>s.w3,UNSAFE_DataRouterStateContext:()=>s.FR,UNSAFE_FetchersContext:()=>T,UNSAFE_LocationContext:()=>s.gd,UNSAFE_NavigationContext:()=>s.Us,UNSAFE_RouteContext:()=>s.pW,UNSAFE_ViewTransitionContext:()=>I,UNSAFE_useRouteId:()=>s.Yi,UNSAFE_useScrollRestoration:()=>ne,createBrowserRouter:()=>w,createHashRouter:()=>x,createMemoryRouter:()=>s.bi,createPath:()=>l.Ep,createRoutesFromChildren:()=>s.is,createRoutesFromElements:()=>s.i7,createSearchParams:()=>p,defer:()=>l.PQ,generatePath:()=>l.Gn,isRouteErrorResponse:()=>l.WK,json:()=>l.AV,matchPath:()=>l.LX,matchRoutes:()=>l.fp,parsePath:()=>l.cP,redirect:()=>l.uX,redirectDocument:()=>l.fZ,renderMatches:()=>s.Oe,resolvePath:()=>l.i3,unstable_HistoryRouter:()=>M,unstable_usePrompt:()=>ie,unstable_useViewTransitionState:()=>oe,useActionData:()=>s.nA,useAsyncError:()=>s.iG,useAsyncValue:()=>s.qv,useBeforeUnload:()=>re,useBlocker:()=>s._Z,useFetcher:()=>J,useFetchers:()=>X,useFormAction:()=>Q,useHref:()=>s.oQ,useInRouterContext:()=>s.GV,useLinkClickHandler:()=>W,useLoaderData:()=>s.f_,useLocation:()=>s.TH,useMatch:()=>s.bS,useMatches:()=>s.SN,useNavigate:()=>s.s0,useNavigation:()=>s.HJ,useNavigationType:()=>s.ur,useOutlet:()=>s.pC,useOutletContext:()=>s.bx,useParams:()=>s.UO,useResolvedPath:()=>s.WU,useRevalidator:()=>s.xW,useRouteError:()=>s.lk,useRouteLoaderData:()=>s.V4,useRoutes:()=>s.V$,useSearchParams:()=>H,useSubmit:()=>Y});var o=n(9226),a=n(73935),s=n(89250),l=n(12599);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const d="get",h="application/x-www-form-urlencoded";function f(e){return null!=e&&"string"==typeof e.tagName}function p(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}let g=null;const m=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v(e){return null==e||m.has(e)?e:null}const y=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],b=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","unstable_viewTransition"];function w(e,t){return(0,l.p7)({basename:null==t?void 0:t.basename,future:c({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,l.lX)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||C(),routes:e,mapRouteProperties:s.us,window:null==t?void 0:t.window}).initialize()}function x(e,t){return(0,l.p7)({basename:null==t?void 0:t.basename,future:c({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,l.q_)({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||C(),routes:e,mapRouteProperties:s.us,window:null==t?void 0:t.window}).initialize()}function C(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=c({},t,{errors:E(t.errors)})),t}function E(e){if(!e)return null;let t=Object.entries(e),n={};for(let[e,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[e]=new l.OF(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let t=window[r.__subType];if("function"==typeof t)try{let i=new t(r.message);i.stack="",n[e]=i}catch(e){}}if(null==n[e]){let t=new Error(r.message);t.stack="",n[e]=t}}else n[e]=r;return n}const I=o.createContext({isTransitioning:!1}),T=o.createContext(new Map),k=(r||(r=n.t(o,2))).startTransition,S=(i||(i=n.t(a,2))).flushSync;function A(e){S?S(e):e()}class P{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function N(e){let{fallbackElement:t,router:n,future:r}=e,[i,a]=o.useState(n.state),[l,c]=o.useState(),[u,d]=o.useState({isTransitioning:!1}),[h,f]=o.useState(),[p,g]=o.useState(),[m,v]=o.useState(),y=o.useRef(new Map),{v7_startTransition:_}=r||{},b=o.useCallback((e=>{_?function(e){k?k(e):e()}(e):e()}),[_]),w=o.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:o}=t;r.forEach((e=>y.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&y.current.set(t,e.data)}));let s=null==n.window||"function"!=typeof n.window.document.startViewTransition;if(o&&!s){if(i){A((()=>{p&&(h&&h.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=n.window.document.startViewTransition((()=>{A((()=>a(e)))}));return t.finished.finally((()=>{A((()=>{f(void 0),g(void 0),c(void 0),d({isTransitioning:!1})}))})),void A((()=>g(t)))}p?(h&&h.resolve(),p.skipTransition(),v({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(c(e),d({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?A((()=>a(e))):b((()=>a(e)))}),[n.window,p,h,y,b]);o.useLayoutEffect((()=>n.subscribe(w)),[n,w]),o.useEffect((()=>{u.isTransitioning&&!u.flushSync&&f(new P)}),[u]),o.useEffect((()=>{if(h&&l&&n.window){let e=l,t=h.promise,r=n.window.document.startViewTransition((async()=>{b((()=>a(e))),await t}));r.finished.finally((()=>{f(void 0),g(void 0),c(void 0),d({isTransitioning:!1})})),g(r)}}),[b,l,h,n.window]),o.useEffect((()=>{h&&l&&i.location.key===l.location.key&&h.resolve()}),[h,p,i.location,l]),o.useEffect((()=>{!u.isTransitioning&&m&&(c(m.state),d({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))}),[u.isTransitioning,m]);let x=o.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),C=n.basename||"/",E=o.useMemo((()=>({router:n,navigator:x,static:!1,basename:C})),[n,x,C]);return o.createElement(o.Fragment,null,o.createElement(s.w3.Provider,{value:E},o.createElement(s.FR.Provider,{value:i},o.createElement(T.Provider,{value:y.current},o.createElement(I.Provider,{value:u},o.createElement(s.F0,{basename:C,location:i.location,navigationType:i.historyAction,navigator:x},i.initialized?o.createElement(O,{routes:n.routes,state:i}):t))))),null)}function O(e){let{routes:t,state:n}=e;return(0,s.DY)(t,void 0,n)}function R(e){let{basename:t,children:n,future:r,window:i}=e,a=o.useRef();null==a.current&&(a.current=(0,l.lX)({window:i,v5Compat:!0}));let c=a.current,[u,d]=o.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},f=o.useCallback((e=>{h&&k?k((()=>d(e))):d(e)}),[d,h]);return o.useLayoutEffect((()=>c.listen(f)),[c,f]),o.createElement(s.F0,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c})}function L(e){let{basename:t,children:n,future:r,window:i}=e,a=o.useRef();null==a.current&&(a.current=(0,l.q_)({window:i,v5Compat:!0}));let c=a.current,[u,d]=o.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},f=o.useCallback((e=>{h&&k?k((()=>d(e))):d(e)}),[d,h]);return o.useLayoutEffect((()=>c.listen(f)),[c,f]),o.createElement(s.F0,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c})}function M(e){let{basename:t,children:n,future:r,history:i}=e,[a,l]=o.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},u=o.useCallback((e=>{c&&k?k((()=>l(e))):l(e)}),[l,c]);return o.useLayoutEffect((()=>i.listen(u)),[i,u]),o.createElement(s.F0,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i})}const D="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F=o.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:d,state:h,target:f,to:p,preventScrollReset:g,unstable_viewTransition:m}=e,v=u(e,y),{basename:_}=o.useContext(s.Us),b=!1;if("string"==typeof p&&j.test(p)&&(n=p,D))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=(0,l.Zn)(t.pathname,_);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:b=!0}catch(e){}let w=(0,s.oQ)(p,{relative:i}),x=W(p,{replace:d,state:h,target:f,preventScrollReset:g,relative:i,unstable_viewTransition:m});return o.createElement("a",c({},v,{href:n||w,onClick:b||a?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:f}))})),z=o.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:d,unstable_viewTransition:h,children:f}=e,p=u(e,_),g=(0,s.WU)(d,{relative:p.relative}),m=(0,s.TH)(),v=o.useContext(s.FR),{navigator:y}=o.useContext(s.Us),b=null!=v&&oe(g)&&!0===h,w=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,x=m.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(x=x.toLowerCase(),C=C?C.toLowerCase():null,w=w.toLowerCase());const E="/"!==w&&w.endsWith("/")?w.length-1:w.length;let I,T=x===w||!a&&x.startsWith(w)&&"/"===x.charAt(E),k=null!=C&&(C===w||!a&&C.startsWith(w)&&"/"===C.charAt(w.length)),S={isActive:T,isPending:k,isTransitioning:b},A=T?n:void 0;I="function"==typeof i?i(S):[i,T?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P="function"==typeof l?l(S):l;return o.createElement(F,c({},p,{"aria-current":A,className:I,ref:t,style:P,to:d,unstable_viewTransition:h}),"function"==typeof f?f(S):f)})),U=o.forwardRef(((e,t)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:a,state:s,method:l=d,action:h,onSubmit:f,relative:p,preventScrollReset:g,unstable_viewTransition:m}=e,v=u(e,b),y=Y(),_=Q(h,{relative:p}),w="get"===l.toLowerCase()?"get":"post";return o.createElement("form",c({ref:t,method:w,action:_,onSubmit:i?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,i=(null==t?void 0:t.getAttribute("formmethod"))||l;y(t||e.currentTarget,{fetcherKey:n,method:i,navigate:r,replace:a,state:s,relative:p,preventScrollReset:g,unstable_viewTransition:m})}},v))}));function V(e){let{getKey:t,storageKey:n}=e;return ne({getKey:t,storageKey:n}),null}var B,G;function Z(e){let t=o.useContext(s.w3);return t||(0,l.J0)(!1),t}function q(e){let t=o.useContext(s.FR);return t||(0,l.J0)(!1),t}function W(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:c,unstable_viewTransition:u}=void 0===t?{}:t,d=(0,s.s0)(),h=(0,s.TH)(),f=(0,s.WU)(e,{relative:c});return o.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.Ep)(h)===(0,l.Ep)(f);d(e,{replace:n,state:i,preventScrollReset:a,relative:c,unstable_viewTransition:u})}}),[h,d,f,r,i,n,e,a,c,u])}function H(e){let t=o.useRef(p(e)),n=o.useRef(!1),r=(0,s.TH)(),i=o.useMemo((()=>function(e,t){let n=p(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),a=(0,s.s0)(),l=o.useCallback(((e,t)=>{const r=p("function"==typeof e?e(i):e);n.current=!0,a("?"+r,t)}),[a,i]);return[i,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(B||(B={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(G||(G={}));let K=0,$=()=>"__"+String(++K)+"__";function Y(){let{router:e}=Z(B.UseSubmit),{basename:t}=o.useContext(s.Us),n=(0,s.Yi)();return o.useCallback((function(r,i){void 0===i&&(i={}),function(){if("undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}();let{action:o,method:a,encType:s,formData:c,body:u}=function(e,t){let n,r,i,o,a;if(f(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?(0,l.Zn)(a,t):null,n=e.getAttribute("method")||d,i=v(e.getAttribute("enctype"))||h,o=new FormData(e)}else if(function(e){return f(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return f(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?(0,l.Zn)(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||d,i=v(e.getAttribute("formenctype"))||v(a.getAttribute("enctype"))||h,o=new FormData(a,e),!function(){if(null===g)try{new FormData(document.createElement("form"),0),g=!1}catch(e){g=!0}return g}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?t+".":"";o.append(e+"x","0"),o.append(e+"y","0")}else t&&o.append(t,r)}}else{if(f(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=d,r=null,i=h,a=e}var s;return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}(r,t);if(!1===i.navigate){let t=i.fetcherKey||$();e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||s,unstable_flushSync:i.unstable_flushSync})}else e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,unstable_flushSync:i.unstable_flushSync,unstable_viewTransition:i.unstable_viewTransition})}),[e,t,n])}function Q(e,t){let{relative:n}=void 0===t?{}:t,{basename:r}=o.useContext(s.Us),i=o.useContext(s.pW);i||(0,l.J0)(!1);let[a]=i.matches.slice(-1),u=c({},(0,s.WU)(e||".",{relative:n})),d=(0,s.TH)();if(null==e){u.search=d.search;let e=new URLSearchParams(u.search);e.has("index")&&""===e.get("index")&&(e.delete("index"),u.search=e.toString()?"?"+e.toString():"")}return e&&"."!==e||!a.route.index||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(u.pathname="/"===u.pathname?r:(0,l.RQ)([r,u.pathname])),(0,l.Ep)(u)}function J(e){var t;let{key:n}=void 0===e?{}:e,{router:r}=Z(B.UseFetcher),i=q(G.UseFetcher),a=o.useContext(T),u=o.useContext(s.pW),d=null==(t=u.matches[u.matches.length-1])?void 0:t.route.id;a||(0,l.J0)(!1),u||(0,l.J0)(!1),null==d&&(0,l.J0)(!1);let[h,f]=o.useState(n||"");n&&n!==h?f(n):h||f($()),o.useEffect((()=>(r.getFetcher(h),()=>{r.deleteFetcher(h)})),[r,h]);let p=o.useCallback(((e,t)=>{d||(0,l.J0)(!1),r.fetch(h,d,e,t)}),[h,d,r]),g=Y(),m=o.useCallback(((e,t)=>{g(e,c({},t,{navigate:!1,fetcherKey:h}))}),[h,g]),v=o.useMemo((()=>o.forwardRef(((e,t)=>o.createElement(U,c({},e,{navigate:!1,fetcherKey:h,ref:t}))))),[h]),y=i.fetchers.get(h)||l.ov,_=a.get(h);return o.useMemo((()=>c({Form:v,submit:m,load:p},y,{data:_})),[v,m,p,y,_])}function X(){let e=q(G.UseFetchers);return Array.from(e.fetchers.entries()).map((e=>{let[t,n]=e;return c({},n,{key:t})}))}const ee="react-router-scroll-positions";let te={};function ne(e){let{getKey:t,storageKey:n}=void 0===e?{}:e,{router:r}=Z(B.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:a}=q(G.UseScrollRestoration),{basename:u}=o.useContext(s.Us),d=(0,s.TH)(),h=(0,s.SN)(),f=(0,s.HJ)();o.useEffect((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),function(e,t){let{capture:n}={};o.useEffect((()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("pagehide",e,t),()=>{window.removeEventListener("pagehide",e,t)}}),[e,n])}(o.useCallback((()=>{if("idle"===f.state){let e=(t?t(d,h):null)||d.key;te[e]=window.scrollY}try{sessionStorage.setItem(n||ee,JSON.stringify(te))}catch(e){}window.history.scrollRestoration="auto"}),[n,t,f.state,d,h])),"undefined"!=typeof document&&(o.useLayoutEffect((()=>{try{let e=sessionStorage.getItem(n||ee);e&&(te=JSON.parse(e))}catch(e){}}),[n]),o.useLayoutEffect((()=>{let e=t&&"/"!==u?(e,n)=>t(c({},e,{pathname:(0,l.Zn)(e.pathname,u)||e.pathname}),n):t,n=null==r?void 0:r.enableScrollRestoration(te,(()=>window.scrollY),e);return()=>n&&n()}),[r,u,t]),o.useLayoutEffect((()=>{if(!1!==i)if("number"!=typeof i){if(d.hash){let e=document.getElementById(decodeURIComponent(d.hash.slice(1)));if(e)return void e.scrollIntoView()}!0!==a&&window.scrollTo(0,0)}else window.scrollTo(0,i)}),[d,i,a]))}function re(e,t){let{capture:n}=t||{};o.useEffect((()=>{let t=null!=n?{capture:n}:void 0;return window.addEventListener("beforeunload",e,t),()=>{window.removeEventListener("beforeunload",e,t)}}),[e,n])}function ie(e){let{when:t,message:n}=e,r=(0,s._Z)(t);o.useEffect((()=>{"blocked"===r.state&&(window.confirm(n)?setTimeout(r.proceed,0):r.reset())}),[r,n]),o.useEffect((()=>{"blocked"!==r.state||t||r.reset()}),[r,t])}function oe(e,t){void 0===t&&(t={});let n=o.useContext(I);null==n&&(0,l.J0)(!1);let{basename:r}=Z(B.useViewTransitionState),i=(0,s.WU)(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=(0,l.Zn)(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=(0,l.Zn)(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=(0,l.LX)(i.pathname,c)||null!=(0,l.LX)(i.pathname,a)}},89250:(e,t,n)=>{"use strict";var r;n.d(t,{AW:()=>ee,DY:()=>k,F0:()=>te,FR:()=>l,Fg:()=>J,GV:()=>g,HJ:()=>z,KP:()=>re,Oe:()=>ce,SN:()=>V,TH:()=>m,UO:()=>E,Us:()=>u,V$:()=>T,V4:()=>G,VA:()=>Q,WU:()=>I,Yi:()=>F,Z5:()=>ne,_Z:()=>$,bS:()=>y,bi:()=>de,bx:()=>x,f_:()=>B,gd:()=>d,i7:()=>le,iG:()=>H,is:()=>le,j3:()=>X,lk:()=>q,nA:()=>Z,oQ:()=>p,pC:()=>C,pW:()=>h,qv:()=>W,s0:()=>b,ur:()=>v,us:()=>ue,w3:()=>s,xW:()=>U});var i=n(9226),o=n(12599);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const s=i.createContext(null),l=i.createContext(null),c=i.createContext(null),u=i.createContext(null),d=i.createContext(null),h=i.createContext({outlet:null,matches:[],isDataRoute:!1}),f=i.createContext(null);function p(e,t){let{relative:n}=void 0===t?{}:t;g()||(0,o.J0)(!1);let{basename:r,navigator:a}=i.useContext(u),{hash:s,pathname:l,search:c}=I(e,{relative:n}),d=l;return"/"!==r&&(d="/"===l?r:(0,o.RQ)([r,l])),a.createHref({pathname:d,search:c,hash:s})}function g(){return null!=i.useContext(d)}function m(){return g()||(0,o.J0)(!1),i.useContext(d).location}function v(){return i.useContext(d).navigationType}function y(e){g()||(0,o.J0)(!1);let{pathname:t}=m();return i.useMemo((()=>(0,o.LX)(e,t)),[t,e])}function _(e){i.useContext(u).static||i.useLayoutEffect(e)}function b(){let{isDataRoute:e}=i.useContext(h);return e?function(){let{router:e}=M(R.UseNavigateStable),t=j(L.UseNavigateStable),n=i.useRef(!1);return _((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,a({fromRouteId:t},i)))}),[e,t])}():function(){g()||(0,o.J0)(!1);let e=i.useContext(s),{basename:t,navigator:n}=i.useContext(u),{matches:r}=i.useContext(h),{pathname:a}=m(),l=JSON.stringify((0,o.Zq)(r).map((e=>e.pathnameBase))),c=i.useRef(!1);return _((()=>{c.current=!0})),i.useCallback((function(r,i){if(void 0===i&&(i={}),!c.current)return;if("number"==typeof r)return void n.go(r);let s=(0,o.pC)(r,JSON.parse(l),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:(0,o.RQ)([t,s.pathname])),(i.replace?n.replace:n.push)(s,i.state,i)}),[t,n,l,a,e])}()}const w=i.createContext(null);function x(){return i.useContext(w)}function C(e){let t=i.useContext(h).outlet;return t?i.createElement(w.Provider,{value:e},t):t}function E(){let{matches:e}=i.useContext(h),t=e[e.length-1];return t?t.params:{}}function I(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=i.useContext(h),{pathname:a}=m(),s=JSON.stringify((0,o.Zq)(r).map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)));return i.useMemo((()=>(0,o.pC)(e,JSON.parse(s),a,"path"===n)),[e,s,a,n])}function T(e,t){return k(e,t)}function k(e,t,n){g()||(0,o.J0)(!1);let{navigator:r}=i.useContext(u),{matches:s}=i.useContext(h),l=s[s.length-1],c=l?l.params:{},f=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let p,v=m();if(t){var y;let e="string"==typeof t?(0,o.cP)(t):t;"/"===f||(null==(y=e.pathname)?void 0:y.startsWith(f))||(0,o.J0)(!1),p=e}else p=v;let _=p.pathname||"/",b="/"===f?_:_.slice(f.length)||"/",w=(0,o.fp)(e,{pathname:b}),x=O(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:(0,o.RQ)([f,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:(0,o.RQ)([f,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n);return t&&x?i.createElement(d.Provider,{value:{location:a({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:o.aU.Pop}},x):x}function S(){let e=q(),t=(0,o.WK)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:r},n):null,null)}const A=i.createElement(S,null);class P extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?i.createElement(h.Provider,{value:this.props.routeContext},i.createElement(f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(s);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(h.Provider,{value:t},r)}function O(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}let s=e,l=null==(r=n)?void 0:r.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||(0,o.J0)(!1),s=s.slice(0,Math.min(s.length,e+1))}return s.reduceRight(((e,r,o)=>{let a=r.route.id?null==l?void 0:l[r.route.id]:null,c=null;n&&(c=r.route.errorElement||A);let u=t.concat(s.slice(0,o+1)),d=()=>{let t;return t=a?c:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(N,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(P,{location:n.location,revalidation:n.revalidation,component:c,error:a,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var R=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(R||{}),L=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(L||{});function M(e){let t=i.useContext(s);return t||(0,o.J0)(!1),t}function D(e){let t=i.useContext(l);return t||(0,o.J0)(!1),t}function j(e){let t=function(e){let t=i.useContext(h);return t||(0,o.J0)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||(0,o.J0)(!1),n.route.id}function F(){return j(L.UseRouteId)}function z(){return D(L.UseNavigation).navigation}function U(){let e=M(R.UseRevalidator),t=D(L.UseRevalidator);return i.useMemo((()=>({revalidate:e.router.revalidate,state:t.revalidation})),[e.router.revalidate,t.revalidation])}function V(){let{matches:e,loaderData:t}=D(L.UseMatches);return i.useMemo((()=>e.map((e=>(0,o.WS)(e,t)))),[e,t])}function B(){let e=D(L.UseLoaderData),t=j(L.UseLoaderData);if(!e.errors||null==e.errors[t])return e.loaderData[t];console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")")}function G(e){return D(L.UseRouteLoaderData).loaderData[e]}function Z(){let e=D(L.UseActionData),t=j(L.UseLoaderData);return e.actionData?e.actionData[t]:void 0}function q(){var e;let t=i.useContext(f),n=D(L.UseRouteError),r=j(L.UseRouteError);return t||(null==(e=n.errors)?void 0:e[r])}function W(){let e=i.useContext(c);return null==e?void 0:e._data}function H(){let e=i.useContext(c);return null==e?void 0:e._error}let K=0;function $(e){let{router:t,basename:n}=M(R.UseBlocker),r=D(L.UseBlocker),[s,l]=i.useState(""),c=i.useCallback((t=>{if("function"!=typeof e)return!!e;if("/"===n)return e(t);let{currentLocation:r,nextLocation:i,historyAction:s}=t;return e({currentLocation:a({},r,{pathname:(0,o.Zn)(r.pathname,n)||r.pathname}),nextLocation:a({},i,{pathname:(0,o.Zn)(i.pathname,n)||i.pathname}),historyAction:s})}),[n,e]);return i.useEffect((()=>{let e=String(++K);return l(e),()=>t.deleteBlocker(e)}),[t]),i.useEffect((()=>{""!==s&&t.getBlocker(s,c)}),[t,s,c]),s&&r.blockers.has(s)?r.blockers.get(s):o.qp}const Y=(r||(r=n.t(i,2))).startTransition;function Q(e){let{basename:t,children:n,initialEntries:r,initialIndex:a,future:s}=e,l=i.useRef();null==l.current&&(l.current=(0,o.PP)({initialEntries:r,initialIndex:a,v5Compat:!0}));let c=l.current,[u,d]=i.useState({action:c.action,location:c.location}),{v7_startTransition:h}=s||{},f=i.useCallback((e=>{h&&Y?Y((()=>d(e))):d(e)}),[d,h]);return i.useLayoutEffect((()=>c.listen(f)),[c,f]),i.createElement(te,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c})}function J(e){let{to:t,replace:n,state:r,relative:a}=e;g()||(0,o.J0)(!1);let{matches:s}=i.useContext(h),{pathname:l}=m(),c=b(),u=(0,o.pC)(t,(0,o.Zq)(s).map((e=>e.pathnameBase)),l,"path"===a),d=JSON.stringify(u);return i.useEffect((()=>c(JSON.parse(d),{replace:n,state:r,relative:a})),[c,d,a,n,r]),null}function X(e){return C(e.context)}function ee(e){(0,o.J0)(!1)}function te(e){let{basename:t="/",children:n=null,location:r,navigationType:a=o.aU.Pop,navigator:s,static:l=!1}=e;g()&&(0,o.J0)(!1);let c=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:c,navigator:s,static:l})),[c,s,l]);"string"==typeof r&&(r=(0,o.cP)(r));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=r,_=i.useMemo((()=>{let e=(0,o.Zn)(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:a}}),[c,f,p,m,v,y,a]);return null==_?null:i.createElement(u.Provider,{value:h},i.createElement(d.Provider,{children:n,value:_}))}function ne(e){let{children:t,location:n}=e;return T(le(t),n)}function re(e){let{children:t,errorElement:n,resolve:r}=e;return i.createElement(ae,{resolve:r,errorElement:n},i.createElement(se,null,t))}var ie=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(ie||{});const oe=new Promise((()=>{}));class ae extends i.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,r=null,a=ie.pending;if(n instanceof Promise)if(this.state.error){a=ie.error;let e=this.state.error;r=Promise.reject().catch((()=>{})),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>e})}else n._tracked?(r=n,a=void 0!==r._error?ie.error:void 0!==r._data?ie.success:ie.pending):(a=ie.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else a=ie.success,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});if(a===ie.error&&r._error instanceof o.X3)throw oe;if(a===ie.error&&!t)throw r._error;if(a===ie.error)return i.createElement(c.Provider,{value:r,children:t});if(a===ie.success)return i.createElement(c.Provider,{value:r,children:e});throw r}}function se(e){let{children:t}=e,n=W(),r="function"==typeof t?t(n):t;return i.createElement(i.Fragment,null,r)}function le(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,le(e.props.children,a));e.type!==ee&&(0,o.J0)(!1),e.props.index&&e.props.children&&(0,o.J0)(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=le(e.props.children,a)),n.push(s)})),n}function ce(e){return O(e)}function ue(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:i.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:i.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function de(e,t){return(0,o.p7)({basename:null==t?void 0:t.basename,future:a({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(0,o.PP)({initialEntries:null==t?void 0:t.initialEntries,initialIndex:null==t?void 0:t.initialIndex}),hydrationData:null==t?void 0:t.hydrationData,routes:e,mapRouteProperties:ue}).initialize()}},60053:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,b(e),!g)if(null!==r(c))g=!0,R(x);else{var t=r(u);null!==t&&L(w,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var o=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var a=h.callback;if("function"==typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&L(w,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,E=!1,I=null,T=-1,k=5,S=-1;function A(){return!(t.unstable_now()-S<k)}function P(){if(null!==I){var e=t.unstable_now();S=e;var n=!0;try{n=I(!0,e)}finally{n?C():(E=!1,I=null)}}else E=!1}if("function"==typeof _)C=function(){_(P)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=P,C=function(){O.postMessage(null)}}else C=function(){v(P,0)};function R(e){I=e,E||(E=!0,C())}function L(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(T),T=-1):m=!0,L(w,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,R(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},63840:(e,t,n)=>{"use strict";e.exports=n(60053)},13541:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(80008),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},40495:(e,t,n)=>{"use strict";var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(58731),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals},332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(38639),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},81759:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(35659),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},89951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(87914),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},20581:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(9526),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},15642:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(33397),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},17020:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(40838),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},18666:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(66752),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},65097:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(37198),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},99015:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(93379),i=n.n(r),o=n(7795),a=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),d=n(19216),h=n.n(d),f=n(44589),p=n.n(f),g=n(14297),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=h(),i()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},93379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=o[c]||0,d="".concat(c," ").concat(u);o[c]=u+1;var h=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=i(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=r(e,i),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},90569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},19216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},44589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},5351:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(52518)),o=function(){function e(){this.container=document.querySelector(".AppMainContainer")}return e.prototype.listenMessages=function(e,t){i.default.listenEvent(this.container,e,t)},e.prototype.sendMessage=function(e,t){i.default.sendEvent(this.container,e,t)},e}();t.default=o},52518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={listenEvent:function(e,t,n){e.addEventListener(t,n)},sendEvent:function(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:n}))}};t.default=n},77111:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(9226)),c=s(n(16992)),u=s(n(83172));t.default=function(e){var t=e.game,n=e.inGameProgression,i=l.useState(n),o=i[0],a=i[1],s=window.crawlear.fb;return l.useEffect((function(){o||s.getGameProgressionOnce(t.gid,(function(e,t){a(r({},t))}),(function(){}))}),[]),o?l.createElement(c.default,{game:t,gameProgression:o}):l.createElement(u.default,null)}},2418:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(51739));t.default=function(){var e=window.crawlear&&window.crawlear.fb;return e&&e.isUserLogged()?s.createElement(s.Fragment,null):s.createElement("a",{href:"https://crawlear.com",target:"_blank"},s.createElement("img",{src:l.default,className:"notLoggedLogo",alt:"web logo"}))}},93921:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9226));n(99015),t.default=function(e){var t=e.children,n=e.onClose,r=a.useState(!1),i=r[0],o=r[1],s=a.useRef(null);return a.useEffect((function(){o(!0)}),[t]),a.createElement(a.Fragment,null,a.createElement("div",{title:"popup",ref:s,className:"popup rounded rounded1 ".concat(i?"":"closed")},a.createElement("div",{title:"closeButton",className:"bold closeButton",onClick:function(e){var t;null===(t=s.current)||void 0===t||t.classList.toggle("closed"),o((function(e){var t=!e;return n&&n(t),t}))}},"x"),t))}},54350:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isDraw=void 0;var a=o(n(9226)),s=n(93082);function l(e){return e.players.length>1&&e.players[0].totalPoints===e.players[1].totalPoints&&e.players[0].totalTime===e.players[1].totalTime&&(!e.players[0].totalGateProgression||e.players[0].totalGateProgression===e.players[1].totalGateProgression)}t.isDraw=l,t.default=function(e){var t=e.game,n=(0,s.useTranslation)().t;return l(t)?a.createElement("div",{className:""},n("description.empate")):a.createElement(a.Fragment,null,n("description.ganador"),": ",a.createElement("b",null,t.players[0].name))}},29525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GameUtils=t.Game=t.OfflinePlayer=t.OFFLINE_USER_UID=t.GAME_TYPE_GENERIC=t.GAME_TYPE_MINICRAWLERPASSION=t.GAME_TYPE_COPAESPANA=t.GAME_TYPE_LEVANTE=t.GAME_TYPE_ISRCC=t.GAME_TYPE_KING=t.GAME_TYPE_AECAR=void 0;var r,i=n(32181),o=n(56573),a=n(38690),s=n(75793),l=n(5368),c=n(42274),u=n(53177);t.GAME_TYPE_AECAR=0,t.GAME_TYPE_KING=1,t.GAME_TYPE_ISRCC=2,t.GAME_TYPE_LEVANTE=3,t.GAME_TYPE_COPAESPANA=4,t.GAME_TYPE_MINICRAWLERPASSION=5,t.GAME_TYPE_GENERIC=6,t.OFFLINE_USER_UID="offlineUid",function(e){e[e.GAME_TYPE_AECAR=0]="GAME_TYPE_AECAR",e[e.GAME_TYPE_KING=1]="GAME_TYPE_KING",e[e.GAME_TYPE_ISRCC=2]="GAME_TYPE_ISRCC",e[e.GAME_TYPE_LEVANTE=3]="GAME_TYPE_LEVANTE",e[e.GAME_TYPE_COPAESPANA=4]="GAME_TYPE_COPAESPANA",e[e.GAME_TYPE_MINICRAWLERPASSION=5]="GAME_TYPE_MINICRAWLERPASSION",e[e.GAME_TYPE_GENERIC=6]="GAME_TYPE_GENERIC"}(r||(r={}));var d=function(){function e(e,n,r,d,h,f,p,g,m,v,y,_,b,w,x){if(this.name=e,this.date=n,this.location=r,this.isPublic=d,this.gameType=h,this.players=f||[],this.judges=p||[],this.maxTime=g,this.maxPoints=m,this.gates=v,this.uids=b||[],this.jids=w||[],this.zones=y,this.gameStatus=_,this.owner=x,this.gid="",0===g)this.courtesyTime=0;else{var C=void 0;switch(h){case t.GAME_TYPE_AECAR:C=i.AecarGameScores.courtesyTime;break;case t.GAME_TYPE_KING:C=l.KingGameScores.courtesyTime;break;case t.GAME_TYPE_ISRCC:C=o.IsrccGameScores.courtesyTime;break;case t.GAME_TYPE_LEVANTE:C=s.Levante124GameScores.courtesyTime;break;case t.GAME_TYPE_COPAESPANA:C=a.RegionalZonaRcGameScores.courtesyTime;break;case t.GAME_TYPE_MINICRAWLERPASSION:C=c.MiniCrawlerPassionGameScores.courtesyTime;break;case t.GAME_TYPE_GENERIC:C=u.GenericGameScores.courtesyTime;break;default:C=0}this.courtesyTime=C}}return e.prototype.setGameId=function(e){this.gid=e},e}();t.Game=d;var h=function(){function e(){}return e.init=function(e,t,n,r){e.gameStatus=0,e.players.forEach((function(i){if(i.time=0,i.points=0,i.totalGateProgression=0,i.totalPoints=0,i.totalTime=0,!i.zones||0===i.zones.length||r){i.zones=[];for(var o=0;o<e.zones;o++){for(var a={points:0,totalPoints:0,simpathyPoints:0,time:0,judgedBy:[],gateProgression:0,gatesWithBonification:0,gatesWithFail:0,handicap:0,gateProgressionData:new Array(e.gates[o]),fiascoControlTextValues:n()},s=0;s<e.gates[o];s++)a.gateProgressionData[s]={gatePoints:0,controlTextValues:t()};i.zones.push(a)}}}))},e.createGameProgression=function(e,t){var n=new Array(1);n[0]=new Array(t);for(var r=0;r<t;r++){n[0][r]=new Array(e);for(var i=0;i<e;i++)n[0][r][i]={status:"waiting"}}return n},e.getGameResult=function(e,t){return Object.entries(t).forEach((function(t,n){Object.entries(t[1]).forEach((function(t,r){t[1].data&&(e.players[n].zones[r]=t[1].data)}))})),e},e.getGameTypeBodyClassName=function(e){var n;switch(e){case t.GAME_TYPE_AECAR:n="aecar";break;case t.GAME_TYPE_KING:n="king";break;case t.GAME_TYPE_ISRCC:n="irscc";break;case t.GAME_TYPE_LEVANTE:n="levante";break;case t.GAME_TYPE_COPAESPANA:n="regionalzonarc";break;case t.GAME_TYPE_MINICRAWLERPASSION:n="minicrawlerpassion";break;case t.GAME_TYPE_GENERIC:n="generic";break;default:n=""}return n},e.getGameTypeControlTextValuesInit=function(e){var n;switch(e){case t.GAME_TYPE_AECAR:n=i.gameExtras.controlTextValuesInit;break;case t.GAME_TYPE_KING:n=l.gameExtras.controlTextValuesInit;break;case t.GAME_TYPE_ISRCC:n=o.gameExtras.controlTextValuesInit;break;case t.GAME_TYPE_LEVANTE:n=s.gameExtras.controlTextValuesInit;break;case t.GAME_TYPE_COPAESPANA:n=a.gameExtras.controlTextValuesInit;break;case t.GAME_TYPE_MINICRAWLERPASSION:n=c.gameExtras.controlTextValuesInit;break;case t.GAME_TYPE_GENERIC:n=u.gameExtras.controlTextValuesInit;break;default:n=o.gameExtras.controlTextValuesInit}return n},e.getGameTypeFiascoControlTextValuesInit=function(e){var n;switch(e){case t.GAME_TYPE_AECAR:n=i.gameExtras.fiascoControlTextValuesInit;break;case t.GAME_TYPE_KING:n=l.gameExtras.fiascoControlTextValuesInit;break;case t.GAME_TYPE_ISRCC:n=o.gameExtras.fiascoControlTextValuesInit;break;case t.GAME_TYPE_LEVANTE:n=s.gameExtras.fiascoControlTextValuesInit;break;case t.GAME_TYPE_COPAESPANA:n=a.gameExtras.fiascoControlTextValuesInit;break;case t.GAME_TYPE_MINICRAWLERPASSION:n=c.gameExtras.fiascoControlTextValuesInit;break;case t.GAME_TYPE_GENERIC:n=u.gameExtras.fiascoControlTextValuesInit;break;default:n=o.gameExtras.fiascoControlTextValuesInit}return n},e.resolveGameTypeName=function(e){switch(e){case t.GAME_TYPE_AECAR:return"gametype.aecar";case t.GAME_TYPE_KING:return"gametype.rey";case t.GAME_TYPE_ISRCC:return"gametype.isrcc";case t.GAME_TYPE_LEVANTE:return"gametype.levante124";case t.GAME_TYPE_COPAESPANA:return"gametype.copaespana";case t.GAME_TYPE_MINICRAWLERPASSION:return"gametype.minicrawlerpassion";case t.GAME_TYPE_GENERIC:return"gametype.generic";default:return"gametype.isrcc"}},e.redoPlayersIds=function(e){e.players.forEach((function(e,t){e.id=t}))},e.sumControlTextValues=function(e){var t=e.length?e[0].controlTextValues.length:0,n=new Array(t).fill(0);return e.forEach((function(e){e.controlTextValues.forEach((function(e,t){n[t]+=e}))})),n},e.isFiasco=function(e,t,n){var r=e.players[t].zones[n];return this.isFiascoFromFiascoControlTextValues(e,t,n)||this.isPointsFiasco(e,r)||this.isTimeFiasco(e,r)},e.isFiascoFromFiascoControlTextValues=function(e,t,n){for(var r=e.players[t].zones[n],i=!1,o=0;!i&&o<e.gates[n];){for(var a=0;!i&&a<r.fiascoControlTextValues.length;)r.fiascoControlTextValues[a]>0?i=!0:a++;o++}return i},e.isPointsFiasco=function(e,t){return e.maxPoints<=t.points&&e.maxPoints>0},e.isTimeFiasco=function(e,t){return e.maxTime+e.courtesyTime<=t.time&&e.maxTime>0},e.isNonPresentedFiasco=function(e,t,n){for(var r=e.players[t].zones[n],i=!1,o=0;!i&&o<e.gates[n];)r.fiascoControlTextValues[0]>0?i=!0:o++;return i},e.getZoneTotalBonification=function(e,t){for(var n=0,r=0;r<t;r++)e[r].gatePoints<20&&e[r].controlTextValues[2]<1&&n++;return-2*n},e.isCurrentUserIsOwner=function(e){return e&&e.find((function(e){return window.crawlear&&window.crawlear.user&&e===window.crawlear.user.uid}))},e.getMaxGroupNumber=function(e){var t=0;return e.players.forEach((function(e){t<e.group&&(t=e.group)})),t},e}();t.GameUtils=h,t.OfflinePlayer={avatar:"https://eu.ui-avatars.com/api/?background=345B63&color=FFFFFF&name=J1",battery:!1,group:0,id:0,name:"J1",points:0,time:0,uid:t.OFFLINE_USER_UID,zones:[{fiascoControlTextValues:[0],gateProgression:0,gateProgressionData:[{controlTextValues:[0,0,0,0,0,0],gatePoints:0}],gatesWithBonification:0,gatesWithFail:0,handicap:0,judgedBy:new Array,points:0,simpathyPoints:0,time:0,totalPoints:0}]}},45658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32181),i=n(56573),o=n(75793),a=n(38690),s=n(5368),l=n(42274),c=n(53177),u=n(29525),d={getMaxTimeAndPointsFromGameType:function(e){var t=0,n=0;switch(e){case u.GAME_TYPE_AECAR:t=r.AecarGameScores.maxPoints,n=r.AecarGameScores.maxTime;break;case u.GAME_TYPE_KING:t=s.KingGameScores.maxPoints,n=s.KingGameScores.maxTime;break;case u.GAME_TYPE_ISRCC:t=i.IsrccGameScores.maxPoints,n=i.IsrccGameScores.maxTime;break;case u.GAME_TYPE_LEVANTE:t=o.Levante124GameScores.maxPoints,n=o.Levante124GameScores.maxTime;break;case u.GAME_TYPE_COPAESPANA:t=a.RegionalZonaRcGameScores.maxPoints,n=a.RegionalZonaRcGameScores.maxTime;break;case u.GAME_TYPE_MINICRAWLERPASSION:t=l.MiniCrawlerPassionGameScores.maxPoints,n=l.MiniCrawlerPassionGameScores.maxTime;break;case u.GAME_TYPE_GENERIC:t=c.GenericGameScores.maxPoints,n=c.GenericGameScores.maxTime;break;default:t=0,n=0}return[n,t]}};t.default=d},77230:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(83172)),c=a(n(5103)),u=n(93082);t.default=function(e){var t,n=e.onLocationResolved,r=s.useState(0),i=r[0],o=r[1],a=s.useState({latitude:0,longitude:0}),d=a[0],h=a[1],f=(0,u.useTranslation)().t;return navigator.geolocation?0===i?t=s.createElement("a",{className:"bold",href:"https://crawlear.com",onClick:function(e){e.preventDefault(),navigator.geolocation?(o(2),navigator.geolocation.getCurrentPosition((function(e){var t={latitude:e.coords.latitude,longitude:e.coords.longitude};n(t),o(1),h(t)}),(function(){n({}),o(0)}))):o(0)}},f("description.obtener")):2===i?t=s.createElement(l.default,null):1===i&&(t=s.createElement(s.Fragment,null,s.createElement("span",null,"(","".concat(d.latitude,",").concat(d.longitude),")"),s.createElement("a",{href:c.default.getMapsURL(d.latitude,d.longitude),rel:"noreferrer",target:"_blank"},f("description.vergooglemaps")))):t=s.createElement("div",{className:""},f("content.nogeolocation")),t}},19850:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(n(9226)),u=n(29525),d=n(29525),h=l(n(45658)),f=n(11569),p=n(79655),g=n(93082),m=l(n(77721)),v=l(n(5103));t.default=function(e){var t=e.preconfiguredGame,n=e.onGameCreated,i=c.useState((function(){var e=t||new u.Game("",(new Date).toLocaleDateString(),{latitude:0,longitude:0},!0,d.GAME_TYPE_LEVANTE,[],[],6e5,40,new Array(1).fill(10),1,0,[],[],[]);return e.date=(new Date).toLocaleDateString(),e})),o=i[0],a=i[1],l=(0,p.useNavigate)(),y=c.useState(""),_=y[0],b=y[1],w=c.useState(!1),x=w[0],C=w[1],E=c.useState(1),I=E[0],T=E[1],k=(0,g.useTranslation)().t,S=window.crawlear.fb;function A(e){var t=r({},o),n="addJudge";o.judges.length>e.length&&(n="removeJudge"),m.default.event("menu",n,e.length),t.judges=s([],e,!0),f.isOffline&&!t.owner.length&&t.owner.push(d.OFFLINE_USER_UID),a(t),b("")}return c.useEffect((function(){window.scrollTo(0,0),f.isOffline&&A([u.OfflinePlayer])}),[]),[o,_,I,function(e){var t,n=r({},o);m.default.event("menu","playModeChange",e),n.gameType=e,t=h.default.getMaxTimeAndPointsFromGameType(n.gameType),n.maxTime=t[0],n.maxPoints=t[1],a(n)},function(e){if(e.latitude&&e.longitude){var t=r({},o);t.location=e,a(t)}else b(k("error.nogeolocation"))},A,function(e){var t=r({},o),n="addPlayer";o.players.length>e.length&&(n="removePlayer"),m.default.event("menu",n,e.length),t.players=s([],e,!0),a(t),b("")},function(e){var t=r({},o);m.default.event("menu","maxPointsSet",e),t.maxPoints=e,a(t)},function(e){var t=r({},o);t.maxTime=e,m.default.event("menu","maxTimeSet",e),a(t)},function(e){var t=r({},o);o.zones<e?t.gates.push(10):t.gates.pop(),t.zones=e,m.default.event("menu","zonesSet",e),a(t)},function(e,t){var n=r({},o);n.gates[t]=e,m.default.event("menu","gateSet",e),a(n)},function(e){var t=r({},o),n=e.target.value;n&&(t.name=n,a(t),b(""))},function(e){T(e)},function(e){var t=r({},o);t.isPublic=e.target.value,a(t)},function(e,t){var n=o.judges[e].uid,i=r({},o);if(t&&!i.owner.find((function(e){return e===n})))i.owner.push(n),a(i);else if(!t&&i.owner.find((function(e){return e===n}))){var s=i.owner.indexOf(n);i.owner.splice(s,1),a(i)}},function(e){var t=e.target.checked;C(t)},function(e,t){var i=function(e,t){for(var n=new Array(e).fill(0),r=0;r<t.players.length;r++)n[t.players[r].group]++;return void 0===n.find((function(e){return 0===e}))}(e,t);if(window.scrollTo(0,0),t.name&&t.name.length)if(i)if(t.judges.length||t.gameType===d.GAME_TYPE_KING)if(t.players.length)if(t.gameType===d.GAME_TYPE_KING||t.owner.length){if(t.gameType!==d.GAME_TYPE_KING&&i||t.gameType===d.GAME_TYPE_KING){var o=r({},t);t.gameType===d.GAME_TYPE_KING&&(o.judges.push(r({},window.crawlear.user)),o.zones=1,o.gates=new Array(1).fill(1)),o.uids=v.default.getUidsFromUsers(o.players),o.jids=v.default.getUidsFromUsers(o.judges),x&&function(e){if(e.players.length){var t=s([],e.players,!0);t=t.sort((function(e,t){return Math.random()-.5})),e.players=t,u.GameUtils.redoPlayersIds(e)}}(o),u.GameUtils.init(o,u.GameUtils.getGameTypeControlTextValuesInit(o.gameType),u.GameUtils.getGameTypeFiascoControlTextValuesInit(o.gameType),!0),f.isOffline&&n?n(o):S.setGame(o,(function(e){o.gid=e.gid,S.createGameProgression(o),a(o),window.location.href.indexOf("completegame")<0?l("/completegame"):window.location.reload()}),(function(){}))}}else b(k("error.nodirectordepartida"));else b(k("error.nojugadores"));else b(k("error.nojueces"));else b(k("error.rellenargrupos"));else b(k("error.nonombre"))}]}},50160:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(93082),c=n(66599),u=a(n(56434)),d=a(n(83172));t.default=function(e){var t=e.storedGames,n=e.onRemoveStoredGames,r=e.onConfigureGames,i=e.onLoadPreviousGames,o=[],a=(0,l.useTranslation)().t,h=s.useState(!1),f=h[0],p=h[1],g=f?s.createElement(d.default,null):s.createElement("button",{title:"loadButton",onClick:function(){p(!0),i(window.crawlear.user.uid)}},a("description.cargar"));return t.length>0?(f&&p(!1),o.push(s.createElement(u.default,{key:"previousGames",title:a("description.partidasprevias"),data:t,transformer:c.itemTransform,readOnly:!1,onItemAction:function(){},onRemoveItem:function(e){n(e)},onConfigureItem:function(e){r(t,e)}}))):o.push(s.createElement("div",{key:"noPreviousGames",className:"gameList rounded rounded3 centerText"},s.createElement("div",{className:"headerText bold"},a("description.partidasprevias")),g)),s.createElement(s.Fragment,null," ",o," ")}},27820:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var c=o(n(9226));function u(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:return r=window.crawlear.fb,i=e[t],o=l([],e,!0),a=window.crawlear.user.uid,i.uids.indexOf(a)>=0?[4,r.removeIdFromGame(i,a,"uids")]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return i.jids.indexOf(a)>=0?[4,r.removeIdFromGame(i,a,"jids")]:[3,4];case 3:i=s.sent(),s.label=4;case 4:return i.owner.indexOf(a)>=0?[4,r.removeIdFromGame(i,a,"owner")]:[3,6];case 5:i=s.sent(),s.label=6;case 6:return 0!==i.uids.length||0!==i.jids.length?[3,8]:[4,r.removeGame(i.gid)];case 7:s.sent(),s.label=8;case 8:return o.splice(t,1),n(o),[2]}}))}))}t.default=function(){var e=c.useState([]),t=e[0],n=e[1],r=c.useState([]),i=r[0],o=r[1],a=c.useState([]),s=a[0],d=a[1],h=c.useState([]),f=h[0],p=h[1],g=window.crawlear.fb;return c.useEffect((function(){g.isUserLogged()&&(g.getGamesFromUser(window.crawlear.user.uid,!1,(function(e){p((function(t){return l(l([],t,!0),e,!0)}))})),g.getGamesFromJudge(window.crawlear.user.uid,!1,(function(e){p((function(t){return l(l([],t,!0),e,!0)}))})))}),[]),c.useEffect((function(){!function(e){var t=[],r=[];e.forEach((function(e){e.jids.indexOf(window.crawlear.user.uid)>=0||e.owner.indexOf(window.crawlear.user.uid)>=0?t.push(e):e.uids.indexOf(window.crawlear.user.uid)>=0&&r.push(e)})),n(r),o(t)}(f)}),[f]),[t,function(e){u(t,e,n)},i,function(e){u(i,e,o)},s,function(e){u(s,e,d)},function(){g.getFinishedGamesFromUid(window.crawlear.user.uid,(function(e){d((function(t){return l(l([],t,!0),e,!0)}))}))}]}},82639:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSG_TIME=t.MSG_STOP=t.MSG_START=t.MSG_POINTS=t.MSG_GATES=void 0,t.MSG_GATES="BT_GATES",t.MSG_POINTS="BT_POINTS",t.MSG_START="BT_START",t.MSG_STOP="BT_STOP",t.MSG_TIME="BT_TIME";var n=function(){function e(){this.device={},this.timeCharacteristic={},this.timeValueCharacteristic={},this.pointsCharacteristic={},this.gatesCharacteristic={}}return e.prototype.discoverDevice=function(e){var t=this;navigator.bluetooth.requestDevice({filters:[{name:"CrawlearBluetoothDevice"},{services:["3feb1e8a-3981-4045-ad39-b225135013a0"]}]}).then((function(n){return t.device=n,e&&e(n),n.gatt&&n.gatt.connect()})).then((function(e){return e&&e.getPrimaryService("3feb1e8a-3981-4045-ad39-b225135013a0")})).then((function(e){var t=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b26a8"),n=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b1"),r=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b2"),i=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b3");return Promise.all([t,n,r,i])})).then((function(e){var n=e[0],r=e[1],i=e[2],o=e[3];t.timeCharacteristic=n,t.timeValueCharacteristic=r,t.pointsCharacteristic=i,t.gatesCharacteristic=o})).catch((function(e){console.error(e)}))},e.prototype.sendTime=function(e){this.timeValueCharacteristic&&this.timeValueCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendPoints=function(e){this.pointsCharacteristic&&this.pointsCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendGates=function(e){this.gatesCharacteristic&&this.gatesCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendStart=function(){if(this.timeCharacteristic){var e=Uint8Array.of(1);this.timeCharacteristic.writeValue(e)}},e.prototype.sendStop=function(){if(this.timeCharacteristic){var e=Uint8Array.of(0);this.timeCharacteristic.writeValue(e)}},e}();t.default=n},82232:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_DONE=t.STATUS_REPAIR=t.STATUS_PLAYING=t.STATUS_WAITING=void 0;var i=n(29525),o=n(32181),a=n(56573),s=n(75793),l=n(38690),c=n(42274),u=n(53177),d=n(5368),h={isIndividualGame:function(e){return e.gameType===i.GAME_TYPE_KING},isGroupGameFinished:function(e,n,r){var i=!0;return!!h.isIndividualGame(e)||(Object.entries(n).forEach((function(e){Number(e[0])===r&&Object.entries(e[1]).forEach((function(e){Object.entries(e[1]).forEach((function(e){e[1].status!==t.STATUS_WAITING&&e[1].status!==t.STATUS_REPAIR&&e[1].status!==t.STATUS_PLAYING||(i=!1)}))}))})),i)},onRepairEnd:function(e,n,r,i,o){var a,s=null===(a=window.crawlear)||void 0===a?void 0:a.fb;o.status=t.STATUS_WAITING,delete o.repairData,s.setGameProgression(e,n,r,i,o)},updateGameFromProgression:function(e,t){var n=r({},t);return Object.entries(e).forEach((function(e){Object.entries(e[1]).forEach((function(t){t[1].data&&(n.players[e[0]].zones[t[0]]=t[1].data)}))})),n},getGroupFromJid:function(e,t){var n=e.judges.find((function(e){return e.uid===t}));return n?n.group:0},getGameExtras:function(e){var t;return e===i.GAME_TYPE_AECAR?t=o.gameExtras:e===i.GAME_TYPE_ISRCC?t=a.gameExtras:e===i.GAME_TYPE_LEVANTE?t=s.gameExtras:e===i.GAME_TYPE_COPAESPANA?t=l.gameExtras:e===i.GAME_TYPE_KING?t=d.gameExtras:e===i.GAME_TYPE_MINICRAWLERPASSION?t=c.gameExtras:e===i.GAME_TYPE_GENERIC&&(t=u.gameExtras),t},getGameContent:function(e,t,n){var r,d;return e===i.GAME_TYPE_AECAR?r=o.getGameContent:e===i.GAME_TYPE_ISRCC?r=a.getGameContent:e===i.GAME_TYPE_LEVANTE?r=s.getGameContent:e===i.GAME_TYPE_COPAESPANA?r=l.getGameContent:e===i.GAME_TYPE_KING||(e===i.GAME_TYPE_MINICRAWLERPASSION?r=c.getGameContent:e===i.GAME_TYPE_GENERIC&&(r=u.getGameContent)),r&&(d=r(t,n)),d}};t.STATUS_WAITING="waiting",t.STATUS_PLAYING="playing",t.STATUS_REPAIR="repair",t.STATUS_DONE="done",t.default=h},85382:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(93082),c=n(29525),u=a(n(55495)),d=a(n(57124)),h=a(n(65150)),f=a(n(16514)),p=a(n(98695)),g=a(n(82232)),m=a(n(7490));t.default=function(e){var t,n=e.game,r=e.jidGroup,i=e.onBeginGame,o=e.onBackButtonClick,a=e.onCloseButonClick,v=[],y=c.GameUtils.isCurrentUserIsOwner(n.owner),_=(0,l.useTranslation)().t,b=(0,m.default)(i),w=b[0],x=b[1],C=b[2],E=b[3],I=b[4],T=b[5];if(y&&v.push(s.createElement("div",{key:"dP",className:"directorContainer rounded rounded3"},s.createElement("div",{className:"bold"},_("description.directordepartida")),s.createElement("br",null),s.createElement(h.default,{game:n,gameProgression:E}))),n.jids.find((function(e){return e===window.crawlear.user.uid}))){var k=s.createElement(s.Fragment,null);(w&&w.group===r||y)&&(k=s.createElement("button",{onClick:T,className:"playButton importantNote"},_("description.empezar"))),t=s.createElement(s.Fragment,null,_("description.jugadorseleccionado"),": ",w?w.name:""," ",s.createElement("br",null),_("description.zonaseleccionada"),": ",-1!==x?x+1:"",s.createElement("br",null),k,s.createElement(u.default,{game:n,zone:x,playerName:w&&w.name,fromName:window.crawlear.user.displayName}))}return s.createElement(s.Fragment,null,v,s.createElement(p.default,{message:C}),s.createElement("div",{className:"trackJudgeContainer rounded rounded3"},s.createElement("div",{className:"bold"},_("description.juezdepista")),s.createElement(f.default,{onZoneClick:I,game:n,jidGroup:r}),s.createElement(p.default,{message:C}),t),s.createElement("div",{className:"tendJudgeContainer rounded rounded3"},s.createElement("div",{className:"bold"},_("description.juezdecarpa")),s.createElement(d.default,{gameProgression:E,game:n,onRepairEnd:g.default.onRepairEnd})),s.createElement("button",{className:"backButton",onClick:o},_("description.atras")),c.GameUtils.isCurrentUserIsOwner(n.owner)&&g.default.isGroupGameFinished(n,E,r)?s.createElement("button",{className:"closeButton importantNote",onClick:function(){a(n)}},_("description.cerrarpartida")):s.createElement(s.Fragment,null))}},2460:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9226)),s=o(n(97238)),l=n(93082),c=n(29525),u=n(25082);n(13541),n(332),t.default=function(e){var t=e.playerIndex,n=e.zoneIndex,r=e.onGateProgressionChange,i=(0,l.useTranslation)().t,o=a.useContext(u.GameContext),d=o.game,h=o.gameExtras,f=(0,s.createSliderWithTooltip)(s.default);function p(e){var i="gatesPlusButton"===e.target.id,o=d.players[t].zones[n],a=d.gates[n];i?o.gateProgression<a&&r(o.gateProgression+1):o.gateProgression>0&&r(o.gateProgression-1)}var g=d.players[t].zones[n];return a.createElement("div",{className:"gateProgressionContainer controlTextContainer info rounded rounded2"},i("description.avancepuerta"),": ",g.gateProgression,a.createElement("button",{id:"gatesPlusButton",onClick:p,className:"buttonControlTextPlus"},"+"),a.createElement("button",{id:"gatesMinusButton",onClick:p,className:"buttonControlTextMinus"},"-"),a.createElement(f,{step:1,min:0,max:d.gates[n],dots:!0,vertical:d.gameType===c.GAME_TYPE_GENERIC,value:g.gateProgression,onChange:r,marks:h.generateSliderMarksFromGates(g.gateProgressionData,g.gateProgression),tipFormatter:function(e){return g.gateProgression<d.gates[n]?String(e).concat("-").concat(g.gateProgressionData[g.gateProgression].gatePoints):"-"}}))}},85901:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(93082),c=n(25082),u=a(n(5103)),d=n(29525),h=a(n(77721));t.default=function(e){var t=e.zoneIndex,n=e.playerIndex,r=s.createElement(s.Fragment,null),i=(0,l.useTranslation)().t,o=s.useContext(c.GameContext).game,a=o.players[n],f=a.zones[t];return d.GameUtils.isFiasco(o,n,t)&&(h.default.event("play","fiasco",a.name),r=s.createElement("div",{className:"fiascoBox rounded importantNote"},"FiASCO!")),s.createElement(s.Fragment,null,s.createElement("div",{className:"playersList"},s.createElement("div",{className:"playerListItem importantNote rounded"},s.createElement("img",{src:a.avatar,alt:"avatar"}),a.name)),s.createElement("div",{className:"controlTextContainer rounded rounded2"},s.createElement("div",{className:"smallText"},i("description.zona"),": ",t+1),s.createElement("div",{className:"smallText"},i("description.puertas"),": ",o.gates[t]),s.createElement("div",{className:"smallText"},"max ",i("description.tiempo"),": ",u.default.printTime(u.default.millisToTime(o.maxTime))),s.createElement("div",{className:"smallText"},"max ",i("description.puntos"),": ",o.maxPoints),s.createElement("div",{className:"bold pointsText"},i("description.total"),": ",f.totalPoints),r))}},63518:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(5103)),c=a(n(51923)),u=a(n(87165)),d=n(93082),h=n(25082);t.default=function(e){var t=e.playerZone,n=e.forceAction,r=e.setRepairStatus,i=e.onTimerChange,o=e.onTimeFiasco,a=e.onPointBecauseLastMinute,f=(0,d.useTranslation)().t,p=s.useContext(h.GameContext).game;return s.createElement("div",{className:"controlTextContainer rounded rounded2"},l.default.isIphone()?s.createElement(s.Fragment,null):s.createElement(c.default,null),p.courtesyTime>0?s.createElement("div",{className:"pointsText"},f("description.puntos")," ",f("description.portiempo"),": ",t.simpathyPoints):s.createElement(s.Fragment,null),s.createElement("button",{className:"repairButton importantNote",onClick:r},f("description.iniciarreparacion")),s.createElement(u.default,{courtesyTime:p.courtesyTime,startTime:t.time,label:f("description.tiempo"),forceAction:n,onTimerChange:i,onTimeFiasco:o,onPointBecauseLastMinute:a,maxTime:p.maxTime}))}},35456:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(n(9226)),u=l(n(5351)),d=n(29525),h=n(82639),f=l(n(77721)),p=n(25082);function g(e,t){var n={tickTime:0,forceAction:"",game:e};return d.GameUtils.init(n.game,d.GameUtils.getGameTypeControlTextValuesInit(n.game.gameType),d.GameUtils.getGameTypeFiascoControlTextValuesInit(n.game.gameType),t),n}t.default=function(e,t,n,i){var o=new u.default,a=c.useContext(p.GameContext),l=a.game,m=a.gameExtras,v=c.useState((function(){return window.scrollTo(0,0),g(l,!1)})),y=v[0],_=v[1],b=y.game.players[n].zones[i];return c.useEffect((function(){var e=y.game.players[n].zones[i];_(r(r({},y),{tickTime:e.time,forceAction:"play"})),document.body.classList.add(d.GameUtils.getGameTypeBodyClassName(l.gameType))}),[]),[y,function(e){var t=r({},y);if(!e){var o=t.game.players[n].zones[i];o.simpathyPoints=0,m.onTimerChange(o)}b.time=e,_(r(r({},t),{tickTime:e,forceAction:"play"}))},function(e,t){var a=r({},y),l=a.game,c=l.players[n].zones[i],u=c.gateProgressionData[c.gateProgression];(l.maxPoints<=c.points&&l.maxPoints>0||l.maxTime<=y.tickTime&&l.maxTime>0)&&!(c.points+e<=l.maxPoints&&0===c.fiascoControlTextValues.filter((function(e){return e>0})).length)||(u.controlTextValues=s([],u.controlTextValues,!0),u.controlTextValues[t]+=e,c.points+=e,c.gateProgression<l.gates[i]&&(u.gatePoints+=e),o.sendMessage(h.MSG_POINTS,c.points),m.onChangeScore(c),_(a),d.GameUtils.isFiasco(a.game,n,i)&&_(r(r({},y),{forceAction:"pause"})))},function(){var e=r({},y);window.scrollTo(0,0),f.default.event("play","reset",e.game.players[n].name),(e=g(e.game,!0)).forceAction="stop",_((function(t){return r(r({},t),e)}))},function(){var t=r({},y),o=t.game,a=o.players;window.scrollTo(0,0),m.onEndPlayer(o,y.tickTime,n,i),t.forceAction="stop",_(t),f.default.event("play","endPlayer",a[n].name),document.body.classList.remove(d.GameUtils.getGameTypeBodyClassName(l.gameType)),e(t.game)},function(e){var t=r({},y),a=t.game.players[n].zones[i];a.gateProgression=e,o.sendMessage(h.MSG_GATES,a.gateProgression),e===t.game.gates[i]&&(t.forceAction="pause"),m.onGateProgressionChange(a),_(t)},function(e,t){var o=r({},y),a=o.game.players[n].zones[i];a.fiascoControlTextValues=s([],a.fiascoControlTextValues,!0),a.fiascoControlTextValues[t]+=e,a.fiascoControlTextValues[t]>0&&(o.forceAction="pause"),m.onFiascoChangeScore(),_(o)},function(){var e=r({},y),t=e.game.players[n].zones[i];t.simpathyPoints++,m.onPointBecauseLastMinute(t),_(e)},function(){var e=r({},y);_(r(r({},e),{tickTime:l.maxTime+l.courtesyTime,forceAction:"pause"}))},function(){var e=r({},y);e.game.players[n].zones[i].time=y.tickTime,e.forceAction="stop",_(e),t&&t(n,i)}]}},96281:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_STATUS_FINISHED=t.GAME_STATUS_PLAYING=t.GAME_STATUS_CREATED=void 0;var l=a(n(9226)),c=n(11569),u=s(n(82232)),d=n(93082),h=n(29525),f=n(82232),p=s(n(5103));t.GAME_STATUS_CREATED=0,t.GAME_STATUS_PLAYING=1,t.GAME_STATUS_FINISHED=2,t.default=function(e,n){var i=l.useState(t.GAME_STATUS_CREATED),o=i[0],a=i[1],s=l.useState(e),g=s[0],m=s[1],v=l.useState([]),y=v[0],_=v[1],b=l.useRef([]),w=l.useState(-1),x=w[0],C=w[1],E=window.crawlear.fb,I=(0,d.useTranslation)().t,T=l.useState({name:"",avatar:"",group:0,id:0,zones:[],uid:""}),k=T[0],S=T[1];return l.useEffect((function(){c.isOffline?_(h.GameUtils.createGameProgression(g.zones,g.players.length)):E.getGameProgression(g.gid,(function(){}),(function(){}),(function(e,t){var n={};n[e]=t,m(u.default.updateGameFromProgression(t,g)),b.current=r(r({},b.current),n),_(r(r({},b.current),n))}),(function(e,t){var n={};n[e]=t,m(u.default.updateGameFromProgression(t,g)),b.current=r(r({},b.current),n),_(r(r({},b.current),n))}))}),[]),[o,g,y,_,k,x,function(e,n){var r=e.id,i=e.group;a(t.GAME_STATUS_PLAYING),S(e),C(n),y[i][r][n].status=f.STATUS_PLAYING,_(y),E.setGameProgression(g.gid,r,i,n,y[i][r][n])},function(e,i){if(u.default.isGroupGameFinished(e,y,i)&&window.confirm(I("content.cerrarpartida"))&&!c.isOffline)E.getGameResult(e,(function(e){var i=r({},e);i.gameStatus=2,n.onGameEnd(i),i=p.default.getOrderedGameResult(i),E.updateGame(i),E.removeGameProgression(i.gid),m(i),a(t.GAME_STATUS_FINISHED)}),(function(){}));else if(c.isOffline){var o=p.default.getOrderedGameResult(e);m(h.GameUtils.getGameResult(o,y)),a(t.GAME_STATUS_FINISHED)}},function(e){if(u.default.isIndividualGame(g))n.onGameEnd(g),(l=p.default.getOrderedGameResult(g)).gameStatus=2,E.updateGame(l),E.removeGameProgression(l.gid),E.removeDirectorPresenceRequest(l.gid),a(t.GAME_STATUS_FINISHED),m(l);else{var i=k.id,o=k.group,s=r({},y),l=r({},g);s[o][i][x].status=f.STATUS_DONE,s[o][i][x].data=e.players[i].zones[x],!s[o][i][x].data.judgedBy&&(s[o][i][x].data.judgedBy=[]),s[o][i][x].data.judgedBy.push(window.crawlear.user.uid),_(s),l.players[i].zones[x]=s[o][i][x].data,E.setGameProgression(l.gid,i,o,x,s[o][i][x]),a(t.GAME_STATUS_CREATED),m(l)}},function(e,n){var i=r({},y),o=g.players[e],s=o.group,l=o.id;i[s][e][n].status=f.STATUS_REPAIR,i[s][e][n].repairData={setTime:(new Date).getTime()},i[s][e][n].data=o.zones[n],_(i),E.setGameProgression(g.gid,l,s,n,i[s][l][n]),a(t.GAME_STATUS_CREATED)}]}},7490:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9226)),s=n(93082),l=n(98493),c=n(82232);t.default=function(e){var t=a.useState(null),n=t[0],r=t[1],i=a.useState(-1),o=i[0],u=i[1],d=a.useState(""),h=d[0],f=d[1],p=a.useContext(l.GameProgressionContext)[0],g=(0,s.useTranslation)().t;return[n,o,h,p,function(e,t){u(t),r(e),f("")},function(){if(n&&-1!==o){var t=n.id,r=n.group,i=p[r][t][o];i.status===c.STATUS_WAITING&&window.confirm(g("content.quieresempezarzona"))||i.status===c.STATUS_DONE&&window.confirm(g("content.quiereseditarpartida"))||i.status===c.STATUS_PLAYING&&window.confirm(g("content.seguroeditarpartidaenjuego"))?(f(""),e(n,o)):i.status===c.STATUS_PLAYING?f(g("error.juegoencurso")):i.status===c.STATUS_REPAIR&&f(g("error.reparacionencurso"))}}]}},75607:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(n(9226)),u=l(n(77721)),d=n(5368),h=n(93082),f=n(29525),p=n(25082);t.default=function(e){var t=e.onGameEnd,n=(0,h.useTranslation)().t,i=c.useContext(p.GameContext).game,o=c.useState((function(){return d.KingGameScores.texts=d.KingGameScores.texts.map((function(e){return n(e)})),function(e){var t={game:e,order:s([],e.players,!0)};f.GameUtils.init(t.game,f.GameUtils.getGameTypeControlTextValuesInit(t.game.gameType),f.GameUtils.getGameTypeFiascoControlTextValuesInit(t.game.gameType),!1);for(var n=0;n<t.game.players.length;n++)t.game.players[n].zones[0].gateProgressionData[0].controlTextValues=new Array(d.KingGameScores.steps.length).fill(0);return t}(i)})),a=o[0],l=o[1];return c.useEffect((function(){u.default.pageview("/kinggame/")}),[]),[a,function(e,t,n){var i,o,c,u=r({},a),d=u.game.players,h=d[n].zones[0],f=h.gateProgressionData[0];f.controlTextValues=s([],f.controlTextValues,!0),f.controlTextValues[t]+=e,h.totalPoints+=e,h.points+=e,u.order=(i=u.order.findIndex((function(e){return e.id===d[n].id})),o=u.order,(c=s([],o,!0)).push(c.splice(i,1)[0]),c),l(u)},function(){t&&t(i)}]}},56434:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(93082),c=a(n(58139)),u=a(n(39608));n(81759),t.default=function(e){var t=e.data,n=(e.readOnly,e.onRemoveItem),r=e.onConfigureItem,i=e.title,o=e.onItemAction,a=e.transformer,d=(0,l.useTranslation)().t,h=0,f=[];function p(e){var t=Number(e.target.getAttribute("data-itemposition"));window.confirm(d("content.seguroborrarpost"))&&n&&n(t)}function g(e){var t=Number(e.target.getAttribute("data-itemposition"));r&&r(t)}function m(){}return t&&t.forEach((function(e){f.push(s.createElement("div",{key:h},r&&n&&s.createElement(c.default,{key:"menu".concat(h),itemPosition:h,onConfigureClick:g,onRemoveClick:p}),s.createElement(u.default,{key:"item".concat(h),item:a(e),onItemAction:o,itemPosition:h,onOpenClose:m}))),h++})),t&&0!==t.length||f.push(s.createElement("div",{key:h,className:"centerText smallText"},d("description.noentradas"))),s.createElement("div",{className:"list rounded rounded3"},s.createElement("div",{className:"headerText bold"},i),f)}},66599:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.itemTransform=t.gameListTransformer=void 0;var s=o(n(9226)),l=n(96281),c=a(n(8697)),u=a(n(77111)),d=n(29525);function h(e){var t=s.createElement(s.Fragment,null),n="";return t=e.gameStatus===l.GAME_STATUS_CREATED||e.gameStatus===l.GAME_STATUS_PLAYING?s.createElement(u.default,{game:e}):s.createElement(c.default,{game:e}),d.GameUtils.isCurrentUserIsOwner(e.owner)&&(n="(D) "),{title:"".concat(n).concat(e.name," - ").concat(e.date),content:t}}t.gameListTransformer=function(e){var t=[];e.forEach((function(e){t.push(h(e))}))},t.itemTransform=h},39608:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9226));n(89951),t.default=function(e){var t=e.item,n=e.itemPosition,r=e.onOpenClose,i=e.onItemAction;return a.createElement("div",{key:n,className:"listItemContainer rounded rounded1 closed"},a.createElement("span",{onClick:function(e){var t=e.target.parentElement;t&&(t.classList.toggle("closed"),t.classList.contains("closed")||r(n))},className:"textOverflow listItemName bold"},t.title),i?a.createElement("span",{className:"editButton",onClick:function(e){i&&i(n)}},a.createElement("button",{className:"importantNote playButton"})):a.createElement(a.Fragment,null),t.content)}},75738:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.itemTransform=t.routeListTransformer=void 0;var a=o(n(9226));function s(e){return{title:e.name,content:a.createElement("div",{className:"routeListItem rounded rounded1"},a.createElement("span",null,e.description))}}t.routeListTransformer=function(e){var t=[];e.forEach((function(e){t.push(s(e))}))},t.itemTransform=s},3014:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i,o,a,s,l,c,u,d,h){this.name=e,this.description=t,this.isPublic=n,this.locationMapUrl=r,this.gpx=i,this.point=o,this.quadrant=a,this.uids=s,this.scale=l,this.dificulty=c,this.likes=u,this.youtubeVideo=d||"",h&&(this.rid=h)}return e.prototype.setRid=function(e){this.rid=e},e.prototype.transformIntoData=function(e){return n(n({},this),{gpx:e})},e}();t.default=r},43973:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(56434)),c=n(75738),u=n(93082),d=a(n(89058)),h=a(n(98695));n(20581),t.default=function(e){var t=e.onViewRoute,n=(0,u.useTranslation)().t,r=(0,d.default)(),i=r[0],o=r[1];return s.createElement("div",{className:"lovedRoutesContainer"},s.createElement(h.default,{message:o}),s.createElement(l.default,{title:n("description.rutasguardadas"),data:i,readOnly:!1,transformer:c.itemTransform,onItemAction:function(e){window.scrollTo(0,0),t(i[e])}}))}},48408:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(66367));n(15642),t.default=function(e){var t=e.rid,n=e.onLove,r=(0,l.default)(t,n),i=r[0],o=r[1];return s.createElement("span",{onClick:o,className:"routeLoveContainer"},s.createElement("span",{title:"love",className:i?"loveIcon loved":"loveIcon noloved"}))}},44218:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(98695)),c=a(n(14122)),u=n(49440),d=n(93082);n(18666),t.default=function(e){var t=e.inRoute,n=e.onRouteCreated,r=e.onBackClick,i=(0,c.default)(t,n),o=i[0],a=i[1],h=i[2],f=i[3],p=i[4],g=i[5],m=(0,d.useTranslation)().t;return s.createElement(s.Fragment,null,s.createElement("div",{className:"headerText bold sectionTitle"},m("description.seccionderutas")),s.createElement("div",{className:"routesManagement routesManagementCreation rounded rounded2"},s.createElement(l.default,{message:a}),s.createElement("div",{className:"routeName center"},m("description.nombrederuta")," ",s.createElement("input",{name:"name",value:o.name,onChange:function(e){p("name",e)}})),s.createElement("div",{className:"routeMap center"},m("description.mapaderuta"),s.createElement(u.GpxRouteMap,{gpx:o.gpx,onFileResolved:g})),s.createElement("div",{className:"routeDescription center"},m("description.descripcion")," ",s.createElement("textarea",{name:"description",value:o.description,onChange:function(e){p("description",e)}})),s.createElement("div",{className:"routeIsPublic center"},m("description.publico")," ",s.createElement("input",{type:"checkbox",defaultChecked:o.isPublic,name:"isPublic",onChange:function(e){p("isPublic",e)}})),s.createElement("div",{className:"routeScale center"},m("description.escala")," ",s.createElement("input",{name:"scale",value:o.scale,onChange:function(e){p("scale",e)}})),s.createElement("div",{className:"routeDifficulty center"},m("description.dificultad")," ",s.createElement("select",{onChange:f,value:o.dificulty},s.createElement("option",{value:"1"},"1"),s.createElement("option",{value:"2"},"2"),s.createElement("option",{value:"3"},"3"),s.createElement("option",{value:"4"},"4"),s.createElement("option",{value:"5"},"5"))),s.createElement("div",{className:"youtubeVideo center"},m("description.video"),s.createElement("input",{name:"youtubeVideo",value:o.youtubeVideo,onChange:function(e){p("youtubeVideo",e)}})),s.createElement("div",{className:"routePoint center"},m("description.puntoencuentro"),s.createElement("input",{name:"locationMapUrl",value:o.locationMapUrl,onChange:function(e){p("locationMapUrl",e)}})),s.createElement("div",{className:"endButtons"},s.createElement("button",{className:"importantNote",onClick:h},o.rid?m("description.modificar"):m("description.crear")),s.createElement("button",{onClick:r},m("description.atras")))))}},29136:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(93082),c=a(n(56434)),u=n(75738),d=a(n(4384)),h=a(n(43973)),f=a(n(60389)),p=a(n(98695));t.default=function(e){var t=e.onCreateRoute,n=e.onViewRoute,r=(0,l.useTranslation)().t,i=(0,f.default)(),o=i[0],a=i[1],g=i[2];return s.createElement(s.Fragment,null,s.createElement("div",{className:"headerText bold sectionTitle"},r("description.seccionderutas")),s.createElement(d.default,null),s.createElement("div",{className:"routesManagement rounded rounded3"},s.createElement(p.default,{message:g}),s.createElement(c.default,{data:o,readOnly:!1,transformer:u.itemTransform,onRemoveItem:a,onConfigureItem:function(e){window.scrollTo(0,0),t(o[e])},title:r("description.misrutas"),onItemAction:function(e){window.scrollTo(0,0),n(o[e])}})),s.createElement(h.default,{onViewRoute:n}),s.createElement("button",{className:"importantNote",onClick:function(){window.scrollTo(0,0),t()}},r("description.crear")))}},89058:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(93082);t.default=function(){var e=window.crawlear.fb,t=(0,l.useTranslation)().t,n=s.useState([]),r=n[0],i=n[1],o=s.useState(""),c=o[0],u=o[1];return s.useEffect((function(){window.crawlear.user.uid&&e.getLovedRoutes(window.crawlear.user.uid,(function(e){var t=a([],r,!0);t.push(e),i(t)}),(function(){u(t("error.errordecarga"))}))}),[]),[r,c]}},66367:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9226));t.default=function(e,t){var n=a.useState(null),r=n[0],i=n[1],o=a.useState(!1),s=o[0],l=o[1],c=window.crawlear.fb,u=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid;return a.useEffect((function(){u&&c.getRouteLove(window.crawlear.user.uid,e,(function(e,t){l(e),i(t)}),(function(){}))}),[]),[s,function(n){u&&(t&&t(!s),s?c.unloveRoute(r,(function(){i(null)}),(function(){})):c.loveRoute(window.crawlear.user.uid,e,(function(e){i(e)}),(function(){})),l(!s))}]}},14122:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(3014)),c=n(93082);t.default=function(e,t){var n=(0,c.useTranslation)().t,r=s.useState(e),i=r[0],o=r[1],a=s.useState(""),u=a[0],d=a[1],h=window.crawlear.fb;return[i,u,function(){window.scrollTo(0,0),i.name.length<=0?d(n("error.nonombre")):i.description.length<=0?d(n("error.nodescripcion")):i.scale.length<=0?d(n("error.noescala")):i.locationMapUrl.length<=0?d(n("error.nolocalizacion")):i.gpx.data.length<=0?d(n("error.noruta")):(d(""),h.setRoute(i,(function(e){}),(function(){})),t())},function(e){var t=e.target.selectedIndex+1,n=new l.default(i.name,i.description,i.isPublic,i.locationMapUrl,i.gpx,i.point,i.quadrant,i.uids,i.scale,t,i.likes,i.youtubeVideo,i.rid);o(n)},function(e,t){var n="checkbox"===t.target.type?t.target.checked:t.target.value,r=new l.default(i.name,i.description,i.isPublic,i.locationMapUrl,i.gpx,i.point,i.quadrant,i.uids,i.scale,i.dificulty,i.likes,i.youtubeVideo,i.rid);r[e]=n,o(r)},function(e,t){var n={lat:Math.trunc(t.lat/36),lon:Math.trunc(t.lon/72)};o((function(r){return new l.default(r.name,r.description,r.isPublic,r.locationMapUrl,{gid:r.gpx.gid,data:e||""},t||{lat:0,lon:0},n,r.uids,r.scale,r.dificulty,r.likes,r.youtubeVideo,r.rid)}))}]}},67468:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.STATE_VIEW=t.STATE_CREATE=t.STATE_MENU=void 0;var s=o(n(9226)),l=a(n(3014)),c=a(n(77721));t.STATE_MENU=0,t.STATE_CREATE=1,t.STATE_VIEW=2,t.default=function(e){var n=window.crawlear.fb,r=s.useState(t.STATE_MENU),i=r[0],o=r[1],a=s.useState(new l.default("","",!0,"",{data:""},{lat:0,lon:0},{lat:0,lon:0},[""],"",0,0)),u=a[0],d=a[1];return s.useEffect((function(){return c.default.pageview("/routesManagement/"),n.checkIfLogged((function(){e(!1)})),window.document.body.classList.add("route"),function(){window.document.body.classList.remove("route")}}),[]),[i,u,function(e){d(e),o(t.STATE_VIEW)},function(e){d(e||new l.default("","",!0,"",{data:""},{lat:0,lon:0},{lat:0,lon:0},[window.crawlear.user.uid],"",0,0)),o(t.STATE_CREATE)},function(e){o(t.STATE_MENU)},function(e){o(t.STATE_CREATE)}]}},60389:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(93082);t.default=function(){var e=s.useState([]),t=e[0],n=e[1],r=s.useState(""),i=r[0],o=r[1],c=(0,l.useTranslation)().t,u=window.crawlear.fb;return s.useEffect((function(){window.crawlear&&window.crawlear.user&&window.crawlear.user.uid&&u.getRoutesFromUser(window.crawlear.user.uid,(function(e){n(e)}),(function(){o(c("error.errordecarga"))}))}),[]),[t,function(e){var r,i=a([],t,!0);u.removeRoute(i[e].rid,null===(r=i[e].gpx)||void 0===r?void 0:r.gid,(function(){delete i[e],n(i)}),(function(){}))},i]}},66692:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(93082),c=a(n(57718)),u=a(n(46196)),d=n(49440),h=a(n(48408)),f=a(n(46622));n(15483),n(70481),n(17020),t.default=function(e){var t=e.route,n=e.onBackClick,r=e.onEditClick,i=(0,l.useTranslation)().t,o=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid,a=o&&t.uids.find((function(e){return e===window.crawlear.user.uid}));return a||t.isPublic?s.createElement("div",{className:"routesManagement rounded rounded2"},s.createElement("div",{className:"routesSection rounded rounded1"},!a&&o?s.createElement(h.default,{rid:t.rid||""}):s.createElement(s.Fragment,null),a&&r?s.createElement("div",{className:"editButton",onClick:r},"[ ",i("description.editar")," ]"):s.createElement(s.Fragment,null),s.createElement("div",{className:"value name"},t.name," "),s.createElement("div",{className:"value ispublic"},t.isPublic?i("description.publico"):""," ")),s.createElement(d.GpxRouteMap,{gpx:t.gpx.data}),t.youtubeVideo?s.createElement("div",{className:"routesSection"},s.createElement("div",{className:"value"},s.createElement(f.default,{url:t.youtubeVideo}))):s.createElement(s.Fragment,null),s.createElement(u.default,{url:"routeViewer?rid=".concat(t.rid),text:i("content.shareruta"),headerText:""}),s.createElement("div",{className:"routesSection"},s.createElement("div",{className:"value description"},t.description," ")),s.createElement("div",{className:"routesSection"},s.createElement("div",{className:"bold"},i("description.escala")),s.createElement("div",{className:"value"},t.scale," ")),s.createElement("div",{className:"routesSection"},s.createElement("div",{className:"bold"},i("description.dificultad")),s.createElement("div",{className:"value"},t.dificulty," ")),s.createElement("div",{className:"routesSection"},s.createElement("div",{className:"bold"},i("description.puntoencuentro")),s.createElement(c.default,{url:t.locationMapUrl})),s.createElement("div",{className:"routesSection backButton"},n?s.createElement("button",{onClick:n},i("description.atras")):s.createElement(s.Fragment,null))):s.createElement(s.Fragment,null,i("description.nopublico"))}},35229:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(79655),c=a(n(66692)),u=a(n(44218)),d=a(n(29136)),h=o(n(67468));t.default=function(e){var t=e.onLogin,n=window.crawlear.fb,r=(0,h.default)(t),i=r[0],o=r[1],a=r[2],f=r[3],p=r[4],g=r[5];return n.isUserLogged()?s.createElement(s.Fragment,null,i===h.STATE_MENU?s.createElement(d.default,{onCreateRoute:f,onViewRoute:a}):i===h.STATE_CREATE?s.createElement(u.default,{inRoute:o,onRouteCreated:p,onBackClick:p}):s.createElement(c.default,{route:o,onBackClick:p,onEditClick:g})):s.createElement(l.Navigate,{state:{from:"/route"},to:{pathname:"/"}})}},4384:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(93082),c=n(49440),u=a(n(93921)),d=a(n(66692)),h=a(n(9596));n(65097),t.default=function(){var e=(0,l.useTranslation)().t,t=(0,h.default)(),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4];return s.createElement("div",{className:"rounded rounded3 routesSearchContainer"},s.createElement("div",{className:"headerText bold"},e("description.buscar")),s.createElement("div",{className:"searchText"},e("content.busquedaderuta")),r?s.createElement(u.default,{onClose:a},s.createElement(d.default,{route:r})):s.createElement(s.Fragment,null),s.createElement(c.MapPointPicker,{points:n.map((function(e,t){var n=document.createElement("div");return n.classList.add("routeAltDiv"),n.innerText=e.name,n.addEventListener("click",(function(){o(t)})),{point:e.point,content:n}})),onMapClick:i}))}},9596:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9226));t.default=function(){var e=window.crawlear.fb,t=a.useState([]),n=t[0],r=t[1],i=a.useState(null),o=i[0],s=i[1];return[n,o,function(t,n){var i=Math.abs(n._northEast.lat-n._southWest.lat)/2,o=Math.abs(n._northEast.lng-n._southWest.lng)/4;e.routeSearchByLatLon(t,{lat:i,lon:o},(function(e){r(e)}),(function(){}))},function(t){var r=n[t];e.getGpx(r.gpx.gid?r.gpx.gid:r.gpx,(function(e){r.gpx=e,s(r)}))},function(){s(null)}]}},57718:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(9226)),s=n(93082);t.default=function(e){var t=e.url,n=(0,s.useTranslation)().t;return a.createElement("a",{href:t,rel:"noreferrer",target:"_blank"},n("description.vergooglemaps"))}},67517:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(77721));t.default=function(e,t){var n=window.crawlear.fb,r=s.useState({}),i=r[0],o=r[1],a=s.useState({}),c=a[0],u=a[1];return s.useEffect((function(){return n.checkIfLogged((function(){t(!1)})),n.getPost(e,(function(e){o(e),n.getUser(e.uid,(function(e){u(e)}),(function(){}))}),(function(){})),l.default.pageview("".concat(document.location.pathname).concat(document.location.search)),window.document.body.classList.add("postview"),function(){window.document.body.classList.remove("postview")}}),[]),[c,i]}},37962:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.USER_TYPE_ROUTE=t.USER_TYPE_NEUTRAL=t.USER_TYPE_JUDGE=t.USER_TYPE_PILOT=void 0;var l=a(n(9226)),c=s(n(77721));t.USER_TYPE_PILOT=0,t.USER_TYPE_JUDGE=1,t.USER_TYPE_NEUTRAL=2,t.USER_TYPE_ROUTE=3,t.default=function(e){var n=window.crawlear.fb,i=l.useState({uid:"",displayName:"",description:"",instagram:"",photoURL:"",registrationDate:""}),o=i[0],a=i[1],s=l.useState({judgeGames:0,pilotGames:0,routes:0}),u=s[0],d=s[1],h=l.useState(!1),f=h[0],p=h[1];return l.useEffect((function(){e&&f&&(n.getUser(e,(function(t){a(r({},t)),n.getUserExtraData(e,(function(e){d(e)}))})),f&&c.default.pageview("".concat(document.location.pathname).concat(document.location.search)))}),[f,e]),[o,u,f,function(e){e&&p(e)},function(e){return e.routes>e.judgeGames+e.pilotGames?t.USER_TYPE_ROUTE:e.judgeGames-e.pilotGames>0?t.USER_TYPE_JUDGE:e.judgeGames-e.pilotGames==0?t.USER_TYPE_NEUTRAL:t.USER_TYPE_PILOT}]}},20186:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(58219)),c=a(n(8697)),u=n(93082),d=a(n(83172)),h=a(n(2418));t.default=function(e){var t=e.gid,n=e.onLogin,r=window.crawlear.fb,i=(0,u.useTranslation)().t,o=(0,l.default)(t)[0],a=s.createElement(s.Fragment,null);return s.useEffect((function(){r.checkIfLogged(n)}),[]),a=o.players?o.isPublic?s.createElement(s.Fragment,null,s.createElement("div",{className:"headerText bold"},o.name),s.createElement(c.default,{game:o})):s.createElement(s.Fragment,null,i("description.juegonopublico")):s.createElement(d.default,null),s.createElement(s.Fragment,null,s.createElement(h.default,null),s.createElement("br",null),a)}},81744:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(83172)),c=a(n(66692)),u=a(n(44411)),d=a(n(2418));t.default=function(e){var t=e.rid,n=e.onLogin,r=(0,u.default)(t)[0],i=window.crawlear.fb;return s.useEffect((function(){i.checkIfLogged((function(){n(!1)}))}),[]),r.rid?s.createElement(s.Fragment,null,s.createElement(d.default,null),s.createElement(c.default,{route:r})):s.createElement(s.Fragment,null,s.createElement(d.default,null),s.createElement("br",null),s.createElement(l.default,null))}},58219:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(77721));t.default=function(e){var t=window.crawlear.fb,n=s.useState({}),r=n[0],i=n[1];return s.useEffect((function(){l.default.pageview("/gameviewer?gid=".concat(e)),t.getGame(e,(function(e){e.isPublic&&i(e)}))}),[]),[r]}},44411:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=a(n(3014)),c=a(n(77721));t.default=function(e){var t=window.crawlear.fb,n=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid||"",r=s.useState(new l.default("","",!0,"",{data:""},{lat:0,lon:0},{lat:0,lon:0},[n],"",0,0)),i=r[0],o=r[1];return s.useEffect((function(){c.default.pageview("/routeviewer?gid=".concat(e)),t.getRoute(e,!0,(function(e){o(e)}))}),[]),[i]}},71739:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},51051:(e,t,n)=>{"use strict";const r=n(26592),i=n(83750),o=n(39105);e.exports={XMLParser:i,XMLValidator:r,XMLBuilder:o}},43670:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"]["+n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.isName=function(e){return!(null==i.exec(e))},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[];i.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=r},26592:(e,t,n)=>{"use strict";const r=n(43670),i={allowBooleanAttributes:!1,unpairedTags:[]};function o(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function a(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return p("InvalidXml","XML declaration allowed only at the start of the document.",m(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function s(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=Object.assign({},i,t);const n=[];let l=!1,c=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let i=0;i<e.length;i++)if("<"===e[i]&&"?"===e[i+1]){if(i+=2,i=a(e,i),i.err)return i}else{if("<"!==e[i]){if(o(e[i]))continue;return p("InvalidChar","char '"+e[i]+"' is not expected.",m(e,i))}{let g=i;if(i++,"!"===e[i]){i=s(e,i);continue}{let v=!1;"/"===e[i]&&(v=!0,i++);let y="";for(;i<e.length&&">"!==e[i]&&" "!==e[i]&&"\t"!==e[i]&&"\n"!==e[i]&&"\r"!==e[i];i++)y+=e[i];if(y=y.trim(),"/"===y[y.length-1]&&(y=y.substring(0,y.length-1),i--),d=y,!r.isName(d)){let t;return t=0===y.trim().length?"Invalid space after '<'.":"Tag '"+y+"' is an invalid name.",p("InvalidTag",t,m(e,i))}const _=u(e,i);if(!1===_)return p("InvalidAttr","Attributes for '"+y+"' have open quote.",m(e,i));let b=_.value;if(i=_.index,"/"===b[b.length-1]){const n=i-b.length;b=b.substring(0,b.length-1);const r=h(b,t);if(!0!==r)return p(r.err.code,r.err.msg,m(e,n+r.err.line));l=!0}else if(v){if(!_.tagClosed)return p("InvalidTag","Closing tag '"+y+"' doesn't have proper closing.",m(e,i));if(b.trim().length>0)return p("InvalidTag","Closing tag '"+y+"' can't have attributes or invalid starting.",m(e,g));{const t=n.pop();if(y!==t.tagName){let n=m(e,t.tagStartPos);return p("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+y+"'.",m(e,g))}0==n.length&&(c=!0)}}else{const r=h(b,t);if(!0!==r)return p(r.err.code,r.err.msg,m(e,i-b.length+r.err.line));if(!0===c)return p("InvalidXml","Multiple possible root nodes found.",m(e,i));-1!==t.unpairedTags.indexOf(y)||n.push({tagName:y,tagStartPos:g}),l=!0}for(i++;i<e.length;i++)if("<"===e[i]){if("!"===e[i+1]){i++,i=s(e,i);continue}if("?"!==e[i+1])break;if(i=a(e,++i),i.err)return i}else if("&"===e[i]){const t=f(e,i);if(-1==t)return p("InvalidChar","char '&' is not expected.",m(e,i));i=t}else if(!0===c&&!o(e[i]))return p("InvalidXml","Extra text at the end",m(e,i));"<"===e[i]&&i--}}}var d;return l?1==n.length?p("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",m(e,n[0].tagStartPos)):!(n.length>0)||p("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):p("InvalidXml","Start tag expected.",1)};const l='"',c="'";function u(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if(e[t]===l||e[t]===c)""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}const d=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function h(e,t){const n=r.getAllMatches(e,d),i={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return p("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",v(n[e]));if(void 0!==n[e][3]&&void 0===n[e][4])return p("InvalidAttr","Attribute '"+n[e][2]+"' is without value.",v(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return p("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",v(n[e]));const r=n[e][2];if(!g(r))return p("InvalidAttr","Attribute '"+r+"' is an invalid name.",v(n[e]));if(i.hasOwnProperty(r))return p("InvalidAttr","Attribute '"+r+"' is repeated.",v(n[e]));i[r]=1}return!0}function f(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function p(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function g(e){return r.isName(e)}function m(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function v(e){return e.startIndex+e[1].length}},39105:(e,t,n)=>{"use strict";const r=n(50164),i={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function o(e){this.options=Object.assign({},i,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l),this.processTextOrObjNode=a,this.options.format?(this.indentate=s,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function a(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextValNode(e[this.options.textNodeName],t,r.attrStr,n):this.buildObjectNode(r.val,t,r.attrStr,n)}function s(e){return this.options.indentBy.repeat(e)}function l(e){return!(!e.startsWith(this.options.attributeNamePrefix)||e===this.options.textNodeName)&&e.substr(this.attrPrefixLen)}o.prototype.build=function(e){return this.options.preserveOrder?r(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)},o.prototype.j2x=function(e,t){let n="",r="";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i))if(void 0===e[i])this.isAttribute(i)&&(r+="");else if(null===e[i])this.isAttribute(i)?r+="":"?"===i[0]?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextValNode(e[i],i,"",t);else if("object"!=typeof e[i]){const o=this.isAttribute(i);if(o)n+=this.buildAttrPairStr(o,""+e[i]);else if(i===this.options.textNodeName){let t=this.options.tagValueProcessor(i,""+e[i]);r+=this.replaceEntitiesValue(t)}else r+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const n=e[i].length;let o="";for(let a=0;a<n;a++){const n=e[i][a];void 0===n||(null===n?"?"===i[0]?r+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof n?this.options.oneListGroup?o+=this.j2x(n,t+1).val:o+=this.processTextOrObjNode(n,i,t):o+=this.buildTextValNode(n,i,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",t)),r+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const t=Object.keys(e[i]),r=t.length;for(let o=0;o<r;o++)n+=this.buildAttrPairStr(t[o],""+e[i][t[o]])}else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}},o.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&"true"===t?" "+e:" "+e+'="'+t+'"'},o.prototype.buildObjectNode=function(e,t,n,r){if(""===e)return"?"===t[0]?this.indentate(r)+"<"+t+n+"?"+this.tagEndChar:this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,o="";return"?"===t[0]&&(o="?",i=""),!n&&""!==n||-1!==e.indexOf("<")?!1!==this.options.commentPropName&&t===this.options.commentPropName&&0===o.length?this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine:this.indentate(r)+"<"+t+n+o+this.tagEndChar+e+this.indentate(r)+i:this.indentate(r)+"<"+t+n+o+">"+e+i}},o.prototype.closeTag=function(e){let t="";return-1!==this.options.unpairedTags.indexOf(e)?this.options.suppressUnpairedNode||(t="/"):t=this.options.suppressEmptyNode?"/":`></${e}`,t},o.prototype.buildTextValNode=function(e,t,n,r){if(!1!==this.options.cdataPropName&&t===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${e}]]>`+this.newLine;if(!1!==this.options.commentPropName&&t===this.options.commentPropName)return this.indentate(r)+`\x3c!--${e}--\x3e`+this.newLine;if("?"===t[0])return this.indentate(r)+"<"+t+n+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),""===i?this.indentate(r)+"<"+t+n+this.closeTag(t)+this.tagEndChar:this.indentate(r)+"<"+t+n+">"+i+"</"+t+this.tagEndChar}},o.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const n=this.options.entities[t];e=e.replace(n.regex,n.val)}return e},e.exports=o},50164:e=>{function t(e,a,s,l){let c="",u=!1;for(let d=0;d<e.length;d++){const h=e[d],f=n(h);if(void 0===f)continue;let p="";if(p=0===s.length?f:`${s}.${f}`,f===a.textNodeName){let e=h[f];i(p,a)||(e=a.tagValueProcessor(f,e),e=o(e,a)),u&&(c+=l),c+=e,u=!1;continue}if(f===a.cdataPropName){u&&(c+=l),c+=`<![CDATA[${h[f][0][a.textNodeName]}]]>`,u=!1;continue}if(f===a.commentPropName){c+=l+`\x3c!--${h[f][0][a.textNodeName]}--\x3e`,u=!0;continue}if("?"===f[0]){const e=r(h[":@"],a),t="?xml"===f?"":l;let n=h[f][0][a.textNodeName];n=0!==n.length?" "+n:"",c+=t+`<${f}${n}${e}?>`,u=!0;continue}let g=l;""!==g&&(g+=a.indentBy);const m=l+`<${f}${r(h[":@"],a)}`,v=t(h[f],a,p,g);-1!==a.unpairedTags.indexOf(f)?a.suppressUnpairedNode?c+=m+">":c+=m+"/>":v&&0!==v.length||!a.suppressEmptyNode?v&&v.endsWith(">")?c+=m+`>${v}${l}</${f}>`:(c+=m+">",v&&""!==l&&(v.includes("/>")||v.includes("</"))?c+=l+a.indentBy+v+l:c+=v,c+=`</${f}>`):c+=m+"/>",u=!0}return c}function n(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(e.hasOwnProperty(r)&&":@"!==r)return r}}function r(e,t){let n="";if(e&&!t.ignoreAttributes)for(let r in e){if(!e.hasOwnProperty(r))continue;let i=t.attributeValueProcessor(r,e[r]);i=o(i,t),!0===i&&t.suppressBooleanAttributes?n+=` ${r.substr(t.attributeNamePrefix.length)}`:n+=` ${r.substr(t.attributeNamePrefix.length)}="${i}"`}return n}function i(e,t){let n=(e=e.substr(0,e.length-t.textNodeName.length-1)).substr(e.lastIndexOf(".")+1);for(let r in t.stopNodes)if(t.stopNodes[r]===e||t.stopNodes[r]==="*."+n)return!0;return!1}function o(e,t){if(e&&e.length>0&&t.processEntities)for(let n=0;n<t.entities.length;n++){const r=t.entities[n];e=e.replace(r.regex,r.val)}return e}e.exports=function(e,n){let r="";return n.format&&n.indentBy.length>0&&(r="\n"),t(e,n,"",r)}},52024:(e,t,n)=>{const r=n(43670);function i(e,t){let n="";for(;t<e.length&&"'"!==e[t]&&'"'!==e[t];t++)n+=e[t];if(n=n.trim(),-1!==n.indexOf(" "))throw new Error("External entites are not supported");const r=e[t++];let i="";for(;t<e.length&&e[t]!==r;t++)i+=e[t];return[n,i,t]}function o(e,t){return"!"===e[t+1]&&"-"===e[t+2]&&"-"===e[t+3]}function a(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"N"===e[t+3]&&"T"===e[t+4]&&"I"===e[t+5]&&"T"===e[t+6]&&"Y"===e[t+7]}function s(e,t){return"!"===e[t+1]&&"E"===e[t+2]&&"L"===e[t+3]&&"E"===e[t+4]&&"M"===e[t+5]&&"E"===e[t+6]&&"N"===e[t+7]&&"T"===e[t+8]}function l(e,t){return"!"===e[t+1]&&"A"===e[t+2]&&"T"===e[t+3]&&"T"===e[t+4]&&"L"===e[t+5]&&"I"===e[t+6]&&"S"===e[t+7]&&"T"===e[t+8]}function c(e,t){return"!"===e[t+1]&&"N"===e[t+2]&&"O"===e[t+3]&&"T"===e[t+4]&&"A"===e[t+5]&&"T"===e[t+6]&&"I"===e[t+7]&&"O"===e[t+8]&&"N"===e[t+9]}function u(e){if(r.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}e.exports=function(e,t){const n={};if("O"!==e[t+3]||"C"!==e[t+4]||"T"!==e[t+5]||"Y"!==e[t+6]||"P"!==e[t+7]||"E"!==e[t+8])throw new Error("Invalid Tag instead of DOCTYPE");{t+=9;let r=1,d=!1,h=!1,f="";for(;t<e.length;t++)if("<"!==e[t]||h)if(">"===e[t]){if(h?"-"===e[t-1]&&"-"===e[t-2]&&(h=!1,r--):r--,0===r)break}else"["===e[t]?d=!0:f+=e[t];else{if(d&&a(e,t))t+=7,[entityName,val,t]=i(e,t+1),-1===val.indexOf("&")&&(n[u(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(d&&s(e,t))t+=8;else if(d&&l(e,t))t+=8;else if(d&&c(e,t))t+=9;else{if(!o)throw new Error("Invalid DOCTYPE");h=!0}r++,f=""}if(0!==r)throw new Error("Unclosed DOCTYPE")}return{entities:n,i:t}}},88789:(e,t)=>{const n={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}};t.buildOptions=function(e){return Object.assign({},n,e)},t.defaultOptions=n},67190:(e,t,n)=>{"use strict";const r=n(43670),i=n(4113),o=n(52024),a=n(35989);function s(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function l(e,t,n,r,i,o,a){if(void 0!==e&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){a||(e=this.replaceEntitiesValue(e));const r=this.options.tagValueProcessor(t,e,n,i,o);return null==r?e:typeof r!=typeof e||r!==e?r:this.options.trimValues||e.trim()===e?b(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function c(e){if(this.options.removeNSPrefix){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);const u=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function d(e,t,n){if(!this.options.ignoreAttributes&&"string"==typeof e){const n=r.getAllMatches(e,u),i=n.length,o={};for(let e=0;e<i;e++){const r=this.resolveNameSpace(n[e][1]);let i=n[e][4],a=this.options.attributeNamePrefix+r;if(r.length)if(this.options.transformAttributeName&&(a=this.options.transformAttributeName(a)),"__proto__"===a&&(a="#__proto__"),void 0!==i){this.options.trimValues&&(i=i.trim()),i=this.replaceEntitiesValue(i);const e=this.options.attributeValueProcessor(r,i,t);o[a]=null==e?i:typeof e!=typeof i||e!==i?e:b(i,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[a]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const e={};return e[this.options.attributesGroupName]=o,e}return o}}const h=function(e){e=e.replace(/\r\n?/g,"\n");const t=new i("!xml");let n=t,r="",a="";for(let s=0;s<e.length;s++)if("<"===e[s])if("/"===e[s+1]){const t=v(e,">",s,"Closing Tag is not closed.");let i=e.substring(s+2,t).trim();if(this.options.removeNSPrefix){const e=i.indexOf(":");-1!==e&&(i=i.substr(e+1))}this.options.transformTagName&&(i=this.options.transformTagName(i)),n&&(r=this.saveTextToParentTag(r,n,a));const o=a.substring(a.lastIndexOf(".")+1);if(i&&-1!==this.options.unpairedTags.indexOf(i))throw new Error(`Unpaired tag can not be used as closing tag: </${i}>`);let l=0;o&&-1!==this.options.unpairedTags.indexOf(o)?(l=a.lastIndexOf(".",a.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=a.lastIndexOf("."),a=a.substring(0,l),n=this.tagsNodeStack.pop(),r="",s=t}else if("?"===e[s+1]){let t=y(e,s,!1,"?>");if(!t)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,a),this.options.ignoreDeclaration&&"?xml"===t.tagName||this.options.ignorePiTags);else{const e=new i(t.tagName);e.add(this.options.textNodeName,""),t.tagName!==t.tagExp&&t.attrExpPresent&&(e[":@"]=this.buildAttributesMap(t.tagExp,a,t.tagName)),this.addChild(n,e,a)}s=t.closeIndex+1}else if("!--"===e.substr(s+1,3)){const t=v(e,"--\x3e",s+4,"Comment is not closed.");if(this.options.commentPropName){const i=e.substring(s+4,t-2);r=this.saveTextToParentTag(r,n,a),n.add(this.options.commentPropName,[{[this.options.textNodeName]:i}])}s=t}else if("!D"===e.substr(s+1,2)){const t=o(e,s);this.docTypeEntities=t.entities,s=t.i}else if("!["===e.substr(s+1,2)){const t=v(e,"]]>",s,"CDATA is not closed.")-2,i=e.substring(s+9,t);if(r=this.saveTextToParentTag(r,n,a),this.options.cdataPropName)n.add(this.options.cdataPropName,[{[this.options.textNodeName]:i}]);else{let e=this.parseTextData(i,n.tagname,a,!0,!1,!0);null==e&&(e=""),n.add(this.options.textNodeName,e)}s=t+2}else{let o=y(e,s,this.options.removeNSPrefix),l=o.tagName;const c=o.rawTagName;let u=o.tagExp,d=o.attrExpPresent,h=o.closeIndex;this.options.transformTagName&&(l=this.options.transformTagName(l)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,a,!1));const f=n;if(f&&-1!==this.options.unpairedTags.indexOf(f.tagname)&&(n=this.tagsNodeStack.pop(),a=a.substring(0,a.lastIndexOf("."))),l!==t.tagname&&(a+=a?"."+l:l),this.isItStopNode(this.options.stopNodes,a,l)){let t="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)s=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(l))s=o.closeIndex;else{const n=this.readStopNodeData(e,c,h+1);if(!n)throw new Error(`Unexpected end of ${c}`);s=n.i,t=n.tagContent}const r=new i(l);l!==u&&d&&(r[":@"]=this.buildAttributesMap(u,a,l)),t&&(t=this.parseTextData(t,l,a,!0,d,!0,!0)),a=a.substr(0,a.lastIndexOf(".")),r.add(this.options.textNodeName,t),this.addChild(n,r,a)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){"/"===l[l.length-1]?(l=l.substr(0,l.length-1),a=a.substr(0,a.length-1),u=l):u=u.substr(0,u.length-1),this.options.transformTagName&&(l=this.options.transformTagName(l));const e=new i(l);l!==u&&d&&(e[":@"]=this.buildAttributesMap(u,a,l)),this.addChild(n,e,a),a=a.substr(0,a.lastIndexOf("."))}else{const e=new i(l);this.tagsNodeStack.push(n),l!==u&&d&&(e[":@"]=this.buildAttributesMap(u,a,l)),this.addChild(n,e,a),n=e}r="",s=h}}else r+=e[s];return t.child};function f(e,t,n){const r=this.options.updateTag(t.tagname,n,t[":@"]);!1===r||("string"==typeof r?(t.tagname=r,e.addChild(t)):e.addChild(t))}const p=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function g(e,t,n,r){return e&&(void 0===r&&(r=0===Object.keys(t.child).length),void 0!==(e=this.parseTextData(e,t.tagname,n,!1,!!t[":@"]&&0!==Object.keys(t[":@"]).length,r))&&""!==e&&t.add(this.options.textNodeName,e),e=""),e}function m(e,t,n){const r="*."+n;for(const n in e){const i=e[n];if(r===i||t===i)return!0}return!1}function v(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}function y(e,t,n,r=">"){const i=function(e,t,n=">"){let r,i="";for(let o=t;o<e.length;o++){let t=e[o];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else if(t===n[0]){if(!n[1])return{data:i,index:o};if(e[o+1]===n[1])return{data:i,index:o}}else"\t"===t&&(t=" ");i+=t}}(e,t+1,r);if(!i)return;let o=i.data;const a=i.index,s=o.search(/\s/);let l=o,c=!0;-1!==s&&(l=o.substr(0,s).replace(/\s\s*$/,""),o=o.substr(s+1));const u=l;if(n){const e=l.indexOf(":");-1!==e&&(l=l.substr(e+1),c=l!==i.data.substr(e+1))}return{tagName:l,tagExp:o,closeIndex:a,attrExpPresent:c,rawTagName:u}}function _(e,t,n){const r=n;let i=1;for(;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const o=v(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(i--,0===i))return{tagContent:e.substring(r,n),i:o};n=o}else if("?"===e[n+1])n=v(e,"?>",n+1,"StopNode is not closed.");else if("!--"===e.substr(n+1,3))n=v(e,"--\x3e",n+3,"StopNode is not closed.");else if("!["===e.substr(n+1,2))n=v(e,"]]>",n,"StopNode is not closed.")-2;else{const r=y(e,n,">");r&&((r&&r.tagName)===t&&"/"!==r.tagExp[r.tagExp.length-1]&&i++,n=r.closeIndex)}}function b(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&a(e,n)}return r.isExist(e)?e:""}e.exports=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=s,this.parseXml=h,this.parseTextData=l,this.resolveNameSpace=c,this.buildAttributesMap=d,this.isItStopNode=m,this.replaceEntitiesValue=p,this.readStopNodeData=_,this.saveTextToParentTag=g,this.addChild=f}}},83750:(e,t,n)=>{const{buildOptions:r}=n(88789),i=n(67190),{prettify:o}=n(81047),a=n(26592);e.exports=class{constructor(e){this.externalEntities={},this.options=r(e)}parse(e,t){if("string"==typeof e);else{if(!e.toString)throw new Error("XML data is accepted in String or Bytes[] form.");e=e.toString()}if(t){!0===t&&(t={});const n=a.validate(e,t);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new i(this.options);n.addExternalEntities(this.externalEntities);const r=n.parseXml(e);return this.options.preserveOrder||void 0===r?r:o(r,this.options)}addEntity(e,t){if(-1!==t.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==e.indexOf("&")||-1!==e.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===t)throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}}},81047:(e,t)=>{"use strict";function n(e,t,a){let s;const l={};for(let c=0;c<e.length;c++){const u=e[c],d=r(u);let h="";if(h=void 0===a?d:a+"."+d,d===t.textNodeName)void 0===s?s=u[d]:s+=""+u[d];else{if(void 0===d)continue;if(u[d]){let e=n(u[d],t,h);const r=o(e,t);u[":@"]?i(e,u[":@"],h,t):1!==Object.keys(e).length||void 0===e[t.textNodeName]||t.alwaysCreateTextNode?0===Object.keys(e).length&&(t.alwaysCreateTextNode?e[t.textNodeName]="":e=""):e=e[t.textNodeName],void 0!==l[d]&&l.hasOwnProperty(d)?(Array.isArray(l[d])||(l[d]=[l[d]]),l[d].push(e)):t.isArray(d,h,r)?l[d]=[e]:l[d]=e}}}return"string"==typeof s?s.length>0&&(l[t.textNodeName]=s):void 0!==s&&(l[t.textNodeName]=s),l}function r(e){const t=Object.keys(e);for(let e=0;e<t.length;e++){const n=t[e];if(":@"!==n)return n}}function i(e,t,n,r){if(t){const i=Object.keys(t),o=i.length;for(let a=0;a<o;a++){const o=i[a];r.isArray(o,n+"."+o,!0,!0)?e[o]=[t[o]]:e[o]=t[o]}}}function o(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return 0===r||!(1!==r||!e[n]&&"boolean"!=typeof e[n]&&0!==e[n])}t.prettify=function(e,t){return n(e,t)}},4113:e=>{"use strict";e.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},63582:(e,t,n)=>{var r,i,o=o||n(61912),a=36e5,s=864e5,l={startIconUrl:"pin-icon-start.png",endIconUrl:"pin-icon-end.png",shadowUrl:"pin-shadow.png",wptIcons:[],wptIconsType:[],wptIconUrls:{"":"pin-icon-wpt.png"},wptIconTypeUrls:{"":"pin-icon-wpt.png"},pointMatchers:[],iconSize:[33,45],shadowSize:[50,50],iconAnchor:[16,45],shadowAnchor:[16,47],clickable:!1},c={color:"blue"},u={parseElements:["track","route","waypoint"],joinTrackSegments:!0};o.GPX=o.FeatureGroup.extend({initialize:function(e,t){t.max_point_interval=t.max_point_interval||15e3,t.marker_options=this._merge_objs(l,t.marker_options||{}),t.polyline_options=t.polyline_options||{},t.gpx_options=this._merge_objs(u,t.gpx_options||{}),o.Util.setOptions(this,t),o.GPXTrackIcon=o.Icon.extend({options:t.marker_options}),this._gpx=e,this._layers={},this._init_info(),e&&this._parse(e,t,this.options.async)},get_duration_string:function(e,t){var n="";e>=s&&(n+=Math.floor(e/s)+"d ",e%=s),e>=a&&(n+=Math.floor(e/a)+":",e%=a);var r=Math.floor(e/6e4);e%=6e4,r<10&&(n+="0"),n+=r+"'";var i=Math.floor(e/1e3);return e%=1e3,i<10&&(n+="0"),(n+=i)+(!t&&e>0?"."+Math.round(1e3*Math.floor(e))/1e3:'"')},get_duration_string_iso:function(e,t){return this.get_duration_string(e,t).replace("'",":").replace('"',"")},to_miles:function(e){return e/1.60934},to_ft:function(e){return 3.28084*e},m_to_km:function(e){return e/1e3},m_to_mi:function(e){return e/1609.34},ms_to_kmh:function(e){return 3.6*e},ms_to_mih:function(e){return e/1609.34*3600},get_name:function(){return this._info.name},get_desc:function(){return this._info.desc},get_author:function(){return this._info.author},get_copyright:function(){return this._info.copyright},get_distance:function(){return this._info.length},get_distance_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))},get_start_time:function(){return this._info.duration.start},get_end_time:function(){return this._info.duration.end},get_moving_time:function(){return this._info.duration.moving},get_total_time:function(){return this._info.duration.total},get_moving_pace:function(){return this.get_moving_time()/this.m_to_km(this.get_distance())},get_moving_pace_imp:function(){return this.get_moving_time()/this.get_distance_imp()},get_moving_speed:function(){return this.m_to_km(this.get_distance())/(this.get_moving_time()/36e5)},get_moving_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_moving_time()/36e5)},get_total_speed:function(){return this.m_to_km(this.get_distance())/(this.get_total_time()/36e5)},get_total_speed_imp:function(){return this.to_miles(this.m_to_km(this.get_distance()))/(this.get_total_time()/36e5)},get_elevation_gain:function(){return this._info.elevation.gain},get_elevation_loss:function(){return this._info.elevation.loss},get_elevation_gain_imp:function(){return this.to_ft(this.get_elevation_gain())},get_elevation_loss_imp:function(){return this.to_ft(this.get_elevation_loss())},get_elevation_data:function(){var e=this;return this._info.elevation._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,null,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" m"}))}))},get_elevation_data_imp:function(){var e=this;return this._info.elevation._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,e.to_ft,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" ft"}))}))},get_elevation_max:function(){return this._info.elevation.max},get_elevation_min:function(){return this._info.elevation.min},get_elevation_max_imp:function(){return this.to_ft(this.get_elevation_max())},get_elevation_min_imp:function(){return this.to_ft(this.get_elevation_min())},get_speed_data:function(){var e=this;return this._info.speed._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,e.ms_to_kmh,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(2)+" km/h"}))}))},get_speed_data_imp:function(){var e=this;return this._info.speed._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,e.ms_to_mih,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(2)+" mi/h"}))}))},get_speed_max:function(){return 3600*this.m_to_km(this._info.speed.max)},get_speed_max_imp:function(){return this.to_miles(this.get_speed_max())},get_average_hr:function(){return this._info.hr.avg},get_average_temp:function(){return this._info.atemp.avg},get_average_cadence:function(){return this._info.cad.avg},get_heartrate_data:function(){var e=this;return this._info.hr._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,null,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" bpm"}))}))},get_heartrate_data_imp:function(){var e=this;return this._info.hr._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,null,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" bpm"}))}))},get_cadence_data:function(){var e=this;return this._info.cad._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,null,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" rpm"}))}))},get_temp_data:function(){var e=this;return this._info.atemp._points.map((function(t){return e._prepare_data_point(t,e.m_to_km,null,(function(e,t){return e.toFixed(2)+" km, "+t.toFixed(0)+" degrees"}))}))},get_cadence_data_imp:function(){var e=this;return this._info.cad._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,null,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" rpm"}))}))},get_temp_data_imp:function(){var e=this;return this._info.atemp._points.map((function(t){return e._prepare_data_point(t,e.m_to_mi,null,(function(e,t){return e.toFixed(2)+" mi, "+t.toFixed(0)+" degrees"}))}))},reload:function(){this._init_info(),this.clearLayers(),this._parse(this._gpx,this.options,this.options.async)},_merge_objs:function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},_prepare_data_point:function(e,t,n,r){var i=[t&&t(e[0])||e[0],n&&n(e[1])||e[1]];return i.push(r&&r(i[0],i[1])||i[0]+": "+i[1]),i},_init_info:function(){this._info={name:null,length:0,elevation:{gain:0,loss:0,max:0,min:1/0,_points:[]},speed:{max:0,_points:[]},hr:{avg:0,_total:0,_points:[]},duration:{start:null,end:null,moving:0,total:0},atemp:{avg:0,_total:0,_points:[]},cad:{avg:0,_total:0,_points:[]}}},_load_xml:function(e,t,n,r){null==r&&(r=this.options.async),null==n&&(n=this.options);var i=new window.XMLHttpRequest;i.open("GET",e,r);try{i.overrideMimeType("text/xml")}catch(e){}i.onreadystatechange=function(){4==i.readyState&&200==i.status&&t(i.responseXML,n)},i.send(null)},_parse:function(e,t,n){var r=this,i=function(e,t){var n=r._parse_gpx_data(e,t);n?(r.addLayer(n),r.fire("loaded",{layers:n,element:e})):r.fire("error",{err:"No parseable layers of type(s) "+JSON.stringify(t.gpx_options.parseElements)})};if("<"===e.substr(0,1)){var o=new DOMParser;n?setTimeout((function(){i(o.parseFromString(e,"text/xml"),t)})):i(o.parseFromString(e,"text/xml"),t)}else this._load_xml(e,i,t,n)},_parse_gpx_data:function(e,t){var n,r,i=[];(v=e.getElementsByTagName("name")).length>0&&(this._info.name=v[0].textContent),(_=e.getElementsByTagName("desc")).length>0&&(this._info.desc=_[0].textContent);var a=e.getElementsByTagName("author");a.length>0&&(this._info.author=a[0].textContent);var s=e.getElementsByTagName("copyright");s.length>0&&(this._info.copyright=s[0].textContent);var l=t.gpx_options.parseElements;if(l.indexOf("route")>-1){var c=e.getElementsByTagName("rte");for(n=0;n<c.length;n++)i=i.concat(this._parse_segment(c[n],t,{},"rtept"))}if(l.indexOf("track")>-1){var u=e.getElementsByTagName("trk");for(n=0;n<u.length;n++){var d=u[n],h=this._extract_styling(d);if(t.gpx_options.joinTrackSegments)i=i.concat(this._parse_segment(d,t,h,"trkpt"));else{var f=d.getElementsByTagName("trkseg");for(A=0;A<f.length;A++)i=i.concat(this._parse_segment(f[A],t,h,"trkpt"))}}}if(this._info.hr.avg=Math.round(this._info.hr._total/this._info.hr._points.length),this._info.cad.avg=Math.round(this._info.cad._total/this._info.cad._points.length),this._info.atemp.avg=Math.round(this._info.atemp._total/this._info.atemp._points.length),l.indexOf("waypoint")>-1)for(r=e.getElementsByTagName("wpt"),n=0;n<r.length;n++){var p,g=new o.LatLng(r[n].getAttribute("lat"),r[n].getAttribute("lon")),m=r[n].getElementsByTagName("name"),v=m.length>0?m[0].textContent:"",y=r[n].getElementsByTagName("desc"),_=y.length>0?y[0].textContent:"",b=r[n].getElementsByTagName("sym"),w=b.length>0?b[0].textContent:null,x=r[n].getElementsByTagName("type"),C=x.length>0?x[0].textContent:null,E=t.marker_options.wptIcons,I=t.marker_options.wptIconUrls,T=t.marker_options.wptIconsType,k=t.marker_options.wptIconTypeUrls,S=t.marker_options.pointMatchers||[];if(E&&w&&E[w])p=E[w];else if(T&&C&&T[C])p=T[C];else if(I&&w&&I[w])p=new o.GPXTrackIcon({iconUrl:I[w]});else if(k&&C&&k[C])p=new o.GPXTrackIcon({iconUrl:k[C]});else if(S.length>0){for(var A=0;A<S.length;A++)if(S[A].regex.test(v)){p=S[A].icon;break}}else E&&E[""]?p=E[""]:I&&I[""]&&(p=new o.GPXTrackIcon({iconUrl:I[""]}));if(p){var P=new o.Marker(g,{clickable:t.marker_options.clickable,title:v,icon:p,type:"waypoint"});P.bindPopup("<b>"+v+"</b>"+(_.length>0?"<br>"+_:"")).openPopup(),this.fire("addpoint",{point:P,point_type:"waypoint",element:r[n]}),i.push(P)}else console.log("No waypoint icon could be matched for symKey=%s,typeKey=%s,name=%s on waypoint %o",w,C,v,r[n])}return i.length>1?new o.FeatureGroup(i):1==i.length?i[0]:void 0},_parse_segment:function(e,t,n,r){var i=e.getElementsByTagName(r);if(!i.length)return[];for(var a=[],s=[],l=[],c=null,u=0;u<i.length;u++){var d,h=new o.LatLng(i[u].getAttribute("lat"),i[u].getAttribute("lon"));h.meta={time:null,ele:null,hr:null,cad:null,atemp:null,speed:null},(d=i[u].getElementsByTagName("time")).length>0?h.meta.time=new Date(Date.parse(d[0].textContent)):h.meta.time=new Date("1970-01-01T00:00:00");var f=null!=c?Math.abs(h.meta.time-c.meta.time):0;(d=i[u].getElementsByTagName("ele")).length>0?h.meta.ele=parseFloat(d[0].textContent):h.meta.ele=null!=c?c.meta.ele:null;var p=null!=c?h.meta.ele-c.meta.ele:0,g=null!=c?this._dist3d(c,h):0;if((d=i[u].getElementsByTagName("speed")).length>0?h.meta.speed=parseFloat(d[0].textContent):h.meta.speed=f>0?1e3*g/f:0,(d=i[u].getElementsByTagName("name")).length>0)for(var m=d[0].textContent,v=t.marker_options.pointMatchers||[],y=0;y<v.length;y++)if(v[y].regex.test(m)){s.push({label:m,coords:h,icon:v[y].icon,element:i[u]});break}(d=i[u].getElementsByTagNameNS("*","hr")).length>0&&(h.meta.hr=parseInt(d[0].textContent),this._info.hr._points.push([this._info.length,h.meta.hr]),this._info.hr._total+=h.meta.hr),(d=i[u].getElementsByTagNameNS("*","cad")).length>0&&(h.meta.cad=parseInt(d[0].textContent),this._info.cad._points.push([this._info.length,h.meta.cad]),this._info.cad._total+=h.meta.cad),(d=i[u].getElementsByTagNameNS("*","atemp")).length>0&&(h.meta.atemp=parseInt(d[0].textContent),this._info.atemp._points.push([this._info.length,h.meta.atemp]),this._info.atemp._total+=h.meta.atemp),h.meta.ele>this._info.elevation.max&&(this._info.elevation.max=h.meta.ele),h.meta.ele<this._info.elevation.min&&(this._info.elevation.min=h.meta.ele),this._info.elevation._points.push([this._info.length,h.meta.ele]),h.meta.speed>this._info.speed.max&&(this._info.speed.max=h.meta.speed),this._info.speed._points.push([this._info.length,h.meta.speed]),null==c&&null==this._info.duration.start&&(this._info.duration.start=h.meta.time),this._info.duration.end=h.meta.time,this._info.duration.total+=f,f<t.max_point_interval&&(this._info.duration.moving+=f),this._info.length+=g,p>0?this._info.elevation.gain+=p:this._info.elevation.loss+=Math.abs(p),c=h,a.push(h)}var _=new o.Polyline(a,this._extract_styling(e,n,t.polyline_options));if(this.fire("addline",{line:_,element:e}),l.push(_),t.marker_options.startIcon||t.marker_options.startIconUrl){var b=new o.Marker(a[0],{clickable:t.marker_options.clickable,icon:t.marker_options.startIcon||new o.GPXTrackIcon({iconUrl:t.marker_options.startIconUrl})});this.fire("addpoint",{point:b,point_type:"start",element:i[0]}),l.push(b)}for((t.marker_options.endIcon||t.marker_options.endIconUrl)&&(b=new o.Marker(a[a.length-1],{clickable:t.marker_options.clickable,icon:t.marker_options.endIcon||new o.GPXTrackIcon({iconUrl:t.marker_options.endIconUrl})}),this.fire("addpoint",{point:b,point_type:"end",element:i[i.length-1]}),l.push(b)),u=0;u<s.length;u++)b=new o.Marker(s[u].coords,{clickable:t.marker_options.clickable,title:s[u].label,icon:s[u].icon}),this.fire("addpoint",{point:b,point_type:"label",element:s[u].element}),l.push(b);return l},_extract_styling:function(e,t,n){var r,i=this._merge_objs(c,t),o=e.getElementsByTagNameNS("http://www.topografix.com/GPX/gpx_style/0/2","line");return o.length>0&&((r=o[0].getElementsByTagName("color")).length>0&&(i.color="#"+r[0].textContent),(r=o[0].getElementsByTagName("opacity")).length>0&&(i.opacity=r[0].textContent),(r=o[0].getElementsByTagName("weight")).length>0&&(i.weight=r[0].textContent),(r=o[0].getElementsByTagName("linecap")).length>0&&(i.lineCap=r[0].textContent),(r=o[0].getElementsByTagName("linejoin")).length>0&&(i.lineJoin=r[0].textContent),(r=o[0].getElementsByTagName("dasharray")).length>0&&(i.dashArray=r[0].textContent),(r=o[0].getElementsByTagName("dashoffset")).length>0&&(i.dashOffset=r[0].textContent)),this._merge_objs(i,n)},_dist2d:function(e,t){var n=this._deg2rad(t.lat-e.lat),r=this._deg2rad(t.lng-e.lng),i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(this._deg2rad(e.lat))*Math.cos(this._deg2rad(t.lat))*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371e3},_dist3d:function(e,t){var n=this._dist2d(e,t),r=Math.abs(t.meta.ele-e.meta.ele);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))},_deg2rad:function(e){return e*Math.PI/180}}),"object"==typeof e.exports?e.exports=o:void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},61912:function(e,t){!function(e){"use strict";function t(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var n=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function r(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var i=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++i),e._leaflet_id}function a(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},o}function s(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function l(){return!1}function c(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return u(e).split(/\s+/)}function h(e,t){for(var r in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?n(e.options):{}),t)e.options[r]=t[r];return e.options}function f(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var p=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(p,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r}))}var m=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var b=0;function w(e){var t=+new Date,n=Math.max(0,16-(t-b));return b=t+n,window.setTimeout(e,n)}var x=window.requestAnimationFrame||_("RequestAnimationFrame")||w,C=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function E(e,t,n){if(!n||x!==w)return x.call(window,r(e,t));e.call(t)}function I(e){e&&C.call(window,e)}var T={__proto__:null,extend:t,create:n,bind:r,get lastId(){return i},stamp:o,throttle:a,wrapNum:s,falseFn:l,formatNum:c,trim:u,splitWords:d,setOptions:h,getParamString:f,template:g,isArray:m,indexOf:v,emptyImageUrl:y,requestFn:x,cancelFn:C,requestAnimFrame:E,cancelAnimFrame:I};function k(){}k.extend=function(e){var r=function(){h(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=r.__super__=this.prototype,o=n(i);for(var a in o.constructor=r,r.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(r[a]=this[a]);return e.statics&&t(r,e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=m(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[o].concat(e.includes))),t(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?n(i.options):{},t(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},r},k.include=function(e){var n=this.prototype.options;return t(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},k.mergeOptions=function(e){return t(this.prototype.options,e),this},k.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var S={on:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"==typeof e)for(var r in e)this._off(r,e[r],t);else{e=d(e);for(var i=1===arguments.length,o=0,a=e.length;o<a;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"==typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"==typeof t){var a=this._listens(e,t,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=l,this._events[e]=r=r.slice()),r.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=l;delete this._events[e]}},fire:function(e,n,r){if(!this.listens(e,r))return this;var i=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!=typeof e&&console.warn('"string" type argument expected');var i=t;"function"!=typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};S.addEventListener=S.on,S.removeEventListener=S.clearAllEventListeners=S.off,S.addOneTimeEventListener=S.once,S.fireEvent=S.fire,S.hasEventListeners=S.listens;var A=k.extend(S);function P(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var N=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function O(e,t,n){return e instanceof P?e:m(e)?new P(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new P(e.x,e.y):new P(e,t,n)}function R(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function M(e,t){return!e||e instanceof R?e:new R(e,t)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function j(e,t){return e instanceof D?e:new D(e,t)}function F(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function z(e,t,n){return e instanceof F?e:m(e)&&"object"!=typeof e[0]?3===e.length?new F(e[0],e[1],e[2]):2===e.length?new F(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new F(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new F(e,t,n)}P.prototype={clone:function(){return new P(this.x,this.y)},add:function(e){return this.clone()._add(O(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(O(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new P(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new P(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(e){var t=(e=O(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=O(e)).x===this.x&&e.y===this.y},contains:function(e){return e=O(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},R.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof P||"number"==typeof e[0]||"x"in e)t=n=O(e);else if(t=(e=M(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof P?O(e):M(e))instanceof R?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return M(O(t.x-r,t.y-i),O(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=M(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},D.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof F)t=e,n=e;else{if(!(e instanceof D))return e?this.extend(z(e)||j(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new F(t.lat,t.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new D(new F(t.lat-r,t.lng-i),new F(n.lat+r,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof F||"lat"in e?z(e):j(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof D?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=j(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=j(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=j(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(e,t){return!!e&&(e=z(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return B.distance(this,z(e))},wrap:function(){return B.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return j([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var U,V={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new R(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?s(e.lng,this.wrapLng,!0):e.lng;return new F(this.wrapLat?s(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new D(new F(o.lat-r,o.lng-i),new F(a.lat-r,a.lng-i))}},B=t({},V,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),G=6378137,Z={R:G,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new P(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(U=G*Math.PI,new R([-U,-U],[U,U]))};function q(e,t,n,r){if(m(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function W(e,t,n,r){return new q(e,t,n,r)}q.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new P((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var H=t({},B,{code:"EPSG:3857",projection:Z,transformation:function(){var e=.5/(Math.PI*Z.R);return W(e,.5,-e,.5)}()}),K=t({},H,{code:"EPSG:900913"});function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,r,i,o,a,s,l="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(a=e[n]).length;r<o;r++)l+=(r?"L":"M")+(s=a[r]).x+" "+s.y;l+=t?Le.svg?"z":"x":""}return l||"M0 0"}var Q,J=document.documentElement.style,X="ActiveXObject"in window,ee=X&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Re("webkit"),re=Re("android"),ie=Re("android 2")||Re("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=re&&Re("Google")&&oe<537&&!("AudioNode"in window),se=!!window.opera,le=!te&&Re("chrome"),ce=Re("gecko")&&!ne&&!se&&!X,ue=!le&&Re("safari"),de=Re("phantom"),he="OTransition"in J,fe=0===navigator.platform.indexOf("Win"),pe=X&&"transition"in J,ge="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,me="MozPerspective"in J,ve=!window.L_DISABLE_3D&&(pe||ge||me)&&!he&&!de,ye="undefined"!=typeof orientation||Re("mobile"),_e=ye&&ne,be=ye&&ge,we=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!we),Ce="ontouchstart"in window||!!window.TouchEvent,Ee=!window.L_NO_TOUCH&&(Ce||xe),Ie=ye&&se,Te=ye&&ce,ke=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Se=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(e){}return e}(),Ae=!!document.createElement("canvas").getContext,Pe=!(!document.createElementNS||!$("svg").createSVGRect),Ne=!!Pe&&((Q=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Q.firstChild&&Q.firstChild.namespaceURI)),Oe=!Pe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function Re(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Le={ie:X,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:ae,opera:se,chrome:le,gecko:ce,safari:ue,phantom:de,opera12:he,win:fe,ie3d:pe,webkit3d:ge,gecko3d:me,any3d:ve,mobile:ye,mobileWebkit:_e,mobileWebkit3d:be,msPointer:we,pointer:xe,touch:Ee,touchNative:Ce,mobileOpera:Ie,mobileGecko:Te,retina:ke,passiveEvents:Se,canvas:Ae,svg:Pe,vml:Oe,inlineSvg:Ne,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Me=Le.msPointer?"MSPointerDown":"pointerdown",De=Le.msPointer?"MSPointerMove":"pointermove",je=Le.msPointer?"MSPointerUp":"pointerup",Fe=Le.msPointer?"MSPointerCancel":"pointercancel",ze={touchstart:Me,touchmove:De,touchend:je,touchcancel:Fe},Ue={touchstart:function(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ft(t),He(e,t)},touchmove:He,touchend:He,touchcancel:He},Ve={},Be=!1;function Ge(e,t,n){return"touchstart"===t&&(Be||(document.addEventListener(Me,Ze,!0),document.addEventListener(De,qe,!0),document.addEventListener(je,We,!0),document.addEventListener(Fe,We,!0),Be=!0)),Ue[t]?(n=Ue[t].bind(this,n),e.addEventListener(ze[t],n,!1),n):(console.warn("wrong event specified:",t),l)}function Ze(e){Ve[e.pointerId]=e}function qe(e){Ve[e.pointerId]&&(Ve[e.pointerId]=e)}function We(e){delete Ve[e.pointerId]}function He(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],Ve)t.touches.push(Ve[n]);t.changedTouches=[t],e(t)}}var Ke=200;var $e,Ye,Qe,Je,Xe,et=mt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tt=mt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nt="webkitTransition"===tt||"OTransition"===tt?tt+"End":"transitionend";function rt(e){return"string"==typeof e?document.getElementById(e):e}function it(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ot(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function at(e){var t=e.parentNode;t&&t.removeChild(e)}function st(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function lt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function ct(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function ut(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=pt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function dt(e,t){if(void 0!==e.classList)for(var n=d(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!ut(e,t)){var o=pt(e);ft(e,(o?o+" ":"")+t)}}function ht(e,t){void 0!==e.classList?e.classList.remove(t):ft(e,u((" "+pt(e)+" ").replace(" "+t+" "," ")))}function ft(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function pt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function gt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}(e,t)}function mt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function vt(e,t,n){var r=t||new P(0,0);e.style[et]=(Le.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function yt(e,t){e._leaflet_pos=t,Le.any3d?vt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function _t(e){return e._leaflet_pos||new P(0,0)}if("onselectstart"in document)$e=function(){St(window,"selectstart",Ft)},Ye=function(){Pt(window,"selectstart",Ft)};else{var bt=mt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$e=function(){if(bt){var e=document.documentElement.style;Qe=e[bt],e[bt]="none"}},Ye=function(){bt&&(document.documentElement.style[bt]=Qe,Qe=void 0)}}function wt(){St(window,"dragstart",Ft)}function xt(){Pt(window,"dragstart",Ft)}function Ct(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Et(),Je=e,Xe=e.style.outlineStyle,e.style.outlineStyle="none",St(window,"keydown",Et))}function Et(){Je&&(Je.style.outlineStyle=Xe,Je=void 0,Xe=void 0,Pt(window,"keydown",Et))}function It(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function Tt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var kt={__proto__:null,TRANSFORM:et,TRANSITION:tt,TRANSITION_END:nt,get:rt,getStyle:it,create:ot,remove:at,empty:st,toFront:lt,toBack:ct,hasClass:ut,addClass:dt,removeClass:ht,setClass:ft,getClass:pt,setOpacity:gt,testProp:mt,setTransform:vt,setPosition:yt,getPosition:_t,get disableTextSelection(){return $e},get enableTextSelection(){return Ye},disableImageDrag:wt,enableImageDrag:xt,preventOutline:Ct,restoreOutline:Et,getSizedParentNode:It,getScale:Tt};function St(e,t,n,r){if(t&&"object"==typeof t)for(var i in t)Rt(e,i,t[i],n);else for(var o=0,a=(t=d(t)).length;o<a;o++)Rt(e,t[o],n,r);return this}var At="_leaflet_events";function Pt(e,t,n,r){if(1===arguments.length)Nt(e),delete e[At];else if(t&&"object"==typeof t)for(var i in t)Lt(e,i,t[i],n);else if(t=d(t),2===arguments.length)Nt(e,(function(e){return-1!==v(t,e)}));else for(var o=0,a=t.length;o<a;o++)Lt(e,t[o],n,r);return this}function Nt(e,t){for(var n in e[At]){var r=n.split(/\d/)[0];t&&!t(r)||Lt(e,r,null,null,n)}}var Ot={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Rt(e,t,n,r){var i=t+o(n)+(r?"_"+o(r):"");if(e[At]&&e[At][i])return this;var a=function(t){return n.call(r||e,t||window.event)},s=a;!Le.touchNative&&Le.pointer&&0===t.indexOf("touch")?a=Ge(e,t,a):Le.touch&&"dblclick"===t?a=function(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Ut(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-r<=Ke?2==++n&&t(function(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}(e,a):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ot[t]||t,a,!!Le.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,Zt(e,t)&&s(t)},e.addEventListener(Ot[t],a,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,a),e[At]=e[At]||{},e[At][i]=a}function Lt(e,t,n,r,i){i=i||t+o(n)+(r?"_"+o(r):"");var a=e[At]&&e[At][i];if(!a)return this;!Le.touchNative&&Le.pointer&&0===t.indexOf("touch")?function(e,t,n){ze[t]?e.removeEventListener(ze[t],n,!1):console.warn("wrong event specified:",t)}(e,t,a):Le.touch&&"dblclick"===t?function(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}(e,a):"removeEventListener"in e?e.removeEventListener(Ot[t]||t,a,!1):e.detachEvent("on"+t,a),e[At][i]=null}function Mt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Dt(e){return Rt(e,"wheel",Mt),this}function jt(e){return St(e,"mousedown touchstart dblclick contextmenu",Mt),e._leaflet_disable_click=!0,this}function Ft(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function zt(e){return Ft(e),Mt(e),this}function Ut(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Vt(e,t){if(!t)return new P(e.clientX,e.clientY);var n=Tt(t),r=n.boundingClientRect;return new P((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Bt=Le.linux&&Le.chrome?window.devicePixelRatio:Le.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Gt(e){return Le.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Bt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Zt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var qt={__proto__:null,on:St,off:Pt,stopPropagation:Mt,disableScrollPropagation:Dt,disableClickPropagation:jt,preventDefault:Ft,stop:zt,getPropagationPath:Ut,getMousePosition:Vt,getWheelDelta:Gt,isExternalTarget:Zt,addListener:St,removeListener:Pt},Wt=A.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=_t(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),yt(this._el,n),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Ht=A.extend({options:{crs:H,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=h(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(z(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tt&&Le.any3d&&!Le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),St(this._proxy,nt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,r){return n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(z(e),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=t({animate:r.animate},r.zoom),r.pan=t({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,n,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof P?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():j(e);var n=O(t.paddingTopLeft||t.padding||[0,0]),r=O(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"==typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=j(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=O(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){dt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Le.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),a=this._zoom;e=z(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,t),c=i.distanceTo(r)||1,u=1.42,d=u*u;function h(e){var t=(l*l-s*s+(e?-1:1)*d*d*c*c)/(2*(e?l:s)*d*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}var g=h(0);function m(e){return s*(p(g)*(f(t=g+u*e)/p(t))-f(g))/d;var t}var v=Date.now(),y=(h(1)-g)/u,_=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-v)/_,l=function(e){return 1-Math.pow(1-e,1.5)}(o)*y;o<=1?(this._flyToFrame=E(n,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(m(l)/c)),a),this.getScaleZoom(s/function(e){return s*(p(g)/p(g+u*e))}(l),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=j(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,j(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=O((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=O(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),a=this.getPixelBounds(),s=M([a.min.add(n),a.max.subtract(r)]),l=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),u=s.extend(o).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=n.divideBy(2).round(),a=i.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,i,e):navigator.geolocation.getCurrentPosition(n,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new F(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"==typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)at(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ot("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new D(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=j(e),n=O(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=M(this.project(s,r),this.project(a,r)).getSize(),u=Le.any3d?this.options.zoomSnap:1,d=l.x/c.x,h=l.y/c.y,f=t?Math.max(d,h):Math.min(d,h);return r=this.getScaleZoom(f,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new P(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(z(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(O(e),t)},layerPointToLatLng:function(e){var t=O(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(z(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(z(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(j(e))},distance:function(e,t){return this.options.crs.distance(z(e),z(t))},containerPointToLayerPoint:function(e){return O(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return O(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(O(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(e)))},mouseEventToContainerPoint:function(e){return Vt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=rt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");St(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Le.any3d,dt(e,"leaflet-container"+(Le.touch?" leaflet-touch":"")+(Le.retina?" leaflet-retina":"")+(Le.ielt9?" leaflet-oldie":"")+(Le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=it(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new P(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(e.markerPane,"leaflet-zoom-hide"),dt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){yt(this._mapPane,new P(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){yt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Pt:St;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Le.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=E((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,s=!1;a;){if((n=this._targets[o(a)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!Zt(a,e))break;if(r.push(n),i)break}if(a===this._container)break;a=a.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Ct(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,r){if("click"===e.type){var i=t({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,n);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(n,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===n&&Ft(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(n,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,n))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return _t(this._mapPane)||new P(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return M([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new R(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new R(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=M(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new P(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Le.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n)||(this.panBy(n,t),0))},_createAnimProxy:function(){var e=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=et,n=this._proxy.style[t];vt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();vt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i)||(E((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Kt=k.extend({options:{position:"topright"},initialize:function(e){h(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return dt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),$t=function(e){return new Kt(e)};Ht.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ot("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=ot("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)at(this._controlCorners[e]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yt=Kt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Kt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ot("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),jt(t),Dt(t);var r=this._section=ot("section",e+"-list");n&&(this._map.on("click",this.collapse,this),St(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=ot("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),St(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Ft(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ot("div",e+"-base",r),this._separator=ot("div",e+"-separator",r),this._overlaysList=ot("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;st(this._baseLayersList),st(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+o(this),r),this._layerControlInputs.push(t),t.layerId=o(e.layer),St(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var a=document.createElement("span");return n.appendChild(a),a.appendChild(t),a.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,St(e,"click",Ft),this.expand();var t=this;setTimeout((function(){Pt(e,"click",Ft),t._preventClick=!1}))}}),Qt=Kt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ot("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=ot("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),jt(o),St(o,"click",zt),St(o,"click",i,this),St(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ht(this._zoomInButton,t),ht(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(dt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(dt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ht.mergeOptions({zoomControl:!0}),Ht.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Qt,this.addControl(this.zoomControl))}));var Jt=Kt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ot("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ot("div",t,n)),e.imperial&&(this._iScale=ot("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Xt=Kt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Le.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(e){h(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),jt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Ht.mergeOptions({attributionControl:!0}),Ht.addInitHook((function(){this.options.attributionControl&&(new Xt).addTo(this)}));Kt.Layers=Yt,Kt.Zoom=Qt,Kt.Scale=Jt,Kt.Attribution=Xt,$t.layers=function(e,t,n){return new Yt(e,t,n)},$t.zoom=function(e){return new Qt(e)},$t.scale=function(e){return new Jt(e)},$t.attribution=function(e){return new Xt(e)};var en=k.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});en.addTo=function(e,t){return e.addHandler(t,this),this};var tn={Events:S},nn=Le.touch?"touchstart mousedown":"mousedown",rn=A.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){h(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(St(this._dragStartTarget,nn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rn._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,nn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ut(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)rn._dragging===this&&this.finishDrag();else if(!(rn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(rn._dragging=this,this._preventOutline&&Ct(this._element),wt(),$e(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=It(this._element);this._startPoint=new P(t.clientX,t.clientY),this._startPos=_t(this._element),this._parentScale=Tt(n);var r="mousedown"===e.type;St(document,r?"mousemove":"touchmove",this._onMove,this),St(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new P(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ft(e),this._moved||(this.fire("dragstart"),this._moved=!0,dt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),yt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),xt(),Ye();var t=this._moved&&this._moving;this._moving=!1,rn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function on(e,t,n){var r,i,o,a,s,l,c,u,d,h=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=gn(e[i],t);for(a=0;a<4;a++){for(u=h[a],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)s=e[i],l=e[o],s._code&u?l._code&u||((d=pn(l,s,u,t,n))._code=gn(d,t),r.push(d)):(l._code&u&&((d=pn(l,s,u,t,n))._code=gn(d,t),r.push(d)),r.push(s));e=r}return e}function an(e,t){var n,r,i,o,a,s,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");yn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=z([0,0]),h=j(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(d=sn(e));var f=e.length,p=[];for(n=0;n<f;n++){var g=z(e[n]);p.push(t.project(z([g.lat-d.lat,g.lng-d.lng])))}for(s=l=c=0,n=0,r=f-1;n<f;r=n++)i=p[n],o=p[r],a=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*a,c+=(i.y+o.y)*a,s+=3*a;u=0===s?p[0]:[l/s,c/s];var m=t.unproject(O(u));return z([m.lat+d.lat,m.lng+d.lng])}function sn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=z(e[i]);t+=o.lat,n+=o.lng,r++}return z([t/r,n/r])}var ln,cn={__proto__:null,clipPolygon:on,polygonCenter:an,centroid:sn};function un(e,t){if(!t||!e.length)return e.slice();var n=t*t;return function(e,t){var n=e.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,hn(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}(e=function(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)mn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}(e,n),n)}function dn(e,t,n){return Math.sqrt(vn(e,t,n,!0))}function hn(e,t,n,r,i){var o,a,s,l=0;for(a=r+1;a<=i-1;a++)(s=vn(e[a],e[r],e[i],!0))>l&&(o=a,l=s);l>n&&(t[o]=1,hn(e,t,n,r,o),hn(e,t,n,o,i))}function fn(e,t,n,r,i){var o,a,s,l=r?ln:gn(e,n),c=gn(t,n);for(ln=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=gn(a=pn(e,t,o=l||c,n,i),n),o===l?(e=a,l=s):(t=a,c=s)}}function pn(e,t,n,r,i){var o,a,s=t.x-e.x,l=t.y-e.y,c=r.min,u=r.max;return 8&n?(o=e.x+s*(u.y-e.y)/l,a=u.y):4&n?(o=e.x+s*(c.y-e.y)/l,a=c.y):2&n?(o=u.x,a=e.y+l*(u.x-e.x)/s):1&n&&(o=c.x,a=e.y+l*(c.x-e.x)/s),new P(o,a,i)}function gn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function mn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function vn(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,l=n.y-a,c=s*s+l*l;return c>0&&((i=((e.x-o)*s+(e.y-a)*l)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=l*i)),s=e.x-o,l=e.y-a,r?s*s+l*l:new P(o,a)}function yn(e){return!m(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function _n(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yn(e)}function bn(e,t){var n,r,i,o,a,s,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");yn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=z([0,0]),d=j(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=sn(e));var h=e.length,f=[];for(n=0;n<h;n++){var p=z(e[n]);f.push(t.project(z([p.lat-u.lat,p.lng-u.lng])))}for(n=0,r=0;n<h-1;n++)r+=f[n].distanceTo(f[n+1])/2;if(0===r)c=f[0];else for(n=0,o=0;n<h-1;n++)if(a=f[n],s=f[n+1],(o+=i=a.distanceTo(s))>r){l=(o-r)/i,c=[s.x-l*(s.x-a.x),s.y-l*(s.y-a.y)];break}var g=t.unproject(O(c));return z([g.lat+u.lat,g.lng+u.lng])}var wn={__proto__:null,simplify:un,pointToSegmentDistance:dn,closestPointOnSegment:function(e,t,n){return vn(e,t,n)},clipSegment:fn,_getEdgeIntersection:pn,_getBitCode:gn,_sqClosestPointOnSegment:vn,isFlat:yn,_flat:_n,polylineCenter:bn},xn={project:function(e){return new P(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new R([-180,-90],[180,90])},Cn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new P(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=c=Math.PI/2-2*Math.atan(a*t)-s;return new F(s*n,e.x*n/r)}},En={__proto__:null,LonLat:xn,Mercator:Cn,SphericalMercator:Z},In=t({},B,{code:"EPSG:3395",projection:Cn,transformation:function(){var e=.5/(Math.PI*Cn.R);return W(e,.5,-e,.5)}()}),Tn=t({},B,{code:"EPSG:4326",projection:xn,transformation:W(1/180,1,-1/180,.5)}),kn=t({},V,{projection:xn,transformation:W(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});V.Earth=B,V.EPSG3395=In,V.EPSG3857=H,V.EPSG900913=K,V.EPSG4326=Tn,V.Simple=kn;var Sn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});Ht.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?m(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var An=Sn.extend({initialize:function(e,t){var n,r;if(h(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),Pn=An.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),An.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),An.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new D;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Nn=k.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){h(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"==typeof r&&(r=[r,r]);var i=O(r),o=O("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Le.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});var On=Nn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof On.imagePath&&(On.imagePath=this._detectIconPath()),(this.options.imagePath||On.imagePath)+Nn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ot("div","leaflet-default-icon-path",document.body),t=it(e,"background-image")||it(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),Rn=en.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new rn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=_t(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=M(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!l.contains(o)){var c=O((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),yt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=E(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=_t(t._icon),i=t._map.layerPointToLatLng(r);n&&yt(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ln=Sn.extend({options:{icon:new On,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){h(this,t),this._latlng=z(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),dt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&St(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(dt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&yt(this._icon,e),this._shadow&&yt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Rn)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Rn(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&gt(this._icon,e),this._shadow&&gt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?O(t.iconSize):O(0,0),r=t.iconAnchor?O(t.iconAnchor):O(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Mn=Sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return h(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Dn=Mn.extend({options:{fill:!0,radius:10},initialize:function(e,t){h(this,t),this._latlng=z(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=z(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Mn.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new R(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var jn=Dn.extend({initialize:function(e,n,r){if("number"==typeof n&&(n=t({},r,{radius:n})),h(this,n),this._latlng=z(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Mn.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===B.distance){var i=Math.PI/180,o=this._mRadius/B.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-a.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});var Fn=Mn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){h(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=vn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,u=l.length;c<u;c++){var d=o(e,t=l[c-1],n=l[c],!0);d<r&&(r=d,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=z(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new D,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return yn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=yn(e),r=0,i=e.length;r<i;r++)n?(t[r]=z(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new P(e,e);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof F,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,a,s,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=fn(s[n],s[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=un(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((t||0!==r)&&dn(e,s[i],s[r])<=l)return!0;return!1}});Fn._flat=_n;var zn=Fn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return an(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=Fn.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof F&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Fn.prototype._setLatLngs.call(this,e),yn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new P(t,t);if(e=new R(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=on(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(l=(t=this._parts[i]).length)-1;o<l;a=o++)n=t[o],r=t[a],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||Fn.prototype._containsPoint.call(this,e,!0)}});var Un=Pn.extend({initialize:function(e,t){h(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=m(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=Vn(e,o);return a?(a.feature=Kn(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function Vn(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||Gn;if(!s&&!a)return null;switch(a.type){case"Point":return Bn(c,e,n=u(s),t);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=u(s[i]),l.push(Bn(c,e,n,t));return new Pn(l);case"LineString":case"MultiLineString":return r=Zn(s,"LineString"===a.type?0:1,u),new Fn(r,t);case"Polygon":case"MultiPolygon":return r=Zn(s,"Polygon"===a.type?1:2,u),new zn(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var d=Vn({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Pn(l);case"FeatureCollection":for(i=0,o=a.features.length;i<o;i++){var h=Vn(a.features[i],t);h&&l.push(h)}return new Pn(l);default:throw new Error("Invalid GeoJSON object.")}}function Bn(e,t,n,r){return e?e(t,n):new Ln(n,r&&r.markersInheritOptions&&r)}function Gn(e){return new F(e[1],e[0],e[2])}function Zn(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?Zn(e[o],t-1,n):(n||Gn)(e[o]),i.push(r);return i}function qn(e,t){return void 0!==(e=z(e)).alt?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function Wn(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?Wn(e[o],yn(e[o])?0:t-1,n,r):qn(e[o],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function Hn(e,n){return e.feature?t({},e.feature,{geometry:n}):Kn(n)}function Kn(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var $n={toGeoJSON:function(e){return Hn(this,{type:"Point",coordinates:qn(this.getLatLng(),e)})}};function Yn(e,t){return new Un(e,t)}Ln.include($n),jn.include($n),Dn.include($n),Fn.include({toGeoJSON:function(e){var t=!yn(this._latlngs);return Hn(this,{type:(t?"Multi":"")+"LineString",coordinates:Wn(this._latlngs,t?1:0,!1,e)})}}),zn.include({toGeoJSON:function(e){var t=!yn(this._latlngs),n=t&&!yn(this._latlngs[0]),r=Wn(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),Hn(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),An.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),Hn(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=Kn(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?Hn(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Qn=Yn,Jn=Sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=j(t),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&lt(this._image),this},bringToBack:function(){return this._map&&ct(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=j(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ot("img");dt(t,"leaflet-image-layer"),this._zoomAnimated&&dt(t,"leaflet-zoom-animated"),this.options.className&&dt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=r(this.fire,this,"load"),t.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;vt(this._image,n,t)},_reset:function(){var e=this._image,t=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();yt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Xn=Jn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ot("video");if(dt(t,"leaflet-image-layer"),this._zoomAnimated&&dt(t,"leaflet-zoom-animated"),this.options.className&&dt(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=r(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[t.src]}else{m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=ot("source");s.src=this._url[a],t.appendChild(s)}}}});var er=Jn.extend({_initImage:function(){var e=this._image=this._url;dt(e,"leaflet-image-layer"),this._zoomAnimated&&dt(e,"leaflet-zoom-animated"),this.options.className&&dt(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});var tr=Sn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof F||m(e))?(this._latlng=z(e),h(this,t)):(h(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&gt(this._container,1),this.bringToFront(),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(gt(this._container,0),this._removeTimeout=setTimeout(r(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=z(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&lt(this._container),this},bringToBack:function(){return this._map&&ct(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Pn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=O(this.options.offset),n=this._getAnchor();this._zoomAnimated?yt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});Ht.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Sn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(h(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var nr=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,tr.prototype.openOn.call(this,e)},onAdd:function(e){tr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mn||this._source.on("preclick",Mt))},onRemove:function(e){tr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mn||this._source.off("preclick",Mt))},getEvents:function(){var e=tr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ot("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ot("div",e+"-content-wrapper",t);if(this._contentNode=ot("div",e+"-content",n),jt(t),Dt(this._contentNode),St(t,"contextmenu",Mt),this._tipContainer=ot("div",e+"-tip-container",t),this._tip=ot("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ot("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',St(r,"click",(function(e){Ft(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",dt(e,o)):ht(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();yt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(it(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new P(this._containerLeft,-n-this._containerBottom);i._add(_t(this._container));var o=e.layerPointToContainerPoint(i),a=O(this.options.autoPanPadding),s=O(this.options.autoPanPaddingTopLeft||a),l=O(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),u=0,d=0;o.x+r+l.x>c.x&&(u=o.x+r-c.x+l.x),o.x-u-s.x<0&&(u=o.x-s.x),o.y+n+l.y>c.y&&(d=o.y+n-c.y+l.y),o.y-d-s.y<0&&(d=o.y-s.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ht.mergeOptions({closePopupOnClick:!0}),Ht.include({openPopup:function(e,t,n){return this._initOverlay(nr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Sn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(nr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Pn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){zt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof Mn?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var rr=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){tr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){tr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=tr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=O(this.options.offset),d=this._getAnchor();"top"===s?(t=l/2,n=c):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=l,n=c/2):a.x<o.x?(s="right",t=0,n=c/2):(s="left",t=l+2*(u.x+d.x),n=c/2),e=e.subtract(O(t,n,!0)).add(u).add(d),ht(i,"leaflet-tooltip-right"),ht(i,"leaflet-tooltip-left"),ht(i,"leaflet-tooltip-top"),ht(i,"leaflet-tooltip-bottom"),dt(i,"leaflet-tooltip-"+s),yt(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&gt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ht.include({openTooltip:function(e,t,n){return this._initOverlay(rr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Sn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Pn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&(St(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),St(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"==typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var ir=Nn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(st(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=O(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Nn.Default=On;var or=Sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){h(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),at(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof P?e:new P(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Le.ielt9){gt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);gt(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(I(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(at(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)at(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new P(+i,+o);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new P(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Le.any3d?vt(e.el,i,r):yt(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new R(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,l=new R(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new P(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=i.min.y;d<=i.max.y;d++)for(var h=i.min.x;h<=i.max.x;h++){var f=new P(h,d);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:a.push(f)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return j(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new D(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new P(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(at(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){dt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,Le.ielt9&&this.options.opacity<1&&gt(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),r(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&E(r(this._tileReady,this,e,null,o)),yt(o,n),this._tiles[i]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(gt(n.el,0),I(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(dt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Le.ielt9||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new P(this._wrapX?s(e.x,this._wrapX):e.x,this._wrapY?s(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new R(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});var ar=or.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=h(this,t)).detectRetina&&Le.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return St(n,"load",r(this._tileOnLoad,this,t,n)),St(n,"error",r(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var n={r:Le.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=r),n["-y"]=r}return g(this._url,t(n,this.options))},_tileOnLoad:function(e,t){Le.ielt9?setTimeout(r(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,!t.complete)){t.src=y;var n=this._tiles[e].coords;at(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",y),or.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==y))return or.prototype._tileReady.call(this,e,t,n)}});function sr(e,t){return new ar(e,t)}var lr=ar.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var r=t({},this.defaultWmsParams);for(var i in n)i in this.options||(r[i]=n[i]);var o=(n=h(this,n)).detectRetina&&Le.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,ar.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=M(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Tn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=ar.prototype.getTileUrl.call(this,e);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});ar.WMS=lr,sr.wms=function(e,t){return new lr(e,t)};var cr=Sn.extend({options:{padding:.1},initialize:function(e){h(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));Le.any3d?vt(this._container,o,n):yt(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new R(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ur=cr.extend({options:{tolerance:0},getEvents:function(){var e=cr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){cr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");St(e,"mousemove",this._onMouseMove,this),St(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),St(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,at(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){cr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Le.retina?2:1;yt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Le.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){cr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ht(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(dt(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function dr(e){return Le.canvas?new ur(e):null}var hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),fr={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(cr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=hr("shape");dt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=hr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;at(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=hr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=m(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=hr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){lt(e._container)},_bringToBack:function(e){ct(e._container)}},pr=Le.vml?hr:$,gr=cr.extend({_initContainer:function(){this._container=pr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){cr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),yt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=pr("path");e.options.className&&dt(t,e.options.className),e.options.interactive&&dt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){at(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){lt(e._path)},_bringToBack:function(e){ct(e._path)}});function mr(e){return Le.svg||Le.vml?new gr(e):null}Le.vml&&gr.include(fr),Ht.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&dr(e)||mr(e)}});var vr=zn.extend({initialize:function(e,t){zn.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=j(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});gr.create=pr,gr.pointsToPath=Y,Un.geometryToLayer=Vn,Un.coordsToLatLng=Gn,Un.coordsToLatLngs=Zn,Un.latLngToCoords=qn,Un.latLngsToCoords=Wn,Un.getFeature=Hn,Un.asFeature=Kn,Ht.mergeOptions({boxZoom:!0});var yr=en.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),$e(),wt(),this._startPoint=this._map.mouseEventToContainerPoint(e),St(document,{contextmenu:zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new R(this._point,this._startPoint),n=t.getSize();yt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(at(this._box),ht(this._container,"leaflet-crosshair")),Ye(),xt(),Pt(document,{contextmenu:zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var t=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ht.addInitHook("addHandler","boxZoom",yr),Ht.mergeOptions({doubleClickZoom:!0});var _r=en.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});Ht.addInitHook("addHandler","doubleClickZoom",_r),Ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var br=en.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new rn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=j(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),d=c/(n.inertiaDeceleration*a),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),E((function(){t.panBy(h,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Ht.addInitHook("addHandler","dragging",br),Ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wr=en.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),St(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){St(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=O(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(O(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}zt(e)}}});Ht.addInitHook("addHandler","keyboard",wr),Ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xr=en.extend({addHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Gt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),zt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});Ht.addInitHook("addHandler","scrollWheelZoom",xr);Ht.mergeOptions({tapHold:Le.touchNative&&Le.safari&&Le.mobile,tapTolerance:15});var Cr=en.extend({addHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new P(t.clientX,t.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(St(document,"touchend",Ft),St(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),600),St(document,"touchend touchcancel contextmenu",this._cancel,this),St(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Pt(document,"touchend",Ft),Pt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new P(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});Ht.addInitHook("addHandler","tapHold",Cr),Ht.mergeOptions({touchZoom:Le.touch,bounceAtZoomLimits:!0});var Er=en.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend touchcancel",this._onTouchEnd,this),Ft(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var s=r(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=E(s,this,!0),Ft(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,I(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ht.addInitHook("addHandler","touchZoom",Er),Ht.BoxZoom=yr,Ht.DoubleClickZoom=_r,Ht.Drag=br,Ht.Keyboard=wr,Ht.ScrollWheelZoom=xr,Ht.TapHold=Cr,Ht.TouchZoom=Er,e.Bounds=R,e.Browser=Le,e.CRS=V,e.Canvas=ur,e.Circle=jn,e.CircleMarker=Dn,e.Class=k,e.Control=Kt,e.DivIcon=ir,e.DivOverlay=tr,e.DomEvent=qt,e.DomUtil=kt,e.Draggable=rn,e.Evented=A,e.FeatureGroup=Pn,e.GeoJSON=Un,e.GridLayer=or,e.Handler=en,e.Icon=Nn,e.ImageOverlay=Jn,e.LatLng=F,e.LatLngBounds=D,e.Layer=Sn,e.LayerGroup=An,e.LineUtil=wn,e.Map=Ht,e.Marker=Ln,e.Mixin=tn,e.Path=Mn,e.Point=P,e.PolyUtil=cn,e.Polygon=zn,e.Polyline=Fn,e.Popup=nr,e.PosAnimation=Wt,e.Projection=En,e.Rectangle=vr,e.Renderer=cr,e.SVG=gr,e.SVGOverlay=er,e.TileLayer=ar,e.Tooltip=rr,e.Transformation=q,e.Util=T,e.VideoOverlay=Xn,e.bind=r,e.bounds=M,e.canvas=dr,e.circle=function(e,t,n){return new jn(e,t,n)},e.circleMarker=function(e,t){return new Dn(e,t)},e.control=$t,e.divIcon=function(e){return new ir(e)},e.extend=t,e.featureGroup=function(e,t){return new Pn(e,t)},e.geoJSON=Yn,e.geoJson=Qn,e.gridLayer=function(e){return new or(e)},e.icon=function(e){return new Nn(e)},e.imageOverlay=function(e,t,n){return new Jn(e,t,n)},e.latLng=z,e.latLngBounds=j,e.layerGroup=function(e,t){return new An(e,t)},e.map=function(e,t){return new Ht(e,t)},e.marker=function(e,t){return new Ln(e,t)},e.point=O,e.polygon=function(e,t){return new zn(e,t)},e.polyline=function(e,t){return new Fn(e,t)},e.popup=function(e,t){return new nr(e,t)},e.rectangle=function(e,t){return new vr(e,t)},e.setOptions=h,e.stamp=o,e.svg=mr,e.svgOverlay=function(e,t,n){return new er(e,t,n)},e.tileLayer=sr,e.tooltip=function(e,t){return new rr(e,t)},e.transformation=W,e.version="1.9.4",e.videoOverlay=function(e,t,n){return new Xn(e,t,n)};var Ir=window.L;e.noConflict=function(){return window.L=Ir,this},window.L=e}(t)},15880:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,g(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:C.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+S(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+S(s=e[c],c);l+=A(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,u=o+S(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:C};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},9226:(e,t,n)=>{"use strict";e.exports=n(15880)},35989:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,i={}){if(i=Object.assign({},r,i),!e||"string"!=typeof e)return e;let o=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(o))return e;if(i.hex&&t.test(o))return Number.parseInt(o,16);{const t=n.exec(o);if(t){const n=t[1],r=t[2];let s=(a=t[3])&&-1!==a.indexOf(".")?("."===(a=a.replace(/0+$/,""))?a="0":"."===a[0]?a="0"+a:"."===a[a.length-1]&&(a=a.substr(0,a.length-1)),a):a;const l=t[4]||t[6];if(!i.leadingZeros&&r.length>0&&n&&"."!==o[2])return e;if(!i.leadingZeros&&r.length>0&&!n&&"."!==o[1])return e;{const t=Number(o),a=""+t;return-1!==a.search(/[eE]/)||l?i.eNotation?t:e:-1!==o.indexOf(".")?"0"===a&&""===s||a===s||n&&a==="-"+s?t:e:r?s===a||n+s===a?t:e:o===a||o===n+a?t:e}}return e}var a}},38965:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},56111:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAJcHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZhZkuM6DkX/uYpegjiTy+EY8XbQy+8DUp7teplZ1X9lhSVZ4gDiXlyAVuO//0z1Hz42+6CcjynkEA4+LrtsCjfp2J+yzvpw67w+7nzF74fn6vrC8MhytftnCmf7y3N9HWBfCnf+bqDUzhf18UU+ZzDpaSCzL1Yskvt+DpTPgazZL/Q5QNnLOkJO8X4Jdexrv6wk7a+Sk0uPZr/8jnive+axxgyr7cHZWLMNsPLVyhZe6HU2NNQ2ce+s5extOgfDIe/8dNxZpZ5Rud7pD8+fQLFhP1c8eHRmuF7fPtf+6fk5oFouvpvZtuvMj8/1MZ6Xc/nO2ZOac+zVFRdwaTgXdVnKuqNhxeV2dQscka/nPq4jcyQFexuQ96MdlaPprA2wTO1010VPPda16YaJzgwTuRrTAEqeJRtNNs0eCpycHHqaaLPtoGZsA17LU3O1Ra9585qu6cTEXdPSaAbTQgUlpz9xfBxoTqG81ke6+gq7jJAQMwQ5OdMKQPS88MgvB1+O54/gakHQLzcnFliOuoeoXp/cEh7ZBbSloee6Y03Hfg6Ai5jbYwwR4PQRtPU66CMaE7XGjwl8CgMlY52pQKC9Nx0rDQESACcZmZs+Ua+2xpv9GM0CCG+DjUCTbQErh7DBn+gSHCreeue9Dz765LMvwQYXfAghBhG/Em100ccQY0wxx5JscsmnkGJKKuVUsskWcfQ55JhTzrkUJi2MXOhdaFBKNdVWV30NNdZUcy0N+jTXfAsttqRabqWbbjs60UOPPfXcy9ADKg03/AgjjjTyKBOqTTvd9DPMONPMs1xR02rD+nJ8HTV9Qc0spKRhvKJG1xgvQ2iREy+YgZhxGsSjICACJpgdSTtnlEAnmB3ZEBXeYKUXcLoWxEDQDW381Ffsbsg94Kac+y3czAU5JdD9CeSUQPcBuVfc3qDWJdu0w6qFkIShOPWwhB8NRiomFUlqX76q73b4O9DfgX40UB1IhlRwfh6tzqF9k9/EDULS56zOjj6H8vyuNWZfbQhzNenVZl71TrVm23o2dM5xjhKG/Grl0rIQU+SkELuao+VpmckwhY2tdwwwQ1dkg0E6Mj+qHz066sK4h8U0bJveRgbnLM9UJUjT4SNG+lZi6rZpeYMBPdHOBD2Dm9XMnKWDIcplthrkF+vSialLVzKNZ7pQQtXFTumV7Vx+WQb22bZ5sebpS6vfdDaSoqsLuCqgHVPWII5EPiy6ZvOMemSPpAgQpjal1+3BKjD3XEmdlV4sUNZReY4ggg7dsa+Ir/Lq1azUCFS4ruPsKTU1Hhq9+oLm4f3Z0as+HIB6d5rCJL4tY9KcJSTbTUX8xH4EbE71C2g5F5w1Klhh6mx7fhSaifLCSgPZaBs17FyAdyQVU6pljWiwDbHiW5nvX4mNB8WivgwKAQNrdGvN8GySy2J2sWkszGmID6WYLNkj3iQ/r53Xt6vSizy0305nw/CGPvfkuVEntjhLC/isZ6sG3ly+6fAacHAO69JjxB7qGLVA3RbyOHbEOXzWoIPUq9VEXNVwUQ4MFAJRBT96gXQBNwYibJhKuJIuk4QSDDaRSALbXHHloKTulda2NywLnh2OWiv0sit6unpSog1pMyGK2Y3EtiIjjDaiHQMKpAtt1dd4+++0VW94a2Yyc4duwvevPXfoPlJeSd8oUatfIdVi7egWc6wRN9YVAXpTtRQ77KJLa8dUEhpLurotE46wRymLaC9XyzuAXpyi1EkLBCGe0G6sWENEiR44EZeIQO900TjEYylc1dCcooHN0xw2bSoQl30JnTYMRBP4JIqXgxB8CvF4dEcGRvhgZHaThQLHVGNR65CSsFmRXUTeWlCkbMl4M6w5KbMs8iZWLWte+aXeECz2Hr8tu+ped+9ll83x9pj+muxS1RIJLkBQWCLKs5YCfJ5FYWjPsLi3WDyKPtLcRI+ndp1UZ+3qxvadCX0U1w19iKjE7bmObVL3bc+Bo3hjeY6+IOMwTAG9FybTl86vfWHYfe9b31HGPYLqEdKBoPo8DEtMzqMYuDhRfOYpobkWHSo5WQSDl3bGbc9kB8miiaJBNS2LqVshrR87/lsQnkkmmKx/OQWjkSs8olEmPGJWNKj3TDtK17TxYlSD5RM/hkh4wAHRvSwVcmljh04niWNRGvBPQ0IIh4Oq2CzAL+dWoeWMO8OwCzhpOUBmEHk2sumQNGIVk3kJDDprmklYxQoncc4B/xcZmmHxKOhKQKbfRZX4bMcVsfYUWFQAvwqsuBFeeEpkMc2KLfU2uB5Dy+dFV8IqnXR9E1fqJbCOD6H1PiXtqAJftXm/kuJm/juJr/5AzXHNpuiy6mDWakQoCUCEDc1cImWl1jvzlcezdSuUZXckZoizLWFHVhe3vYaS+losjfqJb5dwUDsexKbXiJAK4m1E2Esc3fqpL3QU5Bo1qdEsf1CvkPIBQLMrHLJ8sLaZHSRscMV+bimkW23Pps29q3DUp9KnzMGeFSaESMKflQRiI8GUqpCXtNlHSTv5yV8aWlVZwWIPIr4znPF9BisMXAkZfaVUIeBIquZa0kg+P+JtMvVhtnPjcJiYhoSElUIBqBOx1RMOzIP822C/dJ19Vf5Cc9pVzGR/rd9m719eI2MpQNRY1szibFjLdAYUhYErZFr1PQu3ZMHguysNL38IRjKykBKZUnt3sSyucfQ8ZFQsNjOE1qU+kzRC8FDlUNlSnoDvKifCIgw0MratagR3nvVzoChy8antpeWK+4emPuW7YvRbzlhXfyeMkji3MqonafTHluE25tcRE8DUiZjvq0ZmczAKU2b0k7RRhUGPgj+XWrQjD3vWuTgSfQJ+g8IHc+Gf+OEdA1GwYD8VrlzV5cbL3FXCepedCNAWvKNSzE0pbyWoTY8hiEBR1w/WBZr4LaaqftLVT7TyCVx1Y8LvEUF9Mxo+XtVnZnyPGOozM75HDPWZGd8jhnplxM+IoG5M+D0iqHeS8BMiqHeS8JOr+olkvCOGksrNzAPr+2KGOSvbs3Dzl8q2xl30SGV7V7ix79WO7YRX6fK/D7VlmNIWeoSxyHH+4cNIa8/m99ZqeLdoQoUJSF2QjtlQaMGG1YDt/2pgohQsvkdrfzlEGTeoif6F9D3OC4f3OB/HZ/TUcxwf8jeSeAenWNkBsjUuspuJ9+n/9U8k9Uf+8vs70P97IPm3hw3f/wDALU0BK3EBgAAAASRpQ0NQSUNDIHByb2ZpbGUAAHicnZCxSsNQFIa/VFHROojiIA4ZHFwKLmZyqQqhoBBjBatTmqRYTGJIUopv4Jvow3QQBN/AF1Bw9r/RwcEsXjj8H4dz/v/eCy07CdNyfg/SrCpcvzu4HFzZi2+s0GaNXQjCMu963gmN5/MVy+hLx3g1z/15FqK4DKUzVRbmRQXWgdiZVrlhFRu3ff9I/CC2ozSLxE/inSiNDJtdP00m4Y+nuU07zi7OTV+1jUuPUzxshkwYk1DRkWbqHOOwL3UpCLinJJQmxOpNNVNxIyrl5HIo6ot0m4a8rTrPU8pQHmN5mYQ7UnmaPMz/fq99nNWb1uYsD4qgbs2pWqMRvD/C6gDWn2H5uiFr6ffbGmaceuafb/wCyRBQVR3vGxsAAA+gaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczppcHRjRXh0PSJodHRwOi8vaXB0Yy5vcmcvc3RkL0lwdGM0eG1wRXh0LzIwMDgtMDItMjkvIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6cGx1cz0iaHR0cDovL25zLnVzZXBsdXMub3JnL2xkZi94bXAvMS4wLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6NmY3N2Y0YzAtMzNmNi00MTZmLThiZTgtZWNmM2JiNWFiZmZjIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJmZTNlZDY3LWZlNDYtNGNlZS1iYjBhLWM5YzBmNDIyZjVhMyIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjZmNDdlZjM0LTA3M2MtNGI1OS1iYTQwLTBmZTNiMGQ0NjY1NCIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iTWFjIE9TIgogICBHSU1QOlRpbWVTdGFtcD0iMTYzNjczOTAzODEzMTIxNiIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjIyIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8aXB0Y0V4dDpMb2NhdGlvbkNyZWF0ZWQ+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpMb2NhdGlvbkNyZWF0ZWQ+CiAgIDxpcHRjRXh0OkxvY2F0aW9uU2hvd24+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpMb2NhdGlvblNob3duPgogICA8aXB0Y0V4dDpBcnR3b3JrT3JPYmplY3Q+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpBcnR3b3JrT3JPYmplY3Q+CiAgIDxpcHRjRXh0OlJlZ2lzdHJ5SWQ+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpSZWdpc3RyeUlkPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjQyYmQ5NS0xYjBlLTQwMTMtOTdhMS02YzQyNWJiZjhiMDQiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTWFjIE9TKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMS0xMS0xMlQxODo0Mzo1OCswMTowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgIDxwbHVzOkltYWdlU3VwcGxpZXI+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZVN1cHBsaWVyPgogICA8cGx1czpJbWFnZUNyZWF0b3I+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZUNyZWF0b3I+CiAgIDxwbHVzOkNvcHlyaWdodE93bmVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6Q29weXJpZ2h0T3duZXI+CiAgIDxwbHVzOkxpY2Vuc29yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6TGljZW5zb3I+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz6juRBoAAAAAmJLR0QAHyeFLscAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQflCwwRKzoaw0OkAAAA90lEQVRo3u2YMQ7CMAxFf3spBthgATGkPgg3QxwxrEghtuMk7fLfWuL32qQSABBCCCGEEKKyDZkiyrWldiHnnw8tcbk1Z7WXATlLSJ6KOe7qki3w4P/NCerbE6Q6JxzQkiDKFPPcZwVx732dpB9CPfDteAqCjzrEeKVWtd7eCDHXd5wBO0Ecqzt3UDsLnpXJc4huoQSP/uV9jdoThurbE4brAeDiTpii9ydM03sTJuoB4NqdcOr9PnPGYXffnzBEH08Ypo8lDNW3JwzXtyVM0fsTpul9CVP1dsJ0vZ6wi76esJseAO44VF/+gkg4iCce/BeDEEJIF19rdlvyr1vVVwAAAABJRU5ErkJggg=="},61826:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAKK3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7Zlbcuy2DkX/OYoMQSTF13D4QtWdwR1+Fkip7bbbjpOT/B13uSVLFAhib2yAspn//5+YP/jx5YzmDCnHEuPBz1nO4ion+dg/dX3b41zf6+e8bvH303XzuOG45Dn6/WeO1/j7un0Y2IfKWXhnKPfrRnu+Ua4ZXP5g6JrIq0eOk3EZKpch7/YNexmoe1lHLDm9X0Kb+zjuleT9a/TLp2X7YeTj32cieiNw0Ts3vfUH38677YDXX2t85YZd346B1mfOTz6VAfeSCMirOB3vvDIfUXmc2S+ufwDFx33dcOE5mPFxfHndhtfBNyvE72b2/THz03WXjvlxOfevyMhGZO7V1TMS0ngt6l7KOmNgI+R+PRb5JH4D52l9Cp9sYG8HnXH0o/HptlgHLGJPO2y1Yuc6dttx8XTTJY7OdYDSa9knV1z3hwEnxei04pIvfoCa8x14PVfdwxe75i1rum4zEw/LSGcxZpUKRr/+jc+XhkSU8tYe+REr/HJKQtxQ5PSbUQBi5eZRWAG+Px9/FFcPgmGFObPAerRtogV7cUt55BfQnoGB404Lm8ZlgBAxd8AZMuC0R7Q+2GiP5Fyyljhm8KkYys6frgGBDcENvHSn9xFwstO5eSbZNdYFty+jWQARfPQJaIqvYHUibPAnnRkO1eDDGUKIIYUcSqjRxzOGGGOKKn41+XSmkGJKKaeSavb5zCHHnHI2ueRaXEEtSyixpJJLKbUyacVy5enKgFqba76dLbTYUsuttNqhTz976LGnnk0vvQ43/EAnRhxp5FFGnXZCpXnOMONMM88yq0A18XJKkChJshSpD9Ss2bB++vwcNXuj5hZSOjA9UOPRlG4TVuUkKGYg5k4L4kkRUAFTzI5sz9MZhU4xO4ojK4LDy6DgDKuIgeA5rQtiH9i9IfeEmznPX8LN3cgZhe7fQM4odF8g9xm3F6gNrTb98GYhpGmoQT086ceAmavLVYvaj4/m7z7w29B/YajKhChRwBGdKE3aAP4YvWSqRJ9pAH0+XEDDziRmjii+wYsZUgkNfniI64skO0uYI2Gpd3I0+KSDvF44GmyrRRBFBJELMJt602Q6JopdGsbWQAdPG3dIBWkndseQSt6087DzrGkeJWI2RrVy9OLEyBwl9I4q+FXGTh4RmhgdMEcLQuZTQJGcGputfi31lOIFL33qg/HdtmRs7qkVCbW3Ki1KD2XaNTyf1c+eNFSERpqfsngfA5GITDJplQSXQyVfDPrk0UOZ3TI26QJIEQbiV0wtPSZiBWddaNDOfT6ar278+NikRpwm2NXOKFM0uiXLtCCroEnUNo2QeY2376A9paTGcvqCn6XOEdACDQOtXz+KnhISEQjDUnsjABIbtAFvFbDmY5ybURgAZsLHc/PgmXw6ncl4xR6FGWAvir1KFb41/4x89Ig5+CmEb0cUc7ou+EKwXbASF06AzvND16XsaI6/W2IOQs6Z1KHtLc146moASmgEDmFaMcO1ro95yCe9+dFyj350nooupNHuKdX0Pef7Ga/5zPOESpvnmb6ZiJC5xyLNx1X/g2MQkDV4OccB2SU1hL7j06H4k3iEX3t1Zcl3JNESQKN1o6j4Lxw/wagp/ApIq89RkkW7SIJN5ypUX82zUUUFo0SrvvGkeqLkmxqqZr+TNnOfUO7ExqS0pEYT/CUQCBv2pq5T1YDyKQN1IYVJQfwasVXNQOratBg4UD1CciT8ENWzJGXpFFIwAMlOBBEVcYvz13wYvmdkPvOY8OV0cxH1JxMZZsIx+yvyv9Td/LW8H7Dke5KkoeL/HsMFIUt5ApH97UsYy5hHFLab+mwxsjwSOhvKgKdqzKD5cyzfUGQ8UfKlRGjoU3R/qmz+dDRf3aBxI7C5scFZpGTbTbujZ6xUYx7TKhDIDnk9hyG9Ne44O1sY7qoYmMhoBUHKXpUfJaM16nOMzXSJCH8WVLKFXMgD6loWxE4nLSsecWuRymQPqhneb5nkdppDVRS426odhXJ0lw7za7Xj7Wiuk2HJJvyfwy+Qx9SM/VgL4tUOvGCLuejS5loYRMjQYNIbL+KAZkl/heY5IQExspqmB9S6o0MoylVENFGvMgIc8lZEZpvfFki6jR7L9KvMEMe+c22ZRJ7wvPdNUdY+NTMT8qAUNcrRLLamPHRJ5CfuL8/IybEUcOHW1C8t+fh13n4BuYQyQLqZ0Dqc7vRGMwDa9GNg34+cKqyMumFnPVhS59zujqKnwAa6o9ajhrbkNMzqjsLVrDR3i+tgDctzJmOLn8cuMrqtKDQpiBArItZ0JLCc3sysGCxR0R5macqcraKYNO+BBeONvlBY1UiX2wEi3EA0JaqumErLruVi6mwv6TbfmqZXLdMKfaAb+dAzzbIES3L8cecE9wn2P+/Rnicyv5ZnbP5QFyi94IdKa6VKAKh/LAIgLhAAEaV+oqt+NxG2fCWEZuXOeFbCuejQvD962m0P+lM2uyupOl+4aF5lh0bryg/Njrfc+JwZd2KI2UQhKzQzvskLJez7zKARyQMJYWMKs0Y3X+SGrX02LStjnou+7EOVk5RCAmDxFv1y82155hF6te6SRp7Ea1PdmLutUtEnP9R1ZMrq6wfH3mG3p7msVU6DNofdMbK58boMDHTtyqKWAwp9iDXmUfu9eVhBz3v70KRvwogh/ZQx0ip+asBtegRcAzaugDtaxrSbnsFmZkUcV7ARV5dgantV0f9+k2Oeu5xpT4LFPk6TnMqoWykhvxvbuHelrKSw07WdRK73OjT7d1fdztj68V02zJrRMpbqbd+bP02N4NoIKDi5hrtlbeJ2GNOprxfG2qi9LORLlXu8Nh6IY9ae2gBZXK1J4Y4K49o4xhXeR9eJtNp6ZRvjrZappN0Ku5oZtf+OK9cUAo3KnWtiQR5KQnG4Db8ybCQQQ8FuZEYiDU7dPL2x25SvlD+yfX7ZpVzHD+wyr+m12LVeodmgC0Nku796kavKPYi1q5x5wS12MZVNsgXmRYOlRcluIuj7HiUCwgQRtAdKuB66AQMnNwYawbs+vVWnL2pTSO/3JNemhh7RarmFBdor4dlae6GUVflEvlfcM19IssZnWoKw3wBk4AHusmNEt7MpeQCT6HuuGbX2a+qMHDThacu1Ezt2SWr6akvTfXX5Fb7NGva7h7orcqxQV8U/GiJ0vR6Zrlx8abIr6eIMk3ha+6LrJzDvif2gNW4ZrD6IvWv+Te0F8b03LoH4eI3SOPW9Rgm7aI8Qpv5Hxxp6AloKu0VVfiKqr4/mU72Lq91BdFdP/WPZNe919weyu9pwRtugPNWx13rNfpGzlqwLRjC7tqF+WUbhevD2Frc9zRY49mhxd0GDNqbr+yOnfcfFlqQG0oMtQ/siKW1zJUTd1zAiR9UJbq39wHoymrJ0prLTWKjVoLJWvxfL/+a1z29Dvw390JCydxT6xD8Ba1RYSTvhB1sAAAEkaUNDUElDQyBwcm9maWxlAAB4nJ2QsUrDUBSGv1RR0TqI4iAOGRxcCi5mcqkKoaAQYwWrU5qkWExiSFKKb+Cb6MN0EATfwBdQcPa/0cHBLF44/B+Hc/7/3gstOwnTcn4P0qwqXL87uBxc2YtvrNBmjV0IwjLvet4JjefzFcvoS8d4Nc/9eRaiuAylM1UW5kUF1oHYmVa5YRUbt33/SPwgtqM0i8RP4p0ojQybXT9NJuGPp7lNO84uzk1ftY1Lj1M8bIZMGJNQ0ZFm6hzjsC91KQi4pySUJsTqTTVTcSMq5eRyKOqLdJuGvK06z1PKUB5jeZmEO1J5mjzM/36vfZzVm9bmLA+KoG7NqVqjEbw/wuoA1p9h+boha+n32xpmnHrmn2/8AskQUFUd7xsbAAAQhGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6aXB0Y0V4dD0iaHR0cDovL2lwdGMub3JnL3N0ZC9JcHRjNHhtcEV4dC8yMDA4LTAyLTI5LyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOnBsdXM9Imh0dHA6Ly9ucy51c2VwbHVzLm9yZy9sZGYveG1wLzEuMC8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjg2MGE0ZjYxLWQ0MTItNDI3Mi04ZTFjLTA4ODUxM2U3MWRkMCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozZjU1YTI0Ni02MThiLTRlMDMtYTRhZi0zZjkyMjcyY2FjMTQiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MTdkMThlNi02MDViLTQxMDUtYmUzOC1iZDZkMjI0MGNkMDAiCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09Ik1hYyBPUyIKICAgR0lNUDpUaW1lU3RhbXA9IjE2MzY3MzkwNDMxNDIzNTUiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yMiIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPGlwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICA8aXB0Y0V4dDpMb2NhdGlvblNob3duPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgPGlwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICA8aXB0Y0V4dDpSZWdpc3RyeUlkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6UmVnaXN0cnlJZD4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OGRkY2U5NjYtOGIxMC00N2Y5LTlmNGEtYTAwNmRhYmYxN2U5IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKE1hYyBPUykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMTEtMTJUMTg6NDA6MTgrMDE6MDAiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDVjODE4OTQtNTE2Ni00M2FjLTg1NDEtZmI3NzI5ZWU4OTQ5IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKE1hYyBPUykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMTEtMTJUMTg6NDQ6MDMrMDE6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogICA8cGx1czpJbWFnZVN1cHBsaWVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VTdXBwbGllcj4KICAgPHBsdXM6SW1hZ2VDcmVhdG9yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VDcmVhdG9yPgogICA8cGx1czpDb3B5cmlnaHRPd25lcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkNvcHlyaWdodE93bmVyPgogICA8cGx1czpMaWNlbnNvcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkxpY2Vuc29yPgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8++8HhLAAAAAJiS0dEAB8nhS7HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QsMESwDCoddawAAAP5JREFUaN7tlr0VwjAMBj/DKuxAAR00vEcRmT0YDQZiGNEGEtuS/EOBro5195zYADiO4zj/zrZ2wBU7vH7TTuAZ02j95UPPzHwfqT8s9EMT1vXDEtL6IQl5ffeEsr5rgkzfLUGu75Kg0zdP0OubJtj0zRLs+iYJpyo9M/O+Rn+s1lftgkQfMaFTgkwPoE/CWazvkqDTN0/Q65smTCa9dKXgv2N5CCXXRsHqgn4Du16WUPkCqLiDUTVh8708ZIffwrMY8ABlh7D9GyDxMc7tgvkjJNVFlk6A7RyQ+ipfTxAulp17/Y2yfCakE2YPBfsPeuUcQgsiHMdxHMdxHCfNG1XedpO3lSQzAAAAAElFTkSuQmCC"},21926:(e,t,n)=>{"use strict";e.exports=n.p+"c3934397bbea4f4b413d.png"},63442:(e,t,n)=>{"use strict";e.exports=n.p+"4e8d84bf42ab7e35ed38.png"},95019:(e,t,n)=>{"use strict";e.exports=n.p+"7df5afd41f704db43dad.png"},67180:(e,t,n)=>{"use strict";e.exports=n.p+"4e8d84bf42ab7e35ed38.png"},37211:(e,t,n)=>{"use strict";e.exports=n.p+"5fa8cf9d5f1053d68b47.png"},74485:(e,t,n)=>{"use strict";e.exports=n.p+"89c994ae763a73467c04.png"},88151:(e,t,n)=>{"use strict";e.exports=n.p+"2f52623ecac9ca1603ff.png"},13750:(e,t,n)=>{"use strict";e.exports=n.p+"bf4270c63e13228a05e1.png"},84162:(e,t,n)=>{"use strict";e.exports=n.p+"cd0ca1dd8f3a1fdb4e68.jpeg"},92308:(e,t,n)=>{"use strict";e.exports=n.p+"5a44f62010f7c0ab463f.jpeg"},37789:(e,t,n)=>{"use strict";e.exports=n.p+"99d032ea73dcde64f5dc.png"},65247:(e,t,n)=>{"use strict";e.exports=n.p+"612023bee477b5276e86.png"},28666:(e,t,n)=>{"use strict";e.exports=n.p+"88eb99d0c3739d8fccb7.png"},51739:(e,t,n)=>{"use strict";e.exports=n.p+"627554849c0710c68119.png"},15483:(e,t,n)=>{"use strict";e.exports=n.p+"c998e011b7971a9b035e.png"},70481:(e,t,n)=>{"use strict";e.exports=n.p+"183472eefa1734f461b7.png"},68437:(e,t,n)=>{"use strict";e.exports=n.p+"8f2c4d11474275fbc161.png"},8369:(e,t,n)=>{"use strict";e.exports=n.p+"416d91365b44e4b4f477.png"},78547:(e,t,n)=>{"use strict";e.exports=n.p+"2b3e1faf89f94a483539.png"},30907:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},83878:(e,t,n)=>{"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:()=>r})},97326:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},15671:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>r})},43144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(49142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(49142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},61120:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:()=>r})},79340:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}n.d(t,{Z:()=>i})},59199:(e,t,n)=>{"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:()=>r})},25267:(e,t,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:()=>r})},44925:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:()=>r})},82963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(71002),i=n(97326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},29439:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(83878),i=n(40181),o=n(25267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},49142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(71002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,r.Z)(t)?t:String(t)}},71002:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},40181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(30907);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},68752:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>de,t:()=>ue});var r=n(71002),i=n(15671),o=n(43144),a=n(97326),s=n(79340),l=n(82963),c=n(61120),u=n(4942),d=n(83878),h=n(59199),f=n(40181),p=n(25267);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},y=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,e),this.init(t,n)}return(0,o.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||v,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,m(m({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),_=function(){function e(){(0,i.Z)(this,e),this.observers={}}return(0,o.Z)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function b(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function w(e){return null==e?"":""+e}function x(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function C(e,t,n){var r=x(e,t,Object);r.obj[r.k]=n}function E(e,t){var n=x(e,t),r=n.obj,i=n.k;if(r)return r[i]}function I(e,t,n){var r=E(e,n);return void 0!==r?r:E(t,n)}function T(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):T(e[r],t[r],n):e[r]=t[r]);return e}function k(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function A(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return S[e]})):e}var P="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,N=[" ",",","?","!",";"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),l=i[s];void 0===l&&r.length>o+a;)a++,l=i[s=r.slice(o,o+a).join(n)];if(void 0===l)return;if(null===l)return null;if(t.endsWith(s)){if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s]}var c=r.slice(o+a).join(n);return c?L(l,c,n):void 0}i=i[r[o]]}return i}}var M=function(e){(0,s.Z)(u,e);var t,n,r=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var i=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,i.Z)(this,u),t=r.call(this),P&&_.call((0,a.Z)(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return(0,o.Z)(u,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=E(this.data,a);return s||!o||"string"!=typeof n?s:L(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),C(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=E(this.data,a)||{};r?T(s,n,i):s=R(R({},s),n),C(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?R(R({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),u}(_),D={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z={},U=function(e){(0,s.Z)(d,e);var t,n,u=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var i=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,d),t=u.call(this),P&&_.call((0,a.Z)(t)),function(e,t,n){["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((function(e){t[e]&&(n[e]=t[e])}))}(0,e,(0,a.Z)(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=y.create("translator"),t}return(0,o.Z)(d,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=N.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,n,r));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,n){var i=this;if("object"!==(0,r.Z)(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,c=s.namespaces,u=c[c.length-1],h=t.lng||this.language,f=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(f){var p=t.nsSeparator||this.options.nsSeparator;return o?(g.res="".concat(u).concat(p).concat(l),g):"".concat(u).concat(p).concat(l)}return o?(g.res=l,g):l}var g=this.resolve(e,t),m=g&&g.res,v=g&&g.usedKey||l,y=g&&g.exactUsedKey||l,_=Object.prototype.toString.apply(m),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&m&&"string"!=typeof m&&"boolean"!=typeof m&&"number"!=typeof m&&["[object Number]","[object Function]","[object RegExp]"].indexOf(_)<0&&("string"!=typeof b||"[object Array]"!==_)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,m,F(F({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return o?(g.res=x,g):x}if(a){var C="[object Array]"===_,E=C?[]:{},I=C?y:v;for(var T in m)if(Object.prototype.hasOwnProperty.call(m,T)){var k="".concat(I).concat(a).concat(T);E[T]=this.translate(k,F(F({},t),{joinArrays:!1,ns:c})),E[T]===k&&(E[T]=m[T])}m=E}}else if(w&&"string"==typeof b&&"[object Array]"===_)(m=m.join(b))&&(m=this.extendTranslation(m,e,t,n));else{var S=!1,A=!1,P=void 0!==t.count&&"string"!=typeof t.count,N=d.hasDefaultValue(t),O=P?this.pluralResolver.getSuffix(h,t.count,t):"",R=t["defaultValue".concat(O)]||t.defaultValue;!this.isValidLookup(m)&&N&&(S=!0,m=R),this.isValidLookup(m)||(A=!0,m=l);var L=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:m,M=N&&R!==m&&this.options.updateMissing;if(A||S||M){if(this.logger.log(M?"updateKey":"missingKey",h,u,l,M?R:m),a){var D=this.resolve(l,F(F({},t),{},{keySeparator:!1}));D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var j=[],z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&z&&z[0])for(var U=0;U<z.length;U++)j.push(z[U]);else"all"===this.options.saveMissingTo?j=this.languageUtils.toResolveHierarchy(t.lng||this.language):j.push(t.lng||this.language);var V=function(e,n,r){var o=N&&r!==m?r:L;i.options.missingKeyHandler?i.options.missingKeyHandler(e,u,n,o,M,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,u,n,o,M,t),i.emit("missingKey",e,u,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?j.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){V([e],l+n,t["defaultValue".concat(n)]||R)}))})):V(j,l,R))}m=this.extendTranslation(m,e,t,g,n),A&&m===l&&this.options.appendNamespaceToMissingKey&&(m="".concat(u,":").concat(l)),(A||S)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(l):l,S?m:void 0):this.options.parseMissingKeyHandler(m))}return o?(g.res=m,g):m}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,F(F({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(F(F({},n),{interpolation:F(F({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=F(F({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=D.handle(h,e,t,this.options&&this.options.postProcessPassResolved?F({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,h=d&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),f=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(e){a.isValidLookup(t)||(o=e,!z["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(z["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,l=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,c,n,e,s);else{var u;d&&(u=a.pluralResolver.getSuffix(n,s.count,s));var p="".concat(a.options.pluralSeparator,"zero");if(d&&(l.push(c+u),h&&l.push(c+p)),f){var g="".concat(c).concat(a.options.contextSeparator).concat(s.context);l.push(g),d&&(l.push(g+u),h&&l.push(g+p))}}for(;o=l.pop();)a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}]),d}(_);function V(e){return e.charAt(0).toUpperCase()+e.slice(1)}var B=function(){function e(t){(0,i.Z)(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=y.create("languageUtils")}return(0,o.Z)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=V(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=V(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=V(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),G=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Z={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},q=["v1","v2","v3"],W={zero:0,one:1,two:2,few:3,many:4,other:5},H=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,e),this.languageUtils=t,this.options=r,this.logger=y.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},G.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:Z[e.fc]}}))})),n)}return(0,o.Z)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return W[e]-W[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!q.includes(this.options.compatibilityJSON)}}]),e}();function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.logger=y.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,o.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:A,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?k(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?k(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?k(t.nestingPrefix):t.nestingPrefixEscaped||k("$t("),this.nestingSuffix=t.nestingSuffix?k(t.nestingSuffix):t.nestingSuffixEscaped||k(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var i=I(t,l,e);return s.alwaysFormat?s.format(i,void 0,n,$($($({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(I(t,l,a),c,n,$($($({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(o=u(n)))if("function"==typeof d){var l=d(e,i,r);o="string"==typeof l?l:""}else if(r&&r.hasOwnProperty(n))o="";else{if(h){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=w(o));var c=t.safeValue(o);if(e=e.replace(i[0],c),h?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=$({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0];var o=(i=this.interpolate(i,a)).match(/'/g),s=i.match(/"/g);(o&&o.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{a=JSON.parse(i),t&&(a=$($({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=w(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=l.reduce((function(e,t){return i.format(e,t,o.lng,$($({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t={};return function(n,r,i){var o=r+JSON.stringify(i),a=t[o];return a||(a=e(r,i),t[o]=a),a(n)}}var ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.logger=y.create("formatter"),this.options=t,this.formats={number:X((function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}})),currency:X((function(e,t){var n=new Intl.NumberFormat(e,J(J({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:X((function(e,t){var n=new Intl.DateTimeFormat(e,J({},t));return function(e){return n.format(e)}})),relativetime:X((function(e,t){var n=new Intl.RelativeTimeFormat(e,J({},t));return function(e){return n.format(e,t.range||"day")}})),list:X((function(e,t){var n=new Intl.ListFormat(e,J({},t));return function(e){return n.format(e)}}))},this.init(t)}return(0,o.Z)(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=X(t)}},{key:"format",value:function(e,t,n,r){var i=this;return t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t,r=(t=e.split(":"),(0,d.Z)(t)||(0,h.Z)(t)||(0,f.Z)(t)||(0,p.Z)()),i=r[0],o=r.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[i.trim()]||(n[i.trim()]=o),"false"===o&&(n[i.trim()]=!1),"true"===o&&(n[i.trim()]=!0),isNaN(o)||(n[i.trim()]=parseInt(o,10))}}))}return{formatName:t,formatOptions:n}}(t),a=o.formatName,s=o.formatOptions;if(i.formats[a]){var l=e;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=c.locale||c.lng||r.locale||r.lng||n;l=i.formats[a](e,u,J(J(J({},s),r),c))}catch(e){i.logger.warn(e)}return l}return i.logger.warn("there was no format function for ".concat(a)),e}),e)}}]),e}();function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){(0,s.Z)(u,e);var t,n,r=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var i=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function u(e,t,n){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.Z)(this,u),o=r.call(this),P&&_.call((0,a.Z)(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=s,o.logger=y.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,s.backend,s),o}return(0,o.Z)(u,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o={},a={},s={},l={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===a[s]&&(a[s]=!0):(i.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===l[t]&&(l[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){var r,s,l,c,u;r=n.loaded,s=o,(c=(l=x(r,[i],Object)).obj)[u=l.k]=c[u]||[],c[u].push(s),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:a}):(this.readingCalls++,this.backend[n](e,t,(function(s,l){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&l&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,l)}))):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,ne(ne({},o),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),u}(_);function ie(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(){}var le=function(e){(0,s.Z)(d,e);var t,n,u=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var i=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function d(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if((0,i.Z)(this,d),e=u.call(this),P&&_.call((0,a.Z)(e)),e.options=ie(n),e.services={},e.logger=y,e.modules={external:[]},t=(0,a.Z)(e),Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))})),r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),(0,l.Z)(e,(0,a.Z)(e));setTimeout((function(){e.init(n,r)}),0)}return e}return(0,o.Z)(d,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var i={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,r.Z)(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===(0,r.Z)(e[2])||"object"===(0,r.Z)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function o(e){return e?"function"==typeof e?new e:e:null}if(this.options=ae(ae(ae({},i),this.options),ie(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=ae(ae({},i.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var a;this.modules.logger?y.init(o(this.modules.logger),this.options):y.init(null,this.options),this.modules.formatter?a=this.modules.formatter:"undefined"!=typeof Intl&&(a=ee);var s=new B(this.options);this.store=new M(this.options.resources,this.options);var l=this.services;l.logger=y,l.resourceStore=this.store,l.languageUtils=s,l.pluralResolver=new H(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!a||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(l.formatter=o(a),l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new Y(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new re(o(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(l.languageDetector=o(this.modules.languageDetector),l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=o(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new U(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=se),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var u=b(),d=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),u.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),u}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)})),this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=b();return e||(e=this.languages),t||(t=this.options.ns),n||(n=se),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&D.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=b();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var i=this,o=function e(t,o){var a;if("object"!==(0,r.Z)(o)){for(var s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];a=i.options.overloadTranslationOptionHandler([t,o].concat(l))}else a=ae({},o);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var u=i.options.keySeparator||".",d=a.keyPrefix?"".concat(a.keyPrefix).concat(u).concat(t):t;return i.t(d,a)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!(!this.hasResourceBundle(r,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=b();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=b();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,r=ae(ae(ae({},this.options),t),{isClone:!0}),i=new d(r);return void 0===t.debug&&void 0===t.prefix||(i.logger=i.logger.clone(t)),["store","services","language"].forEach((function(t){i[t]=e[t]})),i.services=ae({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new U(i.services,i.options),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e].concat(n))})),i.init(r,n),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),d}(_);(0,u.Z)(le,"createInstance",(function(){return new le(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var ce=le.createInstance();ce.createInstance=le.createInstance,ce.createInstance,ce.init,ce.loadResources,ce.reloadResources,ce.use,ce.changeLanguage,ce.getFixedT;var ue=ce.t;ce.exists,ce.setDefaultNamespace,ce.hasLoadedNamespace,ce.loadNamespaces,ce.loadLanguages;const de=ce}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.exports}a.m=i,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,a.d(i,o),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="crawlear.com:",a.l=(e,t,i,o)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+i),s.src=e),n[e]=[t];var h=(t,r)=>{s.onerror=s.onload=null,clearTimeout(f);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{a.b=document.baseURI||self.location.href;var e={179:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,o=n[0],s=n[1],l=n[2],c=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);l&&l(a)}for(t&&t(n);c<o.length;c++)i=o[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkcrawlear_com=self.webpackChunkcrawlear_com||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0,(()=>{"use strict";var e={};a.r(e),a.d(e,{FirebaseError:()=>Q,SDK_VERSION:()=>dt,_DEFAULT_ENTRY_NAME:()=>Xe,_addComponent:()=>rt,_addOrOverwriteComponent:()=>it,_apps:()=>tt,_clearComponents:()=>lt,_components:()=>nt,_getProvider:()=>at,_registerComponent:()=>ot,_removeServiceInstance:()=>st,deleteApp:()=>gt,getApp:()=>ft,getApps:()=>pt,initializeApp:()=>ht,onLog:()=>vt,registerVersion:()=>mt,setLogLevel:()=>yt});var t=a(9226),n=a(20745),r=a(89250),i=a(77721);const o=function(e){let{filePath:n}=e;return t.useEffect((()=>{i.default.pageview("/txtRoute/")}),[]),(async e=>{(new FileReader).readAsText(e)})(n)};var s=a(26793);const l=a.p+"c91b9e93f67984dd156c.png";var c=a(93379),u=a.n(c),d=a(7795),h=a.n(d),f=a(90569),p=a.n(f),g=a(3565),m=a.n(g),v=a(19216),y=a.n(v),_=a(44589),b=a.n(_),w=a(71735),x={};x.styleTagTransform=b(),x.setAttributes=m(),x.insert=p().bind(null,"head"),x.domAPI=h(),x.insertStyleElement=y(),u()(w.Z,x),w.Z&&w.Z.locals&&w.Z.locals;const C="lightMode",E=function(){const[e,n]=t.useState(!1),{t:o}=(0,s.$)(),[a,c]=t.useState(!1),u=(0,r.s0)();function d(){n(!e)}function h(e){i.default.event("navigation","menu",e),u(e)}return e?t.createElement("header",{className:"App-header"},t.createElement("div",{className:"rounded menuContainer open",onClick:d},t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"linksContainer"},t.createElement("ul",null,t.createElement("li",null,t.createElement("div",{onClick:()=>{h("/social")}},o("description.perfilsocial"))),t.createElement("li",null,t.createElement("div",{onClick:()=>{h("/game")}},o("description.herramientajuego"))),t.createElement("li",null,t.createElement("div",{onClick:()=>{h("/route")}},o("description.herramientaruta"))),t.createElement("li",null,"-"),t.createElement("li",null,t.createElement("div",{href:"https://www.aecar.org/modalidades.php?tipo=crawler"},"AECAR")),t.createElement("li",null,t.createElement("div",{href:"https://www.clubzonarc.es/"},"Club ZonaRc")),t.createElement("li",null,t.createElement("div",{href:"https://isrcc.eu/"},"ISRCC")),t.createElement("li",null,"-"),t.createElement("li",null,t.createElement("div",{onClick:()=>{h("/privacypolicy")}},o("description.politicaprivacidad"))),t.createElement("li",null,t.createElement("div",{onClick:()=>{h("/aboutus")}},o("description.aboutus")))),t.createElement("div",{className:"lightModeSwitch",onClick:function(e){e.preventDefault(),e.stopPropagation(),a?(c(!1),document.body.classList.remove(C)):(c(!0),document.body.classList.add(C))}},"Modo claro / oscuro")))):t.createElement("header",{className:"App-header"},t.createElement("div",{className:"rounded menuContainer closed",onClick:d},t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"})),t.createElement("a",{href:"/"},t.createElement("img",{src:l,alt:"web logo"})))};a(76124);var I=a(5103),T=a(29525);const k=function(e,t){if(!e)throw S(t)},S=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},A=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},P={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,c=i>>2,u=(3&i)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(A(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw new N;const l=i<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class N extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O=function(e){const t=A(e);return P.encodeByteArray(t,!0)},R=function(e){return O(e).replace(/\./g,"")},L=function(e){try{return P.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function M(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=M(e[n],t[n]));return e}function D(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==a.g)return a.g;throw new Error("Unable to locate global object.")}const j=()=>{try{return D().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&L(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},F=e=>{var t,n;return null===(n=null===(t=j())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},z=e=>{const t=F(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},U=()=>{var e;return null===(e=j())||void 0===e?void 0:e.config},V=e=>{var t;return null===(t=j())||void 0===t?void 0:t[`_${e}`]};class B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function G(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[R(JSON.stringify({alg:"none",type:"JWT"})),R(JSON.stringify(o)),""].join(".")}function Z(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Z())}function W(){var e;const t=null===(e=j())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(a.g.process)}catch(e){return!1}}function H(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function K(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $(){const e=Z();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Y(){try{return"object"==typeof indexedDB}catch(e){return!1}}class Q extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(X,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Q(r,a,n)}}const X=/\{\$([^}]+)}/g;function ee(e){return JSON.parse(e)}function te(e){return JSON.stringify(e)}const ne=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=ee(L(o[0])||""),n=ee(L(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function re(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ie(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function oe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ae(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function se(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(le(n)&&le(o)){if(!se(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function le(e){return null!==e&&"object"==typeof e}function ce(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ue(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function de(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class he{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=l^a&(s^l),i=1518500249):(r=a^s^l,i=1859775393):e<60?(r=a&s|l&(a|s),i=2400959708):(r=a^s^l,i=3395469782);const t=(o<<5|o>>>27)+r+c+i+n[e]&4294967295;c=l,l=s,s=4294967295&(a<<30|a>>>2),a=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function fe(e,t){const n=new pe(e,t);return n.subscribe.bind(n)}class pe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ge),void 0===r.error&&(r.error=ge),void 0===r.complete&&(r.complete=ge);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ge(){}function me(e,t){return`${e} failed: ${t} argument `}const ve=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ye=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},_e=144e5;function be(e){return e&&e._delegate?e._delegate:e}class we{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xe="[DEFAULT]";class Ce{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new B;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xe})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=xe){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=xe){return this.instances.has(e)}getOptions(e=xe){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===xe?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=xe){return this.component?this.component.multipleInstances?e:xe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ce(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ie=[];var Te;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Te||(Te={}));const ke={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Se=Te.INFO,Ae={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},Pe=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Ae[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Ne{constructor(e){this.name=e,this._logLevel=Se,this._logHandler=Pe,this._userLogHandler=null,Ie.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ke[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const Oe=(e,t)=>t.some((t=>e instanceof t));let Re,Le;const Me=new WeakMap,De=new WeakMap,je=new WeakMap,Fe=new WeakMap,ze=new WeakMap;let Ue={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return De.get(e);if("objectStoreNames"===t)return e.objectStoreNames||je.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Be(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ve(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(Ge(this),e),Be(Me.get(this))}:function(...e){return Be(t.apply(Ge(this),e))}:function(e,...n){const r=t.call(Ge(this),e,...n);return je.set(r,e.sort?e.sort():[e]),Be(r)}:(e instanceof IDBTransaction&&function(e){if(De.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));De.set(e,t)}(e),Oe(e,Re||(Re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ue):e);var t}function Be(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Be(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Me.set(t,e)})).catch((()=>{})),ze.set(t,e),t}(e);if(Fe.has(e))return Fe.get(e);const t=Ve(e);return t!==e&&(Fe.set(e,t),ze.set(t,e)),t}const Ge=e=>ze.get(e),Ze=["get","getKey","getAll","getAllKeys","count"],qe=["put","add","delete","clear"],We=new Map;function He(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(We.get(t))return We.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=qe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ze.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return We.set(t,o),o}var Ke;Ke=Ue,Ue={...Ke,get:(e,t,n)=>He(e,t)||Ke.get(e,t,n),has:(e,t)=>!!He(e,t)||Ke.has(e,t)};class $e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ye="@firebase/app",Qe="0.9.13",Je=new Ne("@firebase/app"),Xe="[DEFAULT]",et={[Ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,nt=new Map;function rt(e,t){try{e.container.addComponent(t)}catch(n){Je.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function it(e,t){e.container.addOrOverwriteComponent(t)}function ot(e){const t=e.name;if(nt.has(t))return Je.debug(`There were multiple attempts to register component ${t}.`),!1;nt.set(t,e);for(const t of tt.values())rt(t,e);return!0}function at(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function st(e,t,n=Xe){at(e,t).clearInstance(n)}function lt(){nt.clear()}const ct=new J("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ut{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new we("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ct.create("app-deleted",{appName:this._name})}}const dt="9.23.0";function ht(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Xe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw ct.create("bad-app-name",{appName:String(i)});if(n||(n=U()),!n)throw ct.create("no-options");const o=tt.get(i);if(o){if(se(n,o.options)&&se(r,o.config))return o;throw ct.create("duplicate-app",{appName:i})}const a=new Ee(i);for(const e of nt.values())a.addComponent(e);const s=new ut(n,r,a);return tt.set(i,s),s}function ft(e=Xe){const t=tt.get(e);if(!t&&e===Xe&&U())return ht();if(!t)throw ct.create("no-app",{appName:e});return t}function pt(){return Array.from(tt.values())}async function gt(e){const t=e.name;tt.has(t)&&(tt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function mt(e,t,n){var r;let i=null!==(r=et[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Je.warn(e.join(" "))}ot(new we(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function vt(e,t){if(null!==e&&"function"!=typeof e)throw ct.create("invalid-log-argument");!function(e,t){for(const n of Ie){let r=null;t&&t.level&&(r=ke[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const o=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Te[n].toLowerCase(),message:o,args:i,type:t.name})}}}(e,t)}function yt(e){var t;t=e,Ie.forEach((e=>{e.setLogLevel(t)}))}const _t="firebase-heartbeat-database",bt=1,wt="firebase-heartbeat-store";let xt=null;function Ct(){return xt||(xt=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Be(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Be(a.result),e.oldVersion,e.newVersion,Be(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(_t,bt,{upgrade:(e,t)=>{0===t&&e.createObjectStore(wt)}}).catch((e=>{throw ct.create("idb-open",{originalErrorMessage:e.message})}))),xt}async function Et(e,t){try{const n=(await Ct()).transaction(wt,"readwrite"),r=n.objectStore(wt);await r.put(t,It(e)),await n.done}catch(e){if(e instanceof Q)Je.warn(e.message);else{const t=ct.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Je.warn(t.message)}}}function It(e){return`${e.name}!${e.options.appId}`}class Tt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new St(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=kt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=kt(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),At(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),At(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=R(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function kt(){return(new Date).toISOString().substring(0,10)}class St{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Y()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Ct();return await t.transaction(wt).objectStore(wt).get(It(e))}catch(e){if(e instanceof Q)Je.warn(e.message);else{const t=ct.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Je.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Et(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Et(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function At(e){return R(JSON.stringify({version:2,heartbeats:e})).length}ot(new we("platform-logger",(e=>new $e(e)),"PRIVATE")),ot(new we("heartbeat",(e=>new Tt(e)),"PRIVATE")),mt(Ye,Qe,""),mt(Ye,Qe,"esm2017"),mt("fire-js","");const Pt=new Map,Nt={activated:!1,tokenObservers:[]},Ot={initialized:!1,enabled:!1};function Rt(e){return Pt.get(e)||Object.assign({},Nt)}function Lt(){return Ot}const Mt="https://content-firebaseappcheck.googleapis.com/v1",Dt="exchangeDebugToken",jt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ft{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((()=>{}))}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new B,await function(e){return new Promise((t=>{setTimeout(t,e)}))}(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new B,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch((()=>{}))}catch(e){this.retryPolicy(e)?this.process(!1).catch((()=>{})):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const zt=new J("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ut(e=!1){var t;return e?null===(t=self.grecaptcha)||void 0===t?void 0:t.enterprise:self.grecaptcha}function Vt(e){if(!Rt(e).activated)throw zt.create("use-before-activation",{appName:e.name})}function Bt(e){const t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),o=t-3600*n*24-3600*r-60*i;let a="";return n&&(a+=Gt(n)+"d:"),r&&(a+=Gt(r)+"h:"),a+=Gt(i)+"m:"+Gt(o)+"s",a}function Gt(e){return 0===e?"00":e>=10?e.toString():"0"+e}async function Zt({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&(r["X-Firebase-Client"]=e)}const o={method:"POST",body:JSON.stringify(t),headers:r};let a,s;try{a=await fetch(e,o)}catch(e){throw zt.create("fetch-network-error",{originalErrorMessage:null==e?void 0:e.message})}if(200!==a.status)throw zt.create("fetch-status-error",{httpStatus:a.status});try{s=await a.json()}catch(e){throw zt.create("fetch-parse-error",{originalErrorMessage:null==e?void 0:e.message})}const l=s.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:s.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}}function qt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Mt}/projects/${n}/apps/${r}:${Dt}?key=${i}`,body:{debug_token:t}}}const Wt="firebase-app-check-database",Ht=1,Kt="firebase-app-check-store",$t="debug-token";let Yt=null;function Qt(){return Yt||(Yt=new Promise(((e,t)=>{try{const n=indexedDB.open(Wt,Ht);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(zt.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(Kt,{keyPath:"compositeKey"})}}catch(e){t(zt.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}})),Yt)}async function Jt(e,t){const n=(await Qt()).transaction(Kt,"readwrite"),r=n.objectStore(Kt).put({compositeKey:e,value:t});return new Promise(((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(zt.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))}async function Xt(e){const t=(await Qt()).transaction(Kt,"readonly"),n=t.objectStore(Kt).get(e);return new Promise(((e,r)=>{n.onsuccess=t=>{const n=t.target.result;e(n?n.value:void 0)},t.onerror=e=>{var t;r(zt.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}}))}function en(e){return`${e.options.appId}-${e.name}`}const tn=new Ne("@firebase/app-check");function nn(e,t){return Y()?function(e,t){return Jt(en(e),t)}(e,t).catch((e=>{tn.warn(`Failed to write token to IndexedDB. Error: ${e}`)})):Promise.resolve()}function rn(){return Lt().enabled}async function on(){const e=Lt();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}const an={error:"UNKNOWN_ERROR"};async function sn(e,t=!1){const n=e.app;Vt(n);const r=Rt(n);let i,o=r.token;if(o&&!hn(o)&&(r.token=void 0,o=void 0),!o){const e=await r.cachedTokenPromise;e&&(hn(e)?o=e:await nn(n,void 0))}if(!t&&o&&hn(o))return{token:o.token};let a,s=!1;if(rn()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Zt(qt(n,await on()),e.heartbeatServiceProvider).finally((()=>{r.exchangeTokenPromise=void 0})),s=!0);const t=await r.exchangeTokenPromise;return await nn(n,t),r.token=t,{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally((()=>{r.exchangeTokenPromise=void 0})),s=!0),o=await Rt(n).exchangeTokenPromise}catch(e){"appCheck/throttled"===e.code?tn.warn(e.message):tn.error(e),i=e}return o?i?a=hn(o)?{token:o.token,internalError:i}:fn(i):(a={token:o.token},r.token=o,await nn(n,o)):a=fn(i),s&&dn(n,a),a}function ln(e,t,n,r){const{app:i}=e,o=Rt(i),a={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,a],o.token&&hn(o.token)){const t=o.token;Promise.resolve().then((()=>{n({token:t.token}),un(e)})).catch((()=>{}))}o.cachedTokenPromise.then((()=>un(e)))}function cn(e,t){const n=Rt(e),r=n.tokenObservers.filter((e=>e.next!==t));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function un(e){const{app:t}=e,n=Rt(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new Ft((async()=>{let n;if(n=Rt(t).token?await sn(e,!0):await sn(e),n.error)throw n.error;if(n.internalError)throw n.internalError}),(()=>!0),(()=>{const e=Rt(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;const n=e.token.expireTimeMillis-3e5;return t=Math.min(t,n),Math.max(0,t-Date.now())}return 0}),jt.RETRIAL_MIN_WAIT,jt.RETRIAL_MAX_WAIT)}(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function dn(e,t){const n=Rt(e).tokenObservers;for(const e of n)try{"EXTERNAL"===e.type&&null!=t.error?e.error(t.error):e.next(t)}catch(e){}}function hn(e){return e.expireTimeMillis-Date.now()>0}function fn(e){return{token:(t=an,P.encodeString(JSON.stringify(t),!1)),error:e};var t}class pn{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Rt(this.app);for(const t of e)cn(this.app,t.next);return Promise.resolve()}}function gn(e,t){const n=new B;Rt(e).reCAPTCHAState={initialized:n};const r=function(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}(e),i=Ut(!1);return i?mn(e,t,i,r,n):function(i){const o=document.createElement("script");o.src="https://www.google.com/recaptcha/api.js",o.onload=()=>{const i=Ut(!1);if(!i)throw new Error("no recaptcha");mn(e,t,i,r,n)},document.head.appendChild(o)}(),n.promise}function mn(e,t,n,r,i){n.ready((()=>{!function(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{Rt(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Rt(e).reCAPTCHAState.succeeded=!1}}),o=Rt(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}(e,t,n,r),i.resolve(n)}))}class vn{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,t,n;!function(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw zt.create("throttled",{time:Bt(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}(this._throttleData);const r=await async function(e){Vt(e);const t=Rt(e).reCAPTCHAState,n=await t.initialized.promise;return new Promise(((t,r)=>{const i=Rt(e).reCAPTCHAState;n.ready((()=>{t(n.execute(i.widgetId,{action:"fire_app_check"}))}))}))}(this._app).catch((e=>{throw zt.create("recaptcha-error")}));if(!(null===(e=Rt(this._app).reCAPTCHAState)||void 0===e?void 0:e.succeeded))throw zt.create("recaptcha-error");let i;try{i=await Zt(function(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Mt}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:t}}}(this._app,r),this._heartbeatServiceProvider)}catch(e){throw(null===(t=e.code)||void 0===t?void 0:t.includes("fetch-status-error"))?(this._throttleData=function(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};{const n=t?t.backoffCount:0,r=function(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(_e,r+i)}(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}(Number(null===(n=e.customData)||void 0===n?void 0:n.httpStatus),this._throttleData),zt.create("throttled",{time:Bt(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):e}return this._throttleData=null,i}initialize(e){this._app=e,this._heartbeatServiceProvider=at(e,"heartbeat"),gn(e,this._siteKey).catch((()=>{}))}isEqual(e){return e instanceof vn&&this._siteKey===e._siteKey}}function yn(e=ft(),t){const n=at(e=be(e),"app-check");if(Lt().initialized||function(){const e=D(),t=Lt();if(t.initialized=!0,"string"!=typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==e.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const n=new B;t.token=n,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(async function(){let e;try{e=await Xt($t)}catch(e){}if(e)return e;{const e=ye();return(t=e,Jt($t,t)).catch((e=>tn.warn(`Failed to persist debug token to IndexedDB. Error: ${e}`))),e}var t}())}(),rn()&&on().then((e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`))),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw zt.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return function(e,t,n){const r=function(e,t){return Pt.set(e,t),Pt.get(e)}(e,Object.assign({},Nt));r.activated=!0,r.provider=t,r.cachedTokenPromise=async function(e){if(Y()){let t;try{t=await function(e){return Xt(en(e))}(e)}catch(e){tn.warn(`Failed to read token from IndexedDB. Error: ${e}`)}return t}}(e).then((t=>(t&&hn(t)&&(r.token=t,dn(e,{token:t.token})),t))),r.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),Rt(e).isTokenAutoRefreshEnabled&&ln(r,"INTERNAL",(()=>{})),r}const _n="app-check-internal";ot(new we("app-check",(e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),new pn(t,n);var t,n}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider(_n).initialize()}))),ot(new we(_n,(e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>sn(t,e),getLimitedUseToken:()=>async function(e){const t=e.app;Vt(t);const{provider:n}=Rt(t);if(rn()){const n=await on(),{token:r}=await Zt(qt(t,n),e.heartbeatServiceProvider);return{token:r}}{const{token:e}=await n.getToken();return{token:e}}}(t),addTokenListener:e=>ln(t,"INTERNAL",e),removeTokenListener:e=>cn(t.app,e)};var t}),"PUBLIC").setInstantiationMode("EXPLICIT")),mt("@firebase/app-check","0.8.0");class bn{constructor(e,t){this._delegate=e,this.firebase=t,rt(e,new we("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),gt(this._delegate))))}_getService(e,t=Xe){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Xe){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){rt(this._delegate,e)}_addOrOverwriteComponent(e){it(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const wn=new J("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),xn=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const o=ht(e,i);if(re(n,o.name))return n[o.name];const a=new t(o,r);return n[o.name]=a,a},app:i,registerVersion:mt,setLogLevel:yt,onLog:vt,apps:null,SDK_VERSION:dt,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(ot(e)&&"PUBLIC"===e.type){const a=(e=i())=>{if("function"!=typeof e[o])throw wn.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&M(a,e.serviceProps),r[o]=a,t.prototype[o]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!re(n,e=e||Xe))throw wn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(bn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){M(n,e)},createSubscribe:fe,ErrorFactory:J,deepExtend:M}),n}(),Cn=new Ne("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Cn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Cn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const En=xn;function In(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}mt("@firebase/app-compat","0.2.13",void 0),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const Tn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const kn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Sn=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},An=new J("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pn=new Ne("@firebase/auth");function Nn(e,...t){Pn.logLevel<=Te.ERROR&&Pn.error(`Auth (${dt}): ${e}`,...t)}function On(e,...t){throw Dn(e,...t)}function Rn(e,...t){return Dn(e,...t)}function Ln(e,t,n){const r=Object.assign(Object.assign({},Sn()),{[t]:n});return new J("auth","Firebase",r).create(t,{appName:e.name})}function Mn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&On(e,"argument-error"),Ln(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dn(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return An.create(e,...t)}function jn(e,t,...n){if(!e)throw Dn(t,...n)}function Fn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Nn(t),new Error(t)}function zn(e,t){e||Fn(t)}function Un(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vn(){return"http:"===Bn()||"https:"===Bn()}function Bn(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Gn{constructor(e,t){this.shortDelay=e,this.longDelay=t,zn(t>e,"Short delay should be less than long delay!"),this.isMobile=q()||K()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vn()||H()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Zn(e,t){zn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class qn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Hn=new Gn(3e4,6e4);function Kn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function $n(e,t,n,r,i={}){return Yn(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=ce(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),qn.fetch()(Jn(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function Yn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wn),t);try{const t=new Xn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw er(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw er(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw er(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw er(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ln(e,s,a);On(e,s)}}catch(t){if(t instanceof Q)throw t;On(e,"network-request-failed",{message:String(t)})}}async function Qn(e,t,n,r,i={}){const o=await $n(e,t,n,r,i);return"mfaPendingCredential"in o&&On(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Jn(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Zn(e.config,i):`${e.config.apiScheme}://${i}`}class Xn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Rn(this.auth,"network-request-failed"))),Hn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rn(e,t,r);return i.customData._tokenResponse=n,i}function tr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function nr(e){return 1e3*Number(e)}function rr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Nn("JWT malformed, contained fewer than 3 sections"),null;try{const e=L(n);return e?JSON.parse(e):(Nn("Failed to decode base64 JWT payload"),null)}catch(e){return Nn("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function ir(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Q&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class or{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class ar{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ir(e,async function(e,t){return $n(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));jn(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=In(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==s?void 0:s.length)),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ar(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jn(e.idToken,"internal-error"),jn(void 0!==e.idToken,"internal-error"),jn(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=rr(e);return jn(t,"internal-error"),jn(void 0!==t.exp,"internal-error"),jn(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return jn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Yn(e,{},(async()=>{const n=ce({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Jn(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qn.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new lr;return n&&(jn("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(jn("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(jn("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lr,this.toJSON())}_performRefresh(){return Fn("not implemented")}}function cr(e,t){jn("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ur{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=In(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ar(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ir(this,this.stsTokenManager.getToken(this.auth,e));return jn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=be(e),r=await n.getIdToken(t),i=rr(r);jn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:tr(nr(i.auth_time)),issuedAtTime:tr(nr(i.iat)),expirationTime:tr(nr(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=be(e);await sr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(jn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ur(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){jn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ir(this,async function(e,t){return $n(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:x}=t;jn(y&&x,e,"internal-error");const C=lr.fromJSON(this.name,x);jn("string"==typeof y,e,"internal-error"),cr(u,e.name),cr(d,e.name),jn("boolean"==typeof _,e,"internal-error"),jn("boolean"==typeof b,e,"internal-error"),cr(h,e.name),cr(f,e.name),cr(p,e.name),cr(g,e.name),cr(m,e.name),cr(v,e.name);const E=new ur({uid:y,auth:e,email:d,emailVerified:_,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(E.providerData=w.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new lr;r.updateFromServerResponse(t);const i=new ur({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await sr(i),i}}const dr=new Map;function hr(e){zn(e instanceof Function,"Expected a class definition");let t=dr.get(e);return t?(zn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dr.set(e,t),t)}class fr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fr.type="NONE";const pr=fr;function gr(e,t,n){return`firebase:${e}:${t}:${n}`}class mr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=gr(this.userKey,r.apiKey,i),this.fullPersistenceKey=gr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ur._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new mr(hr(pr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||hr(pr);const o=gr(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(o);if(t){const r=ur._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new mr(i,e,n)):new mr(i,e,n)}}function vr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cr(t))return"Blackberry";if(Er(t))return"Webos";if(_r(t))return"Safari";if((t.includes("chrome/")||br(t))&&!t.includes("edge/"))return"Chrome";if(xr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function yr(e=Z()){return/firefox\//i.test(e)}function _r(e=Z()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function br(e=Z()){return/crios\//i.test(e)}function wr(e=Z()){return/iemobile/i.test(e)}function xr(e=Z()){return/android/i.test(e)}function Cr(e=Z()){return/blackberry/i.test(e)}function Er(e=Z()){return/webos/i.test(e)}function Ir(e=Z()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tr(e=Z()){return Ir(e)||xr(e)||Er(e)||Cr(e)||/windows phone/i.test(e)||wr(e)}function kr(e,t=[]){let n;switch(e){case"Browser":n=vr(Z());break;case"Worker":n=`${vr(Z())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${dt}/${r}`}async function Sr(e,t){return $n(e,"GET","/v2/recaptchaConfig",Kn(e,t))}function Ar(e){return void 0!==e&&void 0!==e.getResponse}function Pr(e){return void 0!==e&&void 0!==e.enterprise}class Nr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Or(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Rn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Rr(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Lr{constructor(e){this.type="recaptcha-enterprise",this.auth=Fr(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;Pr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Sr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Nr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Pr(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Or("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Mr(e,t,n,r=!1){const i=new Lr(e);let o;try{o=await i.verify(n)}catch(e){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class Dr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class jr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zr(this),this.idTokenSubscription=new zr(this),this.beforeStateQueue=new Dr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=An,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await mr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return jn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sr(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?be(e):null;return t&&jn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&jn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(hr(e))}))}async initializeRecaptchaConfig(){const e=await Sr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Nr(e);null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new Lr(this).verify()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new J("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hr(e)||this._popupRedirectResolver;jn(t,this,"argument-error"),this.redirectPersistenceManager=await mr.create(this,[hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return jn(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Pn.logLevel<=Te.WARN&&Pn.warn(`Auth (${dt}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Fr(e){return be(e)}class zr{constructor(e){this.auth=e,this.observer=null,this.addObserver=fe((e=>this.observer=e))}get next(){return jn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ur(e,t,n){const r=Fr(e);jn(r._canInitEmulator,r,"emulator-config-failed"),jn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=Vr(t),{host:a,port:s}=function(e){const t=Vr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Br(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Br(t)}}}(t),l=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Br(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Gr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,t){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}}async function Zr(e,t){return $n(e,"POST","/v1/accounts:resetPassword",Kn(e,t))}async function qr(e,t){return $n(e,"POST","/v1/accounts:update",t)}async function Wr(e,t){return Qn(e,"POST","/v1/accounts:signInWithPassword",Kn(e,t))}async function Hr(e,t){return $n(e,"POST","/v1/accounts:sendOobCode",Kn(e,t))}async function Kr(e,t){return Hr(e,t)}async function $r(e,t){return Hr(e,t)}class Yr extends Gr{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Yr(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Yr(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await Mr(e,n,"signInWithPassword");return Wr(e,t)}return Wr(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await Mr(e,n,"signInWithPassword");return Wr(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Qn(e,"POST","/v1/accounts:signInWithEmailLink",Kn(e,t))}(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Qn(e,"POST","/v1/accounts:signInWithEmailLink",Kn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qr(e,t){return Qn(e,"POST","/v1/accounts:signInWithIdp",Kn(e,t))}class Jr extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):On("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=In(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Jr(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Qr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ce(t)}return e}}const Xr={USER_NOT_FOUND:"user-not-found"};class ei extends Gr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ei({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ei({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qn(e,"POST","/v1/accounts:signInWithPhoneNumber",Kn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qn(e,"POST","/v1/accounts:signInWithPhoneNumber",Kn(e,t));if(n.temporaryProof)throw er(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Qn(e,"POST","/v1/accounts:signInWithPhoneNumber",Kn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Xr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ei({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ti{constructor(e){var t,n,r,i,o,a;const s=ue(de(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);jn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=ue(de(e)).link,n=t?ue(de(t)).deep_link_id:null,r=ue(de(e)).deep_link_id;return(r?ue(de(r)).link:null)||r||n||t||e}(e);try{return new ti(t)}catch(e){return null}}}class ni{constructor(){this.providerId=ni.PROVIDER_ID}static credential(e,t){return Yr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ti.parseLink(t);return jn(n,"argument-error"),Yr._fromEmailAndCode(e,n.code,n.tenantId)}}ni.PROVIDER_ID="password",ni.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ni.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ri{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ii extends ri{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class oi extends ii{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return jn("providerId"in t&&"signInMethod"in t,"argument-error"),Jr._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return jn(e.idToken||e.accessToken,"argument-error"),Jr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return oi.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return oi.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:a}=e;if(!(n||r||t||i))return null;if(!a)return null;try{return new oi(a)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(e){return null}}}class ai extends ii{constructor(){super("facebook.com")}static credential(e){return Jr._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch(e){return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com",ai.PROVIDER_ID="facebook.com";class si extends ii{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jr._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return si.credential(t,n)}catch(e){return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com",si.PROVIDER_ID="google.com";class li extends ii{constructor(){super("github.com")}static credential(e){return Jr._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch(e){return null}}}li.GITHUB_SIGN_IN_METHOD="github.com",li.PROVIDER_ID="github.com";class ci extends Gr{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Qr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new ci(n,i):null}static _create(e,t){return new ci(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ui extends ri{constructor(e){jn(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ui.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ui.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ci.fromJSON(e);return jn(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return ci._create(n,t)}catch(e){return null}}}class di extends ii{constructor(){super("twitter.com")}static credential(e,t){return Jr._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return di.credential(t,n)}catch(e){return null}}}async function hi(e,t){return Qn(e,"POST","/v1/accounts:signUp",Kn(e,t))}di.TWITTER_SIGN_IN_METHOD="twitter.com",di.PROVIDER_ID="twitter.com";class fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ur._fromIdTokenResponse(e,n,r),o=pi(n);return new fi({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=pi(n);return new fi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function pi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class gi extends Q{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,gi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new gi(e,t,n,r)}}function mi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw gi._fromErrorAndOperation(e,n,t,r);throw n}))}function vi(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function yi(e,t,n=!1){const r=await ir(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return fi._forOperation(e,"link",r)}async function _i(e,t,n){await sr(t);const r=!1===e?"provider-already-linked":"no-such-provider";jn(vi(t.providerData).has(n)===e,t.auth,r)}async function bi(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await ir(e,mi(r,i,t,e),n);jn(o.idToken,r,"internal-error");const a=rr(o.idToken);jn(a,r,"internal-error");const{sub:s}=a;return jn(e.uid===s,r,"user-mismatch"),fi._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&On(r,"user-mismatch"),e}}async function wi(e,t,n=!1){const r="signIn",i=await mi(e,r,t),o=await fi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function xi(e,t){return wi(Fr(e),t)}async function Ci(e,t){const n=be(e);return await _i(!1,n,t.providerId),yi(n,t)}async function Ei(e,t){return bi(be(e),t)}class Ii{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ti._fromServerResponse(e,t):"totpInfo"in t?ki._fromServerResponse(e,t):On(e,"internal-error")}}class Ti extends Ii{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ti(t)}}class ki extends Ii{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ki(t)}}function Si(e,t,n){var r;jn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),jn(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(jn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(jn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ai(e,t){const n=be(e),r=await Zr(n,{oobCode:t}),i=r.requestType;switch(jn(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":jn(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":jn(r.mfaInfo,n,"internal-error");default:jn(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ii._fromServerResponse(Fr(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Pi(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await ir(e,qr(r,i));await e._updateTokensIfNecessary(o,!0)}class Ni{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Oi extends Ni{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Ri extends Ni{constructor(e,t){super(e,"facebook.com",t)}}class Li extends Oi{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Mi extends Ni{constructor(e,t){super(e,"google.com",t)}}class Di extends Oi{constructor(e,t,n){super(e,"twitter.com",t,n)}}function ji(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=rr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ni(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Ri(o,i);case"github.com":return new Li(o,i);case"google.com":return new Mi(o,i);case"twitter.com":return new Di(o,i,e.screenName||null);case"custom":case"anonymous":return new Ni(o,null);default:return new Ni(o,r,i)}}(n)}class Fi{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new Fi("enroll",e,t)}static _fromMfaPendingCredential(e){return new Fi("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Fi._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Fi._fromIdtoken(e.multiFactorSession.idToken)}return null}}class zi{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Fr(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Ii._fromServerResponse(n,e)));jn(r.mfaPendingCredential,n,"internal-error");const o=Fi._fromMfaPendingCredential(r.mfaPendingCredential);return new zi(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await fi._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return jn(t.user,n,"internal-error"),fi._forOperation(t.user,t.operationType,a);default:On(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Ui{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ii._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ui(e)}async getSession(){return Fi._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ir(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ir(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},$n(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Kn(r,i))));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}var r,i}}const Vi=new WeakMap,Bi="__sak";class Gi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bi,"1"),this.storage.removeItem(Bi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Zi extends Gi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Z();return _r(e)||Ir(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Tr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);$()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zi.type="LOCAL";const qi=Zi;class Wi extends Gi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Wi.type="SESSION";const Hi=Wi;class Ki{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ki(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function $i(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Ki.receivers=[];class Yi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=$i("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Qi(){return window}function Ji(){return void 0!==Qi().WorkerGlobalScope&&"function"==typeof Qi().importScripts}const Xi="firebaseLocalStorageDb",eo="firebaseLocalStorage",to="fbase_key";class no{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ro(e,t){return e.transaction([eo],t?"readwrite":"readonly").objectStore(eo)}function io(){const e=indexedDB.open(Xi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(eo,{keyPath:to})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(eo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Xi);return new no(e).toPromise()}(),t(await io()))}))}))}async function oo(e,t,n){const r=ro(e,!0).put({[to]:t,value:n});return new no(r).toPromise()}function ao(e,t){const n=ro(e,!0).delete(t);return new no(n).toPromise()}class so{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await io()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ji()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ki._getInstance(Ji()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Yi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await io();return await oo(e,Bi,"1"),await ao(e,Bi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>oo(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ro(e,!1).get(t),r=await new no(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ao(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ro(e,!1).getAll();return new no(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}so.type="LOCAL";const lo=so,co=1e12;class uo{constructor(e){this.auth=e,this.counter=co,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ho(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||co;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||co;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||co;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ho{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;jn(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(62*Math.random())));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fo=Rr("rcb"),po=new Gn(3e4,6e4);class go{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Qi().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return jn(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ar(Qi().grecaptcha)?Promise.resolve(Qi().grecaptcha):new Promise(((n,r)=>{const i=Qi().setTimeout((()=>{r(Rn(e,"network-request-failed"))}),po.get());Qi()[fo]=()=>{Qi().clearTimeout(i),delete Qi()[fo];const o=Qi().grecaptcha;if(!o||!Ar(o))return void r(Rn(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)},Or(`https://www.google.com/recaptcha/api.js??${ce({onload:fo,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(Rn(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Qi().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mo{async load(e){return new uo(e)}clearedOneInstance(){}}const vo="recaptcha",yo={theme:"light",type:"image"};class _o{constructor(e,t=Object.assign({},yo),n){this.parameters=t,this.type=vo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fr(n),this.isInvisible="invisible"===this.parameters.size,jn("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;jn(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mo:new go,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){jn(!this.parameters.sitekey,this.auth,"argument-error"),jn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),jn("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=Qi()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){jn(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){jn(Vn()&&!Ji(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await $n(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);jn(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return jn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bo{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ei._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function wo(e,t,n){var r;const i=await n.verify();try{let o;if(jn("string"==typeof i,e,"argument-error"),jn(n.type===vo,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){jn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return $n(e,"POST","/v2/accounts/mfaEnrollment:start",Kn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{jn("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;jn(n,e,"missing-multi-factor-info");const a=await function(e,t){return $n(e,"POST","/v2/accounts/mfaSignIn:start",Kn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return $n(e,"POST","/v1/accounts:sendVerificationCode",Kn(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class xo{constructor(e){this.providerId=xo.PROVIDER_ID,this.auth=Fr(e)}verifyPhoneNumber(e,t){return wo(this.auth,e,be(t))}static credential(e,t){return ei._fromVerification(e,t)}static credentialFromResult(e){const t=e;return xo.credentialFromTaggedObject(t)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ei._fromTokenResponse(t,n):null}}function Co(e,t){return t?hr(t):(jn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xo.PROVIDER_ID="phone",xo.PHONE_SIGN_IN_METHOD="phone";class Eo extends Gr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Io(e){return wi(e.auth,new Eo(e),e.bypassAuthState)}function To(e){const{auth:t,user:n}=e;return jn(n,t,"internal-error"),bi(n,new Eo(e),e.bypassAuthState)}async function ko(e){const{auth:t,user:n}=e;return jn(n,t,"internal-error"),yi(n,new Eo(e),e.bypassAuthState)}class So{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Io;case"linkViaPopup":case"linkViaRedirect":return ko;case"reauthViaPopup":case"reauthViaRedirect":return To;default:On(this.auth,"internal-error")}}resolve(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ao=new Gn(2e3,1e4);async function Po(e,t,n){const r=Fr(e);Mn(e,t,ri);const i=Co(r,n);return new No(r,"signInViaPopup",t,i).executeNotNull()}class No extends So{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jn(e,this.auth,"internal-error"),e}async onExecution(){zn(1===this.filter.length,"Popup operations only handle one event");const e=$i();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Rn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ao.get())};e()}}No.currentPopupAction=null;const Oo="pendingRedirect",Ro=new Map;class Lo extends So{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Ro.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Fo(t),r=jo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ro.set(this.auth._key(),e)}return this.bypassAuthState||Ro.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Mo(e,t){return jo(e)._set(Fo(t),"true")}function Do(e,t){Ro.set(e._key(),t)}function jo(e){return hr(e._redirectPersistence)}function Fo(e){return gr(Oo,e.config.apiKey,e.name)}function zo(e,t,n){return async function(e,t,n){const r=Fr(e);Mn(e,t,ri),await r._initializationPromise;const i=Co(r,n);return await Mo(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}async function Uo(e,t){return await Fr(e)._initializationPromise,Vo(e,t,!1)}async function Vo(e,t,n=!1){const r=Fr(e),i=Co(r,t),o=new Lo(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function Bo(e){const t=$i(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Go{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!qo(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Rn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zo(e))}saveEventToCache(e){this.cachedEventUids.add(Zo(e)),this.lastProcessedEventTime=Date.now()}}function Zo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function qo({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function Wo(e,t={}){return $n(e,"GET","/v1/projects",t)}const Ho=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ko=/^https?/;function $o(e){const t=Un(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ko.test(n))return!1;if(Ho.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yo=new Gn(3e4,6e4);function Qo(){const e=Qi().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Jo=null;function Xo(e){return Jo=Jo||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){Qo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qo(),n(Rn(e,"network-request-failed"))},timeout:Yo.get()})}if(null===(i=null===(r=Qi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Qi().gapi)||void 0===o?void 0:o.load)){const t=Rr("iframefcb");return Qi()[t]=()=>{gapi.load?a():n(Rn(e,"network-request-failed"))},Or(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Jo=null,e}))}(e),Jo}const ea=new Gn(5e3,15e3),ta={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},na=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ra(e){const t=e.config;jn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Zn(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:dt},i=na.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ce(r).slice(1)}`}const ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oa{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const aa="__/auth/handler",sa="emulator/auth/handler",la=encodeURIComponent("fac");async function ca(e,t,n,r,i,o){jn(e.config.authDomain,e,"auth-domain-config-required"),jn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:dt,eventId:i};if(t instanceof ri){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",oe(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof ii){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const e of Object.keys(s))void 0===s[e]&&delete s[e];const l=await e._getAppCheckToken(),c=l?`#${la}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?Zn(e,sa):`https://${e.authDomain}/${aa}`}(e)}?${ce(s).slice(1)}${c}`}const ua="webStorageSupport",da=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hi,this._completeRedirectFn=Vo,this._overrideRedirectResult=Do}async _openPopup(e,t,n,r){var i;return zn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ia),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Z().toLowerCase();n&&(s=br(c)?"_blank":n),yr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Z()){var t;return Ir(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new oa(null);const d=window.open(t||"",s,u);jn(d,e,"popup-blocked");try{d.focus()}catch(e){}return new oa(d)}(e,await ca(e,t,n,Un(),r),$i())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await ca(e,t,n,Un(),r),Qi().location.href=i,new Promise((()=>{}));var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(zn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Xo(e),n=Qi().gapi;return jn(n,e,"internal-error"),t.open({where:document.body,url:ra(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ta,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Rn(e,"network-request-failed"),o=Qi().setTimeout((()=>{r(i)}),ea.get());function a(){Qi().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new Go(e);return t.register("authEvent",(t=>(jn(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ua,{type:ua},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ua];void 0!==i&&t(!!i),On(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Wo(e);for(const e of t)try{if($o(e))return}catch(e){}On(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tr()||_r()||Ir()}};class ha{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Fn("unexpected MultiFactorSessionType")}}}class fa extends ha{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new fa(e)}_finalizeEnroll(e,t,n){return function(e,t){return $n(e,"POST","/v2/accounts/mfaEnrollment:finalize",Kn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return $n(e,"POST","/v2/accounts/mfaSignIn:finalize",Kn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class pa{constructor(){}static assertion(e){return fa._fromCredential(e)}}pa.FACTOR_ID="phone";var ga="@firebase/auth",ma="0.23.2";class va{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){jn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ya=V("authIdTokenMaxAge")||300;let _a=null;function ba(e=ft()){const t=at(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=at(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(se(n.getOptions(),null!=t?t:{}))return e;On(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:da,persistence:[lo,qi,Hi]}),r=V("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ya)return;const r=null==t?void 0:t.token;_a!==r&&(_a=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){be(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,r,i){be(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}var i;const o=F("auth");return o&&Ur(n,`http://${o}`),n}var wa;function xa(){return window}wa="Browser",ot(new we("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;jn(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:o,authDomain:a,clientPlatform:wa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kr(wa)},l=new jr(n,r,i,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hr);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ot(new we("auth-internal",(e=>{return t=Fr(e.getProvider("auth").getImmediate()),new va(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),mt(ga,ma,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(wa)),mt(ga,ma,"esm2017");class Ca extends Go{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Ea(e){const t=await Ta()._get(ka(e));return t&&await Ta()._remove(ka(e)),t}function Ia(){const e=[];for(let t=0;t<20;t++){const t=Math.floor(62*Math.random());e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(t))}return e.join("")}function Ta(){return hr(qi)}function ka(e){return gr("authEvent",e.config.apiKey,e.name)}function Sa(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return ue(n.join("?"))}const Aa=class{constructor(){this._redirectPersistence=Hi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vo,this._overrideRedirectResult=Do}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Ca(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){On(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,l,c,u;const d=xa();jn("function"==typeof(null===(t=null==d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),jn(void 0!==(null===(n=null==d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),jn("function"==typeof(null===(o=null===(i=null===(r=null==d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),jn("function"==typeof(null===(l=null===(s=null===(a=null==d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),jn("function"==typeof(null===(u=null===(c=null==d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ro.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Ia(),postBody:null,tenantId:e.tenantId,error:Rn(e,"no-auth-event")}}(e,n,r);await function(e,t){return Ta()._set(ka(e),t)}(e,o);const a=await async function(e,t,n){var r;const{BuildInfo:i}=xa();zn(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(zn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Ir()?a.ibi=i.packageName:xr()?a.apn=i.packageName:On(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,ca(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}(e,o,t);return async function(e,t,n){const{cordova:r}=xa();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){s||(s=window.setTimeout((()=>{a(Rn(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),xr()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=xa();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=Z()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=xa(),n={};Ir()?n.iosBundleId=t.packageName:xr()?n.androidPackageName=t.packageName:On(e,"operation-not-supported-in-this-environment"),await Wo(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=xa(),o=setTimeout((async()=>{await Ea(e),t.onEvent(Pa())}),500),a=async n=>{clearTimeout(o);const r=await Ea(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Sa(e),n=t.link?decodeURIComponent(t.link):void 0,r=Sa(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Sa(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Sa(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?Rn(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Pa())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const s=r,l=`${i.packageName.toLowerCase()}://`;xa().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"==typeof s)try{s(e)}catch(e){console.error(e)}}}};function Pa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rn("no-auth-event")}}function Na(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Oa(e=Z()){return!("file:"!==Na()&&"ionic:"!==Na()&&"capacitor:"!==Na()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ra(){try{const e=self.localStorage,t=$i();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=Z()){return $()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=Z()){return/Edge\/\d+/.test(e)}(e)}()||Y()}catch(e){return La()&&Y()}return!1}function La(){return void 0!==a.g&&"WorkerGlobalScope"in a.g&&"importScripts"in a.g}function Ma(){return("http:"===Na()||"https:"===Na()||H()||Oa())&&!(K()||W())&&Ra()&&!La()}function Da(){return Oa()&&"undefined"!=typeof document}const ja={LOCAL:"local",NONE:"none",SESSION:"session"},Fa=jn,za="persistence";async function Ua(e){await e._initializationPromise;const t=Va(),n=gr(za,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Va(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}const Ba=jn;class Ga{constructor(){this.browserResolver=hr(da),this.cordovaResolver=hr(Aa),this.underlyingResolver=null,this._redirectPersistence=Hi,this._completeRedirectFn=Vo,this._overrideRedirectResult=Do}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Da()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ba(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Da()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Za(e){return e.unwrap()}function qa(e){const{_tokenResponse:t}=e instanceof Q?e.customData:e;if(!t)return null;if(!(e instanceof Q)&&"temporaryProof"in t&&"phoneNumber"in t)return xo.credentialFromResult(e);const n=t.providerId;if(!n||n===Tn.PASSWORD)return null;let r;switch(n){case Tn.GOOGLE:r=si;break;case Tn.FACEBOOK:r=ai;break;case Tn.GITHUB:r=li;break;case Tn.TWITTER:r=di;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?ci._create(n,a):Jr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new oi(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof Q?r.credentialFromError(e):r.credentialFromResult(e)}function Wa(e,t){return t.catch((t=>{throw t instanceof Q&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null==t?void 0:t.code))t.resolver=new Ka(e,function(e,t){var n;const r=be(e),i=t;return jn(t.customData.operationType,r,"argument-error"),jn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),zi._fromError(r,i)}(e,t));else if(r){const e=qa(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,qa(r)),additionalUserInfo:ji(e),user:$a.getOrCreate(n)};var r}))}async function Ha(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Wa(e,n.confirm(t))}}class Ka{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wa(Za(this.auth),this.resolver.resolveSignIn(e))}}class $a{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=be(e);return Vi.has(t)||Vi.set(t,Ui._fromUser(t)),Vi.get(t)}(e)}static getOrCreate(e){return $a.USER_MAP.has(e)||$a.USER_MAP.set(e,new $a(e)),$a.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Wa(this.auth,Ci(this._delegate,e))}async linkWithPhoneNumber(e,t){return Ha(this.auth,async function(e,t,n){const r=be(e);await _i(!1,r,"phone");const i=await wo(r.auth,t,be(n));return new bo(i,(e=>Ci(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Wa(this.auth,async function(e,t,n){const r=be(e);Mn(r.auth,t,ri);const i=Co(r.auth,n);return new No(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ga))}async linkWithRedirect(e){return await Ua(Fr(this.auth)),function(e,t,n){return async function(e,t,n){const r=be(e);Mn(r.auth,t,ri),await r.auth._initializationPromise;const i=Co(r.auth,n);await _i(!1,r,t.providerId),await Mo(i,r.auth);const o=await Bo(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,Ga)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Wa(this.auth,Ei(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Ha(this.auth,async function(e,t,n){const r=be(e),i=await wo(r.auth,t,be(n));return new bo(i,(e=>Ei(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Wa(this.auth,async function(e,t,n){const r=be(e);Mn(r.auth,t,ri);const i=Co(r.auth,n);return new No(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ga))}async reauthenticateWithRedirect(e){return await Ua(Fr(this.auth)),function(e,t,n){return async function(e,t,n){const r=be(e);Mn(r.auth,t,ri),await r.auth._initializationPromise;const i=Co(r.auth,n);await Mo(i,r.auth);const o=await Bo(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,Ga)}sendEmailVerification(e){return async function(e,t){const n=be(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Si(n.auth,r,t);const{email:i}=await async function(e,t){return Hr(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=be(e);await _i(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return $n(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=vi(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Pi(be(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Pi(be(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await yi(be(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=be(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await ir(r,async function(e,t){return $n(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=be(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Si(r.auth,i,n);const{email:o}=await async function(e,t){return Hr(e,t)}(r.auth,i);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$a.USER_MAP=new WeakMap;const Ya=jn;class Qa{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ya(n,"invalid-api-key",{appName:e.name}),Ya(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?Ga:void 0;this._delegate=t.initialize({options:{persistence:Xa(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(kn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$a.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ur(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return $n(e,"POST","/v1/accounts:update",Kn(e,t))}(be(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return Ai(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Zr(be(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Wa(this._delegate,async function(e,t,n){var r;const i=Fr(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Mr(i,o,"signUpPassword");a=hi(i,e)}else a=hi(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await Mr(i,o,"signUpPassword");return hi(i,e)}return Promise.reject(e)}));const s=await a.catch((e=>Promise.reject(e))),l=await fi._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:Vn()?Un():"http://localhost"},{signinMethods:r}=await async function(e,t){return $n(e,"POST","/v1/accounts:createAuthUri",Kn(e,t))}(be(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ti.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Ya(Ma(),this._delegate,"operation-not-supported-in-this-environment");const e=await Uo(this._delegate,Ga);return e?Wa(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Fr(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Ja(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Ja(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=Fr(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function a(e,t){jn(t.handleCodeInApp,i,"argument-error"),t&&Si(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Mr(i,o,"getOobCode",!0);a(e,n),await $r(i,e)}else a(o,n),await $r(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await Mr(i,o,"getOobCode",!0);a(e,n),await $r(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=Fr(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await Mr(i,o,"getOobCode",!0);n&&Si(i,e,n),await Kr(i,e)}else n&&Si(i,o,n),await Kr(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await Mr(i,o,"getOobCode",!0);n&&Si(i,e,n),await Kr(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Fa(Object.values(ja).includes(t),e,"invalid-persistence-type"),K()?Fa(t!==ja.SESSION,e,"unsupported-persistence-type"):W()?Fa(t===ja.NONE,e,"unsupported-persistence-type"):La()?Fa(t===ja.NONE||t===ja.LOCAL&&Y(),e,"unsupported-persistence-type"):Fa(t===ja.NONE||Ra(),e,"unsupported-persistence-type")}(this._delegate,e),e){case ja.SESSION:t=Hi;break;case ja.LOCAL:t=await hr(lo)._isAvailable()?lo:qi;break;case ja.NONE:t=pr;break;default:return On("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wa(this._delegate,async function(e){var t;const n=Fr(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new fi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await hi(n,{returnSecureToken:!0}),i=await fi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Wa(this._delegate,xi(this._delegate,e))}signInWithCustomToken(e){return Wa(this._delegate,async function(e,t){const n=Fr(e),r=await async function(e,t){return Qn(e,"POST","/v1/accounts:signInWithCustomToken",Kn(e,t))}(n,{token:t,returnSecureToken:!0}),i=await fi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Wa(this._delegate,function(e,t,n){return xi(be(e),ni.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Wa(this._delegate,async function(e,t,n){const r=be(e),i=ni.credentialWithLink(t,n||Un());return jn(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),xi(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ha(this._delegate,async function(e,t,n){const r=Fr(e),i=await wo(r,t,be(n));return new bo(i,(e=>xi(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Ya(Ma(),this._delegate,"operation-not-supported-in-this-environment"),Wa(this._delegate,Po(this._delegate,e,Ga))}async signInWithRedirect(e){return Ya(Ma(),this._delegate,"operation-not-supported-in-this-environment"),await Ua(this._delegate),zo(this._delegate,e,Ga)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ai(be(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Ja(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&$a.getOrCreate(e)),error:t,complete:n}}function Xa(e,t){const n=function(e,t){const n=Va();if(!n)return[];const r=gr(za,e,t);switch(n.getItem(r)){case ja.NONE:return[pr];case ja.LOCAL:return[lo,Hi];case ja.SESSION:return[Hi];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(lo)||n.push(lo),"undefined"!=typeof window)for(const e of[qi,Hi])n.includes(e)||n.push(e);return n.includes(pr)||n.push(pr),n}Qa.Persistence=ja;class es{constructor(){this.providerId="phone",this._delegate=new xo(Za(En.auth()))}static credential(e,t){return xo.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}es.PHONE_SIGN_IN_METHOD=xo.PHONE_SIGN_IN_METHOD,es.PROVIDER_ID=xo.PROVIDER_ID;const ts=jn;var ns;(ns=En).INTERNAL.registerComponent(new we("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Qa(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ni,FacebookAuthProvider:ai,GithubAuthProvider:li,GoogleAuthProvider:si,OAuthProvider:oi,SAMLAuthProvider:ui,PhoneAuthProvider:es,PhoneMultiFactorGenerator:pa,RecaptchaVerifier:class{constructor(e,t,n=En.app()){var r;ts(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new _o(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:di,Auth:Qa,AuthCredential:Gr,Error:Q}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ns.registerVersion("@firebase/auth-compat","0.4.2");var rs,is="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},os={},as=as||{},ss=is||self;function ls(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function cs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var us="closure_uid_"+(1e9*Math.random()>>>0),ds=0;function hs(e,t,n){return e.call.apply(e.bind,arguments)}function fs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ps(e,t,n){return(ps=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hs:fs).apply(null,arguments)}function gs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ms(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function vs(){this.s=this.s,this.o=this.o}vs.prototype.s=!1,vs.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,us)&&e[us]||(e[us]=++ds))},vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ys=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _s(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function bs(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(ls(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function ws(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ws.prototype.h=function(){this.defaultPrevented=!0};var xs=function(){if(!ss.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ss.addEventListener("test",(()=>{}),t),ss.removeEventListener("test",(()=>{}),t)}catch(e){}return e}();function Cs(e){return/^[\s\xa0]*$/.test(e)}function Es(){var e=ss.navigator;return e&&(e=e.userAgent)?e:""}function Is(e){return-1!=Es().indexOf(e)}function Ts(e){return Ts[" "](e),e}Ts[" "]=function(){};var ks,Ss,As,Ps=Is("Opera"),Ns=Is("Trident")||Is("MSIE"),Os=Is("Edge"),Rs=Os||Ns,Ls=Is("Gecko")&&!(-1!=Es().toLowerCase().indexOf("webkit")&&!Is("Edge"))&&!(Is("Trident")||Is("MSIE"))&&!Is("Edge"),Ms=-1!=Es().toLowerCase().indexOf("webkit")&&!Is("Edge");function Ds(){var e=ss.document;return e?e.documentMode:void 0}e:{var js="",Fs=(Ss=Es(),Ls?/rv:([^\);]+)(\)|;)/.exec(Ss):Os?/Edge\/([\d\.]+)/.exec(Ss):Ns?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ss):Ms?/WebKit\/(\S+)/.exec(Ss):Ps?/(?:Version)[ \/]?(\S+)/.exec(Ss):void 0);if(Fs&&(js=Fs?Fs[1]:""),Ns){var zs=Ds();if(null!=zs&&zs>parseFloat(js)){ks=String(zs);break e}}ks=js}ss.document&&Ns?As=Ds()||parseInt(ks,10)||void 0:As=void 0;var Us=As;function Vs(e,t){if(ws.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ls){e:{try{Ts(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Bs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vs.$.h.call(this)}}ms(Vs,ws);var Bs={2:"touch",3:"pen",4:"mouse"};Vs.prototype.h=function(){Vs.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Gs="closure_listenable_"+(1e6*Math.random()|0),Zs=0;function qs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Zs,this.fa=this.ia=!1}function Ws(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Hs(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ks(e){const t={};for(const n in e)t[n]=e[n];return t}const $s="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ys(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<$s.length;t++)n=$s[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Qs(e){this.src=e,this.g={},this.h=0}function Js(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ys(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ws(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Xs(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Qs.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Xs(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new qs(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var el="closure_lm_"+(1e6*Math.random()|0),tl={};function nl(e,t,n,r,i){if(r&&r.once)return il(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)nl(e,t[o],n,r,i);return null}return n=dl(n),e&&e[Gs]?e.O(t,n,cs(r)?!!r.capture:!!r,i):rl(e,t,n,!1,r,i)}function rl(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=cs(i)?!!i.capture:!!i,s=cl(e);if(s||(e[el]=s=new Qs(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){const e=ll;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xs||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function il(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)il(e,t[o],n,r,i);return null}return n=dl(n),e&&e[Gs]?e.P(t,n,cs(r)?!!r.capture:!!r,i):rl(e,t,n,!0,r,i)}function ol(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ol(e,t[o],n,r,i);else r=cs(r)?!!r.capture:!!r,n=dl(n),e&&e[Gs]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Xs(o=e.g[t],n,r,i))&&(Ws(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=cl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Xs(t,n,r,i)),(n=-1<e?t[e]:null)&&al(n))}function al(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Gs])Js(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=cl(t))?(Js(n,e),0==n.h&&(n.src=null,t[el]=null)):Ws(e)}}}function sl(e){return e in tl?tl[e]:tl[e]="on"+e}function ll(e,t){if(e.fa)e=!0;else{t=new Vs(t,this);var n=e.listener,r=e.la||e.src;e.ia&&al(e),e=n.call(r,t)}return e}function cl(e){return(e=e[el])instanceof Qs?e:null}var ul="__closure_events_fn_"+(1e9*Math.random()>>>0);function dl(e){return"function"==typeof e?e:(e[ul]||(e[ul]=function(t){return e.handleEvent(t)}),e[ul])}function hl(){vs.call(this),this.i=new Qs(this),this.S=this,this.J=null}function fl(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new ws(t,e);else if(t instanceof ws)t.target=t.target||e;else{var i=t;Ys(t=new ws(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=pl(a,r,!0,t)&&i}if(i=pl(a=t.g=e,r,!0,t)&&i,i=pl(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=pl(a=t.g=n[o],r,!1,t)&&i}function pl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&Js(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}ms(hl,vs),hl.prototype[Gs]=!0,hl.prototype.removeEventListener=function(e,t,n,r){ol(this,e,t,n,r)},hl.prototype.N=function(){if(hl.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ws(n[r]);delete t.g[e],t.h--}}this.J=null},hl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},hl.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gl=ss.JSON.stringify;function ml(){var e=Cl;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vl=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new yl),(e=>e.reset()));class yl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function _l(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function bl(e){ss.setTimeout((()=>{throw e}),0)}let wl,xl=!1,Cl=new class{constructor(){this.h=this.g=null}add(e,t){const n=vl.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},El=()=>{const e=ss.Promise.resolve(void 0);wl=()=>{e.then(Il)}};var Il=()=>{for(var e;e=ml();){try{e.h.call(e.g)}catch(e){bl(e)}var t=vl;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xl=!1};function Tl(e,t){hl.call(this),this.h=e||1,this.g=t||ss,this.j=ps(this.qb,this),this.l=Date.now()}function kl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Sl(e,t,n){if("function"==typeof e)n&&(e=ps(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ps(e.handleEvent,e)}return 2147483647<Number(t)?-1:ss.setTimeout(e,t||0)}function Al(e){e.g=Sl((()=>{e.g=null,e.i&&(e.i=!1,Al(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ms(Tl,hl),(rs=Tl.prototype).ga=!1,rs.T=null,rs.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fl(this,"tick"),this.ga&&(kl(this),this.start()))}},rs.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rs.N=function(){Tl.$.N.call(this),kl(this),delete this.g};class Pl extends vs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(ss.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nl(e){vs.call(this),this.h=e,this.g={}}ms(Nl,vs);var Ol=[];function Rl(e,t,n,r){Array.isArray(n)||(n&&(Ol[0]=n.toString()),n=Ol);for(var i=0;i<n.length;i++){var o=nl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ll(e){Hs(e.g,(function(e,t){this.g.hasOwnProperty(t)&&al(e)}),e),e.g={}}function Ml(){this.g=!0}function Dl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return gl(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Nl.prototype.N=function(){Nl.$.N.call(this),Ll(this)},Nl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ml.prototype.Ea=function(){this.g=!1},Ml.prototype.info=function(){};var jl={},Fl=null;function zl(){return Fl=Fl||new hl}function Ul(e){ws.call(this,jl.Ta,e)}function Vl(e){const t=zl();fl(t,new Ul(t))}function Bl(e,t){ws.call(this,jl.STAT_EVENT,e),this.stat=t}function Gl(e){const t=zl();fl(t,new Bl(t,e))}function Zl(e,t){ws.call(this,jl.Ua,e),this.size=t}function ql(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ss.setTimeout((function(){e()}),t)}jl.Ta="serverreachability",ms(Ul,ws),jl.STAT_EVENT="statevent",ms(Bl,ws),jl.Ua="timingevent",ms(Zl,ws);var Wl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Hl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kl(){}function $l(e){return e.h||(e.h=e.i())}function Yl(){}Kl.prototype.h=null;var Ql,Jl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xl(){ws.call(this,"d")}function ec(){ws.call(this,"c")}function tc(){}function nc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Nl(this),this.P=ic,e=Rs?125:void 0,this.V=new Tl(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rc}function rc(){this.i=null,this.g="",this.h=!1}ms(Xl,ws),ms(ec,ws),ms(tc,Kl),tc.prototype.g=function(){return new XMLHttpRequest},tc.prototype.i=function(){return{}},Ql=new tc;var ic=45e3,oc={},ac={};function sc(e,t,n){e.L=1,e.v=Tc(wc(t)),e.s=n,e.S=!0,lc(e,null)}function lc(e,t){e.G=Date.now(),hc(e),e.A=wc(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),zc(n.i,"t",r),e.C=0,n=e.l.J,e.h=new rc,e.g=zu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Pl(ps(e.Pa,e,e.g),e.O)),Rl(e.U,e.g,"readystatechange",e.nb),t=e.I?Ks(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Vl(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function cc(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function uc(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=dc(e,n),r==ac){4==t&&(e.o=4,Gl(14),i=!1),Dl(e.j,e.m,null,"[Incomplete Response]");break}if(r==oc){e.o=4,Gl(15),Dl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Dl(e.j,e.m,r,null),vc(e,r)}cc(e)&&r!=ac&&r!=oc&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Gl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nu(t),t.M=!0,Gl(11))):(Dl(e.j,e.m,n,"[Invalid Chunked Response]"),mc(e),gc(e))}function dc(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ac:(n=Number(t.substring(n,r)),isNaN(n)?oc:(r+=1)+n>t.length?ac:(t=t.slice(r,r+n),e.C=r+n,t))}function hc(e){e.Y=Date.now()+e.P,fc(e,e.P)}function fc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ql(ps(e.lb,e),t)}function pc(e){e.B&&(ss.clearTimeout(e.B),e.B=null)}function gc(e){0==e.l.H||e.J||Lu(e.l,e)}function mc(e){pc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,kl(e.V),Ll(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function vc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Wc(n.i,e)))if(!e.K&&Wc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ru(n),Cu(n)}Pu(n),Gl(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ql(ps(n.ib,n),6e3));if(1>=qc(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else Du(n,11)}else if((e.K||n.g==e)&&Ru(n),!Cs(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Hc(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Ic(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=Fu(r,r.J?r.pa:null,r.Y),a.K){Kc(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.B&&(pc(s),hc(s)),r.g=a}else Au(r);0<n.j.length&&Iu(n)}else"stop"!=c[0]&&"close"!=c[0]||Du(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Du(n,7):xu(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Vl()}catch(e){}}function yc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ls(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(ls(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(ls(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(rs=nc.prototype).setTimeout=function(e){this.P=e},rs.nb=function(e){e=e.target;const t=this.M;t&&3==mu(e)?t.l():this.Pa(e)},rs.Pa=function(e){try{if(e==this.g)e:{const u=mu(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Rs||this.g&&(this.h.h||this.g.ja()||vu(this.g)))){this.J||4!=u||7==t||Vl(),pc(this);var n=this.g.da();this.ca=n;t:if(cc(this)){var r=vu(this.g);e="";var i=r.length,o=4==mu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){mc(this),gc(this);var a="";break t}this.h.i=new ss.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cs(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Gl(12),mc(this),gc(this);break e}Dl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vc(this,n)}this.S?(uc(this,u,a),Rs&&this.i&&3==u&&(Rl(this.U,this.V,"tick",this.mb),this.V.start())):(Dl(this.j,this.m,a,null),vc(this,a)),4==u&&mc(this),this.i&&!this.J&&(4==u?Lu(this.l,this):(this.i=!1,hc(this)))}else(function(e){const t={};e=(e.g&&2<=mu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Cs(e[r]))continue;var n=_l(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Gl(12)):(this.o=0,Gl(13)),mc(this),gc(this)}}}catch(e){}},rs.mb=function(){if(this.g){var e=mu(this.g),t=this.g.ja();this.C<t.length&&(pc(this),uc(this,e,t),this.i&&4!=e&&hc(this))}},rs.cancel=function(){this.J=!0,mc(this)},rs.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Vl(),Gl(17)),mc(this),this.o=2,gc(this)):fc(this,this.Y-e)};var _c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof bc){this.h=e.h,xc(this,e.j),this.s=e.s,this.g=e.g,Cc(this,e.m),this.l=e.l;var t=e.i,n=new Mc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ec(this,n),this.o=e.o}else e&&(t=String(e).match(_c))?(this.h=!1,xc(this,t[1]||"",!0),this.s=kc(t[2]||""),this.g=kc(t[3]||"",!0),Cc(this,t[4]),this.l=kc(t[5]||"",!0),Ec(this,t[6]||"",!0),this.o=kc(t[7]||"")):(this.h=!1,this.i=new Mc(null,this.h))}function wc(e){return new bc(e)}function xc(e,t,n){e.j=n?kc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Cc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ec(e,t,n){t instanceof Mc?(e.i=t,function(e,t){t&&!e.j&&(Dc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jc(this,t),zc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Sc(t,Rc)),e.i=new Mc(t,e.h))}function Ic(e,t,n){e.i.set(t,n)}function Tc(e){return Ic(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sc(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ac),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ac(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}bc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Sc(t,Pc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Sc(t,Pc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Sc(n,"/"==n.charAt(0)?Oc:Nc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Sc(n,Lc)),e.join("")};var Pc=/[#\/\?@]/g,Nc=/[#\?:]/g,Oc=/[#\?]/g,Rc=/[#\?@]/g,Lc=/#/g;function Mc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jc(e,t){Dc(e),t=Uc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Fc(e,t){return Dc(e),t=Uc(e,t),e.g.has(t)}function zc(e,t,n){jc(e,t),0<n.length&&(e.i=null,e.g.set(Uc(e,t),_s(n)),e.h+=n.length)}function Uc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rs=Mc.prototype).add=function(e,t){Dc(this),this.i=null,e=Uc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rs.forEach=function(e,t){Dc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},rs.ta=function(){Dc(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},rs.Z=function(e){Dc(this);let t=[];if("string"==typeof e)Fc(this,e)&&(t=t.concat(this.g.get(Uc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},rs.set=function(e,t){return Dc(this),this.i=null,Fc(this,e=Uc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rs.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},rs.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Vc=class{constructor(e,t){this.g=e,this.map=t}};function Bc(e){this.l=e||Gc,e=ss.PerformanceNavigationTiming?0<(e=ss.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ss.g&&ss.g.Ka&&ss.g.Ka()&&ss.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Gc=10;function Zc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qc(e){return e.h?1:e.g?e.g.size:0}function Wc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Hc(e,t){e.g?e.g.add(t):e.h=t}function Kc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $c(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return _s(e.i)}Bc.prototype.cancel=function(){if(this.i=$c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Yc=class{stringify(e){return ss.JSON.stringify(e,void 0)}parse(e){return ss.JSON.parse(e,void 0)}};function Qc(){this.g=new Yc}function Jc(e,t,n){const r=n||"";try{yc(e,(function(e,n){let i=e;cs(e)&&(i=gl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Xc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function eu(e){this.l=e.fc||null,this.j=e.ob||!1}function tu(e,t){hl.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=nu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ms(eu,Kl),eu.prototype.g=function(){return new tu(this.l,this.j)},eu.prototype.i=function(e){return function(){return e}}({}),ms(tu,hl);var nu=0;function ru(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function iu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ou(e)}function ou(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rs=tu.prototype).open=function(e,t){if(this.readyState!=nu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ou(this)},rs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ss).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},rs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,iu(this)),this.readyState=nu},rs.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ou(this)),this.g&&(this.readyState=3,ou(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==ss.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ru(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},rs.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?iu(this):ou(this),3==this.readyState&&ru(this)}},rs.Za=function(e){this.g&&(this.response=this.responseText=e,iu(this))},rs.Ya=function(e){this.g&&(this.response=e,iu(this))},rs.ka=function(){this.g&&iu(this)},rs.setRequestHeader=function(e,t){this.v.append(e,t)},rs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rs.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var au=ss.JSON.parse;function su(e){hl.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lu,this.L=this.M=!1}ms(su,hl);var lu="",cu=/^https?$/i,uu=["POST","PUT"];function du(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hu(e),pu(e)}function hu(e){e.F||(e.F=!0,fl(e,"complete"),fl(e,"error"))}function fu(e){if(e.h&&void 0!==as&&(!e.C[1]||4!=mu(e)||2!=e.da()))if(e.v&&4==mu(e))Sl(e.La,0,e);else if(fl(e,"readystatechange"),4==mu(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(_c)[1]||null;!i&&ss.self&&ss.self.location&&(i=ss.self.location.protocol.slice(0,-1)),r=!cu.test(i?i.toLowerCase():"")}n=r}if(n)fl(e,"complete"),fl(e,"success");else{e.m=6;try{var o=2<mu(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.da()+"]",hu(e)}}finally{pu(e)}}}function pu(e,t){if(e.g){gu(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||fl(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function gu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ss.clearTimeout(e.A),e.A=null)}function mu(e){return e.g?e.g.readyState:0}function vu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case lu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function yu(e){let t="";return Hs(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function _u(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yu(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ic(e,t,n))}function bu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wu(e){this.Ga=0,this.j=[],this.l=new Ml,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bu("baseRetryDelayMs",5e3,e),this.hb=bu("retryDelaySeedMs",1e4,e),this.eb=bu("forwardChannelMaxRetries",2,e),this.xa=bu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Bc(e&&e.concurrentRequestLimit),this.Ja=new Qc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xu(e){if(Eu(e),3==e.H){var t=e.W++,n=wc(e.I);if(Ic(n,"SID",e.K),Ic(n,"RID",t),Ic(n,"TYPE","terminate"),ku(e,n),(t=new nc(e,e.l,t)).L=2,t.v=Tc(wc(n)),n=!1,ss.navigator&&ss.navigator.sendBeacon)try{n=ss.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&ss.Image&&((new Image).src=t.v,n=!0),n||(t.g=zu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),hc(t)}ju(e)}function Cu(e){e.g&&(Nu(e),e.g.cancel(),e.g=null)}function Eu(e){Cu(e),e.u&&(ss.clearTimeout(e.u),e.u=null),Ru(e),e.i.cancel(),e.m&&("number"==typeof e.m&&ss.clearTimeout(e.m),e.m=null)}function Iu(e){if(!Zc(e.i)&&!e.m){e.m=!0;var t=e.Na;wl||El(),xl||(wl(),xl=!0),Cl.add(t,e),e.C=0}}function Tu(e,t){var n;n=t?t.m:e.W++;const r=wc(e.I);Ic(r,"SID",e.K),Ic(r,"RID",n),Ic(r,"AID",e.V),ku(e,r),e.o&&e.s&&_u(r,e.o,e.s),n=new nc(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Su(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Hc(e.i,n),sc(n,r,t)}function ku(e,t){e.na&&Hs(e.na,(function(e,n){Ic(t,n,e)})),e.h&&yc({},(function(e,n){Ic(t,n,e)}))}function Su(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ps(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Jc(s,e,"req"+n+"_")}catch(e){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Au(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;wl||El(),xl||(wl(),xl=!0),Cl.add(t,e),e.A=0}}function Pu(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=ql(ps(e.Ma,e),Mu(e,e.A)),e.A++,0))}function Nu(e){null!=e.B&&(ss.clearTimeout(e.B),e.B=null)}function Ou(e){e.g=new nc(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=wc(e.wa);Ic(t,"RID","rpc"),Ic(t,"SID",e.K),Ic(t,"AID",e.V),Ic(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ic(t,"TO",e.qa),Ic(t,"TYPE","xmlhttp"),ku(e,t),e.o&&e.s&&_u(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Tc(wc(t)),n.s=null,n.S=!0,lc(n,e)}function Ru(e){null!=e.v&&(ss.clearTimeout(e.v),e.v=null)}function Lu(e,t){var n=null;if(e.g==t){Ru(e),Nu(e),e.g=null;var r=2}else{if(!Wc(e.i,t))return;n=t.F,Kc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;fl(r=zl(),new Zl(r,n)),Iu(e)}else Au(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(qc(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=ql(ps(e.Na,e,t),Mu(e,e.C)),e.C++,0)))}(e,t)||2==r&&Pu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Du(e,5);break;case 4:Du(e,10);break;case 3:Du(e,6);break;default:Du(e,2)}}function Mu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Du(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ps(e.pb,e);n||(n=new bc("//www.google.com/images/cleardot.gif"),ss.location&&"http"==ss.location.protocol||xc(n,"https"),Tc(n)),function(e,t){const n=new Ml;if(ss.Image){const r=new Image;r.onload=gs(Xc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gs(Xc,n,r,"TestLoadImage: error",!1,t),r.onabort=gs(Xc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gs(Xc,n,r,"TestLoadImage: timeout",!1,t),ss.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Gl(2);e.H=0,e.h&&e.h.za(t),ju(e),Eu(e)}function ju(e){if(e.H=0,e.ma=[],e.h){const t=$c(e.i);0==t.length&&0==e.j.length||(bs(e.ma,t),bs(e.ma,e.j),e.i.i.length=0,_s(e.j),e.j.length=0),e.h.ya()}}function Fu(e,t,n){var r=n instanceof bc?wc(n):new bc(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Cc(r,r.m);else{var i=ss.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new bc(null);r&&xc(o,r),t&&(o.g=t),i&&Cc(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Ic(r,n,t),Ic(r,"VER",e.ra),ku(e,r),r}function zu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new su(new eu({ob:!0})):new su(e.va)).Oa(e.J),t}function Uu(){}function Vu(){if(Ns&&!(10<=Number(Us)))throw Error("Environmental error: no available transport.")}function Bu(e,t){hl.call(this),this.g=new wu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Cs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Cs(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new qu(this)}function Gu(e){Xl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zu(){ec.call(this),this.status=1}function qu(e){this.g=e}function Wu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hu(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Ku(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(rs=su.prototype).Oa=function(e){this.M=e},rs.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ql.g(),this.C=this.u?$l(this.u):$l(Ql),this.g.onreadystatechange=ps(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void du(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ss.FormData&&e instanceof ss.FormData,!(0<=ys(uu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gu(this),0<this.B&&((this.L=function(e){return Ns&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ps(this.ua,this)):this.A=Sl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){du(this,e)}},rs.ua=function(){void 0!==as&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fl(this,"timeout"),this.abort(8))},rs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fl(this,"complete"),fl(this,"abort"),pu(this))},rs.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pu(this,!0)),su.$.N.call(this)},rs.La=function(){this.s||(this.G||this.v||this.l?fu(this):this.kb())},rs.kb=function(){fu(this)},rs.isActive=function(){return!!this.g},rs.da=function(){try{return 2<mu(this)?this.g.status:-1}catch(e){return-1}},rs.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},rs.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),au(t)}},rs.Ia=function(){return this.m},rs.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rs=wu.prototype).ra=8,rs.H=1,rs.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new nc(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Ks(o),Ys(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Su(this,i,t),Ic(n=wc(this.I),"RID",e),Ic(n,"CVER",22),this.F&&Ic(n,"X-HTTP-Session-Id",this.F),ku(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(yu(o)))+"&"+t:this.o&&_u(n,this.o,o)),Hc(this.i,i),this.bb&&Ic(n,"TYPE","init"),this.P?(Ic(n,"$req",t),Ic(n,"SID","null"),i.aa=!0,sc(i,n,null)):sc(i,n,t),this.H=2}}else 3==this.H&&(e?Tu(this,e):0==this.j.length||Zc(this.i)||Tu(this))},rs.Ma=function(){if(this.u=null,Ou(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ql(ps(this.jb,this),e)}},rs.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gl(10),Cu(this),Ou(this))},rs.ib=function(){null!=this.v&&(this.v=null,Cu(this),Pu(this),Gl(19))},rs.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Gl(2)):(this.l.info("Failed to ping google.com"),Gl(1))},rs.isActive=function(){return!!this.h&&this.h.isActive(this)},(rs=Uu.prototype).Ba=function(){},rs.Aa=function(){},rs.za=function(){},rs.ya=function(){},rs.isActive=function(){return!0},rs.Va=function(){},Vu.prototype.g=function(e,t){return new Bu(e,t)},ms(Bu,hl),Bu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Gl(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Fu(e,null,e.Y),Iu(e)},Bu.prototype.close=function(){xu(this.g)},Bu.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=gl(e),e=n);t.j.push(new Vc(t.fb++,e)),3==t.H&&Iu(t)},Bu.prototype.N=function(){this.g.h=null,delete this.j,xu(this.g),delete this.g,Bu.$.N.call(this)},ms(Gu,Xl),ms(Zu,ec),ms(qu,Uu),qu.prototype.Ba=function(){fl(this.g,"a")},qu.prototype.Aa=function(e){fl(this.g,new Gu(e))},qu.prototype.za=function(e){fl(this.g,new Zu)},qu.prototype.ya=function(){fl(this.g,"b")},ms(Wu,(function(){this.blockSize=-1})),Wu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Hu(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Hu(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Hu(this,r),i=0;break}}this.h=i,this.i+=t},Wu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var $u={};function Yu(e){return-128<=e&&128>e?function(e,t){var n=$u;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new Ku([0|e],0>e?-1:0)}(e)}(e):new Ku([0|e],0>e?-1:0)}function Qu(e){if(isNaN(e)||!isFinite(e))return Xu;if(0>e)return id(Qu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ju;return new Ku(t,0)}var Ju=4294967296,Xu=Yu(0),ed=Yu(1),td=Yu(16777216);function nd(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function rd(e){return-1==e.h}function id(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ku(n,~e.h).add(ed)}function od(e,t){return e.add(id(t))}function ad(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function sd(e,t){this.g=e,this.h=t}function ld(e,t){if(nd(t))throw Error("division by zero");if(nd(e))return new sd(Xu,Xu);if(rd(e))return t=ld(id(e),t),new sd(id(t.g),id(t.h));if(rd(t))return t=ld(e,id(t)),new sd(id(t.g),t.h);if(30<e.g.length){if(rd(e)||rd(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ed,r=t;0>=r.X(e);)n=cd(n),r=cd(r);var i=ud(n,1),o=ud(r,1);for(r=ud(r,2),n=ud(n,2);!nd(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=ud(r,1),n=ud(n,1)}return t=od(e,i.R(t)),new sd(i,t)}for(i=Xu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=Qu(n)).R(t);rd(a)||0<a.X(e);)a=(o=Qu(n-=r)).R(t);nd(o)&&(o=ed),i=i.add(o),e=od(e,a)}return new sd(i,e)}function cd(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ku(n,e.h)}function ud(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Ku(i,e.h)}(rs=Ku.prototype).ea=function(){if(rd(this))return-id(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ju+r)*t,t*=Ju}return e},rs.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(nd(this))return"0";if(rd(this))return"-"+id(this).toString(e);for(var t=Qu(Math.pow(e,6)),n=this,r="";;){var i=ld(n,t).g,o=((0<(n=od(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(nd(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},rs.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},rs.X=function(e){return rd(e=od(this,e))?-1:nd(e)?0:1},rs.abs=function(){return rd(this)?id(this):this},rs.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new Ku(n,-2147483648&n[n.length-1]?-1:0)},rs.R=function(e){if(nd(this)||nd(e))return Xu;if(rd(this))return rd(e)?id(this).R(id(e)):id(id(this).R(e));if(rd(e))return id(this.R(id(e)));if(0>this.X(td)&&0>e.X(td))return Qu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,ad(n,2*r+2*i),n[2*r+2*i+1]+=o*l,ad(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,ad(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,ad(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ku(n,0)},rs.gb=function(e){return ld(this,e).h},rs.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ku(n,this.h&e.h)},rs.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ku(n,this.h|e.h)},rs.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ku(n,this.h^e.h)},Vu.prototype.createWebChannel=Vu.prototype.g,Bu.prototype.send=Bu.prototype.u,Bu.prototype.open=Bu.prototype.m,Bu.prototype.close=Bu.prototype.close,Wl.NO_ERROR=0,Wl.TIMEOUT=8,Wl.HTTP_ERROR=6,Hl.COMPLETE="complete",Yl.EventType=Jl,Jl.OPEN="a",Jl.CLOSE="b",Jl.ERROR="c",Jl.MESSAGE="d",hl.prototype.listen=hl.prototype.O,su.prototype.listenOnce=su.prototype.P,su.prototype.getLastError=su.prototype.Sa,su.prototype.getLastErrorCode=su.prototype.Ia,su.prototype.getStatus=su.prototype.da,su.prototype.getResponseJson=su.prototype.Wa,su.prototype.getResponseText=su.prototype.ja,su.prototype.send=su.prototype.ha,su.prototype.setWithCredentials=su.prototype.Oa,Wu.prototype.digest=Wu.prototype.l,Wu.prototype.reset=Wu.prototype.reset,Wu.prototype.update=Wu.prototype.j,Ku.prototype.add=Ku.prototype.add,Ku.prototype.multiply=Ku.prototype.R,Ku.prototype.modulo=Ku.prototype.gb,Ku.prototype.compare=Ku.prototype.X,Ku.prototype.toNumber=Ku.prototype.ea,Ku.prototype.toString=Ku.prototype.toString,Ku.prototype.getBits=Ku.prototype.D,Ku.fromNumber=Qu,Ku.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return id(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Qu(Math.pow(n,8)),i=Xu,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=Qu(Math.pow(n,a)),i=i.R(a).add(Qu(s))):i=(i=i.R(r)).add(Qu(s))}return i};var dd=os.createWebChannelTransport=function(){return new Vu},hd=os.getStatEventTarget=function(){return zl()},fd=os.ErrorCode=Wl,pd=os.EventType=Hl,gd=os.Event=jl,md=os.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vd=os.FetchXmlHttpFactory=eu,yd=os.WebChannel=Yl,_d=os.XhrIo=su,bd=os.Md5=Wu,wd=os.Integer=Ku;const xd="@firebase/firestore";class Cd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cd.UNAUTHENTICATED=new Cd(null),Cd.GOOGLE_CREDENTIALS=new Cd("google-credentials-uid"),Cd.FIRST_PARTY=new Cd("first-party-uid"),Cd.MOCK_USER=new Cd("mock-user");let Ed="9.23.0";const Id=new Ne("@firebase/firestore");function Td(){return Id.logLevel}function kd(e,...t){if(Id.logLevel<=Te.DEBUG){const n=t.map(Pd);Id.debug(`Firestore (${Ed}): ${e}`,...n)}}function Sd(e,...t){if(Id.logLevel<=Te.ERROR){const n=t.map(Pd);Id.error(`Firestore (${Ed}): ${e}`,...n)}}function Ad(e,...t){if(Id.logLevel<=Te.WARN){const n=t.map(Pd);Id.warn(`Firestore (${Ed}): ${e}`,...n)}}function Pd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Nd(e="Unexpected state"){const t=`FIRESTORE (${Ed}) INTERNAL ASSERTION FAILED: `+e;throw Sd(t),new Error(t)}function Od(e,t){e||Nd()}function Rd(e,t){return e}const Ld={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Md extends Q{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dd{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class jd{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Cd.UNAUTHENTICATED)))}shutdown(){}}class zd{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ud{constructor(e){this.t=e,this.currentUser=Cd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Dd;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Dd,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{kd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(kd("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Dd)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(kd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Od("string"==typeof t.accessToken),new jd(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Od(null===e||"string"==typeof e),new Cd(e)}}class Vd{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Cd.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Bd{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Vd(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Cd.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zd{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&kd("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,kd("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{kd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):kd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Od("string"==typeof e.token),this.T=e.token,new Gd(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class Wd{static A(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=qd(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Hd(e,t){return e<t?-1:e>t?1:0}function Kd(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function $d(e){return e+"\0"}class Yd{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Md(Ld.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Md(Ld.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Md(Ld.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Md(Ld.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yd.fromMillis(Date.now())}static fromDate(e){return Yd.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Yd(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Hd(this.nanoseconds,e.nanoseconds):Hd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qd(e)}static min(){return new Qd(new Yd(0,0))}static max(){return new Qd(new Yd(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Jd{constructor(e,t,n){void 0===t?t=0:t>e.length&&Nd(),void 0===n?n=e.length-t:n>e.length-t&&Nd(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Jd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jd?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xd extends Jd{construct(e,t,n){return new Xd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Md(Ld.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Xd(t)}static emptyPath(){return new Xd([])}}const eh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class th extends Jd{construct(e,t,n){return new th(e,t,n)}static isValidIdentifier(e){return eh.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),th.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new th(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Md(Ld.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Md(Ld.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Md(Ld.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Md(Ld.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new th(t)}static emptyPath(){return new th([])}}class nh{constructor(e){this.path=e}static fromPath(e){return new nh(Xd.fromString(e))}static fromName(e){return new nh(Xd.fromString(e).popFirst(5))}static empty(){return new nh(Xd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nh(new Xd(e.slice()))}}class rh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ih(e){return e.fields.find((e=>2===e.kind))}function oh(e){return e.fields.filter((e=>2!==e.kind))}rh.UNKNOWN_ID=-1;class ah{constructor(e,t){this.fieldPath=e,this.kind=t}}class sh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sh(0,uh.min())}}function lh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qd.fromTimestamp(1e9===r?new Yd(n+1,0):new Yd(n,r));return new uh(i,nh.empty(),t)}function ch(e){return new uh(e.readTime,e.key,-1)}class uh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new uh(Qd.min(),nh.empty(),-1)}static max(){return new uh(Qd.max(),nh.empty(),-1)}}function dh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=nh.comparator(e.documentKey,t.documentKey),0!==n?n:Hd(e.largestBatchId,t.largestBatchId))}const hh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ph(e){if(e.code!==Ld.FAILED_PRECONDITION||e.message!==hh)throw e;kd("LocalStore","Unexpectedly lost primary lease")}class gh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Nd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof gh?t:gh.resolve(t)}catch(e){return gh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):gh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):gh.reject(t)}static resolve(e){return new gh(((t,n)=>{t(e)}))}static reject(e){return new gh(((t,n)=>{n(e)}))}static waitFor(e){return new gh(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=gh.resolve(!1);for(const n of e)t=t.next((e=>e?gh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new gh(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new gh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class mh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Dd,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new _h(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=Eh(t.target.error);this.v.reject(new _h(e,n))}}static open(e,t,n,r){try{return new mh(t,e.transaction(r,n))}catch(e){throw new _h(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(kd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wh(t)}}class vh{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===vh.S(Z())&&Sd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return kd("SimpleDb","Removing database:",e),xh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Y())return!1;if(vh.C())return!0;const e=Z(),t=vh.S(e),n=0<t&&t<10,r=vh.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(kd("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new _h(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Md(Ld.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Md(Ld.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new _h(e,r))},r.onupgradeneeded=e=>{kd("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{kd("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.$(e);const t=mh.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),gh.reject(e)))).toPromise();return o.catch((()=>{})),await t.R,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(kd("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class yh{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return xh(this.L.delete())}}class _h extends Md{constructor(e,t){super(Ld.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bh(e){return"IndexedDbTransactionError"===e.name}class wh{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(kd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(kd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),xh(n)}add(e){return kd("SimpleDb","ADD",this.store.name,e,e),xh(this.store.add(e))}get(e){return xh(this.store.get(e)).next((t=>(void 0===t&&(t=null),kd("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return kd("SimpleDb","DELETE",this.store.name,e),xh(this.store.delete(e))}count(){return kd("SimpleDb","COUNT",this.store.name),xh(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new gh(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new gh(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){kd("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new gh(((n,r)=>{t.onerror=e=>{const t=Eh(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new gh(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new yh(i),a=t(i.primaryKey,i.value,o);if(a instanceof gh){const e=a.catch((e=>(o.done(),gh.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>gh.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xh(e){return new gh(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Eh(e.target.error);n(t)}}))}let Ch=!1;function Eh(e){const t=vh.S(Z());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Md("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ch||(Ch=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ih{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){kd("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{kd("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(e){bh(e)?kd("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ph(e)}await this.et(6e4)}))}}class Th{constructor(e,t){this.localStore=e,this.persistence=t}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return gh.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return kd("IndexBackiller",`Processing collection: ${t}`),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(kd("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=ch(t);dh(r,n)>0&&(n=r)})),new uh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class kh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Sh(e){return null==e}function Ah(e){return 0===e&&1/e==-1/0}function Ph(e){return"number"==typeof e&&Number.isInteger(e)&&!Ah(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Nh(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Rh(t)),t=Oh(e.get(n),t);return Rh(t)}function Oh(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Rh(e){return e+""}function Lh(e){const t=e.length;if(Od(t>=2),2===t)return Od(""===e.charAt(0)&&""===e.charAt(1)),Xd.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&Nd(),e.charAt(t+1)){case"":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:Nd()}o=t+2}return new Xd(r)}kh.ct=-1;const Mh=["userId","batchId"];function Dh(e,t){return[e,Nh(t)]}function jh(e,t,n){return[e,Nh(t),n]}const Fh={},zh=["prefixPath","collectionGroup","readTime","documentId"],Uh=["prefixPath","collectionGroup","documentId"],Vh=["collectionGroup","readTime","prefixPath","documentId"],Bh=["canonicalId","targetId"],Gh=["targetId","path"],Zh=["path","targetId"],qh=["collectionId","parent"],Wh=["indexId","uid"],Hh=["uid","sequenceNumber"],Kh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$h=["indexId","uid","orderedDocumentKey"],Yh=["userId","collectionPath","documentId"],Qh=["userId","collectionPath","largestBatchId"],Jh=["userId","collectionGroup","largestBatchId"],Xh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ef=[...Xh,"documentOverlays"],tf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nf=tf,rf=[...nf,"indexConfiguration","indexState","indexEntries"];class of extends fh{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function af(e,t){const n=Rd(e);return vh.M(n.ht,t)}function sf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function cf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class uf{constructor(e,t){this.comparator=e,this.root=t||hf.EMPTY}insert(e,t){return new uf(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hf.BLACK,null,null))}remove(e){return new uf(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hf.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new df(this.root,e,this.comparator,!1)}getReverseIterator(){return new df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new df(this.root,e,this.comparator,!0)}}class df{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hf{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:hf.RED,this.left=null!=r?r:hf.EMPTY,this.right=null!=i?i:hf.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new hf(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return hf.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return hf.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nd();if(this.right.isRed())throw Nd();const e=this.left.check();if(e!==this.right.check())throw Nd();return e+(this.isRed()?0:1)}}hf.EMPTY=null,hf.RED=!0,hf.BLACK=!1,hf.EMPTY=new class{constructor(){this.size=0}get key(){throw Nd()}get value(){throw Nd()}get color(){throw Nd()}get left(){throw Nd()}get right(){throw Nd()}copy(e,t,n,r,i){return this}insert(e,t,n){return new hf(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ff{constructor(e){this.comparator=e,this.data=new uf(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pf(this.data.getIterator())}getIteratorFrom(e){return new pf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ff))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ff(this.comparator);return t.data=e,t}}class pf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gf(e){return e.hasNext()?e.getNext():void 0}class mf{constructor(e){this.fields=e,e.sort(th.comparator)}static empty(){return new mf([])}unionWith(e){let t=new ff(th.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new mf(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kd(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class vf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yf{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new vf("Invalid base64 string: "+e):e}}(e);return new yf(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new yf(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yf.EMPTY_BYTE_STRING=new yf("");const _f=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bf(e){if(Od(!!e),"string"==typeof e){let t=0;const n=_f.exec(e);if(Od(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wf(e.seconds),nanos:wf(e.nanos)}}function wf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function xf(e){return"string"==typeof e?yf.fromBase64String(e):yf.fromUint8Array(e)}function Cf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ef(e){const t=e.mapValue.fields.__previous_value__;return Cf(t)?Ef(t):t}function If(e){const t=bf(e.mapValue.fields.__local_write_time__.timestampValue);return new Yd(t.seconds,t.nanos)}class Tf{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class kf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kf&&e.projectId===this.projectId&&e.database===this.database}}const Sf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Af={nullValue:"NULL_VALUE"};function Pf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cf(e)?4:Zf(e)?9007199254740991:10:Nd()}function Nf(e,t){if(e===t)return!0;const n=Pf(e);if(n!==Pf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return If(e).isEqual(If(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=bf(e.timestampValue),r=bf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return xf(e.bytesValue).isEqual(xf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wf(e.geoPointValue.latitude)===wf(t.geoPointValue.latitude)&&wf(e.geoPointValue.longitude)===wf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wf(e.integerValue)===wf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wf(e.doubleValue),r=wf(t.doubleValue);return n===r?Ah(n)===Ah(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Kd(e.arrayValue.values||[],t.arrayValue.values||[],Nf);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(sf(n)!==sf(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Nf(n[e],r[e])))return!1;return!0}(e,t);default:return Nd()}}function Of(e,t){return void 0!==(e.values||[]).find((e=>Nf(e,t)))}function Rf(e,t){if(e===t)return 0;const n=Pf(e),r=Pf(t);if(n!==r)return Hd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Hd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wf(e.integerValue||e.doubleValue),r=wf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Lf(e.timestampValue,t.timestampValue);case 4:return Lf(If(e),If(t));case 5:return Hd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=xf(e),r=xf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Hd(n[e],r[e]);if(0!==t)return t}return Hd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Hd(wf(e.latitude),wf(t.latitude));return 0!==n?n:Hd(wf(e.longitude),wf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Rf(n[e],r[e]);if(t)return t}return Hd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Sf.mapValue&&t===Sf.mapValue)return 0;if(e===Sf.mapValue)return 1;if(t===Sf.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=Hd(r[e],o[e]);if(0!==t)return t;const a=Rf(n[r[e]],i[o[e]]);if(0!==a)return a}return Hd(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Nd()}}function Lf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Hd(e,t);const n=bf(e),r=bf(t),i=Hd(n.seconds,r.seconds);return 0!==i?i:Hd(n.nanos,r.nanos)}function Mf(e){return Df(e)}function Df(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=bf(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?xf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,nh.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Df(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Df(e.fields[i])}`;return n+"}"}(e.mapValue):Nd();var t,n}function jf(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ff(e){return!!e&&"integerValue"in e}function zf(e){return!!e&&"arrayValue"in e}function Uf(e){return!!e&&"nullValue"in e}function Vf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bf(e){return!!e&&"mapValue"in e}function Gf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lf(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Gf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gf(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Zf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function qf(e){return"nullValue"in e?Af:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?jf(kf.empty(),nh.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Nd()}function Wf(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?jf(kf.empty(),nh.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Sf:Nd()}function Hf(e,t){const n=Rf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Kf(e,t){const n=Rf(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class $f{constructor(e){this.value=e}static empty(){return new $f({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gf(t)}setAll(e){let t=th.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Gf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Bf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Bf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){lf(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new $f(Gf(this.value))}}function Yf(e){const t=[];return lf(e.fields,((e,n)=>{const r=new th([e]);if(Bf(n)){const e=Yf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new mf(t)}class Qf{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qf(e,0,Qd.min(),Qd.min(),Qd.min(),$f.empty(),0)}static newFoundDocument(e,t,n,r){return new Qf(e,1,t,Qd.min(),n,r,0)}static newNoDocument(e,t){return new Qf(e,2,t,Qd.min(),Qd.min(),$f.empty(),0)}static newUnknownDocument(e,t){return new Qf(e,3,t,Qd.min(),Qd.min(),$f.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$f.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$f.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jf{constructor(e,t){this.position=e,this.inclusive=t}}function Xf(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?nh.comparator(nh.fromName(a.referenceValue),n.key):Rf(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function ep(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nf(e.position[n],t.position[n]))return!1;return!0}class tp{constructor(e,t="asc"){this.field=e,this.dir=t}}function np(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class rp{}class ip extends rp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new pp(e,t,n):"array-contains"===t?new yp(e,n):"in"===t?new _p(e,n):"not-in"===t?new bp(e,n):"array-contains-any"===t?new wp(e,n):new ip(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new gp(e,n):new mp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rf(t,this.value)):null!==t&&Pf(this.value)===Pf(t)&&this.matchesComparison(Rf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nd()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class op extends rp{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new op(e,t)}matches(e){return ap(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ap(e){return"and"===e.op}function sp(e){return"or"===e.op}function lp(e){return cp(e)&&ap(e)}function cp(e){for(const t of e.filters)if(t instanceof op)return!1;return!0}function up(e){if(e instanceof ip)return e.field.canonicalString()+e.op.toString()+Mf(e.value);if(lp(e))return e.filters.map((e=>up(e))).join(",");{const t=e.filters.map((e=>up(e))).join(",");return`${e.op}(${t})`}}function dp(e,t){return e instanceof ip?function(e,t){return t instanceof ip&&e.op===t.op&&e.field.isEqual(t.field)&&Nf(e.value,t.value)}(e,t):e instanceof op?function(e,t){return t instanceof op&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&dp(n,t.filters[r])),!0)}(e,t):void Nd()}function hp(e,t){const n=e.filters.concat(t);return op.create(n,e.op)}function fp(e){return e instanceof ip?function(e){return`${e.field.canonicalString()} ${e.op} ${Mf(e.value)}`}(e):e instanceof op?function(e){return e.op.toString()+" {"+e.getFilters().map(fp).join(" ,")+"}"}(e):"Filter"}class pp extends ip{constructor(e,t,n){super(e,t,n),this.key=nh.fromName(n.referenceValue)}matches(e){const t=nh.comparator(e.key,this.key);return this.matchesComparison(t)}}class gp extends ip{constructor(e,t){super(e,"in",t),this.keys=vp(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mp extends ip{constructor(e,t){super(e,"not-in",t),this.keys=vp(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function vp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>nh.fromName(e.referenceValue)))}class yp extends ip{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zf(t)&&Of(t.arrayValue,this.value)}}class _p extends ip{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Of(this.value.arrayValue,t)}}class bp extends ip{constructor(e,t){super(e,"not-in",t)}matches(e){if(Of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Of(this.value.arrayValue,t)}}class wp extends ip{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Of(this.value.arrayValue,e)))}}class xp{constructor(e,t=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Cp(e,t=null,n=[],r=[],i=null,o=null,a=null){return new xp(e,t,n,r,i,o,a)}function Ep(e){const t=Rd(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>up(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Sh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Mf(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Mf(e))).join(",")),t.dt=e}return t.dt}function Ip(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!np(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!dp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ep(e.startAt,t.startAt)&&ep(e.endAt,t.endAt)}function Tp(e){return nh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function kp(e,t){return e.filters.filter((e=>e instanceof ip&&e.field.isEqual(t)))}function Sp(e,t,n){let r=Af,i=!0;for(const n of kp(e,t)){let e=Af,t=!0;switch(n.op){case"<":case"<=":e=qf(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=Af}Hf({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Hf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ap(e,t,n){let r=Sf,i=!0;for(const n of kp(e,t)){let e=Sf,t=!0;switch(n.op){case">=":case">":e=Wf(n.value),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=Sf}Kf({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Kf({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Pp{constructor(e,t=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function Np(e,t,n,r,i,o,a,s){return new Pp(e,t,n,r,i,o,a,s)}function Op(e){return new Pp(e)}function Rp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Lp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Mp(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Dp(e){return null!==e.collectionGroup}function jp(e){const t=Rd(e);if(null===t.wt){t.wt=[];const e=Mp(t),n=Lp(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new tp(e)),t.wt.push(new tp(th.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new tp(th.keyField(),e))}}}return t.wt}function Fp(e){const t=Rd(e);if(!t._t)if("F"===t.limitType)t._t=Cp(t.path,t.collectionGroup,jp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of jp(t)){const t="desc"===n.dir?"asc":"desc";e.push(new tp(n.field,t))}const n=t.endAt?new Jf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jf(t.startAt.position,t.startAt.inclusive):null;t._t=Cp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function zp(e,t){t.getFirstInequalityField(),Mp(e);const n=e.filters.concat([t]);return new Pp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Up(e,t,n){return new Pp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vp(e,t){return Ip(Fp(e),Fp(t))&&e.limitType===t.limitType}function Bp(e){return`${Ep(Fp(e))}|lt:${e.limitType}`}function Gp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>fp(e))).join(", ")}]`),Sh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Mf(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Mf(e))).join(",")),`Target(${t})`}(Fp(e))}; limitType=${e.limitType})`}function Zp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):nh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of jp(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,jp(e),t)||e.endAt&&!function(e,t,n){const r=Xf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,jp(e),t))}(e,t)}function qp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wp(e){return(t,n)=>{let r=!1;for(const i of jp(e)){const e=Hp(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Hp(e,t,n){const r=e.field.isKeyField()?nh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Rf(r,i):Nd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nd()}}class Kp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){lf(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return cf(this.inner)}size(){return this.innerSize}}const $p=new uf(nh.comparator);function Yp(){return $p}const Qp=new uf(nh.comparator);function Jp(...e){let t=Qp;for(const n of e)t=t.insert(n.key,n);return t}function Xp(e){let t=Qp;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function eg(){return ng()}function tg(){return ng()}function ng(){return new Kp((e=>e.toString()),((e,t)=>e.isEqual(t)))}const rg=new uf(nh.comparator),ig=new ff(nh.comparator);function og(...e){let t=ig;for(const n of e)t=t.add(n);return t}const ag=new ff(Hd);function sg(){return ag}function lg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(t)?"-0":t}}function cg(e){return{integerValue:""+e}}function ug(e,t){return Ph(t)?cg(t):lg(e,t)}class dg{constructor(){this._=void 0}}function hg(e,t,n){return e instanceof gg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Cf(t)&&(t=Ef(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof mg?vg(e,t):e instanceof yg?_g(e,t):function(e,t){const n=pg(e,t),r=wg(n)+wg(e.gt);return Ff(n)&&Ff(e.gt)?cg(r):lg(e.serializer,r)}(e,t)}function fg(e,t,n){return e instanceof mg?vg(e,t):e instanceof yg?_g(e,t):n}function pg(e,t){return e instanceof bg?Ff(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class gg extends dg{}class mg extends dg{constructor(e){super(),this.elements=e}}function vg(e,t){const n=xg(t);for(const t of e.elements)n.some((e=>Nf(e,t)))||n.push(t);return{arrayValue:{values:n}}}class yg extends dg{constructor(e){super(),this.elements=e}}function _g(e,t){let n=xg(t);for(const t of e.elements)n=n.filter((e=>!Nf(e,t)));return{arrayValue:{values:n}}}class bg extends dg{constructor(e,t){super(),this.serializer=e,this.gt=t}}function wg(e){return wf(e.integerValue||e.doubleValue)}function xg(e){return zf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Cg{constructor(e,t){this.field=e,this.transform=t}}class Eg{constructor(e,t){this.version=e,this.transformResults=t}}class Ig{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ig}static exists(e){return new Ig(void 0,e)}static updateTime(e){return new Ig(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class kg{}function Sg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Fg(e.key,Ig.none()):new Rg(e.key,e.data,Ig.none());{const n=e.data,r=$f.empty();let i=new ff(th.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Lg(e.key,r,new mf(i.toArray()),Ig.none())}}function Ag(e,t,n){e instanceof Rg?function(e,t,n){const r=e.value.clone(),i=Dg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lg?function(e,t,n){if(!Tg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Dg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Pg(e,t,n,r){return e instanceof Rg?function(e,t,n,r){if(!Tg(e.precondition,t))return n;const i=e.value.clone(),o=jg(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Lg?function(e,t,n,r){if(!Tg(e.precondition,t))return n;const i=jg(e.fieldTransforms,r,t),o=t.data;return o.setAll(Mg(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Tg(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ng(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=pg(r.transform,e||null);null!=i&&(null===n&&(n=$f.empty()),n.set(r.field,i))}return n||null}function Og(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Kd(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mg&&t instanceof mg||e instanceof yg&&t instanceof yg?Kd(e.elements,t.elements,Nf):e instanceof bg&&t instanceof bg?Nf(e.gt,t.gt):e instanceof gg&&t instanceof gg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rg extends kg{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lg extends kg{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Mg(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Dg(e,t,n){const r=new Map;Od(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,fg(a,s,n[i]))}return r}function jg(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,hg(e,o,t))}return r}class Fg extends kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zg extends kg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ug{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Ag(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Pg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Pg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=tg();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Sg(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Qd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),og())}isEqual(e){return this.batchId===e.batchId&&Kd(this.mutations,e.mutations,((e,t)=>Og(e,t)))&&Kd(this.baseMutations,e.baseMutations,((e,t)=>Og(e,t)))}}class Vg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Od(e.mutations.length===n.length);let r=rg;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Vg(e,t,n,r)}}class Bg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gg{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zg,qg;function Wg(e){switch(e){default:return Nd();case Ld.CANCELLED:case Ld.UNKNOWN:case Ld.DEADLINE_EXCEEDED:case Ld.RESOURCE_EXHAUSTED:case Ld.INTERNAL:case Ld.UNAVAILABLE:case Ld.UNAUTHENTICATED:return!1;case Ld.INVALID_ARGUMENT:case Ld.NOT_FOUND:case Ld.ALREADY_EXISTS:case Ld.PERMISSION_DENIED:case Ld.FAILED_PRECONDITION:case Ld.ABORTED:case Ld.OUT_OF_RANGE:case Ld.UNIMPLEMENTED:case Ld.DATA_LOSS:return!0}}function Hg(e){if(void 0===e)return Sd("GRPC error has no .code"),Ld.UNKNOWN;switch(e){case Zg.OK:return Ld.OK;case Zg.CANCELLED:return Ld.CANCELLED;case Zg.UNKNOWN:return Ld.UNKNOWN;case Zg.DEADLINE_EXCEEDED:return Ld.DEADLINE_EXCEEDED;case Zg.RESOURCE_EXHAUSTED:return Ld.RESOURCE_EXHAUSTED;case Zg.INTERNAL:return Ld.INTERNAL;case Zg.UNAVAILABLE:return Ld.UNAVAILABLE;case Zg.UNAUTHENTICATED:return Ld.UNAUTHENTICATED;case Zg.INVALID_ARGUMENT:return Ld.INVALID_ARGUMENT;case Zg.NOT_FOUND:return Ld.NOT_FOUND;case Zg.ALREADY_EXISTS:return Ld.ALREADY_EXISTS;case Zg.PERMISSION_DENIED:return Ld.PERMISSION_DENIED;case Zg.FAILED_PRECONDITION:return Ld.FAILED_PRECONDITION;case Zg.ABORTED:return Ld.ABORTED;case Zg.OUT_OF_RANGE:return Ld.OUT_OF_RANGE;case Zg.UNIMPLEMENTED:return Ld.UNIMPLEMENTED;case Zg.DATA_LOSS:return Ld.DATA_LOSS;default:return Nd()}}(qg=Zg||(Zg={}))[qg.OK=0]="OK",qg[qg.CANCELLED=1]="CANCELLED",qg[qg.UNKNOWN=2]="UNKNOWN",qg[qg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qg[qg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qg[qg.NOT_FOUND=5]="NOT_FOUND",qg[qg.ALREADY_EXISTS=6]="ALREADY_EXISTS",qg[qg.PERMISSION_DENIED=7]="PERMISSION_DENIED",qg[qg.UNAUTHENTICATED=16]="UNAUTHENTICATED",qg[qg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qg[qg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qg[qg.ABORTED=10]="ABORTED",qg[qg.OUT_OF_RANGE=11]="OUT_OF_RANGE",qg[qg.UNIMPLEMENTED=12]="UNIMPLEMENTED",qg[qg.INTERNAL=13]="INTERNAL",qg[qg.UNAVAILABLE=14]="UNAVAILABLE",qg[qg.DATA_LOSS=15]="DATA_LOSS";class Kg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $g}static getOrCreateInstance(){return null===$g&&($g=new Kg),$g}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let $g=null;function Yg(){return new TextEncoder}const Qg=new wd([4294967295,4294967295],0);function Jg(e){const t=Yg().encode(e),n=new bd;return n.update(t),new Uint8Array(n.digest())}function Xg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new wd([n,r],0),new wd([i,o],0)]}class em{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new tm(`Invalid padding: ${t}`);if(n<0)throw new tm(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new tm(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new tm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=wd.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(wd.fromNumber(n)));return 1===r.compare(Qg)&&(r=new wd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Jg(e),[n,r]=Xg(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);if(!this.At(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new em(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=Jg(e),[n,r]=Xg(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);this.Rt(t)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class tm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,rm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new nm(Qd.min(),r,new uf(Hd),Yp(),og())}}class rm{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new rm(n,t,og(),og(),og())}}class im{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class om{constructor(e,t){this.targetId=e,this.Vt=t}}class am{constructor(e,t,n=yf.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class sm{constructor(){this.St=0,this.Dt=um(),this.Ct=yf.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=og(),t=og(),n=og();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Nd()}})),new rm(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=um()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lm{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Yp(),this.zt=cm(),this.Wt=new uf(Hd)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Nd()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Tp(o))if(0===r){const e=new nh(o.path);this.Yt(n,e,Qf.newNoDocument(e,Qd.min()))}else Od(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Kg.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let s,l;try{s=xf(i).toUint8Array()}catch(e){if(e instanceof vf)return Ad("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new em(s,o,a)}catch(e){return Ad(e instanceof tm?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Tp(i.target)){const t=new nh(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Qf.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=og();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new nm(e,t,this.Wt,this.jt,n);return this.jt=Yp(),this.zt=cm(),this.Wt=new uf(Hd),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new sm,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ff(Hd),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||kd("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new sm),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function cm(){return new uf(nh.comparator)}function um(){return new uf(nh.comparator)}const dm={asc:"ASCENDING",desc:"DESCENDING"},hm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fm={and:"AND",or:"OR"};class pm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gm(e,t){return e.useProto3Json||Sh(t)?t:{value:t}}function mm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vm(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ym(e,t){return mm(e,t.toTimestamp())}function _m(e){return Od(!!e),Qd.fromTimestamp(function(e){const t=bf(e);return new Yd(t.seconds,t.nanos)}(e))}function bm(e,t){return function(e){return new Xd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wm(e){const t=Xd.fromString(e);return Od(Gm(t)),t}function xm(e,t){return bm(e.databaseId,t.path)}function Cm(e,t){const n=wm(t);if(n.get(1)!==e.databaseId.projectId)throw new Md(Ld.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Md(Ld.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nh(km(n))}function Em(e,t){return bm(e.databaseId,t)}function Im(e){const t=wm(e);return 4===t.length?Xd.emptyPath():km(t)}function Tm(e){return new Xd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function km(e){return Od(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sm(e,t,n){return{name:xm(e,t),fields:n.value.mapValue.fields}}function Am(e,t,n){const r=Cm(e,t.name),i=_m(t.updateTime),o=t.createTime?_m(t.createTime):Qd.min(),a=new $f({mapValue:{fields:t.fields}}),s=Qf.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Pm(e,t){let n;if(t instanceof Rg)n={update:Sm(e,t.key,t.value)};else if(t instanceof Fg)n={delete:xm(e,t.key)};else if(t instanceof Lg)n={update:Sm(e,t.key,t.data),updateMask:Bm(t.fieldMask)};else{if(!(t instanceof zg))return Nd();n={verify:xm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof gg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bg)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Nd()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ym(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Nd()}(e,t.precondition)),n}function Nm(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ig.updateTime(_m(e.updateTime)):void 0!==e.exists?Ig.exists(e.exists):Ig.none()}(t.currentDocument):Ig.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Od("REQUEST_TIME"===t.setToServerValue),n=new gg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new mg(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new yg(e)}else"increment"in t?n=new bg(e,t.increment):Nd();const r=th.fromServerFormat(t.fieldPath);return new Cg(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Cm(e,t.update.name),o=new $f({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new mf(t.map((e=>th.fromServerFormat(e))))}(t.updateMask);return new Lg(i,o,e,n,r)}return new Rg(i,o,n,r)}if(t.delete){const r=Cm(e,t.delete);return new Fg(r,n)}if(t.verify){const r=Cm(e,t.verify);return new zg(r,n)}return Nd()}function Om(e,t){return{documents:[Em(e,t.path)]}}function Rm(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Em(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Em(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Vm(op.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:zm(e.field),direction:Dm(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gm(e,t.limit);var s;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Lm(e){let t=Im(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Od(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Mm(e);return t instanceof op&&lp(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new tp(Um(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Sh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Jf(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Jf(n,t)}(n.endAt)),Np(t,i,a,o,s,"F",l,c)}function Mm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Um(e.unaryFilter.field);return ip.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Um(e.unaryFilter.field);return ip.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Um(e.unaryFilter.field);return ip.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Um(e.unaryFilter.field);return ip.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Nd()}}(e):void 0!==e.fieldFilter?function(e){return ip.create(Um(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nd()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return op.create(e.compositeFilter.filters.map((e=>Mm(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Nd()}}(e.compositeFilter.op))}(e):Nd()}function Dm(e){return dm[e]}function jm(e){return hm[e]}function Fm(e){return fm[e]}function zm(e){return{fieldPath:e.canonicalString()}}function Um(e){return th.fromServerFormat(e.fieldPath)}function Vm(e){return e instanceof ip?function(e){if("=="===e.op){if(Vf(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NAN"}};if(Uf(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vf(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NOT_NAN"}};if(Uf(e.value))return{unaryFilter:{field:zm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zm(e.field),op:jm(e.op),value:e.value}}}(e):e instanceof op?function(e){const t=e.getFilters().map((e=>Vm(e)));return 1===t.length?t[0]:{compositeFilter:{op:Fm(e.op),filters:t}}}(e):Nd()}function Bm(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Gm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Zm{constructor(e,t,n,r,i=Qd.min(),o=Qd.min(),a=yf.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Zm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qm{constructor(e){this.fe=e}}function Wm(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Hm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:xm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:mm(e,t.version.toTimestamp()),createTime:mm(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Km(t.version)};else{if(!t.isUnknownDocument())return Nd();r.unknownDocument={path:n.path.toArray(),version:Km(t.version)}}return r}function Hm(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Km(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $m(e){const t=new Yd(e.seconds,e.nanoseconds);return Qd.fromTimestamp(t)}function Ym(e,t){const n=(t.baseMutations||[]).map((t=>Nm(e.fe,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Nm(e.fe,t))),i=Yd.fromMillis(t.localWriteTimeMs);return new Ug(t.batchId,i,n,r)}function Qm(e){const t=$m(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?$m(e.lastLimboFreeSnapshotVersion):Qd.min();let r;var i;return void 0!==e.query.documents?(Od(1===(i=e.query).documents.length),r=Fp(Op(Im(i.documents[0])))):r=function(e){return Fp(Lm(e))}(e.query),new Zm(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,yf.fromBase64String(e.resumeToken))}function Jm(e,t){const n=Km(t.snapshotVersion),r=Km(t.lastLimboFreeSnapshotVersion);let i;i=Tp(t.target)?Om(e.fe,t.target):Rm(e.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ep(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Xm(e){const t=Lm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Up(t,t.limit,"L"):t}function ev(e,t){return new Bg(t.largestBatchId,Nm(e.fe,t.overlayMutation))}function tv(e,t){const n=t.path.lastSegment();return[e,Nh(t.path.popLast()),n]}function nv(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Km(r.readTime),documentKey:Nh(r.documentKey.path),largestBatchId:r.largestBatchId}}class rv{getBundleMetadata(e,t){return iv(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:$m(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return iv(e).put({bundleId:(n=t).id,createTime:Km(_m(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return ov(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Xm(t.bundledQuery),readTime:$m(t.readTime)};var t}))}saveNamedQuery(e,t){return ov(e).put(function(e){return{name:e.name,readTime:Km(_m(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function iv(e){return af(e,"bundles")}function ov(e){return af(e,"namedQueries")}class av{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new av(e,n)}getOverlay(e,t){return sv(e).get(tv(this.userId,t)).next((e=>e?ev(this.serializer,e):null))}getOverlays(e,t){const n=eg();return gh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Bg(t,i);r.push(this.we(e,o))})),gh.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Nh(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(sv(e).J("collectionPathOverlayIndex",r))})),gh.waitFor(i)}getOverlaysForCollection(e,t,n){const r=eg(),i=Nh(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return sv(e).j("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=ev(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=eg();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sv(e).X({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=ev(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}we(e,t){return sv(e).put(function(e,t,n){const[r,i,o]=tv(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Pm(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function sv(e){return af(e,"documentOverlays")}class lv{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(wf(e.integerValue));else if("doubleValue"in e){const n=wf(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ah(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(xf(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Zf(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Nd()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const e of Object.keys(n))this.Te(e,t),this.me(n[e],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const e of n)this.me(e,t)}ve(e,t){this.ye(t,37),nh.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function cv(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function uv(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=cv(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}lv.Ve=new lv;class dv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=uv(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Le(e){const t=this.Fe(e),n=uv(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class hv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class fv{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class pv{constructor(){this.je=new dv,this.ze=new hv(this.je),this.We=new fv(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class gv{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new gv(this.indexId,this.documentKey,this.arrayValue,n)}}function mv(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=vv(e.arrayValue,t.arrayValue),0!==n?n:(n=vv(e.directionalValue,t.directionalValue),0!==n?n:nh.comparator(e.documentKey,t.documentKey)))}function vv(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class yv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){Od(e.collectionGroup===this.collectionId);const t=ih(e);if(void 0!==t&&!this.en(t))return!1;const n=oh(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[o++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function _v(e){var t,n;if(Od(e instanceof ip||e instanceof op),e instanceof ip){if(e instanceof _p){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>ip.create(e.field,"==",t))))||[];return op.create(r,"or")}return e}const r=e.filters.map((e=>_v(e)));return op.create(r,e.op)}function bv(e){if(0===e.getFilters().length)return[];const t=Ev(_v(e));return Od(Cv(t)),wv(t)||xv(t)?[t]:t.getFilters()}function wv(e){return e instanceof ip}function xv(e){return e instanceof op&&lp(e)}function Cv(e){return wv(e)||xv(e)||function(e){if(e instanceof op&&sp(e)){for(const t of e.getFilters())if(!wv(t)&&!xv(t))return!1;return!0}return!1}(e)}function Ev(e){if(Od(e instanceof ip||e instanceof op),e instanceof ip)return e;if(1===e.filters.length)return Ev(e.filters[0]);const t=e.filters.map((e=>Ev(e)));let n=op.create(t,e.op);return n=kv(n),Cv(n)?n:(Od(n instanceof op),Od(ap(n)),Od(n.filters.length>1),n.filters.reduce(((e,t)=>Iv(e,t))))}function Iv(e,t){let n;return Od(e instanceof ip||e instanceof op),Od(t instanceof ip||t instanceof op),n=e instanceof ip?t instanceof ip?function(e,t){return op.create([e,t],"and")}(e,t):Tv(e,t):t instanceof ip?Tv(t,e):function(e,t){if(Od(e.filters.length>0&&t.filters.length>0),ap(e)&&ap(t))return hp(e,t.getFilters());const n=sp(e)?e:t,r=sp(e)?t:e,i=n.filters.map((e=>Iv(e,r)));return op.create(i,"or")}(e,t),kv(n)}function Tv(e,t){if(ap(t))return hp(t,e.getFilters());{const n=t.filters.map((t=>Iv(e,t)));return op.create(n,"or")}}function kv(e){if(Od(e instanceof ip||e instanceof op),e instanceof ip)return e;const t=e.getFilters();if(1===t.length)return kv(t[0]);if(cp(e))return e;const n=t.map((e=>kv(e))),r=[];return n.forEach((t=>{t instanceof ip?r.push(t):t instanceof op&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:op.create(r,e.op)}class Sv{constructor(){this.rn=new Av}addToCollectionParentIndex(e,t){return this.rn.add(t),gh.resolve()}getCollectionParents(e,t){return gh.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return gh.resolve()}deleteFieldIndex(e,t){return gh.resolve()}getDocumentsMatchingTarget(e,t){return gh.resolve(null)}getIndexType(e,t){return gh.resolve(0)}getFieldIndexes(e,t){return gh.resolve([])}getNextCollectionGroupToUpdate(e){return gh.resolve(null)}getMinOffset(e,t){return gh.resolve(uh.min())}getMinOffsetFromCollectionGroup(e,t){return gh.resolve(uh.min())}updateCollectionGroup(e,t,n){return gh.resolve()}updateIndexEntries(e,t){return gh.resolve()}}class Av{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ff(Xd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ff(Xd.comparator)).toArray()}}const Pv=new Uint8Array(0);class Nv{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Av,this.un=new Kp((e=>Ep(e)),((e,t)=>Ip(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:Nh(r)};return Ov(e).put(i)}return gh.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[$d(t),""],!1,!0);return Ov(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Lh(r.parent))}return n}))}addFieldIndex(e,t){const n=Lv(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Mv(e);return i.next((e=>{n.put(nv(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Lv(e),r=Mv(e),i=Rv(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Rv(e);let r=!0;const i=new Map;return gh.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=og();const r=[];return gh.forEach(i,((i,o)=>{var a;kd("IndexedDbIndexManager",`Using index ${a=i,`id=${a.indexId}|cg=${a.collectionGroup}|f=${a.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${Ep(t)}`);const s=function(e,t){const n=ih(t);if(void 0===n)return null;for(const t of kp(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(o,i),l=function(e,t){const n=new Map;for(const r of oh(t))for(const t of kp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of oh(t)){const t=0===i.kind?Sp(e,i.fieldPath,e.startAt):Ap(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Jf(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of oh(t)){const t=0===i.kind?Ap(e,i.fieldPath,e.endAt):Sp(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Jf(n,r)}(o,i),d=this.hn(i,o,c),h=this.hn(i,o,u),f=this.ln(i,o,l),p=this.fn(i.indexId,s,d,c.inclusive,h,u.inclusive,f);return gh.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=nh.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return gh.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:bv(op.create(e.filters,"and")).map((t=>Cp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),c=[];for(let u=0;u<s;++u){const s=t?this.dn(t[u/l]):Pv,d=this.wn(e,s,n[u%l],r),h=this._n(e,s,i[u%l],o),f=a.map((t=>this.wn(e,s,t,!0)));c.push(...this.createRange(d,h,f))}return c}wn(e,t,n,r){const i=new gv(e,nh.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new gv(e,nh.empty(),t,n);return r?i.Je():i}an(e,t){const n=new yv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return gh.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new ff(th.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new pv;for(const r of oh(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);lv.Ve._e(e,i)}return n.Qe()}dn(e){const t=new pv;return lv.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new pv;return lv.Ve._e(jf(this.databaseId,t),n.He(function(e){const t=oh(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new pv);let i=0;for(const o of oh(e)){const e=n[i++];for(const n of r)if(this.yn(t,o.fieldPath)&&zf(e))r=this.pn(r,o,e);else{const t=n.He(o.kind);lv.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of r){const r=new pv;r.seed(n.Qe()),lv.Ve._e(e,r.He(t.kind)),i.push(r)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof ip&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Lv(e),r=Mv(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return gh.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new sh(t.sequenceNumber,new uh($m(t.readTime),new nh(Lh(t.documentKey)),t.largestBatchId)):sh.empty(),r=e.fields.map((([e,t])=>new ah(th.fromServerFormat(e),t)));return new rh(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Hd(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Lv(e),i=Mv(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>gh.forEach(t,(t=>i.put(nv(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return gh.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?gh.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),gh.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?gh.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return Rv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return Rv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=Rv(e);let i=new ff(mv);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new gv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new ff(mv);const r=this.mn(t,e);if(null==r)return n;const i=ih(t);if(null!=i){const o=e.data.field(i.fieldPath);if(zf(o))for(const i of o.arrayValue.values||[])n=n.add(new gv(t.indexId,e.key,this.dn(i),r))}else n=n.add(new gv(t.indexId,e.key,Pv,r));return n}vn(e,t,n,r,i){kd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=gf(o),l=gf(a);for(;s||l;){let e=!1,t=!1;if(s&&l){const r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=gf(a)):t?(i(s),s=gf(o)):(s=gf(o),l=gf(a))}}(r,i,mv,(r=>{o.push(this.Rn(e,t,n,r))}),(r=>{o.push(this.Pn(e,t,n,r))})),gh.waitFor(o)}Tn(e){let t=1;return Mv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>mv(e,t))).filter(((e,t,n)=>!t||0!==mv(e,n[t-1])));const r=[];r.push(e);for(const i of n){const n=mv(i,e),o=mv(i,t);if(0===n)r[0]=e.Je();else if(n>0&&o<0)r.push(i),r.push(i.Je());else if(o>0)break}r.push(t);const i=[];for(let e=0;e<r.length;e+=2){if(this.bn(r[e],r[e+1]))return[];const t=[r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,Pv,[]],n=[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,Pv,[]];i.push(IDBKeyRange.bound(t,n))}return i}bn(e,t){return mv(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Dv)}getMinOffset(e,t){return gh.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||Nd())))).next(Dv)}}function Ov(e){return af(e,"collectionParents")}function Rv(e){return af(e,"indexEntries")}function Lv(e){return af(e,"indexConfiguration")}function Mv(e){return af(e,"indexState")}function Dv(e){Od(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;dh(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new uh(t.readTime,t.documentKey,n)}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fv{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Fv(e,Fv.DEFAULT_COLLECTION_PERCENTILE,Fv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zv(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.X({range:a},((e,t,n)=>(s++,n.delete())));o.push(l.next((()=>{Od(1===s)})));const c=[];for(const e of n.mutations){const r=jh(t,e.key.path,n.batchId);o.push(i.delete(r)),c.push(e.key)}return gh.waitFor(o).next((()=>c))}function Uv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Nd();t=e.noDocument}return JSON.stringify(t).length}Fv.DEFAULT_COLLECTION_PERCENTILE=10,Fv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fv.DEFAULT=new Fv(41943040,Fv.DEFAULT_COLLECTION_PERCENTILE,Fv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fv.DISABLED=new Fv(-1,0,0);class Vv{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){Od(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Vv(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gv(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Zv(e),o=Gv(e);return o.add({}).next((a=>{Od("number"==typeof a);const s=new Ug(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Pm(e.fe,t))),i=n.mutations.map((t=>Pm(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),c=[];let u=new ff(((e,t)=>Hd(e.canonicalString(),t.canonicalString())));for(const e of r){const t=jh(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,Fh))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[a]=s.keys()})),gh.waitFor(c).next((()=>s))}))}lookupMutationBatch(e,t){return Gv(e).get(t).next((e=>e?(Od(e.userId===this.userId),Ym(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?gh.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Gv(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Od(t.batchId>=n),i=Ym(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Gv(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gv(e).j("userMutationsIndex",t).next((e=>e.map((e=>Ym(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Dh(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Zv(e).X({range:r},((n,r,o)=>{const[a,s,l]=n,c=Lh(s);if(a===this.userId&&t.path.isEqual(c))return Gv(e).get(l).next((e=>{if(!e)throw Nd();Od(e.userId===this.userId),i.push(Ym(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ff(Hd);const r=[];return t.forEach((t=>{const i=Dh(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=Zv(e).X({range:o},((e,r,i)=>{const[o,a,s]=e,l=Lh(a);o===this.userId&&t.path.isEqual(l)?n=n.add(s):i.done()}));r.push(a)})),gh.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Dh(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new ff(Hd);return Zv(e).X({range:o},((e,t,i)=>{const[o,s,l]=e,c=Lh(s);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.Dn(e,a)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Gv(e).get(t).next((e=>{if(null===e)throw Nd();Od(e.userId===this.userId),n.push(Ym(this.serializer,e))})))})),gh.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return zv(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),gh.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return gh.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Zv(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Lh(e[1]);r.push(t)}else n.done()})).next((()=>{Od(0===r.length)}))}))}containsKey(e,t){return Bv(e,this.userId,t)}xn(e){return qv(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Bv(e,t,n){const r=Dh(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return Zv(e).X({range:o,Y:!0},((e,n,r)=>{const[o,s,l]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function Gv(e){return af(e,"mutations")}function Zv(e){return af(e,"documentMutations")}function qv(e){return af(e,"mutationQueues")}class Wv{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Wv(0)}static Mn(){return new Wv(-1)}}class Hv{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new Wv(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>Qd.fromTimestamp(new Yd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Kv(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(Od(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Kv(e).X(((o,a)=>{const s=Qm(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>gh.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Kv(e).X(((e,n)=>{const r=Qm(n);t(r)}))}$n(e){return $v(e).get("targetGlobalKey").next((e=>(Od(null!==e),e)))}On(e,t){return $v(e).put("targetGlobalKey",t)}Fn(e,t){return Kv(e).put(Jm(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ep(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Kv(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Qm(n);Ip(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Yv(e);return t.forEach((t=>{const o=Nh(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),gh.waitFor(r)}removeMatchingKeys(e,t,n){const r=Yv(e);return gh.forEach(t,(t=>{const i=Nh(t.path);return gh.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Yv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Yv(e);let i=og();return r.X({range:n,Y:!0},((e,t,n)=>{const r=Lh(e[1]),o=new nh(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Nh(t.path),r=IDBKeyRange.bound([n],[$d(n)],!1,!0);let i=0;return Yv(e).X({index:"documentTargetsIndex",Y:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}le(e,t){return Kv(e).get(t).next((e=>e?Qm(e):null))}}function Kv(e){return af(e,"targets")}function $v(e){return af(e,"targetGlobal")}function Yv(e){return af(e,"targetDocuments")}function Qv([e,t],[n,r]){const i=Hd(e,n);return 0===i?Hd(t,r):i}class Jv{constructor(e){this.Ln=e,this.buffer=new ff(Qv),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Qv(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xv{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){kd("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){bh(e)?kd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ph(e)}await this.Qn(3e5)}))}}class ey{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return gh.resolve(kh.ct);const n=new Jv(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(kd("LruGarbageCollector","Garbage collection skipped; disabled"),gh.resolve(jv)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(kd("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(kd("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Td()<=Te.DEBUG&&kd("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),gh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class ty{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new ey(e,t)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return ny(e,n)}removeReference(e,t,n){return ny(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ny(e,t)}Xn(e,t){return function(e,t){let n=!1;return qv(e).Z((r=>Bv(e,r,t).next((e=>(e&&(n=!0),gh.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((o,a)=>{if(a<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Qd.min()),Yv(e).delete([0,Nh(o.path)]))))}));r.push(t)}})).next((()=>gh.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ny(e,t)}Yn(e,t){const n=Yv(e);let r,i=kh.ct;return n.X({index:"documentTargetsIndex"},(([e,n],{path:o,sequenceNumber:a})=>{0===e?(i!==kh.ct&&t(new nh(Lh(r)),i),i=a,r=o):i=kh.ct})).next((()=>{i!==kh.ct&&t(new nh(Lh(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ny(e,t){return Yv(e).put(function(e,t){return{targetId:0,path:Nh(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class ry{constructor(){this.changes=new Kp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qf.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?gh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return ly(e).put(n)}removeEntry(e,t,n){return ly(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Hm(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=Qf.newInvalidDocument(t);return ly(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(cy(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:Qf.newInvalidDocument(t)};return ly(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(cy(t))},((e,r)=>{n={document:this.ts(t,r),size:Uv(r)}})).next((()=>n))}getEntries(e,t){let n=Yp();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=Yp(),r=new uf(nh.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,Uv(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return gh.resolve();let r=new ff(dy);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(cy(r.first()),cy(r.last())),o=r.getIterator();let a=o.getNext();return ly(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=nh.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&dy(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.G(cy(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),Hm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ly(e).j(IDBKeyRange.bound(o,a,!0)).next((e=>{let n=Yp();for(const i of e){const e=this.ts(nh.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Zp(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Yp();const o=uy(t,n),a=uy(t,uh.max());return ly(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.ts(nh.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ay(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return sy(e).get("remoteDocumentGlobalKey").next((e=>(Od(!!e),e)))}Zn(e,t){return sy(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Am(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=nh.fromSegments(t.noDocument.path),r=$m(t.noDocument.readTime);n=Qf.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Nd();{const e=nh.fromSegments(t.unknownDocument.path),r=$m(t.unknownDocument.version);n=Qf.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Yd(e[0],e[1]);return Qd.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Qd.min()))return e}return Qf.newInvalidDocument(e)}}function oy(e){return new iy(e)}class ay extends ry{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Kp((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ff(((e,t)=>Hd(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.us.get(i);if(t.push(this.os.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=Wm(this.os.serializer,o);r=r.add(i.path.popLast());const l=Uv(s);n+=l-a.size,t.push(this.os.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=Wm(this.os.serializer,o.convertToNoDocument(Qd.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),gh.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((({documents:e,rs:t})=>(t.forEach(((t,n)=>{this.us.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function sy(e){return af(e,"remoteDocumentGlobal")}function ly(e){return af(e,"remoteDocumentsV14")}function cy(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uy(e,t){const n=t.documentKey.path.toArray();return[e,Hm(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function dy(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=Hd(n[e],r[e]),i)return i;return i=Hd(n.length,r.length),i||(i=Hd(n[n.length-2],r[r.length-2]),i||Hd(n[n.length-1],r[r.length-1]))}class hy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fy{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Pg(n.mutation,e,mf.empty(),Yd.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,og()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=og()){const r=eg();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Jp();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=eg();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,og())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Yp();const o=ng(),a=ng();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Lg)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Pg(a.mutation,t,a.mutation.getFieldMask(),Yd.now())):o.set(t.key,mf.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new hy(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ng();let r=new uf(((e,t)=>e-t)),i=og();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||mf.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||og()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=tg();l.forEach((e=>{if(!i.has(e)){const r=Sg(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return gh.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return nh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Dp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):gh.resolve(eg());let a=-1,s=i;return o.next((t=>gh.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?gh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,og()))).next((e=>({batchId:a,changes:Xp(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nh(t)).next((e=>{let t=Jp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Jp();return this.indexManager.getCollectionParents(e,r).next((o=>gh.forEach(o,(o=>{const a=function(e,t){return new Pp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qf.newInvalidDocument(r)))}));let n=Jp();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&Pg(o.mutation,i,mf.empty(),Yd.now()),Zp(t,i)&&(n=n.insert(e,i))})),n}))}}class py{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return gh.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:_m(n.createTime)}),gh.resolve()}getNamedQuery(e,t){return gh.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Xm(e.bundledQuery),readTime:_m(e.readTime)}}(t)),gh.resolve()}}class gy{constructor(){this.overlays=new uf(nh.comparator),this.ls=new Map}getOverlay(e,t){return gh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=eg();return gh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),gh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),gh.resolve()}getOverlaysForCollection(e,t,n){const r=eg(),i=t.length+1,o=new nh(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return gh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new uf(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=eg(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=eg(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return gh.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Bg(t,n));let i=this.ls.get(t);void 0===i&&(i=og(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class my{constructor(){this.fs=new ff(vy.ds),this.ws=new ff(vy._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new vy(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new vy(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new nh(new Xd([])),n=new vy(t,e),r=new vy(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new nh(new Xd([])),n=new vy(t,e),r=new vy(t,e+1);let i=og();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new vy(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vy{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return nh.comparator(e.key,t.key)||Hd(e.As,t.As)}static _s(e,t){return Hd(e.As,t.As)||nh.comparator(e.key,t.key)}}class yy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ff(vy.ds)}checkEmpty(e){return gh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ug(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.Rs=this.Rs.add(new vy(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return gh.resolve(o)}lookupMutationBatch(e,t){return gh.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return gh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return gh.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return gh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vy(t,0),r=new vy(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),gh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ff(Hd);return t.forEach((e=>{const t=new vy(e,0),r=new vy(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),gh.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;nh.isDocumentKey(i)||(i=i.child(""));const o=new vy(new nh(i),0);let a=new ff(Hd);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),gh.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Od(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return gh.forEach(t.mutations,(r=>{const i=new vy(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new vy(t,0),r=this.Rs.firstAfterOrEqual(n);return gh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,gh.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _y{constructor(e){this.Ds=e,this.docs=new uf(nh.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return gh.resolve(n?n.document.mutableCopy():Qf.newInvalidDocument(t))}getEntries(e,t){let n=Yp();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Qf.newInvalidDocument(e))})),gh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Yp();const o=t.path,a=new nh(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||dh(ch(a),n)<=0||(r.has(a.key)||Zp(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return gh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Nd()}Cs(e,t){return gh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new by(this)}getSize(e){return gh.resolve(this.size)}}class by extends ry{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),gh.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class wy{constructor(e){this.persistence=e,this.xs=new Kp((e=>Ep(e)),Ip),this.lastRemoteSnapshotVersion=Qd.min(),this.highestTargetId=0,this.Ns=0,this.ks=new my,this.targetCount=0,this.Ms=Wv.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),gh.resolve()}getLastRemoteSnapshotVersion(e){return gh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gh.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),gh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),gh.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Wv(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,gh.resolve()}updateTargetData(e,t){return this.Fn(t),gh.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,gh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),gh.waitFor(i).next((()=>r))}getTargetCount(e){return gh.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return gh.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),gh.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),gh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),gh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return gh.resolve(n)}containsKey(e,t){return gh.resolve(this.ks.containsKey(t))}}class xy{constructor(e,t){this.$s={},this.overlays={},this.Os=new kh(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new wy(this),this.indexManager=new Sv,this.remoteDocumentCache=function(e){return new _y(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new qm(t),this.qs=new py(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new yy(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){kd("MemoryPersistence","Starting transaction:",e);const r=new Cy(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return gh.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Cy extends fh{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.Qs=new my,this.js=null}static zs(e){return new Ey(e)}get Ws(){if(this.js)return this.js;throw Nd()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),gh.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),gh.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),gh.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gh.forEach(this.Ws,(n=>{const r=nh.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Qd.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return gh.or([()=>gh.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Iy{constructor(e){this.serializer=e}O(e,t,n,r){const i=new mh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mh,{unique:!0}),e.createObjectStore("documentMutations")}(e),Ty(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=gh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Ty(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mh,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return gh.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ys(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(o=o.next((()=>this.Zs(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ei(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Yh});t.createIndex("collectionPathOverlayIndex",Qh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Jh,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:zh});t.createIndex("documentKeyIndex",Uh),t.createIndex("collectionGroupIndex",Vh)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Wh}).createIndex("sequenceNumberIndex",Hh,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Kh}).createIndex("documentKeyIndex",$h,{unique:!1})}(e)))),o}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=Uv(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>gh.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>gh.forEach(n,(n=>{Od(n.userId===t.userId);const r=Ym(this.serializer,n);return zv(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const o=new Xd(n),a=function(e){return[0,Nh(e)]}(o);r.push(t.get(a).next((n=>n?gh.resolve():(n=>t.put({targetId:0,path:Nh(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>gh.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:qh});const n=t.store("collectionParents"),r=new Av,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Nh(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new Xd(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},(([e,t,n],r)=>{const o=Lh(t);return i(o.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=Qm(n),i=Jm(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(a=n,a.document?new nh(Xd.fromString(a.document.name).popFirst(5)):a.noDocument?nh.fromSegments(a.noDocument.path):a.unknownDocument?nh.fromSegments(a.unknownDocument.path):Nd()).path.toArray();var a;const s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>gh.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=oy(this.serializer),i=new xy(Ey.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:og();Ym(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),gh.forEach(n,((e,n)=>{const o=new Cd(n),a=av.de(this.serializer,o),s=i.getIndexManager(o),l=Vv.de(o,this.serializer,s,i.referenceDelegate);return new fy(r,l,a,s).recalculateAndSaveOverlaysForDocumentKeys(new of(t,kh.ct),e).next()}))}))}}function Ty(e){e.createObjectStore("targetDocuments",{keyPath:Gh}).createIndex("documentTargetsIndex",Zh,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Bh,{unique:!0}),e.createObjectStore("targetGlobal")}const ky="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Sy{constructor(e,t,n,r,i,o,a,s,l,c,u=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=o,this.document=a,this.ri=l,this.oi=c,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!Sy.D())throw new Md(Ld.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ty(this,r),this.di=t+"main",this.serializer=new qm(s),this.wi=new vh(this.di,this.ui,new Iy(this.serializer)),this.Bs=new Hv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oy(this.serializer),this.qs=new rv,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===c&&Sd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Md(Ld.FAILED_PRECONDITION,ky);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new kh(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Py(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(bh(e))return kd("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return kd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return Ay(e).get("owner").next((e=>gh.resolve(this.Ri(e))))}Pi(e){return Py(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=af(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return gh.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?gh.resolve(!0):Ay(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Md(Ld.FAILED_PRECONDITION,ky);return!1}}return!(!this.networkEnabled||!this.inForeground)||Py(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&kd("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new of(e,kh.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>Py(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return Vv.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Nv(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return av.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){kd("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.ui)?rf:14===o?nf:13===o?tf:12===o?ef:11===o?Xh:void Nd();var o;let a;return this.wi.runTransaction(e,r,i,(r=>(a=new of(r,this.Os?this.Os.next():kh.ct),"readwrite-primary"===t?this.Ti(a).next((e=>!!e||this.Ei(a))).next((t=>{if(!t)throw Sd(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new Md(Ld.FAILED_PRECONDITION,hh);return n(a)})).next((e=>this.vi(a).next((()=>e)))):this.Oi(a).next((()=>n(a)))))).then((e=>(a.raiseOnCommittedEvent(),e)))}Oi(e){return Ay(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Md(Ld.FAILED_PRECONDITION,ky)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ay(e).put("owner",t)}static D(){return vh.D()}Ai(e){const t=Ay(e);return t.get("owner").next((e=>this.Ri(e)?(kd("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):gh.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t||e>n&&(Sd(`Detected an update time that is in the future: ${e} > ${n}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!W()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return kd("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Sd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Sd("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ay(e){return af(e,"owner")}function Py(e){return af(e,"clientMetadata")}function Ny(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Oy{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=og(),r=og();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Oy(e,t.fromCache,n,r)}}class Ry{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(Rp(t))return gh.resolve(null);let n=Fp(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Up(t,null,"F"),n=Fp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=og(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,Up(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return Rp(t)||r.isEqual(Qd.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(Td()<=Te.DEBUG&&kd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gp(t)),this.Wi(e,o,t,lh(r,-1)))}))}ji(e,t){let n=new ff(Wp(e));return t.forEach(((t,r)=>{Zp(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Td()<=Te.DEBUG&&kd("QueryEngine","Using full collection scan to execute query:",Gp(t)),this.Ui.getDocumentsMatchingQuery(e,t,uh.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ly{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new uf(Hd),this.Yi=new Kp((e=>Ep(e)),Ip),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fy(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function My(e,t,n,r){return new Ly(e,t,n,r)}async function Dy(e,t){const n=Rd(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=og();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function jy(e){const t=Rd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Fy(e,t,n){let r=og(),i=og();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Yp();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Qd.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):kd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function zy(e,t){const n=Rd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Uy(e,t){const n=Rd(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,gh.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new Zm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function Vy(e,t,n){const r=Rd(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!bh(e))throw e;kd("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function By(e,t,n){const r=Rd(e);let i=Qd.min(),o=og();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Rd(e),i=r.Yi.get(n);return void 0!==i?gh.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Fp(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Qd.min(),n?o:og()))).next((e=>(qy(r,qp(t),e),{documents:e,ir:o})))))}function Gy(e,t){const n=Rd(e),r=Rd(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function Zy(e,t){const n=Rd(e),r=n.Xi.get(t)||Qd.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,lh(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(qy(n,t,e),e)))}function qy(e,t,n){let r=e.Xi.get(t)||Qd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function Wy(e,t,n=og()){const r=await Uy(e,Fp(Xm(t.bundledQuery))),i=Rd(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=_m(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(e,t);const a=r.withResumeToken(yf.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(e,a).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function Hy(e,t){return`firestore_clients_${e}_${t}`}function Ky(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function $y(e,t){return`firestore_targets_${e}_${t}`}class Yy{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Md(r.error.code,r.error.message))),o?new Yy(e,t,r.state,i):(Sd("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qy{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Md(n.error.code,n.error.message))),i?new Qy(e,n.state,r):(Sd("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=sg();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=Ph(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Jy(e,i):(Sd("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xy{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xy(t.clientId,t.onlineState):(Sd("SharedClientState",`Failed to parse online state: ${e}`),null)}}class e_{constructor(){this.activeTargetIds=sg()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t_{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new uf(Hd),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=Hy(this.persistenceKey,this.wr),this.Ir=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new e_),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Rr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const t of e){if(t===this.wr)continue;const e=this.getItem(Hy(this.persistenceKey,t));if(e){const n=Jy.ar(t,e);n&&(this.gr=this.gr.insert(n.clientId,n))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const e of this.yr)this.mr(e);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem($y(this.persistenceKey,e));if(n){const r=Qy.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($y(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return kd("SharedClientState","READ",e,t),t}setItem(e,t){kd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){kd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(kd("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void Sd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=kh.ct;if(null!=e)try{const n=JSON.parse(e);Od("number"==typeof n),t=n}catch(e){Sd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==kh.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new Yy(this.currentUser,e,t,n),i=Ky(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=Ky(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=$y(this.persistenceKey,e),i=new Qy(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return Jy.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Yy.ar(new Cd(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return Qy.ar(r,t)}br(e){return Xy.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);kd("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Wr(o,a).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=sg();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class n_{constructor(){this.Hr=new e_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new e_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class r_{Yr(e){}shutdown(){}}class i_{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){kd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){kd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let o_=null;function a_(){return null===o_?o_=268435456+Math.round(2147483648*Math.random()):o_++,"0x"+o_.toString(16)}const s_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l_{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const c_="WebChannelConnection";class u_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=a_(),a=this.To(e,t);kd("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((t=>(kd("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw Ad("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ed,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=s_[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=a_();return new Promise(((o,a)=>{const s=new _d;s.setWithCredentials(!0),s.listenOnce(pd.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case fd.NO_ERROR:const t=s.getResponseJson();kd(c_,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case fd.TIMEOUT:kd(c_,`RPC '${e}' ${i} timed out`),a(new Md(Ld.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:const n=s.getStatus();if(kd(c_,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ld).indexOf(t)>=0?t:Ld.UNKNOWN}(t.status);a(new Md(e,t.message))}else a(new Md(Ld.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Md(Ld.UNAVAILABLE,"Connection failed."));break;default:Nd()}}finally{kd(c_,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);kd(c_,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=a_(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dd(),a=hd(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.xmlHttpFactory=new vd({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");kd(c_,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new l_({ro:t=>{h?kd(c_,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(kd(c_,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),kd(c_,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,yd.EventType.OPEN,(()=>{h||kd(c_,`RPC '${e}' stream ${r} transport opened.`)})),p(u,yd.EventType.CLOSE,(()=>{h||(h=!0,kd(c_,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,yd.EventType.ERROR,(t=>{h||(h=!0,Ad(c_,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new Md(Ld.UNAVAILABLE,"The operation could not be completed")))})),p(u,yd.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Od(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){kd(c_,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Zg[e];if(void 0!==t)return Hg(t)}(t),i=a.message;void 0===n&&(n=Ld.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new Md(n,i)),u.close()}else kd(c_,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(a,gd.STAT_EVENT,(t=>{t.stat===md.PROXY?kd(c_,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===md.NOPROXY&&kd(c_,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function d_(){return"undefined"!=typeof window?window:null}function h_(){return"undefined"!=typeof document?document:null}function f_(e){return new pm(e,!0)}class p_{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&kd("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class g_{constructor(e,t,n,r,i,o,a,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new p_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Ld.RESOURCE_EXHAUSTED?(Sd(t.toString()),Sd("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Ld.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Fo===t&&this.Zo(e,n)}),(t=>{e((()=>{const e=new Md(Ld.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return kd("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(kd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m_ extends g_{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Nd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Od(void 0===t||"string"==typeof t),yf.fromBase64String(t||"")):(Od(void 0===t||t instanceof Uint8Array),yf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Ld.UNKNOWN:Hg(e.code);return new Md(t,e.message||"")}(a);n=new am(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cm(e,r.document.name),o=_m(r.document.updateTime),a=r.document.createTime?_m(r.document.createTime):Qd.min(),s=new $f({mapValue:{fields:r.document.fields}}),l=Qf.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new im(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Cm(e,r.document),o=r.readTime?_m(r.readTime):Qd.min(),a=Qf.newNoDocument(i,o),s=r.removedTargetIds||[];n=new im([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Cm(e,r.document),o=r.removedTargetIds||[];n=new im([],o,i,null)}else{if(!("filter"in t))return Nd();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Gg(r,i),a=e.targetId;n=new om(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Qd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Qd.min():t.readTime?_m(t.readTime):Qd.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Tm(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Tp(r)?{documents:Om(e,r)}:{query:Rm(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=vm(e,t.resumeToken);const r=gm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Qd.min())>0){n.readTime=mm(e,t.snapshotVersion.toTimestamp());const r=gm(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nd()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Tm(this.serializer),t.removeTarget=e,this.Wo(t)}}class v_ extends g_{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Od(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Od(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?_m(e.updateTime):_m(t);return n.isEqual(Qd.min())&&(n=_m(t)),new Eg(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=_m(e.commitTime);return this.listener.cu(n,t)}return Od(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Tm(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Pm(this.serializer,e)))};this.Wo(t)}}class y_ extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Md(Ld.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.Io(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ld.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Md(Ld.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.vo(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ld.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Md(Ld.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class __{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Sd(t),this.mu=!1):kd("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class b_{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{A_(this)&&(kd("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Rd(e);t.vu.add(4),await x_(t),t.bu.set("Unknown"),t.vu.delete(4),await w_(t)}(this))}))})),this.bu=new __(n,r)}}async function w_(e){if(A_(e))for(const t of e.Ru)await t(!0)}async function x_(e){for(const t of e.Ru)await t(!1)}function C_(e,t){const n=Rd(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),S_(n)?k_(n):H_(n).Ko()&&I_(n,t))}function E_(e,t){const n=Rd(e),r=H_(n);n.Au.delete(t),r.Ko()&&T_(n,t),0===n.Au.size&&(r.Ko()?r.jo():A_(n)&&n.bu.set("Unknown"))}function I_(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Qd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}H_(e).su(t)}function T_(e,t){e.Vu.qt(t),H_(e).iu(t)}function k_(e){e.Vu=new lm({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),H_(e).start(),e.bu.gu()}function S_(e){return A_(e)&&!H_(e).Uo()&&e.Au.size>0}function A_(e){return 0===Rd(e).vu.size}function P_(e){e.Vu=void 0}async function N_(e){e.Au.forEach(((t,n)=>{I_(e,t)}))}async function O_(e,t){P_(e),S_(e)?(e.bu.Iu(t),k_(e)):e.bu.set("Unknown")}async function R_(e,t,n){if(e.bu.set("Online"),t instanceof am&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){kd("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await L_(e,n)}else if(t instanceof im?e.Vu.Ht(t):t instanceof om?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Qd.min()))try{const t=await jy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(yf.EMPTY_BYTE_STRING,r.snapshotVersion)),T_(e,t);const i=new Zm(r.target,t,n,r.sequenceNumber);I_(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){kd("RemoteStore","Failed to raise snapshot:",t),await L_(e,t)}}async function L_(e,t,n){if(!bh(t))throw t;e.vu.add(1),await x_(e),e.bu.set("Offline"),n||(n=()=>jy(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{kd("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await w_(e)}))}function M_(e,t){return t().catch((n=>L_(e,n,t)))}async function D_(e){const t=Rd(e),n=K_(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;j_(t);)try{const e=await zy(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,F_(t,e)}catch(e){await L_(t,e)}z_(t)&&U_(t)}function j_(e){return A_(e)&&e.Eu.length<10}function F_(e,t){e.Eu.push(t);const n=K_(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function z_(e){return A_(e)&&!K_(e).Uo()&&e.Eu.length>0}function U_(e){K_(e).start()}async function V_(e){K_(e).hu()}async function B_(e){const t=K_(e);for(const n of e.Eu)t.uu(n.mutations)}async function G_(e,t,n){const r=e.Eu.shift(),i=Vg.from(r,t,n);await M_(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await D_(e)}async function Z_(e,t){t&&K_(e).ou&&await async function(e,t){if(Wg(n=t.code)&&n!==Ld.ABORTED){const n=e.Eu.shift();K_(e).Qo(),await M_(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await D_(e)}var n}(e,t),z_(e)&&U_(e)}async function q_(e,t){const n=Rd(e);n.asyncQueue.verifyOperationInProgress(),kd("RemoteStore","RemoteStore received new credentials");const r=A_(n);n.vu.add(3),await x_(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await w_(n)}async function W_(e,t){const n=Rd(e);t?(n.vu.delete(2),await w_(n)):t||(n.vu.add(2),await x_(n),n.bu.set("Unknown"))}function H_(e){return e.Su||(e.Su=function(e,t,n){const r=Rd(e);return r.fu(),new m_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:N_.bind(null,e),ao:O_.bind(null,e),nu:R_.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),S_(e)?k_(e):e.bu.set("Unknown")):(await e.Su.stop(),P_(e))}))),e.Su}function K_(e){return e.Du||(e.Du=function(e,t,n){const r=Rd(e);return r.fu(),new v_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:V_.bind(null,e),ao:Z_.bind(null,e),au:B_.bind(null,e),cu:G_.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await D_(e)):(await e.Du.stop(),e.Eu.length>0&&(kd("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class $_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Dd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new $_(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Md(Ld.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y_(e,t){if(Sd("AsyncQueue",`${t}: ${e}`),bh(e))return new Md(Ld.UNAVAILABLE,`${t}: ${e}`);throw e}class Q_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||nh.comparator(t.key,n.key):(e,t)=>nh.comparator(e.key,t.key),this.keyedMap=Jp(),this.sortedSet=new uf(this.comparator)}static emptySet(e){return new Q_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Q_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Q_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class J_{constructor(){this.Cu=new uf(nh.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Nd():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class X_{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new X_(e,t,Q_.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class eb{constructor(){this.Nu=void 0,this.listeners=[]}}class tb{constructor(){this.queries=new Kp((e=>Bp(e)),Vp),this.onlineState="Unknown",this.ku=new Set}}async function nb(e,t){const n=Rd(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new eb),i)try{o.Nu=await n.onListen(r)}catch(e){const n=Y_(e,`Initialization of query '${Gp(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&ab(n)}async function rb(e,t){const n=Rd(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ib(e,t){const n=Rd(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.$u(e)&&(r=!0);i.Nu=e}}r&&ab(n)}function ob(e,t,n){const r=Rd(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function ab(e){e.ku.forEach((e=>{e.next()}))}class sb{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new X_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=X_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class lb{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class cb{constructor(e){this.serializer=e}rr(e){return Cm(this.serializer,e)}ur(e){return e.metadata.exists?Am(this.serializer,e.document,!1):Qf.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return _m(e)}}class ub{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=db(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=Xd.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new cb(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||og()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Rd(e);let o=og(),a=Yp();for(const e of n){const n=t.rr(e.metadata.name);e.document&&(o=o.add(n));const r=t.ur(e);r.setReadTime(t.cr(e.metadata.readTime)),a=a.insert(n,r)}const s=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await Uy(i,function(e){return Fp(Op(Xd.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Fy(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Bs.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new cb(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const e of this.queries)await Wy(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function db(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class hb{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class pb{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=og(),this.mutatedKeys=og(),this.tc=Wp(e),this.ec=new Q_(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new J_,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Zp(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.tc(u,s)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nd()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,s=a!==this.Xu;return this.Xu=a,0!==i.length||s?{snapshot:new X_(this.query,e.ec,r,i,e.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new J_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=og(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new fb(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new hb(n))})),t}hc(e){this.Yu=e.ir,this.Zu=og();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return X_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class mb{constructor(e){this.key=e,this.fc=!1}}class vb{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Kp((e=>Bp(e)),Vp),this._c=new Map,this.mc=new Set,this.gc=new uf(nh.comparator),this.yc=new Map,this.Ic=new my,this.Tc={},this.Ec=new Map,this.Ac=Wv.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function yb(e,t){const n=Zb(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await Uy(n.localStore,Fp(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await _b(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&C_(n.remoteStore,e)}return i}async function _b(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await By(e.localStore,t.query,!1).then((({documents:e})=>t.view.sc(e,i))));const o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o);return Pb(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const o=await By(e.localStore,t,!0),a=new pb(t,o.ir),s=a.sc(o.documents),l=rm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Pb(e,n,c.cc);const u=new gb(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function bb(e,t){const n=Rd(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Vp(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Vy(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),E_(n.remoteStore,r.targetId),Sb(n,r.targetId)})).catch(ph)):(Sb(n,r.targetId),await Vy(n.localStore,r.targetId,!0))}async function wb(e,t){const n=Rd(e);try{const e=await function(e,t){const n=Rd(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(yf.EMPTY_BYTE_STRING,Qd.min()).withLastLimboFreeSnapshotVersion(Qd.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Bs.updateTargetData(e,c))}));let s=Yp(),l=og();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Fy(e,o,t.documentUpdates).next((e=>{s=e.nr,l=e.sr}))),!r.isEqual(Qd.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return gh.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(Od(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Od(r.fc):e.removedDocuments.size>0&&(Od(r.fc),r.fc=!1))})),await Rb(n,e,t)}catch(e){await ph(e)}}function xb(e,t,n){const r=Rd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Rd(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.Mu(t)&&(r=!0)})),r&&ab(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Cb(e,t,n){const r=Rd(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new uf(nh.comparator);e=e.insert(o,Qf.newNoDocument(o,Qd.min()));const n=og().add(o),i=new nm(Qd.min(),new Map,new uf(Hd),e,n);await wb(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),Ob(r)}else await Vy(r.localStore,t,!1).then((()=>Sb(r,t,n))).catch(ph)}async function Eb(e,t){const n=Rd(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Rd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=gh.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Od(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=og();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);kb(n,r,null),Tb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rb(n,e)}catch(e){await ph(e)}}async function Ib(e,t,n){const r=Rd(e);try{const e=await function(e,t){const n=Rd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Od(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);kb(r,t,n),Tb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Rb(r,e)}catch(n){await ph(n)}}function Tb(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function kb(e,t,n){const r=Rd(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Sb(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Ab(e,t)}))}function Ab(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(E_(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Ob(e))}function Pb(e,t,n){for(const r of n)r instanceof hb?(e.Ic.addReference(r.key,t),Nb(e,r)):r instanceof fb?(kd("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Ab(e,r.key)):Nd()}function Nb(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(kd("SyncEngine","New document in limbo: "+n),e.mc.add(r),Ob(e))}function Ob(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new nh(Xd.fromString(t)),r=e.Ac.next();e.yc.set(r,new mb(n)),e.gc=e.gc.insert(n,r),C_(e.remoteStore,new Zm(Fp(Op(n.path)),r,"TargetPurposeLimboResolution",kh.ct))}}async function Rb(e,t,n){const r=Rd(e),i=[],o=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,s)=>{a.push(r.Rc(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Oy.Li(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=Rd(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>gh.forEach(t,(t=>gh.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>gh.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!bh(e))throw e;kd("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ji.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(t,i)}}}(r.localStore,o))}async function Lb(e,t){const n=Rd(e);if(!n.currentUser.isEqual(t)){kd("SyncEngine","User change. New user:",t.toKey());const e=await Dy(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new Md(Ld.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Rb(n,e.er)}}function Mb(e,t){const n=Rd(e),r=n.yc.get(t);if(r&&r.fc)return og().add(r.key);{let e=og();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function Db(e,t){const n=Rd(e),r=await By(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&Pb(n,t.targetId,i.cc),i}async function jb(e,t){const n=Rd(e);return Zy(n.localStore,t).then((e=>Rb(n,e)))}async function Fb(e,t,n,r){const i=Rd(e),o=await function(e,t){const n=Rd(e),r=Rd(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):gh.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await D_(i.remoteStore):"acknowledged"===n||"rejected"===n?(kb(i,t,r||null),Tb(i,t),function(e,t){Rd(Rd(e).mutationQueue).Cn(t)}(i.localStore,t)):Nd(),await Rb(i,o)):kd("SyncEngine","Cannot apply mutation batch with id: "+t)}async function zb(e,t,n){const r=Rd(e),i=[],o=[];for(const e of t){let t;const n=r._c.get(e);if(n&&0!==n.length){t=await Uy(r.localStore,Fp(n[0]));for(const e of n){const t=r.wc.get(e),n=await Db(r,t);n.snapshot&&o.push(n.snapshot)}}else{const n=await Gy(r.localStore,e);t=await Uy(r.localStore,n),await _b(r,Ub(n),e,!1,t.resumeToken)}i.push(t)}return r.dc.nu(o),i}function Ub(e){return Np(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Vb(e){const t=Rd(e);return Rd(Rd(t.localStore).persistence).$i()}async function Bb(e,t,n,r){const i=Rd(e);if(i.vc)return void kd("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Zy(i.localStore,qp(o[0])),r=nm.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,yf.EMPTY_BYTE_STRING);await Rb(i,e,r);break}case"rejected":await Vy(i.localStore,t,!0),Sb(i,t,r);break;default:Nd()}}async function Gb(e,t,n){const r=Zb(e);if(r.vc){for(const e of t){if(r._c.has(e)){kd("SyncEngine","Adding an already active target "+e);continue}const t=await Gy(r.localStore,e),n=await Uy(r.localStore,t);await _b(r,Ub(t),n.targetId,!1,n.resumeToken),C_(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await Vy(r.localStore,e,!1).then((()=>{E_(r.remoteStore,e),Sb(r,e)})).catch(ph)}}function Zb(e){const t=Rd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Cb.bind(null,t),t.dc.nu=ib.bind(null,t.eventManager),t.dc.Pc=ob.bind(null,t.eventManager),t}function qb(e){const t=Rd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Eb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ib.bind(null,t),t}class Wb{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=f_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return My(this.persistence,new Ry,e.initialUser,this.serializer)}createPersistence(e){return new xy(Ey.zs,this.serializer)}createSharedClientState(e){return new n_}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Hb extends Wb{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await qb(this.Vc.syncEngine),await D_(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return My(this.persistence,new Ry,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Xv(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Th(t,this.persistence);return new Ih(e.asyncQueue,n)}createPersistence(e){const t=Ny(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fv.withCacheSize(this.cacheSizeBytes):Fv.DEFAULT;return new Sy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,d_(),h_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new n_}}class Kb extends Hb{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof t_&&(this.sharedClientState.syncEngine={jr:Fb.bind(null,t),zr:Bb.bind(null,t),Wr:Gb.bind(null,t),$i:Vb.bind(null,t),Qr:jb.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=Rd(e);if(Zb(n),qb(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await zb(n,e.toArray());n.vc=!0,await W_(n.remoteStore,!0);for(const e of t)C_(n.remoteStore,e)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Sb(n,i),Vy(n.localStore,i,!0)))),E_(n.remoteStore,i)})),await t,await zb(n,e),function(e){const t=Rd(e);t.yc.forEach(((e,n)=>{E_(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new uf(nh.comparator)}(n),n.vc=!1,await W_(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=d_();if(!t_.D(t))throw new Md(Ld.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ny(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new t_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class $b{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>xb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lb.bind(null,this.syncEngine),await W_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tb}createDatastore(e){const t=f_(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new u_(r));var r;return function(e,t,n,r){return new y_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>xb(this.syncEngine,e,0),o=i_.D()?new i_:new r_,new b_(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new vb(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Rd(e);kd("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await x_(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function Yb(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Qb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Sd("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Jb{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Dd,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.Gu)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc(`length string (${t}) is not valid number`);const r=await this.$c(n);return new lb(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Xb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Md(Ld.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Rd(e),r=Tm(n.serializer)+"/documents",i={documents:t.map((e=>xm(n.serializer,e)))},o=await n.vo("BatchGetDocuments",r,i,t.length),a=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Od(!!t.found),t.found.name,t.found.updateTime;const n=Cm(e,t.found.name),r=_m(t.found.updateTime),i=t.found.createTime?_m(t.found.createTime):Qd.min(),o=new $f({mapValue:{fields:t.found.fields}});return Qf.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Od(!!t.missing),Od(!!t.readTime);const n=Cm(e,t.missing),r=_m(t.readTime);return Qf.newNoDocument(n,r)}(e,t):Nd()}(n.serializer,e);a.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=a.get(e.toString());Od(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=nh.fromPath(t);this.mutations.push(new zg(n,this.precondition(n)))})),await async function(e,t){const n=Rd(e),r=Tm(n.serializer)+"/documents",i={writes:t.map((e=>Pm(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nd();t=Qd.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Md(Ld.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Qd.min())?Ig.exists(!1):Ig.updateTime(t):Ig.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qd.min()))throw new Md(Ld.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ig.updateTime(t)}return Ig.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ew{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new p_(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new Xb(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!Sh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Wg(t)}return!1}}class tw{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Cd.UNAUTHENTICATED,this.clientId=Wd.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{kd("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(kd("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Md(Ld.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Y_(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function nw(e,t){e.asyncQueue.verifyOperationInProgress(),kd("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Dy(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function rw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ow(e);kd("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>q_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>q_(t.remoteStore,n))),e._onlineComponents=t}function iw(e){return"FirebaseError"===e.name?e.code===Ld.FAILED_PRECONDITION||e.code===Ld.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function ow(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){kd("FirestoreClient","Using user provided OfflineComponentProvider");try{await nw(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!iw(n))throw n;Ad("Error using user provided cache. Falling back to memory cache: "+n),await nw(e,new Wb)}}else kd("FirestoreClient","Using default OfflineComponentProvider"),await nw(e,new Wb);return e._offlineComponents}async function aw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(kd("FirestoreClient","Using user provided OnlineComponentProvider"),await rw(e,e._uninitializedComponentsProvider._online)):(kd("FirestoreClient","Using default OnlineComponentProvider"),await rw(e,new $b))),e._onlineComponents}function sw(e){return ow(e).then((e=>e.persistence))}function lw(e){return ow(e).then((e=>e.localStore))}function cw(e){return aw(e).then((e=>e.remoteStore))}function uw(e){return aw(e).then((e=>e.syncEngine))}async function dw(e){const t=await aw(e),n=t.eventManager;return n.onListen=yb.bind(null,t.syncEngine),n.onUnlisten=bb.bind(null,t.syncEngine),n}function hw(e,t,n={}){const r=new Dd;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Qb({next:o=>{t.enqueueAndForget((()=>rb(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Md(Ld.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Md(Ld.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new sb(Op(n.path),o,{includeMetadataChanges:!0,Ku:!0});return nb(e,a)}(await dw(e),e.asyncQueue,t,n,r))),r.promise}function fw(e,t,n={}){const r=new Dd;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Qb({next:n=>{t.enqueueAndForget((()=>rb(e,a))),n.fromCache&&"server"===r.source?i.reject(new Md(Ld.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new sb(n,o,{includeMetadataChanges:!0,Ku:!0});return nb(e,a)}(await dw(e),e.asyncQueue,t,n,r))),r.promise}function pw(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const gw=new Map;function mw(e,t,n){if(!n)throw new Md(Ld.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vw(e,t,n,r){if(!0===t&&!0===r)throw new Md(Ld.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function yw(e){if(!nh.isDocumentKey(e))throw new Md(Ld.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _w(e){if(nh.isDocumentKey(e))throw new Md(Ld.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function bw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Nd()}function ww(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Md(Ld.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bw(e);throw new Md(Ld.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function xw(e,t){if(t<=0)throw new Md(Ld.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Cw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Md(Ld.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Md(Ld.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Md(Ld.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Md(Ld.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Md(Ld.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Ew{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Md(Ld.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Md(Ld.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fd;switch(e.type){case"firstParty":return new Bd(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Md(Ld.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gw.get(e);t&&(kd("ComponentProvider","Removing Datastore"),gw.delete(e),t.terminate())}(this),Promise.resolve()}}function Iw(e,t,n,r={}){var i;const o=(e=ww(e,Ew))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&Ad("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Cd.MOCK_USER;else{t=G(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Md(Ld.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Cd(o)}e._authCredentials=new zd(new jd(t,n))}}class Tw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tw(this.firestore,e,this._key)}}class kw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kw(this.firestore,e,this._query)}}class Sw extends kw{constructor(e,t,n){super(e,t,Op(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tw(this.firestore,null,new nh(e))}withConverter(e){return new Sw(this.firestore,e,this._path)}}function Aw(e,t,...n){if(e=be(e),mw("collection","path",t),e instanceof Ew){const r=Xd.fromString(t,...n);return _w(r),new Sw(e,null,r)}{if(!(e instanceof Tw||e instanceof Sw))throw new Md(Ld.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Xd.fromString(t,...n));return _w(r),new Sw(e.firestore,null,r)}}function Pw(e,t,...n){if(e=be(e),1===arguments.length&&(t=Wd.A()),mw("doc","path",t),e instanceof Ew){const r=Xd.fromString(t,...n);return yw(r),new Tw(e,null,new nh(r))}{if(!(e instanceof Tw||e instanceof Sw))throw new Md(Ld.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Xd.fromString(t,...n));return yw(r),new Tw(e.firestore,e instanceof Sw?e.converter:null,new nh(r))}}function Nw(e,t){return e=be(e),t=be(t),(e instanceof Tw||e instanceof Sw)&&(t instanceof Tw||t instanceof Sw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ow(e,t){return e=be(e),t=be(t),e instanceof kw&&t instanceof kw&&e.firestore===t.firestore&&Vp(e._query,t._query)&&e.converter===t.converter}class Rw{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new p_(this,"async_queue_retry"),this.Xc=()=>{const e=h_();e&&kd("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=h_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=h_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new Dd;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!bh(e))throw e;kd("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Sd("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=$_.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&Nd()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Lw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Mw{constructor(){this._progressObserver={},this._taskCompletionResolver=new Dd,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Dw extends Ew{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Rw,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fw(this),this._firestoreClient.terminate()}}function jw(e){return e._firestoreClient||Fw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Fw(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Tf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,pw(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new tw(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function zw(e,t,n){const r=new Dd;return e.asyncQueue.enqueue((async()=>{try{await nw(e,n),await rw(e,t),r.resolve()}catch(e){const t=e;if(!iw(t))throw t;Ad("Error enabling indexeddb cache. Falling back to memory cache: "+t),r.reject(t)}})).then((()=>r.promise))}function Uw(e){if(e._initialized||e._terminated)throw new Md(Ld.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vw{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vw(yf.fromBase64String(e))}catch(e){throw new Md(Ld.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Vw(yf.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bw{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Md(Ld.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new th(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gw{constructor(e){this._methodName=e}}class Zw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Md(Ld.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Md(Ld.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Hd(this._lat,e._lat)||Hd(this._long,e._long)}}const qw=/^__.*__$/;class Ww{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Lg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rg(e,this.data,t,this.fieldTransforms)}}class Hw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Lg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nd()}}class $w{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new $w(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return gx(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Kw(this.ca)&&qw.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Yw{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||f_(e)}ya(e,t,n,r=!1){return new $w({ca:e,methodName:t,ga:n,path:th.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qw(e){const t=e._freezeSettings(),n=f_(e._databaseId);return new Yw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jw(e,t,n,r,i,o={}){const a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);dx("Data must be an object, but it was:",a,r);const s=cx(r,a);let l,c;if(o.merge)l=new mf(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=hx(t,r,n);if(!a.contains(i))throw new Md(Ld.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);mx(e,i)||e.push(i)}l=new mf(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Ww(new $f(s),l,c)}class Xw extends Gw{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xw}}function ex(e,t,n){return new $w({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class tx extends Gw{_toFieldTransform(e){return new Cg(e.path,new gg)}isEqual(e){return e instanceof tx}}class nx extends Gw{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ex(this,e,!0),n=this.pa.map((e=>lx(e,t))),r=new mg(n);return new Cg(e.path,r)}isEqual(e){return this===e}}class rx extends Gw{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=ex(this,e,!0),n=this.pa.map((e=>lx(e,t))),r=new yg(n);return new Cg(e.path,r)}isEqual(e){return this===e}}class ix extends Gw{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new bg(e.serializer,ug(e.serializer,this.Ia));return new Cg(e.path,t)}isEqual(e){return this===e}}function ox(e,t,n,r){const i=e.ya(1,t,n);dx("Data must be an object, but it was:",i,r);const o=[],a=$f.empty();lf(r,((e,r)=>{const s=px(t,e,n);r=be(r);const l=i.da(s);if(r instanceof Xw)o.push(s);else{const e=lx(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new mf(o);return new Hw(a,s,i.fieldTransforms)}function ax(e,t,n,r,i,o){const a=e.ya(1,t,n),s=[hx(t,r,n)],l=[i];if(o.length%2!=0)throw new Md(Ld.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)s.push(hx(t,o[e])),l.push(o[e+1]);const c=[],u=$f.empty();for(let e=s.length-1;e>=0;--e)if(!mx(c,s[e])){const t=s[e];let n=l[e];n=be(n);const r=a.da(t);if(n instanceof Xw)c.push(t);else{const e=lx(n,r);null!=e&&(c.push(t),u.set(t,e))}}const d=new mf(c);return new Hw(u,d,a.fieldTransforms)}function sx(e,t,n,r=!1){return lx(n,e.ya(r?4:3,t))}function lx(e,t){if(ux(e=be(e)))return dx("Unsupported field value:",t,e),cx(e,t);if(e instanceof Gw)return function(e,t){if(!Kw(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=lx(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=be(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ug(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Yd.fromDate(e);return{timestampValue:mm(t.serializer,n)}}if(e instanceof Yd){const n=new Yd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mm(t.serializer,n)}}if(e instanceof Zw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vw)return{bytesValue:vm(t.serializer,e._byteString)};if(e instanceof Tw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:bm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${bw(e)}`)}(e,t)}function cx(e,t){const n={};return cf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lf(e,((e,r)=>{const i=lx(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ux(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yd||e instanceof Zw||e instanceof Vw||e instanceof Tw||e instanceof Gw)}function dx(e,t,n){if(!ux(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=bw(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function hx(e,t,n){if((t=be(t))instanceof Bw)return t._internalPath;if("string"==typeof t)return px(e,t);throw gx("Field path arguments must be of type string or ",e,!1,void 0,n)}const fx=new RegExp("[~\\*/\\[\\]]");function px(e,t,n){if(t.search(fx)>=0)throw gx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Bw(...t.split("."))._internalPath}catch(r){throw gx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function gx(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Md(Ld.INVALID_ARGUMENT,s+e+l)}function mx(e,t){return e.some((e=>e.isEqual(t)))}class vx{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_x("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yx extends vx{data(){return super.data()}}function _x(e,t){return"string"==typeof t?px(e,t):t instanceof Bw?t._internalPath:t._delegate._internalPath}function bx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Md(Ld.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wx{}class xx extends wx{}function Cx(e,t,...n){let r=[];t instanceof wx&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof Tx)).length,n=e.filter((e=>e instanceof Ex)).length;if(t>1||t>0&&n>0)throw new Md(Ld.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}class Ex extends xx{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ex(e,t,n)}_apply(e){const t=this._parse(e);return jx(e._query,t),new kw(e.firestore,e.converter,zp(e._query,t))}_parse(e){const t=Qw(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Md(Ld.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Dx(a,o);const t=[];for(const n of a)t.push(Mx(r,e,n));s={arrayValue:{values:t}}}else s=Mx(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Dx(a,o),s=sx(n,"where",a,"in"===o||"not-in"===o);return ip.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ix(e,t,n){const r=t,i=_x("where",e);return Ex._create(i,r,n)}class Tx extends wx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tx(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:op.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)jx(n,e),n=zp(n,e)}(e._query,t),new kw(e.firestore,e.converter,zp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class kx extends xx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kx(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Md(Ld.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Md(Ld.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new tp(t,n);return function(e,t){if(null===Lp(e)){const n=Mp(e);null!==n&&Fx(0,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new kw(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Pp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Sx(e,t="asc"){const n=t,r=_x("orderBy",e);return kx._create(r,n)}class Ax extends xx{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Ax(e,t,n)}_apply(e){return new kw(e.firestore,e.converter,Up(e._query,this._limit,this._limitType))}}function Px(e){return xw("limit",e),Ax._create("limit",e,"F")}class Nx extends xx{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Nx(e,t,n)}_apply(e){const t=Lx(e,this.type,this._docOrFields,this._inclusive);return new kw(e.firestore,e.converter,function(e,t){return new Pp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Ox(...e){return Nx._create("startAt",e,!0)}class Rx extends xx{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Rx(e,t,n)}_apply(e){const t=Lx(e,this.type,this._docOrFields,this._inclusive);return new kw(e.firestore,e.converter,function(e,t){return new Pp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Lx(e,t,n,r){if(n[0]=be(n[0]),n[0]instanceof vx)return function(e,t,n,r,i){if(!r)throw new Md(Ld.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of jp(e))if(n.field.isKeyField())o.push(jf(t,r.key));else{const e=r.data.field(n.field);if(Cf(e))throw new Md(Ld.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Md(Ld.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new Jf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Qw(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new Md(Ld.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const s=[];for(let o=0;o<i.length;o++){const l=i[o];if(a[o].field.isKeyField()){if("string"!=typeof l)throw new Md(Ld.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof l}`);if(!Dp(e)&&-1!==l.indexOf("/"))throw new Md(Ld.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${l}' contains a slash.`);const n=e.path.child(Xd.fromString(l));if(!nh.isDocumentKey(n))throw new Md(Ld.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new nh(n);s.push(jf(t,i))}else{const e=sx(n,r,l);s.push(e)}}return new Jf(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Mx(e,t,n){if("string"==typeof(n=be(n))){if(""===n)throw new Md(Ld.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dp(t)&&-1!==n.indexOf("/"))throw new Md(Ld.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Xd.fromString(n));if(!nh.isDocumentKey(r))throw new Md(Ld.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jf(e,new nh(r))}if(n instanceof Tw)return jf(e,n._key);throw new Md(Ld.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bw(n)}.`)}function Dx(e,t){if(!Array.isArray(e)||0===e.length)throw new Md(Ld.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jx(e,t){if(t.isInequality()){const n=Mp(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Md(Ld.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=Lp(e);null!==i&&Fx(0,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Md(Ld.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Md(Ld.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Fx(e,t,n){if(!n.isEqual(t))throw new Md(Ld.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}function zx(e,t){if(!(t instanceof Ex||t instanceof Tx))throw new Md(Ld.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Ux{convertValue(e,t="none"){switch(Pf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nd()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return lf(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Zw(wf(e.latitude),wf(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ef(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(If(e));default:return null}}convertTimestamp(e){const t=bf(e);return new Yd(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Xd.fromString(e);Od(Gm(n));const r=new kf(n.get(1),n.get(3)),i=new nh(n.popFirst(5));return r.isEqual(t)||Sd(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Vx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Bx extends Ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tw(this.firestore,null,t)}}class Gx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zx extends vx{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(_x("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class qx extends Zx{data(e={}){return super.data(e)}}class Wx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Gx(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new qx(this._firestore,this._userDataWriter,n.key,n,new Gx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Md(Ld.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new qx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Gx(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new qx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Gx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Hx(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nd()}}function Kx(e,t){return e instanceof Zx&&t instanceof Zx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Wx&&t instanceof Wx&&e._firestore===t._firestore&&Ow(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function $x(e){e=ww(e,Tw);const t=ww(e.firestore,Dw);return hw(jw(t),e._key).then((n=>iC(t,e,n)))}class Yx extends Ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vw(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tw(this.firestore,null,t)}}function Qx(e){e=ww(e,kw);const t=ww(e.firestore,Dw),n=jw(t),r=new Yx(t);return bx(e._query),fw(n,e._query).then((n=>new Wx(t,r,e,n)))}function Jx(e,t,n){e=ww(e,Tw);const r=ww(e.firestore,Dw),i=Vx(e.converter,t,n);return rC(r,[Jw(Qw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ig.none())])}function Xx(e,t,n,...r){e=ww(e,Tw);const i=ww(e.firestore,Dw),o=Qw(i);let a;return a="string"==typeof(t=be(t))||t instanceof Bw?ax(o,"updateDoc",e._key,t,n,r):ox(o,"updateDoc",e._key,t),rC(i,[a.toMutation(e._key,Ig.exists(!0))])}function eC(e){return rC(ww(e.firestore,Dw),[new Fg(e._key,Ig.none())])}function tC(e,t){const n=ww(e.firestore,Dw),r=Pw(e),i=Vx(e.converter,t);return rC(n,[Jw(Qw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ig.exists(!1))]).then((()=>r))}function nC(e,...t){var n,r,i;e=be(e);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||Lw(t[a])||(o=t[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges};if(Lw(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,c,u;if(e instanceof Tw)c=ww(e.firestore,Dw),u=Op(e._key.path),l={next:n=>{t[a]&&t[a](iC(c,e,n))},error:t[a+1],complete:t[a+2]};else{const n=ww(e,kw);c=ww(n.firestore,Dw),u=n._query;const r=new Yx(c);l={next:e=>{t[a]&&t[a](new Wx(c,r,n,e))},error:t[a+1],complete:t[a+2]},bx(e._query)}return function(e,t,n,r){const i=new Qb(r),o=new sb(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>nb(await dw(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>rb(await dw(e),o)))}}(jw(c),u,s,l)}function rC(e,t){return function(e,t){const n=new Dd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=qb(e);try{const e=await function(e,t){const n=Rd(e),r=Yd.now(),i=t.reduce(((e,t)=>e.add(t.key)),og());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Yp(),l=og();return n.Zi.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Ng(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Lg(e.key,t,Yf(t.value.mapValue),Ig.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Xp(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new uf(Hd)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Rb(r,e.changes),await D_(r.remoteStore)}catch(e){const t=Y_(e,"Failed to persist write");n.reject(t)}}(await uw(e),t,n))),n.promise}(jw(e),t)}function iC(e,t,n){const r=n.docs.get(t._key),i=new Yx(e);return new Zx(e,i,t._key,r,new Gx(n.hasPendingWrites,n.fromCache),t.converter)}const oC={maxAttempts:5};class aC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Qw(e)}set(e,t,n){this._verifyNotCommitted();const r=sC(e,this._firestore),i=Vx(r.converter,t,n),o=Jw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ig.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=sC(e,this._firestore);let o;return o="string"==typeof(t=be(t))||t instanceof Bw?ax(this._dataReader,"WriteBatch.update",i._key,t,n,r):ox(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Ig.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sC(e,this._firestore);return this._mutations=this._mutations.concat(new Fg(t._key,Ig.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Md(Ld.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sC(e,t){if((e=be(e)).firestore!==t)throw new Md(Ld.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class lC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Qw(e)}get(e){const t=sC(e,this._firestore),n=new Bx(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Nd();const r=e[0];if(r.isFoundDocument())return new vx(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new vx(this._firestore,n,t._key,null,t.converter);throw Nd()}))}set(e,t,n){const r=sC(e,this._firestore),i=Vx(r.converter,t,n),o=Jw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=sC(e,this._firestore);let o;return o="string"==typeof(t=be(t))||t instanceof Bw?ax(this._dataReader,"Transaction.update",i._key,t,n,r):ox(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=sC(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sC(e,this._firestore),n=new Yx(this._firestore);return super.get(e).then((e=>new Zx(this._firestore,n,t._key,e._document,new Gx(!1,!1),t.converter)))}}function cC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Md("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function uC(){if("undefined"==typeof Uint8Array)throw new Md("unimplemented","Uint8Arrays are not available in this environment.")}function dC(){if("undefined"==typeof atob)throw new Md("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Ed=e}(dt),ot(new we("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Dw(new Ud(e.getProvider("auth-internal")),new Zd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Md(Ld.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),mt(xd,"3.13.0",e),mt(xd,"3.13.0","esm2017")}();class hC{constructor(e){this._delegate=e}static fromBase64String(e){return dC(),new hC(Vw.fromBase64String(e))}static fromUint8Array(e){return uC(),new hC(Vw.fromUint8Array(e))}toBase64(){return dC(),this._delegate.toBase64()}toUint8Array(){return uC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class pC{enableIndexedDbPersistence(e,t){return function(e,t){Uw(e=ww(e,Dw));const n=jw(e);if(n._uninitializedComponentsProvider)throw new Md(Ld.FAILED_PRECONDITION,"SDK cache is already specified.");Ad("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new $b;return zw(n,i,new Hb(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Uw(e=ww(e,Dw));const t=jw(e);if(t._uninitializedComponentsProvider)throw new Md(Ld.FAILED_PRECONDITION,"SDK cache is already specified.");Ad("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new $b;return zw(t,r,new Kb(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Md(Ld.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Dd;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!vh.D())return Promise.resolve();const t=e+"main";await vh.delete(t)}(Ny(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class gC{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof kf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ad("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){Iw(this._delegate,e,t,n)}enableNetwork(){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await sw(e),n=await cw(e);return t.setNetworkEnabled(!0),function(e){const t=Rd(e);return t.vu.delete(0),w_(t)}(n)}))}(jw(ww(this._delegate,Dw)))}disableNetwork(){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await sw(e),n=await cw(e);return t.setNetworkEnabled(!1),async function(e){const t=Rd(e);t.vu.add(0),await x_(t),t.bu.set("Offline")}(n)}))}(jw(ww(this._delegate,Dw)))}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,vw("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){const t=new Dd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Rd(e);A_(n.remoteStore)||kd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Rd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=Y_(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await uw(e),t))),t.promise}(jw(ww(this._delegate,Dw)))}onSnapshotsInSync(e){return t=this._delegate,n=e,function(e,t){const n=new Qb(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Rd(e).ku.add(t),t.next()}(await dw(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Rd(e).ku.delete(t)}(await dw(e),n)))}}(jw(t=ww(t,Dw)),Lw(n)?n:{next:n});var t,n}get app(){if(!this._appCompat)throw new Md("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new AC(this,Aw(this._delegate,e))}catch(e){throw wC(e,"collection()","Firestore.collection()")}}doc(e){try{return new bC(this,Pw(this._delegate,e))}catch(e){throw wC(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new TC(this,function(e,t){if(e=ww(e,Ew),mw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Md(Ld.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new kw(e,null,function(e){return new Pp(Xd.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw wC(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=ww(e,Dw);const r=Object.assign(Object.assign({},oC),void 0);return function(e){if(e.maxAttempts<1)throw new Md(Ld.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Dd;return e.asyncQueue.enqueueAndForget((async()=>{const i=await function(e){return aw(e).then((e=>e.datastore))}(e);new ew(e.asyncQueue,i,n,t,r).run()})),r.promise}(jw(e),(n=>t(new lC(e,n))),r)}(this._delegate,(t=>e(new vC(this,t))))}batch(){return jw(this._delegate),new yC(new aC(this._delegate,(e=>rC(this._delegate,e))))}loadBundle(e){return function(e,t){const n=jw(e=ww(e,Dw)),r=new Mw;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Yg().encode(e):e,function(e,t){return new Jb(e,t)}(function(e,t){if(e instanceof Uint8Array)return Yb(e,t);if(e instanceof ArrayBuffer)return Yb(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,f_(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Rd(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Rd(e),r=_m(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(db(r));const i=new ub(r,e.localStore,t.serializer);let o=await t.bc();for(;o;){const e=await i.zu(o);e&&n._updateProgress(e),o=await t.bc()}const a=await i.complete();return await Rb(e,a.Ju,void 0),await function(e,t){const n=Rd(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Hu)}catch(e){return Ad("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await uw(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return(t=this._delegate,n=e,function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Rd(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await lw(e),t)))}(jw(t=ww(t,Dw)),n).then((e=>e?new kw(t,null,e.query):null))).then((e=>e?new TC(this,e):null));var t,n}}class mC extends Ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new hC(new Vw(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return bC.forKey(t,this.firestore,null)}}class vC{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mC(e)}get(e){const t=PC(e);return this._delegate.get(t).then((e=>new EC(this._firestore,new Zx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=PC(e);return n?(cC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=PC(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=PC(e);return this._delegate.delete(t),this}}class yC{constructor(e){this._delegate=e}set(e,t,n){const r=PC(e);return n?(cC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=PC(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=PC(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _C{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new qx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new IC(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=_C.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new _C(e,new mC(e),t),r.set(t,i)),i}}_C.INSTANCES=new WeakMap;class bC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mC(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Md("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new bC(t,new Tw(t._delegate,n,new nh(e)))}static forKey(e,t,n){return new bC(t,new Tw(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new AC(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new AC(this.firestore,Aw(this._delegate,e))}catch(e){throw wC(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=be(e))instanceof Tw&&Nw(this._delegate,e)}set(e,t){t=cC("DocumentReference.set",t);try{return t?Jx(this._delegate,e,t):Jx(this._delegate,e)}catch(e){throw wC(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Xx(this._delegate,e):Xx(this._delegate,e,t,...n)}catch(e){throw wC(e,"updateDoc()","DocumentReference.update()")}}delete(){return eC(this._delegate)}onSnapshot(...e){const t=xC(e),n=CC(e,(e=>new EC(this.firestore,new Zx(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return nC(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=ww(e,Tw);const t=ww(e.firestore,Dw),n=jw(t),r=new Yx(t);return function(e,t){const n=new Dd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Rd(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Md(Ld.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Y_(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await lw(e),t,n))),n.promise}(n,e._key).then((n=>new Zx(t,r,e._key,n,new Gx(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ww(e,Tw);const t=ww(e.firestore,Dw);return hw(jw(t),e._key,{source:"server"}).then((n=>iC(t,e,n)))}(this._delegate):$x(this._delegate),t.then((e=>new EC(this.firestore,new Zx(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new bC(this.firestore,e?this._delegate.withConverter(_C.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function wC(e,t,n){return e.message=e.message.replace(t,n),e}function xC(e){for(const t of e)if("object"==typeof t&&!fC(t))return t;return{}}function CC(e,t){var n,r;let i;return i=fC(e[0])?e[0]:fC(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class EC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new bC(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Kx(this._delegate,e._delegate)}}class IC extends EC{data(e){const t=this._delegate.data(e);return void 0!==t||Nd(),t}}class TC{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mC(e)}where(e,t,n){try{return new TC(this.firestore,Cx(this._delegate,Ix(e,t,n)))}catch(e){throw wC(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new TC(this.firestore,Cx(this._delegate,Sx(e,t)))}catch(e){throw wC(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new TC(this.firestore,Cx(this._delegate,Px(e)))}catch(e){throw wC(e,"limit()","Query.limit()")}}limitToLast(e){try{return new TC(this.firestore,Cx(this._delegate,(xw("limitToLast",t=e),Ax._create("limitToLast",t,"L"))))}catch(e){throw wC(e,"limitToLast()","Query.limitToLast()")}var t}startAt(...e){try{return new TC(this.firestore,Cx(this._delegate,Ox(...e)))}catch(e){throw wC(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new TC(this.firestore,Cx(this._delegate,function(...e){return Nx._create("startAfter",e,!1)}(...e)))}catch(e){throw wC(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new TC(this.firestore,Cx(this._delegate,function(...e){return Rx._create("endBefore",e,!1)}(...e)))}catch(e){throw wC(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new TC(this.firestore,Cx(this._delegate,function(...e){return Rx._create("endAt",e,!0)}(...e)))}catch(e){throw wC(e,"endAt()","Query.endAt()")}}isEqual(e){return Ow(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=ww(e,kw);const t=ww(e.firestore,Dw),n=jw(t),r=new Yx(t);return function(e,t){const n=new Dd;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await By(e,t,!0),i=new pb(t,r.ir),o=i.sc(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=Y_(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await lw(e),t,n))),n.promise}(n,e._query).then((n=>new Wx(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=ww(e,kw);const t=ww(e.firestore,Dw),n=jw(t),r=new Yx(t);return fw(n,e._query,{source:"server"}).then((n=>new Wx(t,r,e,n)))}(this._delegate):Qx(this._delegate),t.then((e=>new SC(this.firestore,new Wx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=xC(e),n=CC(e,(e=>new SC(this.firestore,new Wx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return nC(this._delegate,t,n)}withConverter(e){return new TC(this.firestore,e?this._delegate.withConverter(_C.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class kC{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new IC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class SC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new TC(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new IC(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new kC(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new IC(this._firestore,n))}))}isEqual(e){return Kx(this._delegate,e._delegate)}}class AC extends TC{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new bC(this.firestore,e):null}doc(e){try{return new bC(this.firestore,void 0===e?Pw(this._delegate):Pw(this._delegate,e))}catch(e){throw wC(e,"doc()","CollectionReference.doc()")}}add(e){return tC(this._delegate,e).then((e=>new bC(this.firestore,e)))}isEqual(e){return Nw(this._delegate,e._delegate)}withConverter(e){return new AC(this.firestore,e?this._delegate.withConverter(_C.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function PC(e){return ww(e,Tw)}class NC{constructor(...e){this._delegate=new Bw(...e)}static documentId(){return new NC(th.keyField().canonicalString())}isEqual(e){return(e=be(e))instanceof Bw&&this._delegate._internalPath.isEqual(e._internalPath)}}class OC{constructor(e){this._delegate=e}static serverTimestamp(){const e=new tx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new OC(e)}static delete(){const e=new Xw("deleteField");return e._methodName="FieldValue.delete",new OC(e)}static arrayUnion(...e){const t=function(...e){return new nx("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new OC(t)}static arrayRemove(...e){const t=function(...e){return new rx("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new OC(t)}static increment(e){const t=new ix("increment",e);return t._methodName="FieldValue.increment",new OC(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RC={Firestore:gC,GeoPoint:Zw,Timestamp:Yd,Blob:hC,Transaction:vC,WriteBatch:yC,DocumentReference:bC,DocumentSnapshot:EC,Query:TC,QueryDocumentSnapshot:IC,QuerySnapshot:SC,CollectionReference:AC,FieldPath:NC,FieldValue:OC,setLogLevel:function(e){var t;t=e,Id.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new we("firestore-compat",(e=>((e,t)=>new gC(e,t,new pC))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},RC)))}(e),e.registerVersion("@firebase/firestore-compat","0.3.12")}(En),mt("firebase","9.23.0","app");const LC="@firebase/database",MC="0.14.4";let DC="";class jC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),te(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ee(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class FC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return re(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const zC=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new jC(t)}}catch(e){}return new FC},UC=zC("localStorage"),VC=zC("sessionStorage"),BC=new Ne("@firebase/database"),GC=function(){let e=1;return function(){return e++}}(),ZC=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,k(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new he;n.update(t);const r=n.digest();return P.encodeByteArray(r)},qC=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=qC.apply(null,r):t+="object"==typeof r?te(r):r,t+=" "}return t};let WC=null,HC=!0;const KC=function(...e){if(!0===HC&&(HC=!1,null===WC&&!0===VC.get("logging_enabled")&&(t=!0,k(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(BC.logLevel=Te.VERBOSE,WC=BC.log.bind(BC),n&&VC.set("logging_enabled",!0)):"function"==typeof t?WC=t:(WC=null,VC.remove("logging_enabled")))),WC){const t=qC.apply(null,e);WC(t)}var t,n},$C=function(e){return function(...t){KC(e,...t)}},YC=function(...e){const t="FIREBASE INTERNAL ERROR: "+qC(...e);BC.error(t)},QC=function(...e){const t=`FIREBASE FATAL ERROR: ${qC(...e)}`;throw BC.error(t),new Error(t)},JC=function(...e){const t="FIREBASE WARNING: "+qC(...e);BC.warn(t)},XC=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},eE="[MIN_NAME]",tE="[MAX_NAME]",nE=function(e,t){if(e===t)return 0;if(e===eE||t===tE)return-1;if(t===eE||e===tE)return 1;{const n=uE(e),r=uE(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},rE=function(e,t){return e===t?0:e<t?-1:1},iE=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+te(t))},oE=function(e){if("object"!=typeof e||null===e)return te(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=te(t[r]),n+=":",n+=oE(e[t[r]]);return n+="}",n},aE=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function sE(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const lE=function(e){k(!XC(e),"Invalid JSON number");let t,n,r,i,o;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const s=a.join("");let l="";for(o=0;o<64;o+=8){let e=parseInt(s.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},cE=new RegExp("^-?(0*)\\d{1,10}$"),uE=function(e){if(cE.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},dE=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw JC("Exception was thrown by user callback.",t),e}),Math.floor(0))}},hE=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class fE{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){JC(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pE{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(KC("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',JC(e)}}class gE{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gE.OWNER="owner";const mE="5",vE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yE="ac",_E="websocket",bE="long_polling";class wE{constructor(e,t,n,r,i=!1,o="",a=!1,s=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=UC.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&UC.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function xE(e,t,n){let r;if(k("string"==typeof t,"typeof type must == string"),k("object"==typeof n,"typeof params must == object"),t===_E)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==bE)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return sE(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class CE{constructor(){this.counters_={}}incrementCounter(e,t=1){re(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return M(void 0,this.counters_)}}const EE={},IE={};function TE(e){const t=e.toString();return EE[t]||(EE[t]=new CE),EE[t]}class kE{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&dE((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const SE="start";class AE{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$C(e),this.stats_=TE(t),this.urlFn=e=>(this.appCheckToken&&(e[yE]=this.appCheckToken),xE(t,bE,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new kE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new PE(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===SE)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[SE]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=mE,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[yE]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&vE.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){AE.forceAllow_=!0}static forceDisallow(){AE.forceDisallow_=!0}static isAvailable(){return!(!AE.forceAllow_&&(AE.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=te(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=O(t),r=aE(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=te(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class PE{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=GC(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=PE.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){KC("frame writing exception"),e.stack&&KC(e.stack),KC(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||KC("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{KC("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let NE=null;"undefined"!=typeof MozWebSocket?NE=MozWebSocket:"undefined"!=typeof WebSocket&&(NE=WebSocket);class OE{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$C(this.connId),this.stats_=TE(t),this.connURL=OE.connectionURL_(t,o,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=mE,"undefined"!=typeof location&&location.hostname&&vE.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[yE]=r),i&&(o.p=i),xE(e,_E,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,UC.set("previous_websocket_failure",!0);try{let e;0,this.mySock=new NE(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){OE.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==NE&&!OE.forceDisallow_}static previouslyFailed(){return UC.isInMemoryStorage||!0===UC.get("previous_websocket_failure")}markConnectionHealthy(){UC.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=ee(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=te(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=aE(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}OE.responsesRequiredToBeHealthy=2,OE.healthyTimeout=3e4;class RE{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[AE,OE]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=OE&&OE.isAvailable();let n=t&&!OE.previouslyFailed();if(e.webSocketOnly&&(t||JC("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[OE];else{const e=this.transports_=[];for(const t of RE.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);RE.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}RE.globalTransportInitialized_=!1;class LE{constructor(e,t,n,r,i,o,a,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$C("c:"+this.id+":"),this.transportManager_=new RE(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=hE((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=iE("t",e),n=iE("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=iE("t",e),n=iE("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=iE("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?YC("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):YC("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),mE!==n&&JC("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),hE((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hE((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(UC.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ME{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class DE{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){k(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class jE extends DE{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||q()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new jE}getInitialEvent(e){return k("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class FE{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function zE(){return new FE("")}function UE(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function VE(e){return e.pieces_.length-e.pieceNum_}function BE(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new FE(e.pieces_,t)}function GE(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ZE(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function qE(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new FE(t,0)}function WE(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof FE)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new FE(n,0)}function HE(e){return e.pieceNum_>=e.pieces_.length}function KE(e,t){const n=UE(e),r=UE(t);if(null===n)return t;if(n===r)return KE(BE(e),BE(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $E(e,t){if(VE(e)!==VE(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function YE(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(VE(e)>VE(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class QE{constructor(e,t){this.errorPrefix_=t,this.parts_=ZE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=ve(this.parts_[e]);JE(this)}}function JE(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+XE(e))}function XE(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class eI extends DE{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new eI}getInitialEvent(e){return k("visible"===e,"Unknown event type: "+e),[this.visible_]}}const tI=1e3;class nI extends ME{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=nI.nextPersistentConnectionId_++,this.log_=$C("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eI.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jE.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_(te(i)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new B,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,a=i.s;nI.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&re(e,"w")){const n=ie(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();JC(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=ne(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=ne(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+te(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):YC("Unrecognized action received from server: "+te(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tI,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=tI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+nI.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},l=function(e){k(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?KC("getToken() completed but was canceled"):(KC("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new LE(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{JC(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&JC(e),s())}}}interrupt(e){KC("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){KC("Resuming connection for reason: "+e),delete this.interruptReasons_[e],oe(this.interruptReasons_)&&(this.reconnectDelay_=tI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>oE(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new FE(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){KC("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){KC("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+DC.replace(/\./g,"-")]=1,q()?e["framework.cordova"]=1:K()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jE.getInstance().currentlyOnline();return oe(this.interruptReasons_)&&e}}nI.nextPersistentConnectionId_=0,nI.nextConnectionId_=0;class rI{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new rI(e,t)}}class iI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new rI(eE,e),r=new rI(eE,t);return 0!==this.compare(n,r)}minPost(){return rI.MIN}}let oI;class aI extends iI{static get __EMPTY_NODE(){return oI}static set __EMPTY_NODE(e){oI=e}compare(e,t){return nE(e.name,t.name)}isDefinedOn(e){throw S("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return rI.MIN}maxPost(){return new rI(tE,oI)}makePost(e,t){return k("string"==typeof e,"KeyIndex indexValue must always be a string."),new rI(e,oI)}toString(){return".key"}}const sI=new aI;class lI{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class cI{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:cI.RED,this.left=null!=r?r:uI.EMPTY_NODE,this.right=null!=i?i:uI.EMPTY_NODE}copy(e,t,n,r,i){return new cI(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return uI.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return uI.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,cI.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,cI.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}cI.RED=!0,cI.BLACK=!1;class uI{constructor(e,t=uI.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new uI(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,cI.BLACK,null,null))}remove(e){return new uI(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,cI.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new lI(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new lI(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new lI(this.root_,null,this.comparator_,!0,e)}}function dI(e,t){return nE(e.name,t.name)}function hI(e,t){return nE(e,t)}let fI;uI.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new cI(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pI=function(e){return"number"==typeof e?"number:"+lE(e):"string:"+e},gI=function(e){if(e.isLeafNode()){const t=e.val();k("string"==typeof t||"number"==typeof t||"object"==typeof t&&re(t,".sv"),"Priority must be a string or number.")}else k(e===fI||e.isEmpty(),"priority of unexpected type.");k(e===fI||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let mI,vI,yI;class _I{constructor(e,t=_I.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,k(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),gI(this.priorityNode_)}static set __childrenNodeConstructor(e){mI=e}static get __childrenNodeConstructor(){return mI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new _I(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:_I.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return HE(e)?this:".priority"===UE(e)?this.priorityNode_:_I.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:_I.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=UE(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(k(".priority"!==n||1===VE(e),".priority must be the last token in a path"),this.updateImmediateChild(n,_I.__childrenNodeConstructor.EMPTY_NODE.updateChild(BE(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pI(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?lE(this.value_):this.value_,this.lazyHash_=ZC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===_I.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof _I.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=_I.VALUE_TYPE_ORDER.indexOf(t),i=_I.VALUE_TYPE_ORDER.indexOf(n);return k(r>=0,"Unknown leaf type: "+t),k(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}_I.VALUE_TYPE_ORDER=["object","boolean","number","string"];const bI=new class extends iI{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?nE(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return rI.MIN}maxPost(){return new rI(tE,new _I("[PRIORITY-POST]",yI))}makePost(e,t){const n=vI(e);return new rI(t,new _I("[PRIORITY-POST]",n))}toString(){return".priority"}},wI=Math.log(2);class xI{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/wI,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const CI=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new cI(s,a.node,cI.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return a=e[l],s=n?n(a):a,new cI(s,a.node,cI.BLACK,c,u)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const c=i(o+1,s),u=e[o],d=n?n(u):u;l(new cI(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,cI.BLACK):(s(r,cI.BLACK),s(r,cI.RED))}return o}(new xI(e.length));return new uI(r||t,o)};let EI;const II={};class TI{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return k(II&&bI,"ChildrenNode.ts has not been loaded"),EI=EI||new TI({".priority":II},{".priority":bI}),EI}get(e){const t=ie(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof uI?t:null}hasIndex(e){return re(this.indexSet_,e.toString())}addIndex(e,t){k(e!==sI,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(rI.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?CI(n,e.getCompare()):II;const s=e.toString(),l=Object.assign({},this.indexSet_);l[s]=e;const c=Object.assign({},this.indexes_);return c[s]=o,new TI(c,l)}addToIndexes(e,t){const n=ae(this.indexes_,((n,r)=>{const i=ie(this.indexSet_,r);if(k(i,"Missing index implementation for "+r),n===II){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(rI.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),CI(n,i.getCompare())}return II}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new rI(e.name,r))),i.insert(e,e.node)}}));return new TI(n,this.indexSet_)}removeFromIndexes(e,t){const n=ae(this.indexes_,(n=>{if(n===II)return n;{const r=t.get(e.name);return r?n.remove(new rI(e.name,r)):n}}));return new TI(n,this.indexSet_)}}let kI;class SI{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&gI(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return kI||(kI=new SI(new uI(hI),null,TI.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kI}updatePriority(e){return this.children_.isEmpty()?this:new SI(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?kI:t}}getChild(e){const t=UE(e);return null===t?this:this.getImmediateChild(t).getChild(BE(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(k(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new rI(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?kI:this.priorityNode_;return new SI(r,o,i)}}updateChild(e,t){const n=UE(e);if(null===n)return t;{k(".priority"!==UE(e)||1===VE(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(BE(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(bI,((o,a)=>{t[o]=a.val(e),n++,i&&SI.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+pI(this.getPriority().val())+":"),this.forEachChild(bI,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ZC(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new rI(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new rI(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new rI(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,rI.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,rI.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===AI?-1:0}withIndex(e){if(e===sI||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new SI(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===sI||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(bI),n=t.getIterator(bI);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===sI?null:this.indexMap_.get(e.toString())}}SI.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const AI=new class extends SI{constructor(){super(new uI(hI),SI.EMPTY_NODE,TI.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return SI.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(rI,{MIN:{value:new rI(eE,SI.EMPTY_NODE)},MAX:{value:new rI(tE,AI)}}),aI.__EMPTY_NODE=SI.EMPTY_NODE,_I.__childrenNodeConstructor=SI,function(e){fI=e}(AI),function(e){yI=e}(AI);const PI=!0;function NI(e,t=null){if(null===e)return SI.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),k(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new _I(e,NI(t));if(e instanceof Array||!PI){let n=SI.EMPTY_NODE;return sE(e,((t,r)=>{if(re(e,t)&&"."!==t.substring(0,1)){const e=NI(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(NI(t))}{const n=[];let r=!1;if(sE(e,((e,t)=>{if("."!==e.substring(0,1)){const i=NI(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new rI(e,i)))}})),0===n.length)return SI.EMPTY_NODE;const i=CI(n,dI,(e=>e.name),hI);if(r){const e=CI(n,bI.getCompare());return new SI(i,NI(t),new TI({".priority":e},{".priority":bI}))}return new SI(i,NI(t),TI.Default)}}!function(e){vI=e}(NI);class OI extends iI{constructor(e){super(),this.indexPath_=e,k(!HE(e)&&".priority"!==UE(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?nE(e.name,t.name):i}makePost(e,t){const n=NI(e),r=SI.EMPTY_NODE.updateChild(this.indexPath_,n);return new rI(t,r)}maxPost(){const e=SI.EMPTY_NODE.updateChild(this.indexPath_,AI);return new rI(tE,e)}toString(){return ZE(this.indexPath_,0).join("/")}}const RI=new class extends iI{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?nE(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return rI.MIN}maxPost(){return rI.MAX}makePost(e,t){const n=NI(e);return new rI(t,n)}toString(){return".value"}};function LI(e){return{type:"value",snapshotNode:e}}function MI(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function DI(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function jI(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class FI{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(DI(t,a)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(MI(t,n)):o.trackChildChange(jI(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(bI,((e,r)=>{t.hasChild(e)||n.trackChildChange(DI(e,r))})),t.isLeafNode()||t.forEachChild(bI,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(jI(t,r,i))}else n.trackChildChange(MI(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?SI.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zI{constructor(e){this.indexedFilter_=new FI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zI.getStartPost_(e),this.endPost_=zI.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new rI(t,n))||(n=SI.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=SI.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(SI.EMPTY_NODE);const i=this;return t.forEachChild(bI,((e,t)=>{i.matches(new rI(e,t))||(r=r.updateImmediateChild(e,SI.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class UI{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new zI(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new rI(t,n))||(n=SI.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=SI.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=SI.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(SI.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,SI.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;k(a.numChildren()===this.limit_,"");const s=new rI(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,s);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(jI(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(DI(t,e));const n=a.updateImmediateChild(t,SI.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(MI(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,s)>=0?(null!=i&&(i.trackChildChange(DI(l.name,l.node)),i.trackChildChange(MI(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,SI.EMPTY_NODE)):e}}class VI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bI}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:eE}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tE}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bI}copy(){const e=new VI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BI(e){const t={};if(e.isDefault())return t;let n;if(e.index_===bI?n="$priority":e.index_===RI?n="$value":e.index_===sI?n="$key":(k(e.index_ instanceof OI,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=te(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=te(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+te(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=te(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+te(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function GI(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==bI&&(t.i=e.index_.toString()),t}class ZI extends ME{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=$C("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ZI.getListenId_(e,n),a={};this.listens_[o]=a;const s=BI(e._queryParams);this.restRequest_(i+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),ie(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ZI.getListenId_(e,t);delete this.listens_[n]}get(e){const t=BI(e._queryParams),n=e._path.toString(),r=new B;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ce(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=ee(a.responseText)}catch(e){JC("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&JC("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class qI{constructor(){this.rootNode_=SI.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function WI(){return{value:null,children:new Map}}function HI(e,t,n){if(HE(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=UE(t);e.children.has(r)||e.children.set(r,WI()),HI(e.children.get(r),t=BE(t),n)}}function KI(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{KI(r,new FE(t.toString()+"/"+e),n)}))}class $I{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&sE(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class YI{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new $I(e);const n=1e4+2e4*Math.random();hE(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;sE(e,((e,r)=>{r>0&&re(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),hE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var QI,JI;function XI(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(JI=QI||(QI={}))[JI.OVERWRITE=0]="OVERWRITE",JI[JI.MERGE=1]="MERGE",JI[JI.ACK_USER_WRITE=2]="ACK_USER_WRITE",JI[JI.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class eT{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=QI.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(HE(this.path)){if(null!=this.affectedTree.value)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new FE(e));return new eT(zE(),t,this.revert)}}return k(UE(this.path)===e,"operationForChild called for unrelated child."),new eT(BE(this.path),this.affectedTree,this.revert)}}class tT{constructor(e,t){this.source=e,this.path=t,this.type=QI.LISTEN_COMPLETE}operationForChild(e){return HE(this.path)?new tT(this.source,zE()):new tT(this.source,BE(this.path))}}class nT{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=QI.OVERWRITE}operationForChild(e){return HE(this.path)?new nT(this.source,zE(),this.snap.getImmediateChild(e)):new nT(this.source,BE(this.path),this.snap)}}class rT{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=QI.MERGE}operationForChild(e){if(HE(this.path)){const t=this.children.subtree(new FE(e));return t.isEmpty()?null:t.value?new nT(this.source,zE(),t.value):new rT(this.source,zE(),t)}return k(UE(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rT(this.source,BE(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class iT{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(HE(e))return this.isFullyInitialized()&&!this.filtered_;const t=UE(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class oT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function aT(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw S("Should only compare child_ events.");const r=new rI(t.childName,t.snapshotNode),i=new rI(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function sT(e,t){return{eventCache:e,serverCache:t}}function lT(e,t,n,r){return sT(new iT(t,n,r),e.serverCache)}function cT(e,t,n,r){return sT(e.eventCache,new iT(t,n,r))}function uT(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function dT(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let hT;class fT{constructor(e,t=(()=>(hT||(hT=new uI(rE)),hT))()){this.value=e,this.children=t}static fromObject(e){let t=new fT(null);return sE(e,((e,n)=>{t=t.set(new FE(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:zE(),value:this.value};if(HE(e))return null;{const n=UE(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(BE(e),t);return null!=i?{path:WE(new FE(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(HE(e))return this;{const t=UE(e),n=this.children.get(t);return null!==n?n.subtree(BE(e)):new fT(null)}}set(e,t){if(HE(e))return new fT(t,this.children);{const n=UE(e),r=(this.children.get(n)||new fT(null)).set(BE(e),t),i=this.children.insert(n,r);return new fT(this.value,i)}}remove(e){if(HE(e))return this.children.isEmpty()?new fT(null):new fT(null,this.children);{const t=UE(e),n=this.children.get(t);if(n){const r=n.remove(BE(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new fT(null):new fT(this.value,i)}return this}}get(e){if(HE(e))return this.value;{const t=UE(e),n=this.children.get(t);return n?n.get(BE(e)):null}}setTree(e,t){if(HE(e))return t;{const n=UE(e),r=(this.children.get(n)||new fT(null)).setTree(BE(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new fT(this.value,i)}}fold(e){return this.fold_(zE(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(WE(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,zE(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(HE(e))return null;{const r=UE(e),i=this.children.get(r);return i?i.findOnPath_(BE(e),WE(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,zE(),t)}foreachOnPath_(e,t,n){if(HE(e))return this;{this.value&&n(t,this.value);const r=UE(e),i=this.children.get(r);return i?i.foreachOnPath_(BE(e),WE(t,r),n):new fT(null)}}foreach(e){this.foreach_(zE(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(WE(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class pT{constructor(e){this.writeTree_=e}static empty(){return new pT(new fT(null))}}function gT(e,t,n){if(HE(t))return new pT(new fT(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=KE(i,t);return o=o.updateChild(a,n),new pT(e.writeTree_.set(i,o))}{const r=new fT(n),i=e.writeTree_.setTree(t,r);return new pT(i)}}}function mT(e,t,n){let r=e;return sE(n,((e,n)=>{r=gT(r,WE(t,e),n)})),r}function vT(e,t){if(HE(t))return pT.empty();{const n=e.writeTree_.setTree(t,new fT(null));return new pT(n)}}function yT(e,t){return null!=_T(e,t)}function _T(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(KE(n.path,t)):null}function bT(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(bI,((e,n)=>{t.push(new rI(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new rI(e,n.value))})),t}function wT(e,t){if(HE(t))return e;{const n=_T(e,t);return new pT(null!=n?new fT(n):e.writeTree_.subtree(t))}}function xT(e){return e.writeTree_.isEmpty()}function CT(e,t){return ET(zE(),e.writeTree_,t)}function ET(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(k(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ET(WE(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(WE(e,".priority"),r)),n}}function IT(e,t){return DT(t,e)}function TT(e,t){if(e.snap)return YE(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&YE(WE(e.path,n),t))return!0;return!1}function kT(e){return e.visible}function ST(e,t,n){let r=pT.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)YE(n,e)?(t=KE(n,e),r=gT(r,t,o.snap)):YE(e,n)&&(t=KE(e,n),r=gT(r,zE(),o.snap.getChild(t)));else{if(!o.children)throw S("WriteRecord should have .snap or .children");if(YE(n,e))t=KE(n,e),r=mT(r,t,o.children);else if(YE(e,n))if(t=KE(e,n),HE(t))r=mT(r,zE(),o.children);else{const e=ie(o.children,UE(t));if(e){const n=e.getChild(BE(t));r=gT(r,zE(),n)}}}}}return r}function AT(e,t,n,r,i){if(r||i){const o=wT(e.visibleWrites,t);if(!i&&xT(o))return n;if(i||null!=n||yT(o,zE())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(YE(e.path,t)||YE(t,e.path))};return CT(ST(e.allWrites,o,t),n||SI.EMPTY_NODE)}return null}{const r=_T(e.visibleWrites,t);if(null!=r)return r;{const r=wT(e.visibleWrites,t);return xT(r)?n:null!=n||yT(r,zE())?CT(r,n||SI.EMPTY_NODE):null}}}function PT(e,t,n,r){return AT(e.writeTree,e.treePath,t,n,r)}function NT(e,t){return function(e,t,n){let r=SI.EMPTY_NODE;const i=_T(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(bI,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=wT(e.visibleWrites,t);return n.forEachChild(bI,((e,t)=>{const n=CT(wT(i,new FE(e)),t);r=r.updateImmediateChild(e,n)})),bT(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return bT(wT(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function OT(e,t,n,r){return function(e,t,n,r,i){k(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=WE(t,n);if(yT(e.visibleWrites,o))return null;{const t=wT(e.visibleWrites,o);return xT(t)?i.getChild(n):CT(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function RT(e,t){return function(e,t){return _T(e.visibleWrites,t)}(e.writeTree,WE(e.treePath,t))}function LT(e,t,n){return function(e,t,n,r){const i=WE(t,n),o=_T(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?CT(wT(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function MT(e,t){return DT(WE(e.treePath,t),e.writeTree)}function DT(e,t){return{treePath:e,writeTree:t}}class jT{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;k("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),k(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,jI(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,DI(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,MI(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw S("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,jI(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const FT=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class zT{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new iT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return LT(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:dT(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const l=wT(e.visibleWrites,t),c=_T(l,zE());if(null!=c)s=c;else{if(null==n)return[];s=CT(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function UT(e,t,n,r,i,o){const a=t.eventCache;if(null!=RT(r,n))return t;{let s,l;if(HE(n))if(k(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=dT(t),i=NT(r,n instanceof SI?n:SI.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=PT(r,dT(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=UE(n);if(".priority"===c){k(1===VE(n),"Can't have a priority with additional path components");const i=a.getNode();l=t.serverCache.getNode();const o=OT(r,n,i,l);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const u=BE(n);let d;if(a.isCompleteForChild(c)){l=t.serverCache.getNode();const e=OT(r,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(c).updateChild(u,e):a.getNode().getImmediateChild(c)}else d=LT(r,c,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),c,d,u,i,o):a.getNode()}}return lT(t,s,a.isFullyInitialized()||HE(n),e.filter.filtersNodes())}}function VT(e,t,n,r,i,o,a,s){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(HE(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=UE(n);if(!l.isCompleteForPath(n)&&VE(n)>1)return t;const i=BE(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,FT,null)}const d=cT(t,c,l.isFullyInitialized()||HE(n),u.filtersNodes());return UT(e,d,n,i,new zT(i,d,o),s)}function BT(e,t,n,r,i,o,a){const s=t.eventCache;let l,c;const u=new zT(i,t,o);if(HE(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=lT(t,c,!0,e.filter.filtersNodes());else{const i=UE(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=lT(t,c,s.isFullyInitialized(),s.isFiltered());else{const o=BE(n),c=s.getNode().getImmediateChild(i);let d;if(HE(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===GE(o)&&e.getChild(qE(o)).isEmpty()?e:e.updateChild(o,r):SI.EMPTY_NODE}l=c.equals(d)?t:lT(t,e.filter.updateChild(s.getNode(),i,d,o,u,a),s.isFullyInitialized(),e.filter.filtersNodes())}}return l}function GT(e,t){return e.eventCache.isCompleteForChild(t)}function ZT(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function qT(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=HE(n)?r:new fT(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=ZT(0,t.serverCache.getNode().getImmediateChild(n),r);c=VT(e,c,new FE(n),l,i,o,a,s)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=ZT(0,t.serverCache.getNode().getImmediateChild(n),r);c=VT(e,c,new FE(n),l,i,o,a,s)}})),c}class WT{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new FI(n.getIndex()),i=(o=n).loadsAllData()?new FI(o.getIndex()):o.hasLimit()?new UI(o):new zI(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,l=r.updateFullNode(SI.EMPTY_NODE,a.getNode(),null),c=i.updateFullNode(SI.EMPTY_NODE,s.getNode(),null),u=new iT(l,a.isFullyInitialized(),r.filtersNodes()),d=new iT(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=sT(d,u),this.eventGenerator_=new oT(this.query_)}get query(){return this.query_}}function HT(e,t){const n=dT(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!HE(t)&&!n.getImmediateChild(UE(t)).isEmpty())?n.getChild(t):null}function KT(e){return 0===e.eventRegistrations_.length}function $T(e,t,n){const r=[];if(n){k(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function YT(e,t,n,r){t.type===QI.MERGE&&null!==t.source.queryId&&(k(dT(e.viewCache_),"We should always have a full cache before handling merges"),k(uT(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function(e,t,n,r,i){const o=new jT;let a,s;if(n.type===QI.OVERWRITE){const l=n;l.source.fromUser?a=BT(e,t,l.path,l.snap,r,i,o):(k(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!HE(l.path),a=VT(e,t,l.path,l.snap,r,i,s,o))}else if(n.type===QI.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach(((r,l)=>{const c=WE(n,r);GT(t,UE(c))&&(s=BT(e,s,c,l,i,o,a))})),r.foreach(((r,l)=>{const c=WE(n,r);GT(t,UE(c))||(s=BT(e,s,c,l,i,o,a))})),s}(e,t,l.path,l.children,r,i,o):(k(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=qT(e,t,l.path,l.children,r,i,s,o))}else if(n.type===QI.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=RT(r,n))return t;{const s=new zT(r,t,i),l=t.eventCache.getNode();let c;if(HE(n)||".priority"===UE(n)){let n;if(t.serverCache.isFullyInitialized())n=PT(r,dT(t));else{const e=t.serverCache.getNode();k(e instanceof SI,"serverChildren would be complete if leaf node"),n=NT(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=UE(n);let u=LT(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,BE(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,SI.EMPTY_NODE,BE(n),s,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=PT(r,dT(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=RT(r,zE()),lT(t,c,a,e.filter.filtersNodes())}}(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=RT(i,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(HE(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return VT(e,t,n,l.getNode().getChild(n),i,o,s,a);if(HE(n)){let r=new fT(null);return l.getNode().forEachChild(sI,((e,t)=>{r=r.set(new FE(e),t)})),qT(e,t,n,r,i,o,s,a)}return t}{let c=new fT(null);return r.foreach(((e,t)=>{const r=WE(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),qT(e,t,n,c,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==QI.LISTEN_COMPLETE)throw S("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache;return UT(e,cT(t,o.getNode(),o.isFullyInitialized()||HE(n),o.isFiltered()),n,r,FT,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=uT(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(LI(uT(t)))}}(t,a,l),{viewCache:a,changes:l}}(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,k(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),k(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),k(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,QT(e,o.changes,o.viewCache.eventCache.getNode(),null)}function QT(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),aT(e,i,"child_removed",t,r,n),aT(e,i,"child_added",t,r,n),aT(e,i,"child_moved",o,r,n),aT(e,i,"child_changed",t,r,n),aT(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let JT,XT;class ek{constructor(){this.views=new Map}}function tk(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return k(null!=o,"SyncTree gave us an op for an invalid query."),YT(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(YT(o,t,n,r));return i}}function nk(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=PT(n,i?r:null),o=!1;e?o=!0:r instanceof SI?(e=NT(n,r),o=!1):(e=SI.EMPTY_NODE,o=!1);const a=sT(new iT(e,o,!1),new iT(r,i,!1));return new WT(t,a)}return a}function rk(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ik(e,t){let n=null;for(const r of e.views.values())n=n||HT(r,t);return n}function ok(e,t){if(t._queryParams.loadsAllData())return lk(e);{const n=t._queryIdentifier;return e.views.get(n)}}function ak(e,t){return null!=ok(e,t)}function sk(e){return null!=lk(e)}function lk(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ck=1;class uk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fT(null),this.pendingWriteTree_={visibleWrites:pT.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dk(e,t,n,r,i){return function(e,t,n,r,i){k(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gT(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?yk(e,new nT({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function hk(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));k(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&TT(t,r.path)?i=!1:YE(r.path,t.path)&&(o=!0)),a--}return!!i&&(o?(function(e){e.visibleWrites=ST(e.allWrites,kT,zE()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=vT(e.visibleWrites,r.path):sE(r.children,(t=>{e.visibleWrites=vT(e.visibleWrites,WE(r.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new fT(null);return null!=r.snap?t=t.set(zE(),!0):sE(r.children,(e=>{t=t.set(new FE(e),!0)})),yk(e,new eT(r.path,t,n))}return[]}function fk(e,t,n){return yk(e,new nT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function pk(e,t,n,r,i=!1){const o=t._path,a=e.syncPointTree_.get(o);let s=[];if(a&&("default"===t._queryIdentifier||ak(a,t))){const l=function(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=sk(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat($T(i,n,r)),KT(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat($T(t,n,r)),KT(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!sk(e)&&o.push(new(k(JT,"Reference.ts has not been loaded"),JT)(t._repo,t._path)),{removed:o,events:a}}(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(s=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>sk(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&sk(t))return[lk(t)];{let e=[];return t&&(e=rk(t)),sE(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=wk(e,r);e.listenProvider_.startListening(kk(i),xk(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(kk(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Ck(t));e.listenProvider_.stopListening(kk(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Ck(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function gk(e,t,n,r){const i=Ek(e,r);if(null!=i){const r=Ik(i),o=r.path,a=r.queryId,s=KE(o,t);return Tk(e,o,new nT(XI(a),s,n))}return[]}function mk(e,t,n,r=!1){const i=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=KE(e,i);o=o||ik(t,n),a=a||sk(t)}));let s,l=e.syncPointTree_.get(i);l?(a=a||sk(l),o=o||ik(l,zE())):(l=new ek,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o?s=!0:(s=!1,o=SI.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=ik(t,zE());n&&(o=o.updateImmediateChild(e,n))})));const c=ak(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Ck(t);k(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=ck++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=function(e,t,n,r,i,o){const a=nk(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(bI,((e,t)=>{r.push(MI(e,t))})),n.isFullyInitialized()&&r.push(LI(n.getNode())),QT(e,r,n.getNode(),t)}(a,n)}(l,t,n,IT(e.pendingWriteTree_,i),o,s);if(!c&&!a&&!r){const n=ok(l,t);u=u.concat(function(e,t,n){const r=t._path,i=xk(e,t),o=wk(e,n),a=e.listenProvider_.startListening(kk(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)k(!sk(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!HE(e)&&t&&sk(t))return[lk(t).query];{let e=[];return t&&(e=e.concat(rk(t).map((e=>e.query)))),sE(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(kk(r),xk(e,r))}}return a}(e,t,n))}return u}function vk(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=ik(n,KE(e,t));if(r)return r}));return AT(r,t,i,n,!0)}function yk(e,t){return _k(t,e.syncPointTree_,null,IT(e.pendingWriteTree_,zE()))}function _k(e,t,n,r){if(HE(e.path))return bk(e,t,n,r);{const i=t.get(zE());null==n&&null!=i&&(n=ik(i,zE()));let o=[];const a=UE(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const e=n?n.getImmediateChild(a):null,t=MT(r,a);o=o.concat(_k(s,l,e,t))}return i&&(o=o.concat(tk(i,e,r,n))),o}}function bk(e,t,n,r){const i=t.get(zE());null==n&&null!=i&&(n=ik(i,zE()));let o=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,s=MT(r,t),l=e.operationForChild(t);l&&(o=o.concat(bk(l,i,a,s)))})),i&&(o=o.concat(tk(i,e,r,n))),o}function wk(e,t){const n=t.query,r=xk(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||SI.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Ek(e,n);if(r){const n=Ik(r),i=n.path,o=n.queryId,a=KE(i,t);return Tk(e,i,new tT(XI(o),a))}return[]}(e,n._path,r):function(e,t){return yk(e,new tT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return pk(e,n,null,r)}}}}function xk(e,t){const n=Ck(t);return e.queryToTagMap.get(n)}function Ck(e){return e._path.toString()+"$"+e._queryIdentifier}function Ek(e,t){return e.tagToQueryMap.get(t)}function Ik(e){const t=e.indexOf("$");return k(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new FE(e.substr(0,t))}}function Tk(e,t,n){const r=e.syncPointTree_.get(t);return k(r,"Missing sync point for query tag that we're tracking"),tk(r,n,IT(e.pendingWriteTree_,t),null)}function kk(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(k(XT,"Reference.ts has not been loaded"),XT)(e._repo,e._path):e}class Sk{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Sk(t)}node(){return this.node_}}class Ak{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=WE(this.path_,e);return new Ak(this.syncTree_,t)}node(){return vk(this.syncTree_,this.path_)}}const Pk=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Nk=function(e,t,n){return e&&"object"==typeof e?(k(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Ok(e[".sv"],t,n):"object"==typeof e[".sv"]?Rk(e[".sv"],t):void k(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ok=function(e,t,n){if("timestamp"===e)return n.timestamp;k(!1,"Unexpected server value: "+e)},Rk=function(e,t,n){e.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&k(!1,"Unexpected increment value: "+r);const i=t.node();if(k(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},Lk=function(e,t,n,r){return Dk(t,new Ak(n,e),r)},Mk=function(e,t,n){return Dk(e,new Sk(t),n)};function Dk(e,t,n){const r=e.getPriority().val(),i=Nk(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Nk(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new _I(o,NI(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new _I(i))),r.forEachChild(bI,((e,r)=>{const i=Dk(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class jk{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Fk(e,t){let n=t instanceof FE?t:new FE(t),r=e,i=UE(n);for(;null!==i;){const e=ie(r.node.children,i)||{children:{},childCount:0};r=new jk(i,r,e),n=BE(n),i=UE(n)}return r}function zk(e){return e.node.value}function Uk(e,t){e.node.value=t,qk(e)}function Vk(e){return e.node.childCount>0}function Bk(e,t){sE(e.node.children,((n,r)=>{t(new jk(n,e,r))}))}function Gk(e,t,n,r){n&&!r&&t(e),Bk(e,(e=>{Gk(e,t,!0,r)})),n&&r&&t(e)}function Zk(e){return new FE(null===e.parent?e.name:Zk(e.parent)+"/"+e.name)}function qk(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===zk(e)&&!Vk(e)}(n),i=re(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,qk(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,qk(e))}(e.parent,e.name,e)}const Wk=/[\[\].#$\/\u0000-\u001F\u007F]/,Hk=/[\[\].#$\u0000-\u001F\u007F]/,Kk=10485760,$k=function(e){return"string"==typeof e&&0!==e.length&&!Wk.test(e)},Yk=function(e){return"string"==typeof e&&0!==e.length&&!Hk.test(e)},Qk=function(e,t,n,r){r&&void 0===t||Jk(me(e,"value"),t,n)},Jk=function(e,t,n){const r=n instanceof FE?new QE(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+XE(r));if("function"==typeof t)throw new Error(e+"contains a function "+XE(r)+" with contents = "+t.toString());if(XC(t))throw new Error(e+"contains "+t.toString()+" "+XE(r));if("string"==typeof t&&t.length>Kk/3&&ve(t)>Kk)throw new Error(e+"contains a string greater than "+Kk+" utf8 bytes "+XE(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(sE(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!$k(t)))throw new Error(e+" contains an invalid key ("+t+") "+XE(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ve(t),JE(e)}(r,t),Jk(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=ve(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+XE(r)+" in addition to actual children.")}},Xk=function(e,t,n,r){if(!(r&&void 0===n||Yk(n)))throw new Error(me(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},eS=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Xk(e,t,n,r)},tS=function(e,t){if(".info"===UE(t))throw new Error(e+" failed = Can't modify data under /.info/")};class nS{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rS(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||$E(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function iS(e,t,n){rS(e,n),aS(e,(e=>$E(e,t)))}function oS(e,t,n){rS(e,n),aS(e,(e=>YE(e,t)||YE(t,e)))}function aS(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(sS(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function sS(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();WC&&KC("event: "+n.toString()),dE(r)}}}const lS=25;class cS{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=WI(),this.transactionQueueTree_=new jk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uS(e,t,n){if(e.stats_=TE(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ZI(e.repoInfo_,((t,n,r,i)=>{fS(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>pS(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{te(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new nI(e.repoInfo_,t,((t,n,r,i)=>{fS(e,t,n,r,i)}),(t=>{pS(e,t)}),(t=>{!function(e,t){sE(t,((t,n)=>{gS(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,n){const r=t.toString();return IE[r]||(IE[r]=new YI(e.stats_,e.server_)),IE[r]}(e.repoInfo_),e.infoData_=new qI,e.infoSyncTree_=new uk({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=fk(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),gS(e,"connected",!1),e.serverSyncTree_=new uk({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);oS(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function dS(e){const t=e.infoData_.getNode(new FE(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function hS(e){return Pk({timestamp:dS(e)})}function fS(e,t,n,r,i){e.dataUpdateCount++;const o=new FE(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=ae(n,(e=>NI(e)));a=function(e,t,n,r){const i=Ek(e,r);if(i){const r=Ik(i),o=r.path,a=r.queryId,s=KE(o,t),l=fT.fromObject(n);return Tk(e,o,new rT(XI(a),s,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=NI(n);a=gk(e.serverSyncTree_,o,t,i)}else if(r){const t=ae(n,(e=>NI(e)));a=function(e,t,n){const r=fT.fromObject(n);return yk(e,new rT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=NI(n);a=fk(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=xS(e,o)),oS(e.eventQueue_,s,a)}function pS(e,t){gS(e,"connected",t),!1===t&&function(e){_S(e,"onDisconnectEvents");const t=hS(e),n=WI();KI(e.onDisconnect_,zE(),((r,i)=>{const o=Lk(r,i,e.serverSyncTree_,t);HI(n,r,o)}));let r=[];KI(n,zE(),((t,n)=>{r=r.concat(fk(e.serverSyncTree_,t,n));const i=kS(e,t);xS(e,i)})),e.onDisconnect_=WI(),oS(e.eventQueue_,zE(),r)}(e)}function gS(e,t,n){const r=new FE("/.info/"+t),i=NI(n);e.infoData_.updateSnapshot(r,i);const o=fk(e.infoSyncTree_,r,i);oS(e.eventQueue_,r,o)}function mS(e){return e.nextWriteId_++}function vS(e,t,n,r,i){_S(e,"set",{path:t.toString(),value:n,priority:r});const o=hS(e),a=NI(n,r),s=vk(e.serverSyncTree_,t),l=Mk(a,s,o),c=mS(e),u=dk(e.serverSyncTree_,t,l,c,!0);rS(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const o="ok"===n;o||JC("set at "+t+" failed: "+n);const a=hk(e.serverSyncTree_,c,!o);oS(e.eventQueue_,t,a),function(e,t,n,r){t&&dE((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}(0,i,n,r)}));const d=kS(e,t);xS(e,d),oS(e.eventQueue_,d,[])}function yS(e,t,n){let r;r=".info"===UE(t._path)?pk(e.infoSyncTree_,t,n):pk(e.serverSyncTree_,t,n),iS(e.eventQueue_,t._path,r)}function _S(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),KC(n,...t)}function bS(e,t,n){return vk(e.serverSyncTree_,t,n)||SI.EMPTY_NODE}function wS(e,t=e.transactionQueueTree_){if(t||TS(e,t),zk(t)){const n=ES(e,t);k(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=bS(e,t,r);let o=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];k(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=KE(t,r.path);o=o.updateChild(i,r.currentOutputSnapshotRaw)}const s=o.val(!0),l=t;e.server_.put(l.toString(),s,(r=>{_S(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(hk(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();TS(e,Fk(e.transactionQueueTree_,t)),wS(e,e.transactionQueueTree_),oS(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)dE(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{JC("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}xS(e,t)}}),a)}(e,Zk(t),n)}else Vk(t)&&Bk(t,(t=>{wS(e,t)}))}function xS(e,t){const n=CS(e,t),r=Zk(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),a=o.map((e=>e.currentWriteId));for(let o=0;o<t.length;o++){const l=t[o],c=KE(n,l.path);let u,d=!1;if(k(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,u=l.abortReason,i=i.concat(hk(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=lS)d=!0,u="maxretry",i=i.concat(hk(e.serverSyncTree_,l.currentWriteId,!0));else{const n=bS(e,l.path,a);l.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){Jk("transaction failed: Data returned ",r,l.path);let t=NI(r);"object"==typeof r&&null!=r&&re(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=l.currentWriteId,s=hS(e),c=Mk(t,n,s);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=c,l.currentWriteId=mS(e),a.splice(a.indexOf(o),1),i=i.concat(dk(e.serverSyncTree_,l.path,c,l.currentWriteId,l.applyLocally)),i=i.concat(hk(e.serverSyncTree_,o,!0))}else d=!0,u="nodata",i=i.concat(hk(e.serverSyncTree_,l.currentWriteId,!0))}oS(e.eventQueue_,n,i),i=[],d&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===u?r.push((()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot))):r.push((()=>t[o].onComplete(new Error(u),!1,null)))))}var s;TS(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)dE(r[e]);wS(e,e.transactionQueueTree_)}(e,ES(e,n),r),r}function CS(e,t){let n,r=e.transactionQueueTree_;for(n=UE(t);null!==n&&void 0===zk(r);)r=Fk(r,n),n=UE(t=BE(t));return r}function ES(e,t){const n=[];return IS(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function IS(e,t,n){const r=zk(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);Bk(t,(t=>{IS(e,t,n)}))}function TS(e,t){const n=zk(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Uk(t,n.length>0?n:void 0)}Bk(t,(t=>{TS(e,t)}))}function kS(e,t){const n=Zk(CS(e,t)),r=Fk(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{SS(e,t)})),SS(e,r),Gk(r,(t=>{SS(e,t)})),n}function SS(e,t){const n=zk(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(k(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(k(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(hk(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Uk(t,void 0):n.length=o+1,oS(e.eventQueue_,Zk(t),i);for(let e=0;e<r.length;e++)dE(r[e])}}const AS=function(e,t){const n=PS(e),r=n.namespace;"firebase.com"===n.domain&&QC(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||QC("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&JC("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new wE(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new FE(n.pathString)}},PS=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):JC(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},NS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",OS=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=NS.charAt(n%64),n=Math.floor(n/64);k(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=NS.charAt(t[i]);return k(20===a.length,"nextPushId: Length should be 20."),a}}();class RS{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+te(this.snapshot.exportVal())}}class LS{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class MS{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class DS{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return HE(this._path)?null:GE(this._path)}get ref(){return new jS(this._repo,this._path)}get _queryIdentifier(){const e=GI(this._queryParams),t=oE(e);return"{}"===t?"default":t}get _queryObject(){return GI(this._queryParams)}isEqual(e){if(!((e=be(e))instanceof DS))return!1;const t=this._repo===e._repo,n=$E(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class jS extends DS{constructor(e,t){super(e,t,new VI,!1)}get parent(){const e=qE(this._path);return null===e?null:new jS(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class FS{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new FE(e),n=US(this.ref,e);return new FS(this._node.getChild(t),n,bI)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,n)=>e(new FS(n,US(this.ref,t),bI))))}hasChild(e){const t=new FE(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zS(e,t){return(e=be(e))._checkNotDeleted("ref"),void 0!==t?US(e._root,t):e._root}function US(e,t){return null===UE((e=be(e))._path)?eS("child","path",t,!1):Xk("child","path",t,!1),new jS(e._repo,WE(e._path,t))}function VS(e,t){e=be(e),tS("push",e._path),Qk("push",t,e._path,!0);const n=dS(e._repo),r=OS(n),i=US(e,r),o=US(e,r);let a;return a=null!=t?GS(o,t).then((()=>o)):Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function BS(e){return tS("remove",e._path),GS(e,null)}function GS(e,t){e=be(e),tS("set",e._path),Qk("set",t,e._path,!1);const n=new B;return vS(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function ZS(e){e=be(e);const t=new MS((()=>{})),n=new qS(t);return function(e,t,n){const r=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=KE(e,n);r=r||ik(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||ik(i,zE()):(i=new ek,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new iT(r,!0,!1):null;return uT(nk(i,t,IT(e.pendingWriteTree_,t._path),o?a.getNode():SI.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=NI(r).withIndex(t._queryParams.getIndex());let o;if(mk(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=fk(e.serverSyncTree_,t._path,i);else{const n=xk(e.serverSyncTree_,t);o=gk(e.serverSyncTree_,t._path,i,n)}return oS(e.eventQueue_,t._path,o),pk(e.serverSyncTree_,t,n,null,!0),i}),(n=>(_S(e,"get for query "+te(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new FS(t,new jS(e._repo,e._path),e._queryParams.getIndex())))}class qS{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new RS("value",this,new FS(e.snapshotNode,new jS(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new LS(this,e,t):null}matches(e){return e instanceof qS&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class WS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new LS(this,e,t):null}createEvent(e,t){k(null!=e.childName,"Child events should have a childName.");const n=US(new jS(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new RS(e.type,this,new FS(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof WS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function HS(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{yS(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new MS(n,o||void 0),s="value"===t?new qS(a):new WS(t,a);return function(e,t,n){let r;r=".info"===UE(t._path)?mk(e.infoSyncTree_,t,n):mk(e.serverSyncTree_,t,n),iS(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>yS(e._repo,e,s)}function KS(e,t,n,r){return HS(e,"value",t,n,r)}function $S(e,t,n,r){return HS(e,"child_added",t,n,r)}function YS(e,t,n,r){return HS(e,"child_changed",t,n,r)}!function(e){k(!JT,"__referenceConstructor has already been defined"),JT=e}(jS),function(e){k(!XT,"__referenceConstructor has already been defined"),XT=e}(jS);const QS={};function JS(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||QC("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),KC("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,s,l=AS(o,i),c=l.repoInfo;"undefined"!=typeof process&&process.env&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s?(a=!0,o=`http://${s}?ns=${c.namespace}`,l=AS(o,i),c=l.repoInfo):a=!l.repoInfo.secure;const u=i&&a?new gE(gE.OWNER):new pE(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!$k(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Yk(e)}(n))throw new Error(me(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",l),HE(l.path)||QC("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=QS[t.name];i||(i={},QS[t.name]=i);let o=i[e.toURLString()];return o&&QC("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new cS(e,false,n,r),i[e.toURLString()]=o,o}(c,e,u,new fE(e.name,n));return new XS(d,e)}class XS{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(uS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new jS(this._repo,zE())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=QS[t];n&&n[e.key]===e||QC(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&QC("Cannot call "+e+" on a deleted database.")}}nI.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},nI.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},DC=dt,ot(new we("database",((e,{instanceIdentifier:t})=>JS(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),mt(LC,MC,void 0),mt(LC,MC,"esm2017");const eA={apiKey:"AIzaSyATlKKGw99gurKNwHL7BU1-_Llj0hwJy60",authDomain:"crawlear-com.firebaseapp.com",databaseURL:"https://crawlear-com-default-rtdb.europe-west1.firebasedatabase.app",projectId:"crawlear-com",storageBucket:"crawlear-com.appspot.com",messagingSenderId:"879856500816",appId:"1:879856500816:web:4287599cc229d5f4c3d155",measurementId:"G-YD7VLXPTM2"},tA=class{constructor(){this.app=ht(eA),this.provider=new si,this.auth=ba(),this.db=function(e,t){const n=at(ft(),"firestore").getImmediate({identifier:"(default)"});if(!n._initialized){const e=z("firestore");e&&Iw(n,...e)}return n}(),this.rdb=function(e=ft(),t){const n=at(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=z("database");e&&function(e,t,n,r={}){(e=be(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&QC("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&QC('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new gE(gE.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:G(r.mockUserToken,e.app.options.projectId);o=new gE(t)}!function(e,t,n,r){e.repoInfo_=new wE(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(),this.initAppCheck()}async userSearch(e,t,n){try{const n=Cx(Aw(this.db,"users"),Sx("displayName"),Ox(e),Px(10)),r=await Qx(n),i=[];r.forEach((e=>{const t=e.data();i.push({uid:e.id,displayName:t.displayName,photoURL:t.photoURL})})),t&&t(i)}catch(e){n&&n(e)}}async getUser(e,t,n){const r=Pw(this.db,"users",e),i=await $x(r);if(i.exists()){const e=i.data();e.uid=r.id,t&&t(e)}else n&&n()}async getUserExtraData(e,t,n){try{const n={};let r=Cx(Aw(this.db,"games"),Ix("uids","array-contains",e)),i=await Qx(r);n.pilotGames=i.docs.length,r=Cx(Aw(this.db,"games"),Ix("jids","array-contains",e)),i=await Qx(r),n.judgeGames=i.docs.length,r=Cx(Aw(this.db,"routes"),Ix("uids","array-contains",e)),i=await Qx(r),n.routes=i.docs.length,t&&t(n)}catch(e){n&&n()}}async setUser(e,t,n){let{uid:r,displayName:i,photoURL:o,description:a,instagram:s}=e;const l={displayName:i,photoURL:o,registrationDate:(new Date).toString(),description:a||"",instagram:s||""};try{await Jx(Pw(this.db,"users",r),l),t&&t(l)}catch(e){n&&n()}}transformGamesIntoData(e){return{name:e.name,uids:e.uids,jids:e.jids,date:e.date,location:e.location,gameType:e.gameType,players:e.players,judges:e.judges||[],isPublic:e.isPublic,maxTime:e.maxTime,maxPoints:e.maxPoints,zones:e.zones,gates:e.gates,gameStatus:e.gameStatus,owner:e.owner,courtesyTime:e.courtesyTime}}transformGamesIntoModel(e){let t=[];return e.forEach((e=>{let n;const r=e.data();r.zones||(r.players.forEach((e=>{e.zones=[{fiascoControlTextValues:[],controlTextValues:[],gateProgression:1,gateProgressionData:[],gatesWithBonification:0,gatesWithFail:0,judgedBy:[],points:e.points,totalPoints:e.points,simpathyPoints:0,time:e.time,handicap:0}],e.totalTime=e.time,e.totalPoints=e.points,e.totalGateProgression=1})),r.gates=[1],r.zones=1),n=new T.Game(r.name,r.date,r.location,r.isPublic,r.gameType,r.players,r.judges||[],r.maxTime,r.maxPoints,r.gates,r.zones,r.gameStatus,r.uids,r.jids,r.owner),n.setGameId(e.id),t.push(n)})),t}async getGame(e,t,n){const r=Pw(this.db,"games",e),i=await $x(r);if(i.exists()){const e=i.data();e.gid=r.id,t&&t(e)}else n&&n()}async getGamesFromUser(e,t,n,r){try{const r=[],i=Cx(Aw(this.db,"games"),Ix("uids","array-contains",e),Ix("gameStatus","<",2));(await Qx(i)).docs.forEach((n=>{const i=n.data();(!i.jids||i.jids.indexOf(e)<0)&&(t&&i.isPublic||!t)&&r.push(n)})),n&&n(this.transformGamesIntoModel(r))}catch(e){r&&r()}}async getGamesFromJudge(e,t,n,r){try{const r=[],i=Cx(Aw(this.db,"games"),Ix("jids","array-contains",e),Ix("gameStatus","<",2));(await Qx(i)).docs.forEach((e=>{const n=e.data();(t&&n.isPublic||!t)&&r.push(e)})),n&&n(this.transformGamesIntoModel(r))}catch(e){r&&r()}}async getFinishedGamesFromUid(e,t,n){try{const n=Cx(Aw(this.db,"games"),function(...e){return e.forEach((e=>zx("and",e))),Tx._create("and",e)}(Ix("gameStatus","==",2),function(...e){return e.forEach((e=>zx("or",e))),Tx._create("or",e)}(Ix("uids","array-contains",e),Ix("jids","array-contains",e)))),r=await Qx(n);t&&t(this.transformGamesIntoModel(r.docs))}catch(e){n&&n()}}async setGame(e,t,n){try{const n=await tC(Aw(this.db,"games"),this.transformGamesIntoData(e));e.gid=n.id,t&&t(e)}catch(e){n&&n()}}updateGame(e){Xx(Pw(this.db,"games",e.gid),this.transformGamesIntoData(e))}async removeGame(e){await eC(Pw(this.db,"games",e)),BS(zS(this.rdb,"gameProgression/".concat(e,"/"))),BS(zS(this.rdb,"presenceRequests/".concat(e,"/")))}async removeIdFromGame(e,t,n){const r=Pw(this.db,"games",e.gid),i=await $x(r);if(i.exists()){const r=i.data(),o=r[n].indexOf(t);r.gid=i.id,r[n].splice(o,1);const a=this.transformGamesIntoData(r),s={};return s[n]=a[n],a[n]=s[n],Xx(Pw(this.db,"games",e.gid),s),r}return e}async routeSearchByLatLon(e,t,n,r){try{const r=Cx(Aw(this.db,"routes"),Ix("point.lat",">",e.lat-t.lat),Ix("point.lat","<",e.lat+t.lat)),i=await Qx(r),o=[];i.forEach((n=>{const r=n.data();r.point.lon>e.lng-t.lon&&r.point.lon<e.lng+t.lon&&(r.rid=n.id,o.push(r))})),n&&n(o)}catch(e){r&&r(e)}}async setGpx(e,t,n){try{if(e.gid)await Jx(Pw(this.db,"gpx",e.gid),{data:e.data}),t&&t(e);else{const n=await tC(Aw(this.db,"gpx"),{data:e.data});e.gid=n.id,t&&t(e)}}catch(e){n&&n()}}async getLovedRoutes(e,t,n){try{const n=Cx(Aw(this.db,"routeLove"),Ix("uid","==",e));(await Qx(n)).docs.forEach((async e=>{const n=e.data();await this.getRoute(n.rid,!1,(e=>{e.rid=n.rid,t(e)}),(()=>{}))}))}catch(e){n&&n()}}async getRouteLove(e,t,n,r){try{const r=Cx(Aw(this.db,"routeLove"),Ix("uid","==",e),Ix("rid","==",t)),i=await Qx(r);n&&n(i.docs.length>0,i.docs[0].id)}catch(e){r&&r()}}async loveRoute(e,t,n,r){try{const r=await tC(Aw(this.db,"routeLove"),{uid:e,rid:t});n&&n(r.id)}catch(e){r&&r()}}async unloveRoute(e,t,n){try{await eC(Pw(this.db,"routeLove",e)),t&&t()}catch(e){n&&n()}}async setRoute(e,t,n){this.setGpx(e.gpx,(async r=>{try{const i=e.transformIntoData(r.gid);if(e.rid&&r.gid)await Jx(Pw(this.db,"routes",e.rid),i);else if(r.gid){e.gpx=r.gid;const t=await tC(Aw(this.db,"routes"),i);e.rid=t.id}else n&&n();e.gpx=r,t&&t(e)}catch(e){n&&n()}}),(()=>{n&&n()}))}async getGpx(e,t,n){const r=Pw(this.db,"gpx",e),i=await $x(r);if(i.exists()){const e=i.data();e.gid=r.id,t(e)}else n()}async getRoute(e,t,n,r){const i=Pw(this.db,"routes",e),o=await $x(i);if(o.exists()){const e=o.data();e.rid=i.id,t&&e.gpx?this.getGpx(e.gpx,(t=>{e.gpx=t,e.gpx.gid=t.gid,n(e)}),r):n(e)}else r()}async getRoutesFromUser(e,t,n){try{const r=[],i=Cx(Aw(this.db,"routes"),Ix("uids","array-contains",e));(await Qx(i)).docs.forEach((e=>{const i=e.data();i.gpx?this.getGpx(i.gpx,(n=>{i.gpx=n,i.gpx.gid=n.gid,r.push({...i,rid:e.id}),t&&t(r)}),n):(r.push({...e.data(),rid:e.id}),t&&t(r))}))}catch(e){n&&n()}}async removeRoute(e,t,n,r){t&&await eC(Pw(this.db,"gpx",t)),await eC(Pw(this.db,"routes",e)),n&&n()}initAppCheck(){yn(this.app,{provider:new vn("6LfMPSIiAAAAABUfGLi_j7mnUr1snw9RriT8eBqP"),isTokenAutoRefreshEnabled:!0})}isUserLogged(){return null!=this.auth.currentUser}checkIfLogged(e){this.checkIfRedirect(e),this.auth.onAuthStateChanged((t=>{t&&this.getUser(t.uid,(n=>{this.setUserInContext(n,t.uid),e()}),(()=>{this.setUser(t,(n=>{this.setUserInContext(n,t.uid),e()}),(()=>{}))}))}))}checkIfRedirect(e){Uo(this.auth).then((t=>{this.getUser(t.user.uid,(n=>{this.setUserInContext(n,t.user.uid),e&&e(n)}),(()=>{this.setUser(t.user,e,(e=>{this.setUserInContext(e,t.user.uid)}))}))})).catch((e=>{}))}setUserInContext(e,t){e.instagram=e.instagram||"",window.crawlear={...window.crawlear,user:e},window.crawlear.user.uid=t}signInWithGoogle(e){var t,n;(t=this.auth,n=qi,be(t).setPersistence(n)).then((()=>{!I.default.isMobile()||I.default.isIphone()||I.default.isFirefox()?Po(this.auth,this.provider).then((t=>{this.getUser(t.user.uid,(n=>{this.setUserInContext(n,t.user.uid),e&&e(n)}),(()=>{this.setUser(t.user,e,(e=>{this.setUserInContext(e,t.user.uid)}))}))})).catch((e=>{})):zo(this.auth,this.provider)})).catch((e=>{}))}logout(){ba().signOut(),window.crawlear.user={}}getUserGameRequests(e,t,n,r,i){const o=zS(this.rdb,"gameRequests/".concat(e));$S(o,(e=>{const t={};t[e.key]=e.val(),r(t)})),HS(o,"child_removed",(e=>{i(e.key)}),void 0,void 0)}getGameProgressionOnce(e,t,n){ZS(zS(this.rdb,"gameProgression/".concat(e))).then((e=>{t&&t(e.key,e.val())}),n)}getGameProgression(e,t,n,r,i){const o=zS(this.rdb,"gameProgression/".concat(e));$S(o,(e=>{r(e.key,e.val())})),YS(o,(e=>{i(e.key,e.val())}))}setGameProgression(e,t,n,r,i){GS(zS(this.rdb,"gameProgression/".concat(e,"/").concat(n,"/").concat(t,"/").concat(r)),i)}removeGameProgression(e){BS(zS(this.rdb,"gameProgression/".concat(e)))}getGameResult(e,t,n){ZS(zS(this.rdb,"gameProgression/".concat(e.gid))).then((n=>{const r=n.val();Object.entries(r).forEach(((t,n)=>{Object.entries(t[1]).forEach(((t,r)=>{t[1].data&&(e.players[n].zones[r]=t[1].data)}))})),t&&t(e)}),n)}createGameProgression(e){for(let t=0;t<e.players.length;t++)for(let n=0;n<e.zones;n++)this.setGameProgression(e.gid,e.players[t].id,e.players[t].group,n,{status:"waiting",data:{}})}acceptGameRequest(e,t){GS(zS(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/status/")),"accepted"),BS(zS(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/")))}rejectGameRequest(e,t){GS(zS(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/status/")),"rejected"),BS(zS(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/")))}setUserGameRequest(e,t,n,r,i){KS(VS(zS(this.rdb,"gameRequests/".concat(n,"/")),{fromUid:e,fromName:t,toUid:n,gameName:r,date:(new Date).toLocaleDateString(),status:"pending"}),(e=>{const t=e.val();t&&i(t,t.status)}))}setDirectorPresenceRequest(e,t,n,r,i){KS(VS(zS(this.rdb,"presenceRequests/".concat(e,"/")),{zone:t,playerName:n,fromName:r,date:(new Date).toLocaleDateString(),status:"pending"}),(e=>{const t=e.val();t&&i(t,e.key)}))}getDirectorPresenceRequest(e,t,n){const r=zS(this.rdb,"presenceRequests/".concat(e));$S(r,(e=>{t(e.key,e.val())})),YS(r,(e=>{n(e.key,e.val())}))}acceptDirectorPresenceRequest(e,t){GS(zS(this.rdb,"presenceRequests/".concat(e,"/").concat(t,"/status/")),"accepted")}removeDirectorPresenceRequest(e){BS(zS(this.rdb,"presenceRequests/".concat(e)))}async setPost(e,t,n,r,i,o,a){const s={uid:e,gid:i,date:n,url:t,text:r};if(r.length>=0&&t.length>=0)try{const e=await tC(Aw(this.db,"socialPosts"),s);s.pid=e.id,o&&o(s)}catch(e){a&&a()}else a&&a()}async setFollow(e,t,n,r){try{const r=await tC(Aw(this.db,"follows"),{fromUid:e,toUid:t});n&&n(r.id)}catch(e){r&&r()}}async removeFollow(e,t,n){await eC(Pw(this.db,"follows",e)),t&&t()}async getPost(e,t,n){const r=Pw(this.db,"socialPosts",e),i=await $x(r);if(i.exists()){const e=i.data();e.pid=r.id,t(e)}else n()}async getPosts(e,t,n){try{const n=Cx(Aw(this.db,"socialPosts"),Ix("uid","==",e),Sx("date","desc"),Px(10)),r=await Qx(n),i=[];r.docs.forEach((e=>{i.push({...e.data(),pid:e.id})})),t&&t(i)}catch(e){n&&n()}}async getPostsFromFollowFeed(e,t,n){try{const n=[],r=Cx(Aw(this.db,"follows"),Ix("fromUid","==",e)),i=(await Qx(r)).docs;for(;i.length>0;){const e=[];i.splice(0,10).forEach((t=>{const n=t.data();e.push(n.toUid)}));const t=Cx(Aw(this.db,"socialPosts"),Ix("uid","in",e),Sx("date","desc"),Px(10));(await Qx(t)).docs.forEach((e=>{const t=e.data();t.pid=e.id,n.push(t)}))}t&&t(n)}catch(e){n&&n()}}async removePost(e,t,n){await eC(Pw(this.db,"socialPosts",e)),this.removeLikes(e,10),t&&t()}async getPostLikesCount(e,t,n){try{const n=Cx(Aw(this.db,"likes"),Ix("pid","==",e),Px(15)),r=(await Qx(n)).docs.length;t&&t(r)}catch(e){n&&n()}}async getIfPostIsLiked(e,t,n,r){try{const r=Cx(Aw(this.db,"likes"),Ix("uid","==",t),Ix("pid","==",e),Px(1)),i=await Qx(r),o=1===i.docs.length;n&&n(o,o?i.docs[0].id:"")}catch(e){r&&r()}}async getFidFromFollow(e,t,n,r){try{const r=Cx(Aw(this.db,"follows"),Ix("fromUid","==",e),Ix("toUid","==",t),Px(1)),i=await Qx(r),o=1===i.docs.length?i.docs[0].id:-1;n&&n(o)}catch(e){r&&r()}}async setLike(e,t,n,r){const i={pid:e,uid:t};try{const e=await tC(Aw(this.db,"likes"),i);n&&n(e.id)}catch(e){r&&r()}}async removeLike(e,t,n){await eC(Pw(this.db,"likes",e)),t&&t()}async removeLikes(e,t){const n=Cx(Aw(this.db,"likes"),Ix("pid","==",e),Sx("__name__"),Px(t));return new Promise(((e,t)=>{this.deleteQueryBatch(n,e).catch(t)}))}async deleteQueryBatch(e,t){const n=await Qx(e);0!==n.size?(n.docs.forEach((async e=>{const t=(jw(n=ww(n=this.db,Dw)),new aC(n,(e=>rC(n,e))));var n;t.delete(e.ref),t.commit()})),setTimeout((()=>{this.deleteQueryBatch(e,t)}),100)):t()}};var nA=a(56689),rA=a(66599),iA=a(56434),oA=a.n(iA),aA=a(41212),sA={};sA.styleTagTransform=b(),sA.setAttributes=m(),sA.insert=p().bind(null,"head"),sA.domAPI=h(),sA.insertStyleElement=y(),u()(aA.Z,sA),aA.Z&&aA.Z.locals&&aA.Z.locals;const lA=a.p+"151dfdbca9628136ddd6.png",cA=a.p+"d334398033a12c43b910.png",uA=function(e){let{user:n}=e;const{t:r}=(0,s.$)(),[i,o]=t.useState({}),a=window.crawlear.fb,l=t.useRef({});let c=[];function u(e){o(e)}function d(e){l.current={...l.current,...e},o({...l.current})}function h(e){delete l.current[e],o({...l.current})}return t.useEffect((()=>{a.getUserGameRequests(n.uid,u,(()=>{}),d,h)}),[]),i&&Object.keys(i).forEach((e=>{c.push(t.createElement("div",{className:"gameRequestsItem smallText"},t.createElement("span",{className:"gameRequestsFrom"},r("description.peticionde"),": ",t.createElement("span",{className:"bold"},i[e].fromName)),t.createElement("div",{className:"gameRequestGameName"},r("description.parajuego"),": ",t.createElement("span",{className:"bold"},i[e].gameName)),t.createElement("span",{className:"acceptButton",onClick:()=>{a.acceptGameRequest(n.uid,e)}},t.createElement("img",{src:lA,alt:"like icon"})),t.createElement("span",{className:"rejectButton",onClick:()=>{a.rejectGameRequest(n.uid,e)}},t.createElement("img",{src:cA,alt:"dislike icon"}))))})),c.length>0?t.createElement("div",{className:"gameRequestsContainer rounded rounded1"},t.createElement("div",{className:"headerText bold"},r("description.peticionesdejuego")),c):t.createElement(t.Fragment,null)};var dA=a(27820),hA=a.n(dA),fA=a(50160),pA=a.n(fA),gA=a(4731),mA={};mA.styleTagTransform=b(),mA.setAttributes=m(),mA.insert=p().bind(null,"head"),mA.domAPI=h(),mA.insertStyleElement=y(),u()(gA.Z,mA),gA.Z&&gA.Z.locals&&gA.Z.locals;const vA=function(e){let{onConfigureGames:n,onGamePlay:i}=e;const{t:o}=(0,s.$)(),a=(0,r.s0)(),[l,c,u,d,h,f,p]=hA()();return t.createElement(t.Fragment,null,t.createElement("div",{className:"headerText bold sectionTitle"},o("description.secciondejuego")),t.createElement(uA,{user:window.crawlear.user}),t.createElement(oA(),{data:l,readOnly:!0,transformer:rA.itemTransform,onRemoveItem:e=>{c(e)},onConfigureItem:e=>{n(l,e)},title:o("description.partidascomopiloto")}),t.createElement(oA(),{data:u,title:o("description.partidasdejuez"),readOnly:!1,transformer:rA.itemTransform,onItemAction:e=>{i(u,e)},onConfigureItem:e=>{n(u,e)},onRemoveItem:e=>{d(e)}}),t.createElement("button",{className:"newGameButton importantNote",onClick:function(){a("/gameconfigurator")}},o("description.crearjuego")),t.createElement(pA(),{storedGames:h,onRemoveStoredGames:f,onConfigureGames:n,onLoadPreviousGames:p}))};var yA=a(71728);const _A=function(e){let{onLogin:n}=e;const o=window.crawlear.fb,[a,s]=t.useState(0),[l,c]=t.useState({});return t.useEffect((()=>(i.default.pageview("/completegame/"),o.checkIfLogged((()=>{n(!1)})),window.document.body.classList.add("game"),()=>{window.document.body.classList.remove("game")})),[]),o.isUserLogged()?t.createElement(t.Fragment,null,0===a?t.createElement(vA,{onConfigureGames:function(e,t){window.scrollTo(0,0),s(2),c(e[t])},onGamePlay:function(e,t){window.scrollTo(0,0),s(1),c(e[t])}}):1===a?t.createElement(nA.Z,{inGame:l,onBackButtonClick:function(){window.scrollTo(0,0),s(0),c({})}}):2===a?t.createElement(yA.Z,{preconfiguredGame:l}):t.createElement(t.Fragment,null)):t.createElement(r.Fg,{state:{from:"/game"},to:{pathname:"/"}})},bA=a.p+"a47ac3a0afbc6c631e1b.png";var wA=a(79517);const xA=a.p+"87d4b537e673cf1c6f63.svg";var CA=a(38814),EA={};EA.styleTagTransform=b(),EA.setAttributes=m(),EA.insert=p().bind(null,"head"),EA.domAPI=h(),EA.insertStyleElement=y(),u()(CA.Z,EA),CA.Z&&CA.Z.locals&&CA.Z.locals;const IA=function(e){let{url:n}=e;return(0,wA.Z)("https://www.instagram.com/embed.js","instagram-embed-loader",(()=>{window.instgrm&&window.instgrm.Embeds.process()})),t.createElement("div",{className:"instagram"},t.createElement("blockquote",{className:"instagram-media","data-instgrm-captioned":!0,"data-instgrm-permalink":"".concat(n,"?utm_source=ig_embed&amp;utm_campaign=loading"),"data-instgrm-version":"14",style:{background:"#FFF",border:"0",borderRadius:"3px",boxShadow:"0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15)",margin:"1px",maxWidth:"540px",minWidth:"326px",padding:"0",width:"99.375%",width:"-webkit-calc(100% - 2px)",width:"calc(100% - 2px)"}},t.createElement("div",{style:{padding:"16px"}},t.createElement("a",{href:"".concat(n,"?utm_source=ig_embed&amp;utm_campaign=loading"),style:{background:"#FFFFFF",lineHeight:"0",padding:"0 0",textAlign:"center",textDecoration:"none",width:"100%"},target:"_blank"},t.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",flexGrow:"0",height:"40px",marginRight:"14px",width:"40px"}}),t.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"center"}},t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",marginBottom:"6px",width:"100px"}}),t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"60px"}}))),t.createElement("div",{style:{padding:"19% 0"}}),t.createElement("div",{style:{display:"block",height:"50px",margin:"0 auto 12px",width:"50px"}},t.createElement("img",{src:xA,alt:"instagram logo"})),t.createElement("div",{style:{paddingTop:"8px"}},t.createElement("div",{style:{color:"#3897f0",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:"550",lineHeight:"18px"}},"View this post on Instagram")),t.createElement("div",{style:{padding:"12.5% 0"}}),t.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"14px"}},t.createElement("div",null,t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(0px) translateY(7px)"}}),t.createElement("div",{style:{backgroundColor:"#F4F4F4",height:"12.5px",transform:"rotate(-45deg) translateX(3px) translateY(1px)",width:"12.5px",flexGrow:"0",marginRight:"14px",marginLeft:"2px"}}),t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(9px) translateY(-18px)"}})),t.createElement("div",{style:{marginLeft:"8px"}},t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",flexGrow:"0",height:"20px",width:"20px"}}),t.createElement("div",{style:{width:"0",height:"0",borderTop:"2px solid transparent",borderLeft:"6px solid #f4f4f4",borderBottom:"2px solid transparent",transform:"translateX(16px) translateY(-4px) rotate(30deg)"}})),t.createElement("div",{style:{marginLeft:"auto"}},t.createElement("div",{style:{width:"0px",borderTop:"8px solid #F4F4F4",right:"8px solid transparent",transform:"translateY(16px)"}}),t.createElement("div",{style:{backgroundColor:"#F4F4F4",flexGrow:"0",height:"12px",width:"16px",transform:"translateY(-4px)"}}),t.createElement("div",{style:{width:"0",height:"0",borderTop:"8px solid #F4F4F4",borderLeft:"8px solid transparent",transform:"translateY(-4px) translateX(8px)"}}))),t.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"center",marginBottom:"24px"}},t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"224px",marginBottom:"6px"}}),t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"224px",marginBottom:"6px",width:"144px"}}))),t.createElement("p",{style:{color:"#c9c8cd",fontFamily:"Arial,sans-serif",fontSize:"14px",lineHeight:"17px",marginBottom:"0",marginTop:"8px",overflow:"hidden",padding:"8px 0 7px",textAlign:"center",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t.createElement("a",{href:"".concat(n,"?utm_source=ig_embed&amp;utm_campaign=loading"),style:{color:"#c9c8cd",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",lineHeight:"17px",textDecoration:"none"},target:"_blank"},"A post shared by TakeZoRC (@takezorc)")))))};var TA=a(46622),kA=a(38830),SA={};SA.styleTagTransform=b(),SA.setAttributes=m(),SA.insert=p().bind(null,"head"),SA.domAPI=h(),SA.insertStyleElement=y(),u()(kA.Z,SA),kA.Z&&kA.Z.locals&&kA.Z.locals;const AA=function(e){let{url:n}=e;const r=(new Date).getMilliseconds();return(0,wA.Z)("https://www.tiktok.com/embed.js?t=".concat(r),"tiktok-embed-loader".concat(r)),t.createElement("blockquote",{className:"tiktok-embed",cite:n,"data-video-id":I.default.getTiktokVideoId(n),style:{maxWidth:"605px",minWidth:"325px"}},t.createElement("section",null))};var PA=a(98283),NA={};NA.styleTagTransform=b(),NA.setAttributes=m(),NA.insert=p().bind(null,"head"),NA.domAPI=h(),NA.insertStyleElement=y(),u()(PA.Z,NA),PA.Z&&PA.Z.locals&&PA.Z.locals;const OA=function(e){let{url:n}=e;return t.useEffect((()=>{document.getElementById("fb-root")?FB&&FB.XFBML&&FB.XFBML.parse():document.createElement("DIV").id="fb-root"}),[]),(0,wA.Z)("https://connect.facebook.net/es_ES/sdk.js","fbjdk",(()=>{window.fbAsyncInit=function(){FB.init({appId:"",autoLogAppEvents:!0,xfbml:!0,version:"v14.0"})}})),t.createElement(t.Fragment,null,t.createElement("div",{className:"fb-post","data-show-text":"true","data-href":n,"data-width":"350"}))};var RA=a(8697),LA=a(81683),MA=a(48349),DA={};DA.styleTagTransform=b(),DA.setAttributes=m(),DA.insert=p().bind(null,"head"),DA.domAPI=h(),DA.insertStyleElement=y(),u()(MA.Z,DA),MA.Z&&MA.Z.locals&&MA.Z.locals;const jA=a.p+"151dfdbca9628136ddd6.png";function FA(e){return window.crawlear.fb.isUserLogged()&&window.crawlear&&window.crawlear.user&&window.crawlear.user.uid===e}const zA=function(e){let{post:n,onLikePost:r,onRemoveLikePost:i}=e;const{t:o}=(0,s.$)(),a=[],l=window.crawlear.fb,{isUserLoged:c}=t.useContext(LA.Y),[u,d]=t.useState({status:-1,likes:0,lid:0});return t.useEffect((()=>{c&&l.getIfPostIsLiked(n.pid,window.crawlear.user.uid,((e,t)=>{d(e?{...u,state:1,lid:t}:{...u,state:0,lid:0})}),(()=>{})),!FA(n.uid)&&c||l.getPostLikesCount(n.pid,(e=>{d({...u,likes:e})}),(()=>{}))}),[]),u.likes>10?a.push(t.createElement("div",{key:"likes+++",className:"bold"},"Likes 🔥🔥🔥")):u.likes>5?a.push(t.createElement("div",{key:"likes++",className:"bold"},"Likes 🔥🔥")):u.likes>0?a.push(t.createElement("div",{key:"likes+",className:"bold"},"Likes 🔥")):a.push(t.createElement("div",{key:"likes",className:"bold"},"Likes 🧊")),c?FA(n.uid)?t.createElement("div",{className:"likeContainer"},a):t.createElement("div",{className:"likeContainer"},t.createElement("span",{className:1===u.state?"press":""},t.createElement("img",{src:jA,onClick:function(e){-1!==u.state&&(1===u.state?l.removeLike(u.lid,(()=>{d({...u,state:0,lid:0}),i&&i()}),(()=>{})):l.setLike(n.pid,window.crawlear.user.uid,(e=>{d({...u,state:1,lid:e}),r&&r()})))},alt:"like button"}))):t.createElement("div",{className:"likeContainer"},a)};var UA=a(97924);const VA=function(e){let{post:n,readOnly:o,onRemovePost:a,children:l}=e;const{t:c}=(0,s.$)(),u=window.crawlear.fb,[d,h]=t.useState({}),[f,p]=t.useState({}),g=(0,r.s0)();return t.useEffect((()=>{o&&u.getUser(n.uid,(e=>{p(e)}),(()=>{}))}),[]),t.createElement(t.Fragment,null,o?t.createElement(t.Fragment,null):t.createElement("button",{"data-id":n.pid,onClick:a,className:"removePostButton"},"-"),f.uid?t.createElement("a",{href:"https://crawlear.com/profile?uid=".concat(f.uid),className:"userProfileContainer",alt:"user profile name and link"},t.createElement("div",{className:"userProfilePhotoContainer"},t.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:f.photoURL,alt:"user avatar"})),t.createElement("div",{className:"userProfileInlineContainer"},t.createElement("div",{className:"name"},t.createElement("input",{type:"text",className:"bold textOverflow hidenInput",readOnly:!0,value:f.displayName})))):t.createElement(t.Fragment,null),t.createElement("div",{className:"postDate"},n.date.toDate().toLocaleDateString()),t.createElement("div",{className:"postText bold",onClick:function(e){i.default.event("navigation","post",n.uid),g("/post?pid=".concat(n.pid))}},n.text),l,t.createElement(zA,{post:n,isReadOnly:o}),t.createElement("div",{className:"postGameContainer"},d.gid?t.createElement("div",{className:"postGame bold"},d.gid?t.createElement(t.Fragment,null,t.createElement("div",{className:"gameAssigned bold"},c("description.juegoasignado"),":"),c("description.nombre"),":",t.createElement("span",{className:"gameName"},d.name," "),t.createElement(RA.default,{game:d})):t.createElement(t.Fragment,null),d.location&&d.location.longitude&&d.location.longitude&&d.isPublic?t.createElement(t.Fragment,null,t.createElement("div",{className:"gameName"},c("description.localizacion"),":"),t.createElement(UA.Z,{location:d.location})):t.createElement(t.Fragment,null)):n.gid&&n.gid.length>2?t.createElement(t.Fragment,null,t.createElement("div",{className:"gameAssigned bold"},c("description.juegoasignado"),":"),t.createElement("button",{className:"getGameName importantNote",onClick:()=>{var e;e=n.gid,u.getGame(e,(e=>{h(e)}),(()=>{}))}},c("description.resolverjuego"))):t.createElement("div",{className:"getGameName bold"},c("description.sinjuego"))))};var BA=a(46196);const GA=(e,n)=>{(0,t.useEffect)((()=>{if(e){const t=new IntersectionObserver((e=>{n(e[0].isIntersecting)}),{});return t.observe(e),()=>{e&&t.unobserve(e)}}}),[e])};var ZA=a(83172),qA=a(96615),WA={};WA.styleTagTransform=b(),WA.setAttributes=m(),WA.insert=p().bind(null,"head"),WA.domAPI=h(),WA.insertStyleElement=y(),u()(qA.Z,WA),qA.Z&&qA.Z.locals&&qA.Z.locals;const HA=function(e){let{post:n,readOnly:r,onRemovePost:i}=e;const{t:o}=(0,s.$)(),a=t.useRef(null),[l,c]=t.useState(!1),[u,d]=t.useState(!1);let h=t.createElement(t.Fragment,null);return t.useEffect((()=>{d(!0)}),[]),GA(a.current,(e=>{!l&&e&&(c(!0),n.url.indexOf("instagram")>=0&&window.instgrm&&window.instgrm.Embeds.process())})),n.url.indexOf("instagram")>=0?h=t.createElement(IA,{className:"postUrlContent",url:n.url}):n.url.indexOf("youtu")>=0?h=t.createElement(TA.default,{className:"postUrlContent",url:n.url}):n.url.indexOf("tiktok")>=0?h=t.createElement(AA,{className:"postUrlContent",url:n.url}):n.url.indexOf("facebook")>=0&&(h=t.createElement(OA,{className:"postUrlContent",url:n.url})),l?t.createElement("div",{key:n.pid,className:"post rounded "},t.createElement(VA,{post:n,onRemovePost:i,readOnly:r},h),t.createElement(BA.default,{url:"post?pid=".concat(n.pid),headerText:o("content.comparteenredespost"),text:o("content.sharePostText")})):t.createElement("div",{className:"embedLoadingContainer",ref:a},t.createElement(ZA.default,null))};var KA=a(76066),$A={};$A.styleTagTransform=b(),$A.setAttributes=m(),$A.insert=p().bind(null,"head"),$A.domAPI=h(),$A.insertStyleElement=y(),u()(KA.Z,$A),KA.Z&&KA.Z.locals&&KA.Z.locals;const YA=function(e){let{posts:n,removePostClick:r,readOnly:i}=e;const{t:o}=(0,s.$)(),a=window.crawlear.fb;function c(e){const t=e.target.getAttribute("data-id");t&&window.confirm(o("content.seguroborrarpost"))&&r&&r(t)}if(t.useEffect((()=>{window.instgrm&&window.instgrm.Embeds.process()}),[n]),n&&n.length){const e=[];return n.forEach(((n,r)=>{e.push(t.createElement(HA,{key:r,post:n,onRemovePost:c,readOnly:i}))})),t.createElement("div",{className:"feedViewer"},a.isUserLogged()?t.createElement(t.Fragment,null):t.createElement("a",{href:"https://crawlear.com",target:"_blank"},t.createElement("img",{src:l,className:"notLoggedLogo",alt:"web logo"})),t.createElement("div",{className:"posts"},e))}return t.createElement("div",{className:"posts"},t.createElement("div",{className:"rounded rounded3"},o("content.nofeedpost")))};var QA=a(32623),JA={};JA.styleTagTransform=b(),JA.setAttributes=m(),JA.insert=p().bind(null,"head"),JA.domAPI=h(),JA.insertStyleElement=y(),u()(QA.Z,JA),QA.Z&&QA.Z.locals&&QA.Z.locals;const XA=function(e){let{onVisible:n}=e;const r=t.useRef(null),[i,o]=t.useState(!1),[a,s]=t.useState(!1);return t.useEffect((()=>{o(!0)}),[]),GA(r.current,(e=>{!a&&e&&(s(!0),n(!0))})),t.createElement("div",{className:"loadingLogo"},t.createElement("a",{href:"https://crawlear.com",target:"_blank",rel:"noreferrer"},t.createElement("img",{ref:r,src:l,className:"notLoggedLogo",alt:"web logo"})),t.createElement("br",null),t.createElement(ZA.default,null))};var eP=a(83915);const tP=a.p+"4b9dd7a3a51aba87a810.png",nP=function(e){let{uid:n}=e;const{t:o}=(0,s.$)(),a=window.crawlear.fb,[c,u]=t.useState([]),[d,h]=t.useState(0),[f,p]=t.useState(!1),{isUserLoged:g}=t.useContext(LA.Y),m=(0,r.s0)();function v(){f&&g&&a.getPostsFromFollowFeed(n,(e=>{u([...e]),h(1)}),(()=>{}))}function y(e){m("/profile?uid=".concat(e))}return t.useEffect((()=>{v(),f&&i.default.pageview("/feedviewer/")}),[f,g,n]),1===d&&c.length&&f?t.createElement("div",{className:"feedViewer"},a.isUserLogged()?t.createElement(t.Fragment,null,t.createElement("div",{className:"headerText bold"},o("description.buscarusuario")),t.createElement(eP.Z,{onUserClick:y,mainText:o("content.puedesbuscarusuarios"),secondaryText:o("content.clickenusuariooseguir"),iconSend:tP})):t.createElement("a",{href:"https://crawlear.com",target:"_blank"},t.createElement("img",{src:l,className:"notLoggedLogo",alt:"web logo"})),t.createElement("div",{className:"posts"},t.createElement("div",{className:"headerText bold sectionTitle"},o("description.murodefollows")),t.createElement("div",{className:"refreshButton",onClick:function(){h(0),v()}},t.createElement("img",{src:bA,alt:"refresh icon"})),t.createElement(YA,{posts:c,readOnly:!0,removePostClick:function(e){e&&a.removePost(e,(()=>{const t=c.filter((t=>t.pid!==e));u(t),i.default.event("post","removed")}),(()=>{}))}}))):1===d&&f?t.createElement("div",{className:"posts"},t.createElement("div",{className:"headerText bold sectionTitle"},o("description.murodefollows")),t.createElement(eP.Z,{onUserClick:y,mainText:o("content.puedesbuscarusuarios"),secondaryText:o("content.clickenusuariooseguir"),iconSend:tP}),t.createElement("br",null),t.createElement("div",{className:"rounded rounded3"},o("content.nofeedpost"))):t.createElement(XA,{onVisible:function(e){e&&p(e)}})},rP=a.p+"c02f061a017d59f5bb86.svg",iP=a.p+"b0c484b364dc559b8644.svg",oP=a.p+"5aa9dd97f0c1a5039ca6.svg",aP=function(){const{t:e}=(0,s.$)(),n=window.crawlear.fb;return t.createElement("div",{className:"Footer"},"[©",t.createElement("a",{href:"https://crawlear.com"},"crawlear.com")," 2023",n.isUserLogged()?t.createElement(t.Fragment,null,"]"):t.createElement(t.Fragment,null,"- ",t.createElement("a",{href:"https://crawlear.com/aboutus"},e("description.aboutus"))," - ",t.createElement("a",{href:"https://crawlear.com/privacypolicy"},e("description.politicaprivacidad")),"]"),t.createElement("p",null,t.createElement("a",{href:"https://www.youtube.com/channel/UCNwhl3Mflf-hpTSI1Xo8dSg",target:"_blank"},t.createElement("img",{className:"youtubeLogo",src:rP,alt:"youtube logo"})),t.createElement("a",{href:"https://www.instagram.com/crawlearcom/",target:"_blank"},t.createElement("img",{className:"instagramLogo",src:iP,alt:"instagram logo"})),t.createElement("a",{href:"https://www.facebook.com/Crawlearcom-106005795418134",target:"_blank"},t.createElement("img",{className:"facebookLogo",src:oP,alt:"facebook logo"}))))};var sP=a(68752);const lP=window.document.body,cP=function(e){let{onLogin:n}=e;const r=window.crawlear.fb,i=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid,{isUserLoged:o}=t.useContext(LA.Y);return t.useEffect((()=>{lP.classList.add("feed"),r.checkIfLogged((()=>{n(!1)}))}),[]),o?t.createElement(t.Fragment,null,t.createElement(nP,{uid:i}),t.createElement(aP,null)):t.createElement(t.Fragment,null,(0,sP.t)("content.userprofilenotlogged")," ",t.createElement("a",{href:"https://crawlear.com"},"crawlear.com"))};var uP=a(19172),dP={};function hP(e){return window.crawlear.fb.isUserLogged()&&window.crawlear&&window.crawlear.user&&window.crawlear.user.uid===e}dP.styleTagTransform=b(),dP.setAttributes=m(),dP.insert=p().bind(null,"head"),dP.domAPI=h(),dP.insertStyleElement=y(),u()(uP.Z,dP),uP.Z&&uP.Z.locals&&uP.Z.locals;const fP=function(e){let{user:n,onLogout:i}=e;const{t:o}=(0,s.$)(),a=window.crawlear.fb,l=(0,r.s0)(),[c,u]=t.useState(n.displayName),[d,h]=t.useState(n.description),[f,p]=t.useState(n.instagram),{isUserLoged:g}=t.useContext(LA.Y),[m,v]=t.useState(-1),y=[];return t.useEffect((()=>{g&&!hP(n.uid)&&a.getFidFromFollow(window.crawlear.user.uid,n.uid,(e=>{v(e)}),(()=>{}))}),[g]),g&&!hP(n.uid)&&(-1!==m?y.push(t.createElement("div",{key:"followAction",className:"follow",onClick:function(){a.removeFollow(m,(()=>{v(-1)}),(()=>{}))}},o("description.unfollow"))):y.push(t.createElement("div",{key:"followAction",className:"follow",onClick:function(){a.setFollow(window.crawlear.user.uid,n.uid,(e=>{e&&v(e)}),(()=>{}))}},o("description.follow")))),t.createElement("div",{className:"userProfileContainer rounded rounded2"},t.createElement("div",{className:"userProfilePhotoContainer"},g&&hP(n.uid)?t.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:n.photoURL,alt:"user avatar"}):t.createElement("a",{href:"https://crawlear.com/profile?uid=".concat(n.uid)},t.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:n.photoURL,alt:"user avatar"})),t.createElement("div",{className:"sharerContainer"},hP(n.uid)?t.createElement("div",{className:"logout",onClick:()=>{window.crawlear.fb.logout(),i&&i(),l("/")}},"Logout"):t.createElement(t.Fragment,null),y)),t.createElement("div",{className:"userProfileInlineContainer"},t.createElement("div",{className:"name"},t.createElement("input",{type:"text",className:"bold textOverflow hidenInput",readOnly:!g||!hP(n.uid),value:c,onChange:function(e){const t=e.target.value;hP(n.uid)&&t!==c&&t.length>0&&u(t)},onBlur:function(e){const t=e.target.value;hP(n.uid)&&n.displayName!==t&&t.length>0&&(n.displayName=t,u(t),a.setUser(n,(()=>{}),(()=>{})))}})),hP(n.uid)?t.createElement("div",{className:"registrationDate"},t.createElement("span",{className:"bold"},o("description.registro")),": ",new Date(n.registrationDate).toLocaleDateString()):t.createElement(t.Fragment,null),t.createElement("div",{className:"description"},hP(n.uid)?t.createElement("span",{className:"bold"},o("description.descripcion"),":"):t.createElement(t.Fragment,null),t.createElement("textarea",{type:"text",readOnly:!g||!hP(n.uid),className:"hidenInput textOverflow",value:d,onChange:function(e){const t=e.target.value;hP(n.uid)&&t!==d&&h(t)},onBlur:function(e){const t=e.target.value;hP(n.uid)&&n.description!==t&&(n.description=t,h(t),a.setUser(n,(()=>{}),(()=>{})))}})),(!g||!hP(n.uid))&&f||hP(n.uid)?t.createElement("div",{className:"instagram"},t.createElement("div",{className:"bold"},"Instagram: "),hP(n.uid)?t.createElement("input",{type:"text",className:"textOverflow hidenInput",readOnly:!g||!hP(n.uid),value:f,onChange:function(e){const t=e.target.value;hP(n.uid)&&t!==f&&p(t)},onBlur:function(e){const t=e.target.value;hP(n.uid)&&n.instagram!==t&&(n.instagram=t,p(t),a.setUser(n,(()=>{}),(()=>{})))}}):f?t.createElement("a",{href:"https://www.instagram.com/".concat(f,"/"),target:"_blank"},"@",f):t.createElement(t.Fragment,null)):t.createElement(t.Fragment,null),t.createElement(BA.default,{url:"profile?uid=".concat(n.uid),headerText:o("content.comparteenredespiloto"),text:o("content.shareProfileText")}),hP(n.uid)?t.createElement("div",{className:"userProfileHelper"},t.createElement("p",null,t.createElement("span",{className:"bold"},o("description.ayuda"),":")," ",o("content.editprofile"))):t.createElement(t.Fragment,null)))};var pP=a(37962),gP=a.n(pP),mP=a(97508),vP={};vP.styleTagTransform=b(),vP.setAttributes=m(),vP.insert=p().bind(null,"head"),vP.domAPI=h(),vP.insertStyleElement=y(),u()(mP.Z,vP),mP.Z&&mP.Z.locals&&mP.Z.locals;const yP=function(e){let{uid:n,onLogout:r,onLogin:i}=e;const{t:o}=(0,s.$)(),a=window.crawlear.fb,[c,u,d,h,f]=gP()(n);if(t.useEffect((()=>{a.checkIfLogged((()=>{i(!1)}))}),[]),c.registrationDate&&d){let e=f(u);return t.createElement("div",{className:"userViewer"},a.isUserLogged()?t.createElement(t.Fragment,null,t.createElement("div",{className:"headerText bold sectionTitle"},o("description.perfilsocial"))):t.createElement("a",{href:"https://crawlear.com",target:"_blank"},t.createElement("img",{src:l,className:"notLoggedLogo",alt:"web logo"})),t.createElement(t.Fragment,null,t.createElement(fP,{onLogout:r,user:c}),t.createElement("div",{className:"statistics rounded rounded3"},t.createElement("div",{className:"headerText bold"},o("description.estadisticas")),t.createElement("div",null,o("description.partidasdejuez"),": ",u.judgeGames||0),t.createElement("div",null,o("description.partidascomopiloto"),": ",u.pilotGames||0),t.createElement("div",null,o("description.rutas"),": ",u.routes||0),t.createElement("p",{className:"bold"},e===pP.USER_TYPE_JUDGE?o("description.tendenciajuez"):e===pP.USER_TYPE_PILOT?o("description.tendenciapiloto"):e===pP.USER_TYPE_ROUTE?o("description.tendenciaruta"):o("description.tendencianeutral")),t.createElement("p",null))))}return t.createElement(XA,{onVisible:h})};window.document.body;const _P=function(e){let{onLogin:n,onLogout:r}=e;const i=window.crawlear.fb,o=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid,{isUserLoged:a}=t.useContext(LA.Y);return t.useEffect((()=>(i.checkIfLogged((()=>{n(!1)})),window.document.body.classList.add("social"),()=>{window.document.body.classList.remove("social")})),[]),a?t.createElement(t.Fragment,null,t.createElement(yP,{onLogin:()=>{n(!1)},onLogout:r,uid:o}),t.createElement(aP,null)):t.createElement(t.Fragment,null,(0,sP.t)("content.userprofilenotlogged")," ",t.createElement("a",{href:"https://crawlear.com"},"crawlear.com"))},bP=a.p+"de8050057e44a7a2a984.png",wP=a.p+"1d4f369967075e00a2dc.png",xP=a.p+"f66fba6c19d4938b484d.png";var CP=a(4641),EP={};EP.styleTagTransform=b(),EP.setAttributes=m(),EP.insert=p().bind(null,"head"),EP.domAPI=h(),EP.insertStyleElement=y(),u()(CP.Z,EP),CP.Z&&CP.Z.locals&&CP.Z.locals;const IP=function(){const{t:e}=(0,s.$)();return t.useEffect((()=>{i.default.pageview("/aboutus/")}),[]),t.createElement("div",{className:"aboutUsContent"},t.createElement("b",null,"crawlear.com")," ",e("content.aboutus"),t.createElement("img",{src:bP,alt:"crawler en accion"}),t.createElement("p",null,e("content.aboutus1")),t.createElement("img",{src:wP,alt:"crawler en accion2"}),t.createElement("p",null,e("content.aboutus2")),t.createElement("img",{src:xP,alt:"crawler en accion3"}),t.createElement("p",null,t.createElement("a",{href:"/"},">"," Volver")))};var TP=a(14534),kP={};kP.styleTagTransform=b(),kP.setAttributes=m(),kP.insert=p().bind(null,"head"),kP.domAPI=h(),kP.insertStyleElement=y(),u()(TP.Z,kP),TP.Z&&TP.Z.locals&&TP.Z.locals;const SP=function(){const e=[];return t.useEffect((()=>{i.default.pageview("/privacypolicy/")}),[]),sP.ZP.language.indexOf("es")>=0?e.push(t.createElement("div",{className:"privacyPolicy"},t.createElement("b",null,"Politica de privacidad"),":",t.createElement("ul",null,t.createElement("li",null,"crawlear.com"),t.createElement("li",null,"contacto: Jose Angel Anguita en crawlear.com@gmail.com")),t.createElement("ul",null,t.createElement("li",null,"La información personal guardada y usada por crawlear.com es guardada simplemente para ofrecer una experiencia de usuario más completa."),t.createElement("li",null,"La información utilizada de la cuenta de google.com es tan sólo el displayName y photoURL"),t.createElement("li",null,"Cuando un juego es público, la localización y otras propiedades del juego serán usadas para enriquecer la experiencia de usuario")),"Publicidad:",t.createElement("ul",null,t.createElement("li",null,"Los proveedores de publicidad (google) usa cookies para mostrar anuncios relevantes basado en las visitas previas a su página web u otras páginas web."),t.createElement("li",null,"El uso de las cookies de publicidad permnite a los proveedores (google) y sus partners para mostrar anuncios basados en las visitas realizadas a sus páginas web u otras páginas de Internet."),t.createElement("li",null,"Usuarios pueden deshabilitar la publicidad personalizada. Para hacerlo, es necesario acceder a las preferencias de publicidad.")),"Cookies de otros proveedores o redes de publicidad  pueden también ser usadas para publicar publicidad en el sitio web:",t.createElement("ul",null,t.createElement("li",null,"Publicidad de otros proveedores o redes de publicidad se muestran."),t.createElement("li",null,"Puedes visitar las páginas web de dichos proveedores para deshabilitar el uso de cookies para la publicidad personalizada (en caso de que el proveedore de publicidad lo permita)."),t.createElement("li",null,"Tambien puedes visistar www.aboutads.info para deshabilitar el uso de cookies para la personalización de publicidad por otros proveedores.")))):e.push(t.createElement("div",{className:"privacyPolicy"},t.createElement("b",null,"Privacy Policy"),":",t.createElement("ul",null,t.createElement("li",null,"crawlear.com"),t.createElement("li",null,"contact: crawlear.com@gmail.com")),t.createElement("ul",null,t.createElement("li",null,"The personal information stored and used by crawlear.com are just stored to get a full user experience, game progresion and scores."),t.createElement("li",null,"Information used from google profile account is the displayName and photoURL"),t.createElement("li",null,"when a game is public, the location and other game information will be used to enrich the user experience")),"Advertising:",t.createElement("ul",null,t.createElement("li",null,"Advertising providers (google) use cookies to display relevant ads based on a user's previous visits to their website or other websites."),t.createElement("li",null,"The use of advertising cookies allows providers (google) and their partners to display advertisements based on the visits made by users to their websites or to other websites on the Internet."),t.createElement("li",null,"Users can disable personalized advertising. To do this, they will need to access Ads Preferences.")),"Cookies from other providers or advertising networks can also be used to publish advertisements on the site:",t.createElement("ul",null,t.createElement("li",null,"Advertisements from other providers and ad networks are displayed."),t.createElement("li",null,"You can visit the providers' websites to disable the use of cookies for personalized advertising (in case the provider or the ad network offers this option)."),t.createElement("li",null,"You can also access www.aboutads.info to disable the use of cookies for personalized advertising by other providers.")))),e.push(t.createElement("a",{href:"/"},"> Back")),e};var AP=a(64491),PP=a(11569);const NP=a.p+"25f77727ed6da92a1cfb.png",OP=a.p+"630f3e1e30bbbf36a209.jpeg",RP=a.p+"0e8411388912e8090839.png",LP=a.p+"616535897b5598e00b94.png";var MP=a(93589),DP={};DP.styleTagTransform=b(),DP.setAttributes=m(),DP.insert=p().bind(null,"head"),DP.domAPI=h(),DP.insertStyleElement=y(),u()(MP.Z,DP),MP.Z&&MP.Z.locals&&MP.Z.locals;const jP=function(e){let{onLogin:n}=e;const{t:o}=(0,s.$)(),a=(0,r.s0)(),l=window.crawlear.fb;function c(){n(!0),a("/game")}return t.useEffect((()=>{l.checkIfLogged(n),i.default.pageview("/landing/")}),[]),PP.isOffline?t.createElement(t.Fragment,null,t.createElement(PP.default,null)):t.createElement(t.Fragment,null,t.createElement(AP.Z,null),t.createElement("div",{className:"loginAndContent aboutUsContent"},t.createElement("p",null,o("content.landingMainText"),":"),t.createElement("img",{className:"crawlerImageSignIn",src:NP,alt:"t2 crawler",onClick:()=>{l.signInWithGoogle(c)}}),t.createElement("p",null,o("content.licenseText")),t.createElement("p",null,o("content.colaboraciones"),t.createElement("br",null),t.createElement("img",{className:"collaborateLogo",src:OP,alt:"Levante 1/24 Logo"}),t.createElement("a",{href:"https://www.clubzonarc.es/",alt:"Club ZonaRc website",rel:"noreferrer",target:"_blank"},t.createElement("img",{className:"collaborateLogo",src:RP,alt:"ZonaRc Logo"})),t.createElement("img",{className:"collaborateLogo",src:LP,alt:"Mini Crawler Passion Logo"}))),t.createElement(aP,null))};var FP=a(35229),zP=a.n(FP),UP=a(67517),VP=a.n(UP);const BP=function(e){let{pid:n,onLogin:r}=e;const{t:i}=(0,s.$)(),o=window.crawlear.fb,a=[],[c,u]=VP()(n,r);return o.isUserLogged()&&a.push(t.createElement("button",{key:"backButton",onClick:()=>{window.history&&window.history.back()}},i("description.atras"))),t.createElement("div",{className:"userViewer"},o.isUserLogged()?t.createElement(t.Fragment,null):t.createElement("a",{href:"https://crawlear.com",target:"_blank"},t.createElement("img",{src:l,className:"notLoggedLogo",alt:"web logo"})),u.pid?t.createElement(t.Fragment,null,c.displayName?t.createElement(fP,{user:c}):t.createElement(t.Fragment,null),t.createElement(HA,{post:u,readOnly:!1})):t.createElement(t.Fragment,null,t.createElement("br",null),t.createElement(ZA.default,null),t.createElement("br",null)),a)};var GP=a(20186),ZP=a.n(GP),qP=a(81744),WP=a.n(qP);window.onerror=(e,t,n,r,o)=>{console.error(e),i.default.event("error","js","".concat(e," ").concat(o.stack," ").concat(t))};var HP=a(23084),KP={};KP.styleTagTransform=b(),KP.setAttributes=m(),KP.insert=p().bind(null,"head"),KP.domAPI=h(),KP.insertStyleElement=y(),u()(HP.Z,KP),HP.Z&&HP.Z.locals&&HP.Z.locals;var $P=a(71740),YP={};YP.styleTagTransform=b(),YP.setAttributes=m(),YP.insert=p().bind(null,"head"),YP.domAPI=h(),YP.insertStyleElement=y(),u()($P.Z,YP),$P.Z&&$P.Z.locals&&$P.Z.locals;var QP=a(98130),JP={};JP.styleTagTransform=b(),JP.setAttributes=m(),JP.insert=p().bind(null,"head"),JP.domAPI=h(),JP.insertStyleElement=y(),u()(QP.Z,JP),QP.Z&&QP.Z.locals&&QP.Z.locals;const XP=function(){const e=new tA,[n,a]=t.useState(!1),s=(0,r.s0)(),l=(0,r.TH)(),c=new URLSearchParams(l.search);function u(e){a(!0),e&&s("/game")}function d(){a(!1)}return window.crawlear=window.crawlear||{},window.crawlear.fb=window.crawlear.fb||e,t.useEffect((()=>{i.default.event("App","init","".concat(navigator.userAgent))}),[]),t.createElement(LA.Y.Provider,{value:{isUserLoged:n}},t.createElement("div",{className:"App"},n?t.createElement(E,null):t.createElement(t.Fragment,null),t.createElement("div",{className:"AppMainContainer"},t.createElement(r.Z5,null,t.createElement(r.AW,{path:"/",element:t.createElement(jP,{onLogin:()=>{u(!0)}})}),t.createElement(r.AW,{path:"/game",element:t.createElement(_A,{onLogin:()=>{u(!1)},onLogout:d})}),t.createElement(r.AW,{path:"/gameconfigurator",element:t.createElement(yA.Z,{onLogin:()=>{u(!1)}})}),t.createElement(r.AW,{path:"/gameviewer",element:t.createElement(ZP(),{onLogin:()=>{u(!1)},gid:c.get&&c.get("gid")})}),t.createElement(r.AW,{path:"/route",element:t.createElement(zP(),{onLogin:()=>{u(!1)}})}),t.createElement(r.AW,{path:"/routeviewer",element:t.createElement(WP(),{onLogin:()=>{u(!1)},rid:c.get&&c.get("rid")})}),t.createElement(r.AW,{path:"/profile",element:t.createElement(yP,{onLogin:()=>{u(!1)},onLogout:d,uid:c.get&&c.get("uid")})}),t.createElement(r.AW,{path:"/social",element:t.createElement(_P,{onLogin:()=>{u(!1)},onLogout:d})}),t.createElement(r.AW,{path:"/follows",element:t.createElement(cP,{onLogin:()=>{u(!1)}})}),t.createElement(r.AW,{path:"/post",element:t.createElement(BP,{onLogin:()=>{u(!1)},pid:c.get&&c.get("pid")})}),t.createElement(r.AW,{path:"/aboutus",element:t.createElement(IP,null)}),t.createElement(r.AW,{path:"/privacypolicy",element:t.createElement(SP,null)}),t.createElement(r.AW,{path:"/sitemap.xml",element:t.createElement(o,{filePath:"/sitemap.xml"})}))),t.createElement("div",{className:"adsContainer"})))};var eN=a(79655);var tN,nN=a(97031),rN=a(15671),iN=a(43144),oN=[],aN=oN.forEach,sN=oN.slice,lN=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,cN={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=encodeURIComponent(t),o="".concat(e,"=").concat(i);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!lN.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!lN.test(r.path))throw new TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}(e,encodeURIComponent(t),i)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},uN={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");o>0&&r[i].substring(0,o)===e.lookupQuerystring&&(t=r[i].substring(o+1))}}return t}},dN=null,hN=function(){if(null!==dN)return dN;try{dN="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){dN=!1}return dN},fN={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&hN()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&hN()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},pN=null,gN=function(){if(null!==pN)return pN;try{pN="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){pN=!1}return pN},mN={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&gN()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&gN()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},vN={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},yN={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},_N={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},bN={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}},wN=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,rN.Z)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,iN.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return aN.call(sN.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(cN),this.addDetector(uN),this.addDetector(fN),this.addDetector(mN),this.addDetector(vN),this.addDetector(yN),this.addDetector(_N),this.addDetector(bN)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();wN.type="languageDetector",sP.ZP.use(wN).use(nN.Db).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:{content:{aboutus:"arises from the hobby of a group of friends after discovering the world of the rc crawler, entering the 1/24 scale.",aboutus1:"After going out on the field a couple of times, we realized that it would be a good idea to have a scoreboard for the matches, where we can manage the points in the different game modes that we practice.",aboutus2:"If you have any questions, comments or suggestions, do not hesitate to contact us at crawlear.com@gmail.com",aboutus3:"Barcelona (Spain) 2021",welcomeMessage:"is a professional and social score board for your 1/10 or 1/24 crawler AECAR, ISRCC, Levante 1/24, Mini Crawler Passion and ZonaRc regional Championship compatible events or competitions.",instrucciones:"First add the players, select the game mode, the points type and push the Begin button.",instrucciones1:"By clicking on the player you can define a positive (initial advantage) or negative (initial disadvantage) handicap. At the end of the game, the handicap will be added to the player's points to calculate the total points.",maxTimeText1:"Select the maximum time (0 if you do not want to apply maximum time):",maxTimeText2:"Select the maximum points (0 if you do not want to apply a maximum score):",usuariodesistema:"You can search and add a crawlear registered user, or add a non-registered one:",usuarionosistema:"You can search users:",puedesbuscarusuarios:"You can search for users:",clickenusuariooseguir:"Click on user to view his pilot profile and click on follow/unfollow tol fill your pilot's wall",enviorequest:"To add a registered player, send him play request",enviorequest2:"The player must accept the request to be added to the game",peticionjuegoconfirmacion:"Do you want to send a game request?",seguroborrarjuego:"Do you want to delete the game?",seguroborrarpost:"Do you want to delete the post?",nogeolocation:"Your browser does not support geolocation",landingMainText:"Sign In with your Google.com account to get all the functionality",landingSecondText:"Or just play a",seleccionZonas:"Select the number of zones",seleccionPuertas:"Select the number of progression gates for each zone",seleccionapilotoyzona:"Select a player and a zone to continue",pulsafinjugador:"Push End Player to finish the zone",quiereseditarpartida:"Do you want to edit the previous saved play?",cerrarpartida:"Do you want to close the play? you will not be abe to edit it again",finalizarreparacion:"Do you wanna finish the repair status?",marcarfiascoreparacion:"Do you want to set the repair fiasco?",quieresempezarzona:"Do you want to begin the play?",seguroeditarpartidaenjuego:"If you edit a zone and player and they are still going on, you can lose play data. ¿Are you sure that you want to edit the game?",licenseText:"Contact us if you are interested in license the crawlear tool for an official event or competition at crawlear.com@gmail.com",zonascompletadas:"Completed zones by group:",estadozona:"Zone status:",quieresenviarpeticiondepresencia:"Do you want to send a presence request?",aceptarpresencia:"Do you want to clean the presence request?",selecciongrupos:"Select the number of groups",colaboraciones:"Collaborates:",editprofile:"You can edit the user profile clicking on name, description or instagram username",userprofilenotlogged:"You must be logged with a google account to see the user profile",urlEmbed:"(optional) url to an instagram, youtube or tiktok post",textEmbed:"text message of the post",gameEmbed:"if the post is related with one of your public games, select it to asociate it to the post and the users will see the results and location (if available).",nopost:"There is no posts at youy profile. Fill the profile with your lastest photos and videos from instagram, tiktok and youtube",nofeedpost:"There is no posts at your pilot feed. Follow to your friends or favorite pilots to get their posts.",shareProfileText:"Hey! Check this crawlear.com pilot profile ",sharePostText:"Hey! Check this crawlear.com post ",comparteenredespiloto:"Share this pilot profile in social networks:",comparteenredespost:"Share this post in social networks:",ayudasocialprofile:"Are you looking to view or edit your pilot profile? Open the lateral menu and go to Social Profile or click this help",offlineMainText:"Your browser is offline, check again in minutes or create an offline game (it will be not be saved!)",shareruta:"Take a look to the next Crawler route: ",busquedaderuta:"To search for a route click on the map. If there is a route in kilometers around it, it will appear inside the circle."},error:{nojugadores:"Add the players",nojueces:"Add the judges",nonombre:"Fill in at least the name of the game to continue",nogeolocation:"Cant get geolocation or there is a permission error",juegoencurso:"Player is already playing the zone",reparacionencurso:"Player is currently repairing",rellenargrupos:"Check the configuration, there is a group with no pilots",nodirectordepartida:"Check at least one judge as Game director",errordecarga:"Try again, the elements couldn't be loaded.",noposttext:"The post text is empty",noposturl:"The post url is empty",nosocialurl:"The url must be a youtube, instagram or tiktok public post",nonombre:"The name is empty",nodescripcion:"The description is empty",noescala:"The scale is empty",errordecarga:"No se han podido cargar los elementos. Vuelve a probar en unos instantes.",nolocalizacion:"the meeting point google maps url is empty",noruta:"You didnt generate a route map. Select a GPX data file with the button to generate the route map"},description:{juego:"game",juegopublico:"public game",publico:"Public",nopublico:"Not public",nojugadores:"No players",nojueces:"No judges",nopartidas:"No current games",norequests:"No current game requests",noentradas:"No current entries",norutas:"No routes yet",jugadores:"Players",juezdepista:"Track Judge",juezdecarpa:"Tent Judge",iniciarreparacion:"Start repair",enreparaciondesde:"Since:",jueces:"Judges",nuevojugador:"New player",ordenaleatorio:"Random order",empezar:"Begin",crearjuego:"New game",crearoffline:"New offline game",crear:"Create",atras:"Back",ganador:"WINNER",empate:"TIE GAME",tiempo:"TIME",puntos:"POINTS",finjugador:"end player",total:"TOTAL",ordenruta:"Rute ORDER",fin:"End",reset:"Reset",continuar:"Continue",tiempomaximo:"MAX TIME",zonas:"Zones",zona:"Zone",puntosmaximo:"MAX POINTS",handicap:"handicap",instrucciones:"Instructions",paginaprincipal:"Main page",aboutus:"About us",politicaprivacidad:"Privacy policy",registro:"Registration",descripcion:"Description",partidascomopiloto:"Pilot games",partidasenjuego:"Current Games",partidasdejuez:"Judge Games",partidascreadas:"Created Games",partidasprevias:"Previous Games",jugador:"Player",nuevaPartida:"New Game",nombre:"Name",nombrederuta:"Route name",fecha:"Date",esPublica:"Is public",localizacion:"Location",puntoencuentro:"Meeting Point",obtener:"Get",obteniendo:"Getting",buscarusuario:"User search",buscar:"Search",resultado:"Result",vergooglemaps:"View in Google Maps",verperfil:"View social profile",ver:"View",usuariosenpartida:"Players in game",juecesenpartida:"Judges in game",peticionesdejuego:"Game requests",peticionde:"Request from",parajuego:"para el juego",peticionespendientes:"pending requests",enviar:"send",resumen:"Brief",detalle:"Detail",penalizaciones:"Penalties",penalizacionesadicionales:"Additional penalties",avancepuerta:"Gate",fallospuerta:"gate fails",puertas:"gates",bonificacion:"bonification",jugadorseleccionado:"Selected player",zonaseleccionada:"Selected zone",nohayreparaciones:"There is no repairs",cerrarpartida:"Cerrar partida",waiting:"waiting",repair:"repair",done:"done",playing:"playing",estado:"Status",reparacionfinalizada:"repair end",portiempo:"by time",grupo:"Group",grupos:"Groups",directordepartida:"Game director",ocupado:"Busy",libre:"Free",peticionesdepresencia:"Presence requests",nopeticionespresencia:"No presence requests",de:"De:",aceptar:"Accept",reclamarpresencia:"Claim presence",entrenamientos:"Mange trainings",bonificacionaccesorios:"Accessory bonification",ayuda:"Help",estadisticas:"Statistics",posts:"Posts",texto:"Text",publicar:"Post an entry",compartir:"Share",noasignarjuego:"don't assign a game",sinjuego:"no game assigned",juegoasignado:"Game assigned",murodepiloto:"Pilot Wall",murodefollows:"Follows Wall",secciondejuego:"Game tool",seccionderutas:"Routes tool",misrutas:"My routes",escala:"Scale",dificultad:"Difficulty",modificar:"Modify",editar:"Edit",rutas:"Routes",rutasguardadas:"Saved Routes",resolverjuego:"get game result",herramientajuego:"Game Tool",herramientaruta:"Route Tool",volverherramientajuego:"go back to the game tool",tendenciapiloto:"Profile trend: PiLOT",tendenciajuez:"Profile trend: JUDGE",tendencianeutral:"Profile trend: PiLOT and JUDGE",tendenciaruta:"Profile trend: Route ans Trail",perfilsocial:"Social profile",follow:"Follow",unfollow:"Unfollow",logout:"Logout",refrescar:"Reload",seguidores:"Followers",siguiendo:"Following",eliminarpartida:"Remove game",eliminar:"Remove",jugarpartida:"Play game",regenerarpartida:"Regenerate play",ordenRamdomJugadores:"Random players order",juegonopublico:"not public, sorry",cargar:"Load",mapaderuta:"Route map",clickparacerrar:"Click to close",video:"Youtube video"},points:{vuelco:"overturn",tocar:"touch",puerta:"gate",saltoobstaculo:"obstacle jump",reparacion:"repair",winch:"winch",puertaprogresion:"progression gate",distancia:"distance",equipaje:"baggage",anclajeindebido:"improper anchor",juez:"judge",saltopelota:"ball jump",nocomunicarcambio:"change not comunicated",bateria:"battery load",conductaincivica:"unsportsmanlike conduct",perdidacarnet:"loss of road license",modificarpista:"modify track conditions",perdidadorsal:"loss of bib",modificarcoche:"car manipulation",sacarcoche:"take the car out of the compound",nodorsal:"no dorsal",incumplimientotecnico:"Non-compliance with Technical Regulations",recolocacionbateria:"car body/battery relocation",puertamarchaatras:"reverse gate",retroceso:"backward",direcciondelcurso:"direction way",limite:"límite",fueraespecificacion:"out of specification",usodispositivo:"device used",noempezado:"not started",fiascos:"Fiascos",fiasco:"fiasco",noterminado:"not finished",tocarcochenoavanzar:"car touch",tocarcochepuerta:"car touch (passing gate)",empujarcocheacompañar:"Push car when accompanying",reparacion30mins:"Repair in Pits maximum 30min",conectarentiempoajuste:"Connect transmitter and receiver at time of adjustment",nococheparquecerrado:"Do not have the car in a closed park at the beginning of the zone",acaompañarcoche:"Accompany car (car and a half)",saltarsepuerta:"Skip gate",reparacionherramientasinsitu:"Repair with tools in situ",manipulacionvehiculocarpa:"Vehicle handling on the way to the tent",saltarzona:"Skip tricky zone (car + medium)",tocarcocheiniciovuelco:"Touch car when turning over",vuelcoasistidotoque:"Assisted rollover with a touch on the door or pilot",vuelcoasistido:"Assisted rollover",caidapuente:"Bridge fall",recolocarpuente:"Relocate on bridge",utilizacionextrawinch:"EXTRA use of the WINCH",vuelcotoquepuertapiloto:"Rollover touching door or pilot",terminarzonasinobjeto:"Zone end without an object",tocarcoche:"Touch the car",tocarpuerta:"Touch the door",vuelconoasistido:"Non-assisted rollover",interferiraccionjuez:"Interfere in the action of a Judge",moverwinch:"Move the vehicle >2cm when using the WINCH",tiemposentrenamiento:"Not respecting the training times",unaruedaejetrasero:"Pass only one wheel of the rear axle through the door",tocarpuertaunarueda:"To knock on a door and pass only 1 rear wheel through it",puertabonificada:"gate bonification",masuno:"+1",masdos:"+2",mastres:"+3",mascuatro:"+4",mascinco:"+5",bonificacion:"bonus"},gametype:{partidarapida:"Partida rápida",modojuego:"Game mode",tipopuntuacion:"Points type",modojuegotiempo:"A section is chosen and all participants will run it one by one and in the pre-established order. You run to points with time and maximum score and the possibility of making a fiasco. The winner will be the player with less points with a time tiebreaker.",modojuegopuntos:"A section is chosen and all participants will run it one by one and in the pre-established order. Points are run and the winner will be the player with the lowest score.",modojuegorey:"There is no pre-established route and the first participant, the King, chooses the path when playing. All participants run at the same time in line following the same route as the King. If a player scores he goes to the end of the queue. The winner will be the player with the lowest score.",modojuegoarcar:"By points game using the AECAR rules and scores",modojuegoisrcc:"By points game using the ISRCC rules and scores",modojuegolevante124:"By points game using the Levante 1/24 rules and scores",modojuegominicrawlerpassion:"By points game with basic but effective rules and scores",modojuegogeneric:"By pointa using generic rules and scores",simple:"Simple",completa:"Complete",descripcionPuntosSimple:"Score: Winch, touch, obstacle jump, repair, door, overturn and progression door. There is no time or maximum points. There is no max time or max points",descripcionPuntosCompleta:"Score: Winch, touch, distance, obstacle jump, repair, door, overturn, progression door, improper anchor, baggage, judge, ball jump, change not comunicated, battery load, unsportsmanlike conduct,loss of road license,modify track conditions, loss of bib, car manipulation, car out of the compound,no dorsal,non-compliance with Technical Regulations,car body/battery relocation, reverse gate. Variable number of zones, progression gates, optional time and maximum points. In this mode it is possible to apply maximum time and / or maximum score and make a fiasco in case of exceeding it. In the event of a fiasco, the player will score the maximum between the defined times / points and the current score.",tiempo:"Time",puntos:"Points",rey:"The King",isrcc:"ISRCC Rules",aecar:"AECAR Rules",levante124:"1/24 Levante Rules",generic:"Generic Rules",copaespana:"Regional ZonaRc",minicrawlerpassion:"Mini Crawler Passion",modojuegocopaespana:"By points game with full ZonaRc Regional Championship rules and scores"}}},es:{translation:{content:{aboutus:"surge a partir de la afición de un grupo de amigos después de descubrir el mundo del crawler rc, entrando por la escala 1/24.",aboutus1:"Después de salir al terreno de juego un par de veces nos dimos cuenta que sería una buena idea tener un marcador para las partidas, donde poder gestionar los puntos en los diferentes modos de juegos que practicamos.",aboutus2:"Si tienes alguna duda, comentario o sugerencia no dudes en contactar con nosotros en crawlear.com@gmail.com",aboutus3:"takezoRc, Barcelona 2022",welcomeMessage:"es un tablero profesional y social de puntuación para tus eventos o competiciones de Crawler 1/10 o 1/24 compatible con las reglas de AECAR, ISRCC, Levante 1/24, Mini Crawler Passion y el Campeonato Regional de ZonaRc.",instrucciones:"Primero añade los jugadores, selecciona el modo de juego, el tipo de puntuación y pulsa Empezar.",instrucciones1:"Pulsando en el jugador podrás definir un handicap positivo (ventaja inicial) o negativo (desventaja inicial). A final de partida el handicap se sumará a los puntos del jugador para calcular el total de puntos.",maxTimeText1:"Selecciona el tiempo máximo (0 si no quieres aplicar tiempo máximo):",maxTimeText2:"Selecciona el máximo de puntos (0 si no quieres aplicar puntuación máxima):",usuariodesistema:"Puedes buscar y añadir un usuario registrado en crawlear, o añadir un usuario no registrado:",usuarionosistema:"Puedes añadir usuarios:",puedesbuscarusuarios:"Puedes buscar usuarios:",clickenusuariooseguir:"Pulsa un usuario para ir a su perfil de piloto y pulsa seguir/dejar de seguir para rellenar tu muro de pilotos",enviorequest:"Para agregar un usuario registrado, envía una petición de juego",enviorequest2:"El usuario deberá aceptar la petición para poder ser agregado a la partida",peticionjuegoconfirmacion:"¿Quieres enviar una petición de juego?",seguroborrarjuego:"¿Quieres ELIMINAR el juego?",seguroborrarpost:"¿Quieres ELIMINAR la entrada?",nogeolocation:"Tu navegador no soporta geolocalizacíon",landingMainText:"Ingresa con tu cuenta de Google.com para acceder a las funcionalidades completas",landingSecondText:"O si lo prefieres, puedes jugar simplemente una",seleccionZonas:"Selecciona el número de zonas o sectores",seleccionPuertas:"Selecciona el número de puertas de progresión por cada zona",seleccionapilotoyzona:"Selecciona un piloto y una zona para continuar",pulsafinjugador:"Pulsa Fin Jugador para acabar la zona",quiereseditarpartida:"¿Quieres editar las puntuaciones previamente guardadas?",cerrarpartida:"¿Quieres cerrar la partida? No será posible volver a editar las puntuaciones",finalizarreparacion:"¿Quieres finalizar la reparación?",marcarfiascoreparacion:"¿Quieres marcar fiasco de reparación?",quieresempezarzona:"¿Quieres empezar el juego?",seguroeditarpartidaenjuego:"Si editas un juego en marcha podrás perder datos de la partida. ¿Estás seguro que quieres editar una zona en curso?",licenseText:"Contacta con nosotros en crawlear.com@gmail.com si estás interesado en licenciar la herramienta crawlear para un evento o competición oficial",zonascompletadas:"Zonas completadas por grupo:",estadozona:"Estado de zonas:",quieresenviarpeticiondepresencia:"¿Quieres enviar una petición de presencia al director del juego?",aceptarpresencia:"¿Quieres limpiar la petición de presencia?",selecciongrupos:"Selecciona el número de grupos en la partida",colaboraciones:"Colabora:",editprofile:"Puedes editar los datos haciendo click en el nombre, descripción o nombre de usuario en instagram",userprofilenotlogged:"Haz Sign In en crawlear.com con una cuenta de google para poder ver la información del perfil de usuario",urlEmbed:"(opcional) url a un post de insagram, youtube o tiktok",textEmbed:"mensaje de la entrada",gameEmbed:"si está relacionado con la entrada puedes seleccionar unos de tus juegos marcados como PÚBLICO y los usuarios podrán ver el resultado y la localización (si hubiese)",nopost:"No hay ninguna entrada en tu perfil. Rellénalo con tus últimas fotografías y videos de instagram. Tiktok, Facebook y Youtube",nofeedpost:"No hay ninguna entrada en tu muro de pilotos seguidos. Sigue a tus amigos o pilotos favoritos para ver aquí sus entradas.",shareProfileText:"Hey! Echa un ojo a éste perfil de piloto en crawlear.com ",sharePostText:"Hey! Echa un ojo a ésta entrada en crawlear.com ",comparteenredespost:"Comparte ésta entrada en redes sociales:",comparteenredespiloto:"Comparte éste perfil de piloto en redes sociales:",ayudasocialprofile:"Nuevo Perfil de Piloto Social en Crawlear.com! Accede desde el menú lateral > Perfil Social o haciendo click aqui.",offlineMainText:"Tu navegador no tiene conexión, comprueba de nuevo en unos minutos  o crea un juego sin conexión (no será guardado!)",shareruta:"Échale un ojo a la siguiente ruta crawler: ",busquedaderuta:"Para buscar una ruta haz click en el mapa. Si existe alguna ruta en kilometros a la redonda aparecerá marcada en el mapa."},error:{nojugadores:"Añade a los jugadores",nojueces:"Añade a los jueces",nonombre:"Rellena al menos el nombre de la partida para continuar",nogeolocation:"No se puede obtener la geolocalización o no hay permisos",juegoencurso:"El jugador y la zona ya está en juego",reparacionencurso:"El jugador está en estado de reparación",rellenargrupos:"Repasa la configuración, existe algun grupo sin pilotos",nodirectordepartida:"Marca al menos un juez como director de partida",noposttext:"El texto de la entrada está vacío",noposturl:"La url de la entrada está vacía",nosocialurl:"La url debe apuntar a una entrada de youtube, tiktok o instagram",nonombre:"El nombre está vacío",nodescripcion:"La descripción está vacía",noescala:"La escala está vacía",nolocalizacion:"La url del mapa al punto de encuentro está vacía",noruta:"No has generado un mapa de ruta. Selecciona un fichero de datos GPX pulsando el boton para generar el mapa de ruta"},description:{juego:"juego",juegopublico:"juego público",publico:"Público",nopublico:"No público",nojugadores:"No hay jugadores",nojueces:"No hay jueces",nopartidas:"No hay partidas en curso",norequests:"No hay peticiones de juego en curso",norutas:"No hay ninguna ruta creada",noentradas:"No hay ninguna entrada",jugadores:"Jugadores",jueces:"Jueces",enreparaciondesde:"Desde:",iniciarreparacion:"Iniciar reparación",juezdepista:"Juez de Pista",juezdecarpa:"Juez de Carpa",nuevojugador:"Nuevo jugador",ordenaleatorio:"Orden aleatorio",empezar:"Empezar",crearjuego:"Crear juego",crearoffline:"Crear juego offline",crear:"Crear",atras:"Atrás",ganador:"GANADOR",empate:"EMPATE",tiempo:"TIEMPO",puntos:"PUNTOS",finjugador:"fin jugador",total:"TOTAL",ordenruta:"ORDEN de Ruta",fin:"Fin",reset:"Reiniciar",continuar:"Continuar",tiempomaximo:"TIEMPO MAX",zonas:"Zonas",zona:"Zona",puntosmaximo:"MAX PUNTOS",handicap:"handicap",instrucciones:"Instrucciones",paginaprincipal:"Página principal",aboutus:"Sobre nosotros",politicaprivacidad:"Política de privacidad",registro:"Registro",descripcion:"Descripción",partidascomopiloto:"Partidas como Piloto",partidasenjuego:"Partidas en proceso",partidasdejuez:"Partidas como Juez",partidascreadas:"Partidas creadas",partidasprevias:"Partidas previas",jugador:"Jugador",nuevaPartida:"Nuevo juego",nombre:"Nombre",nombrederuta:"Nombre de ruta",fecha:"Fecha",esPublica:"Es pública",localizacion:"Localización",puntoencuentro:"Punto de entuentro",obtener:"Obtener",obteniendo:"Obteniendo",buscarusuario:"Buscar usuario",buscar:"Buscar",resultado:"Resultado",vergooglemaps:"Ver en Google Maps",verperfil:"Ver perfil social",ver:"Ver",usuariosenpartida:"Jugadores en partida",juecesenpartida:"Jueces en partida",peticionesdejuego:"Peticiones de Juego",peticionde:"Petición de",parajuego:"para el juego",peticionespendientes:"peticiones pendientes",enviar:"enviar",resumen:"Resumen",detalle:"Detalle",penalizaciones:"Penalizaciones",penalizacionesadicionales:"Penalizaciones adicionales",avancepuerta:"Puertas",fallospuerta:"puertas fallidas",puertas:"puertas",bonificacion:"bonificación",jugadorseleccionado:"Piloto seleccionado",zonaseleccionada:"Zona seleccionada",nohayreparaciones:"No hay reparaciones",cerrarpartida:"Cerrar partida",waiting:"espera",repair:"reparación",done:"hecho",playing:"en juego",estado:"Estado",reparacionfinalizada:"reparación finalizada",portiempo:"por tiempo",grupo:"Grupo",grupos:"Grupos",directordepartida:"Director de juego",ocupado:"Ocupado",libre:"Libre",peticionesdepresencia:"Peticiones de presencia",nopeticionespresencia:"Sin peticiones de presencia",de:"de:",aceptar:"Aceptar",reclamarpresencia:"Reclamar presencia",entrenamientos:"Gestionar entrenamientos",bonificacionaccesorios:"Bonificación de accesorios",ayuda:"Ayuda",estadisticas:"Estadísticas",posts:"Entradas",texto:"Texto",publicar:"Publicar entrada",compartir:"Compartir",noasignarjuego:"no asignar juego",sinjuego:"sin juego asignado",juegoasignado:"Juego asignado",murodepiloto:"Muro de Piloto",murodefollows:"Muro de Pilotos",secciondejuego:"Herramienta de juego",seccionderutas:"Herramienta de ruta",misrutas:"Mis rutas",escala:"Escala",dificultad:"Dificultad",modificar:"Modificar",editar:"Editar",rutas:"Rutas",rutasguardadas:"Rutas guardadas",resolverjuego:"ver resultado del juego",herramientajuego:"Herramienta de Juego",herramientaruta:"Herramienta de Rutas",volverherramientajuego:"volver a la herramienta de juego",tendenciapiloto:"Tendencia del perfil: PiLOTO",tendenciajuez:"Tendencia del perfil: JUEZ",tendencianeutral:"Tendencia del perfil: JUEZ y PiLOTO",tendenciaruta:"Tendencia del perfil: RUTA y TRAIL",perfilsocial:"Perfil social",follow:"Seguir",unfollow:"Dejar de serguir",logout:"Salir",refrescar:"Recargar",seguidores:"Seguidores",siguiendo:"Siguiendo",eliminarpartida:"Eliminar partida",eliminar:"Eliminar",jugarpartida:"Jugar partida",regenerarpartida:"Regenerar partida",ordenRamdomJugadores:"Orden aleatorio de salida",juegonopublico:"no publico, lo siento",cargar:"Cargar",mapaderuta:"Mapa de ruta",clickparacerrar:"Click para cerrar",video:"Video de youtube"},points:{vuelco:"vuelco",tocar:"tocar",puerta:"puerta",saltoobstaculo:"salto obstaculo",reparacion:"reparación",winch:"winch",puertaprogresion:"puerta de progresion",distancia:"distancia",equipaje:"equipaje",anclajeindebido:"anclaje indebido",juez:"juez",saltopelota:"salto de pelota",nocomunicarcambio:"cambio no comunicado",bateria:"carga de bateria",conductaincivica:"conducta incívica",perdidacarnet:"pérdida de carnet",modificarpista:"modificar condición de pista",perdidadorsal:"perdida de dorsal",modificarcoche:"manipulación del coche",sacarcoche:"coche fuera del recinto",nodorsal:"no dorsal",incumplimientotecnico:"no cumplir reglamento técnico",recolocacionbateria:"recolocación bateria/carrocería",puertamarchaatras:"puerta marcha atrás",retroceso:"retroceso",direcciondelcurso:"dirección del curso",limite:"límite",fueraespecificacion:"fuera especificación",usodispositivo:"uso de dispositivo",noempezado:"no empezado",fiascos:"Fiascos",fiasco:"fiasco",noterminado:"no terminado",tocarcochenoavanzar:"tocar coche (sin avanzar)",tocarcochepuerta:"tocar coche (pasando puerta)",empujarcocheacompañar:"Empujar coche al acompañar",reparacion30mins:"Reparación en Boxes máximo 30min",conectarentiempoajuste:"Conectar emisora y receptor en tiempo de Ajuste",nococheparquecerrado:"No tener el coche en parque cerrado al inicio de la zona",manipulacionvehiculocarpa:"Manipulación Vehículo en trayecto a carpa",tiemposentrenamiento:"No respetar los tiempos de entrenamiento",acaompañarcoche:"Acompañar coche (coche y medio)",saltarsepuerta:"Saltarse Puerta",reparacionherramientasinsitu:"Reparación con herramientas in situ",saltarzona:"Saltar zona complicada (coche + medio)",tocarcocheiniciovuelco:"Tocar coche al iniciar vuelco",vuelcoasistidotoque:"Vuelco Asistido con toque en puerta o piloto",vuelcoasistido:"Vuelco Asistido ",caidapuente:"Caída de puente",recolocarpuente:"Recolocar en puente",utilizacionextrawinch:"Utilización EXTRA del WINCH",vuelcotoquepuertapiloto:"Vuelco con toque en puerta o piloto",terminarzonasinobjeto:"Terminar la zona sin algún objeto",tocarcoche:"Tocar el coche",tocarpuerta:"Tocar puerta",vuelconoasistido:"Vuelco no asistido",interferiraccionjuez:"Interferir en la acción de un Juez",moverwinch:"Mover el vehículo >2cm al sacar el WINCH",unaruedaejetrasero:"Pasar solo una rueda del eje trasero por la puerta",tocarpuertaunarueda:"Tocar puerta y pasar solo 1 rueda trasera por ella",puertabonificada:"Puerta bonificada",masuno:"+1",masdos:"+2",mastres:"+3",mascuatro:"+4",mascinco:"+5",bonificacion:"bonus"},gametype:{partidarapida:"Partida rápida",modojuego:"Modo de juego",tipopuntuacion:"Tipo de puntuacion",modojuegotiempo:"Se escoge un tramo y todos los participantes lo correrán uno por uno y en el orden preestablecido. Se corre a puntos con tiempo y puntuación máxima y la posibilidad de hacer fiasco. El ganador será el jugador con menor puntos con desempate de tiempo.",modojuegopuntos:"Se escoge un tramo y todos los participantes lo correrán uno por uno y en el orden preestablecido. Se corre a puntos y el ganador será el jugador con menor puntuación.",modojuegorey:"No hay ruta preestablecida y el primer participante, el Rey, escoge el camino al jugar. Todos los participantes corren a la vez en línea siguiendo la misma ruta que el Rey. Si un jugador puntúa pasa al final de la cola. El ganador será el jugador con menor puntuación.",modojuegoarcar:"Por puntos usando el reglamento y puntuaciones del reglamento ARCAR",modojuegoisrcc:"Por puntos usando el reglamento y puntuaciones del reglamento ISRCC",modojuegolevante124:"Por puntos usando reglas y puntuaciones del regalmento Levante 1/24",modojuegocopaespana:"Por puntos usando reglas y puntuaciones completas del Campeonato Regional de ZonaRc",modojuegominicrawlerpassion:"Por puntos usando reglas y puntuaciones básicas pero efectivas",modojuegogeneric:"Por puntos usando reglas y puntuaciones genéricas",simple:"Simple",completa:"Completa",descripcionPuntosSimple:"Puntuación: Winch, tocar, salto obstaculo, reparacion, puerta, vuelco y puerta progresion. No hay tiempo ni puntos máximos. No se aplica tiempo ni puntuación máxima.",descripcionPuntosCompleta:"Puntuación: Winch, tocar, distancia, salto obstaculo, reparacion, puerta, vuelco, puerta progresion, anclaje indebido, equipaje, juez, salto de pelota ,cambio no comunicado, carga de bateria, conducta incívica, pérdida de carnet, modificar condición de pista, perdida de dorsal, manipulación del coche, coche fuera del recinto, no dorsal, no cumplir reglamento técnico, recolocación bateria/carrocería y puerta marcha atrás. Número de zonas variables, puertas de progresión, Tiempo y puntos máximos opcionales. En éste modo es posible aplicar tiempo máximo y/o puntuación máxima y realizar un fiasco en caso de superarla. En caso de fiasco el jugador puntuará el máximo entre los tiempos / puntos definidos y la puntuación actual.",tiempo:"Tiempo",puntos:"Puntos",rey:"El Rey",isrcc:"Reglas ISRCC",aecar:"Reglas AECAR",levante124:"1/24 Levante",generic:"Reglas genéricas",copaespana:"Regional ZonaRc",minicrawlerpassion:"Mini Crawler Passion"}}}}}),i.default.init("G-J1NH6FT6E3"),(0,n.s)(document.getElementById("root")).render(t.createElement(eN.BrowserRouter,null,t.createElement(XP,null))),tN&&tN instanceof Function&&a.e(131).then(a.bind(a,82131)).then((e=>{let{getCLS:t,getFID:n,getFCP:r,getLCP:i,getTTFB:o}=e;t(tN),n(tN),r(tN),i(tN),o(tN)})),"serviceWorker"in navigator?window.addEventListener("load",(function(){const e=document.location.href.indexOf("localhost")>=0?"service-worker-dev.js":"service-worker.js";navigator.serviceWorker.register(e).then((function(e){i.default.event("App","pwa","registered")}),(function(e){i.default.event("App","pwa","registration error"),console.log("ServiceWorker registration failed: ",e)})).catch((function(e){console.log(e)}))})):(i.default.event("App","pwa","service worker not supported"),console.log("service worker is not supported"))})()})();