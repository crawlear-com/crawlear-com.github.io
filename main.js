/*! For license information please see main.js.LICENSE.txt */
!function(){var e,t,n,r,i={7721:function(e,t,n){"use strict";var r=n(9089);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===i(o)?o:String(o)),r)}var o}function a(){return document.location.href.indexOf("localhost")>=0}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(e){a()||r.ZP.initialize(e)}},{key:"pageview",value:function(e){a()||r.ZP.send({hitType:"pageview",page:e})}},{key:"event",value:function(e,t,n){a()||r.ZP.event({category:e,action:t,label:n})}}],null&&o(t.prototype,null),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.Z=s},2742:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(7294),i=n(3379),o=n.n(i),a=n(7795),s=n.n(a),c=n(569),l=n.n(c),u=n(3565),d=n.n(u),h=n(9216),f=n.n(h),p=n(4589),g=n.n(p),m=n(7291),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;var y=n(7721),b=n(4478),w=function(e){var t=e.text,n=e.step,i=e.value,o=e.maxValue,a=e.onValueChange,s=n<0,c=s?i<0:i>0,l=r.useRef(),u=(0,b.$)().t;function d(e){(!s&&i+e>=0&&(!o||i+e<=Math.abs(o*e))||s&&i+e<=0)&&(y.Z.event("menu","pointValueChanged","".concat(t," : ").concat(e)),a(e))}function h(e){return c?"bold ".concat(e):"".concat(e)}return r.createElement("div",{className:"controlText"},r.createElement("button",{className:"buttonControlTextPlus",onClick:function(){l.current.focus(),d(n)}},"+"),r.createElement("button",{className:"buttonControlTextMinus",onClick:function(){l.current.focus(),d(-n)}},"-"),r.createElement("div",{className:h("controlTextText")},u(t)," "),r.createElement("div",{ref:l,className:h("controlTextValue")},i))},C=n(9789),I=n(7050),E=function(e){var t=e.controlTextValuesString,n=e.textToken,i=e.steps,o=e.maxValues,a=e.texts,s=e.player,c=e.zone,l=e.isClosed,u=void 0===l||l,d=e.onValueChange,h=0,f=(0,b.$)().t,p=r.useContext(C.G).game,g=[],m=[];if(!p||!p.players.length)return r.createElement(r.Fragment,null);var v=p.players[s].zones[c],y=t.indexOf("fiasco")<0?v.gateProgressionData[v.gateProgression][t]:v[t],E=y.length>14;function _(e){var t=e.target;t.classList.contains("controlTextTitle")&&t.parentElement.classList.toggle("closed")}for(var x=function(){var e=h;g.push(r.createElement(w,{key:h,value:y[h],onValueChange:function(t){d(t,e,s)},maxValue:o[h],initialValue:0,text:a[h],step:i[h]})),h++};h<14&&h<y.length;)x();if(E)for(var A=function(){var e=h;m.push(r.createElement(w,{key:"fullScore".concat(h),value:y[h],maxValue:o[h],onValueChange:function(t){d(t,e,s)},initialValue:0,text:a[h],step:i[h]})),h++};h<y.length;)A();return n?r.createElement(r.Fragment,null,r.createElement("div",{className:u?"controlTextContainer closed":"controlTextContainer",onClick:_},r.createElement("p",{key:"mainTitle",className:"controlTextTitle rounded rounded2"},f(n),r.createElement("img",{src:I,className:"dropdown",alt:"dropdown icon"})),g),E?r.createElement("div",{className:"controlTextContainer closed",onClick:_},r.createElement("p",{key:"additialTitle",className:"controlTextTitle rounded rounded2"},f("description.penalizacionesadicionales"),r.createElement("img",{src:I,className:"dropdown",alt:"dropdown icon"})),m):r.createElement(r.Fragment,null)):r.createElement("div",{className:"controlTextContainer",onClick:_},g,m)}},8146:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(7294),i=n(3379),o=n.n(i),a=n(7795),s=n.n(a),c=n(569),l=n.n(c),u=n(3565),d=n.n(u),h=n(9216),f=n.n(h),p=n(4589),g=n.n(p),m=n(7925),v={};v.styleTagTransform=g(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=f(),o()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;var y=function(e){var t=e.callback,n=e.minValue,i=void 0===n?0:n,o=e.maxValue,a=void 0===o?200:o,s=e.initialValue,c=void 0===s?0:s,l=e.value,u=void 0===l?0:l,d=r.useRef();function h(e,n){var r=Number(e.current.textContent)+n;r>=i&&r<=a&&(e.current.textContent=r,t&&t(r))}return!u&&(u=c),r.createElement("div",{className:"picker"},r.createElement("button",{className:"picker--arrowUp",onClick:function(e){h(d,1)}}),r.createElement("div",{className:"picker--value",ref:d},u),r.createElement("button",{className:"picker--arrowDown",onClick:function(e){h(d,-1)}}))}},9789:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var r=n(7294).createContext()},2160:function(e,t,n){"use strict";n.r(t),n.d(t,{AecarGameScores:function(){return c},gameExtras:function(){return d},getGameContent:function(){return l}});var r=n(7294),i=n(2742),o=n(653),a=n(4525),s=n(7721),c={steps:[5,3,2,5,5,3,-1,3,1,5,1,2,3,1,5,5,3,3,5,5,5,3,3],maxValues:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0],texts:["points.vuelco","points.tocar","points.puerta","points.saltoobstaculo","points.reparacion","points.winch","points.puertaprogresion","points.equipaje","points.distancia","points.anclajeindebido","points.juez","points.saltopelota","points.recolocacionbateria","points.puertamarchaatras","points.nocomunicarcambio","points.conductaincivica","points.perdidacarnet","points.modificarpista","points.perdidadorsal","points.modificarcoche","points.sacarcoche","points.nodorsal","points.incumplimientotecnico"],fiascoTexts:["points.noterminado","points.bateria"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:12e7,maxPoints:40,maxTime:6e5};function l(e,t,n,o){var s=[];return s.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:t,zone:n,steps:c.steps,maxValues:c.maxValues,texts:c.texts,isClosed:!1})),s.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:c.fiascoSteps,maxValues:c.fiascoMaxValues,texts:c.fiascoTexts,player:t,zone:n,isClosed:!0})),s.push(r.createElement(a.Z,{key:"gp",player:t,zone:n})),s}function u(e){e.totalPoints=e.points+e.simpathyPoints}var d={controlTextValuesInit:function(){return new Array(c.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(c.fiascoSteps.length).fill(0)},onTimerChange:function(e){u(e)},onChangeScore:function(e){u(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(o.zo.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,i.points=e.maxPoints>0?e.maxPoints:i.maxPoints,u(i)}}))}))},onGateProgressionChange:function(e){u(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){u(e)},generateSliderMarksFromGates:function(e,t){for(var n={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<t?(o+="colorGreen",a="-"):(o+="colorGrey",a="-"),n[i]=r.createElement("div",{className:o},a,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:function(){s.Z.pageview("/aecar/")}}},4525:function(e,t,n){"use strict";var r=n(7294),i=n(4478),o=n(9789);t.Z=function(e){var t=e.player,n=e.zone,a=(0,i.$)().t,s=r.useContext(o.G).game;if(!s||!s.players.length)return r.createElement(r.Fragment,null);var c=s.players[t].zones[n];return r.createElement("div",{className:"pointsText"},a("description.puntos"),": ",c.points)}},669:function(e,t,n){"use strict";n.r(t),n.d(t,{GenericGameScores:function(){return u},gameExtras:function(){return f},getGameContent:function(){return d}});var r=n(7294),i=n(2742),o=n(653),a=n(4478),s=n(9789),c=function(e){var t=e.player,n=e.zone,i=(0,a.$)().t,o=r.useContext(s.G).game;if(!o||!o.players.length)return r.createElement(r.Fragment,null);var c=o.players[t].zones[n];return r.createElement("div",{className:"pointsText"},i("description.puntos"),": ",c.points)},l=n(7721),u={steps:[1,2,3,4,5,-5],maxValues:[0,0,0,0,0,0],texts:["points.masuno","points.masdos","points.mastres","points.mascuatro","points.mascinco","points.bonificacion"],fiascoTexts:["points.fiasco"],fiascoSteps:[1],fiascoMaxValues:[1],courtesyTime:12e7,maxPoints:40,maxTime:6e5};function d(e,t,n,o){var a=[];return a.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:t,zone:n,steps:u.steps,maxValues:u.maxValues,texts:u.texts,isClosed:!1})),a.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:u.fiascoSteps,maxValues:u.fiascoMaxValues,texts:u.fiascoTexts,player:t,zone:n,isClosed:!0})),a.push(r.createElement(c,{key:"gP",player:t,zone:n})),a}function h(e){e.gatesWithFail=function(e){return e.gateProgressionData.length-e.gateProgression}(e),e.totalPoints=e.points+e.simpathyPoints+3*e.gatesWithFail}var f={controlTextValuesInit:function(){return new Array(u.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(u.fiascoSteps.length).fill(0)},onTimerChange:function(e){h(e)},onChangeScore:function(e){h(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(o.zo.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,i.points=e.maxPoints>0?e.maxPoints:i.maxPoints,h(i)}}))}))},onGateProgressionChange:function(e){h(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){h(e)},generateSliderMarksFromGates:function(e,t){for(var n={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<t?(o+="colorGreen",a="-"):(o+="colorGrey",a="-"),n[i]=r.createElement("div",{className:o},a,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:function(){l.Z.pageview("/aecar/")}}},83:function(e,t,n){"use strict";n.r(t),n.d(t,{IsrccGameScores:function(){return u},gameExtras:function(){return f},getGameContent:function(){return d}});var r=n(7294),i=n(2742),o=n(653),a=n(4478),s=n(9789),c=function(e){var t=e.player,n=e.zone,i=(0,a.$)().t,c=r.useContext(s.G).game;if(!c||!c.players.length)return r.createElement(r.Fragment,null);var l=c.players[t].zones[n],u=o.zo.getZoneTotalBonification(l.gateProgressionData,l.gateProgression);return r.createElement(r.Fragment,null,r.createElement("div",{className:"pointsText"},i("description.bonificacion"),": ",u),r.createElement("div",{className:"pointsText"},i("description.puntos"),": ",l.points))},l=n(7721),u={steps:[5,10,10,1,5,3],maxValues:[0,0,0,0,0,0],texts:["points.vuelco","points.tocar","points.puerta","points.retroceso","points.direcciondelcurso","points.limite"],fiascoTexts:["points.noempezado","points.reparacion","points.fueraespecificacion","points.usodispositivo","points.bateria"],fiascoSteps:[50,1,1,1,1],fiascoMaxValues:[1,1,1,1,1],courtesyTime:0,maxPoints:40,maxTime:6e5};function d(e,t,n,o){var a=[];return a.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",steps:u.steps,maxValues:u.maxValues,texts:u.texts,player:t,zone:n,isClosed:!1})),a.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:u.fiascoSteps,maxValues:u.fiascoMaxValues,texts:u.fiascoTexts,player:t,zone:n,isClosed:!0})),a.push(r.createElement(c,{key:"iP",player:t,zone:n})),a}function h(e){e.gatesWithFail=function(e){return e.gateProgressionData.filter((function(t,n){return t.gatePoints>=20&&n<e.gateProgression&&t.controlTextValues[2]>0})).length}(e),e.gatesWithBonification=function(e){return e.gateProgressionData.filter((function(t,n){return t.gatePoints<20&&n<e.gateProgression&&t.controlTextValues[2]<1})).length}(e),e.totalPoints=e.points+e.simpathyPoints+-2*e.gatesWithBonification}var f={controlTextValuesInit:function(){return new Array(u.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(u.fiascoSteps.length).fill(0)},onTimerChange:function(e){h(e)},onChangeScore:function(e){h(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(o.zo.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,o.zo.isNonPresentedFiasco(e,n,r)?i.points=50:i.points=e.maxPoints>0?e.maxPoints:i.totalPoints,h(i)}}))}))},onGateProgressionChange:function(e){h(e)},onFiascoChangeScore:function(e,t,n){0===t&&(e.points+=n)},onPointBecauseLastMinute:function(e){h(e)},generateSliderMarksFromGates:function(e,t){for(var n={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<t?e[i].gatePoints<20&&e[i].controlTextValues[2]<1?(o+="colorGreen",a="-2"):(o+="colorRed",a="0"):(o+="colorGrey",a="-"),n[i]=r.createElement("div",{className:o},a,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:function(){l.Z.pageview("/isrcc/")}}},7525:function(e,t,n){"use strict";n.r(t),n.d(t,{KingGameScores:function(){return c},gameExtras:function(){return d},getGameContent:function(){return l}});var r=n(7294),i=n(2742),o=n(653),a=n(4525),s=n(7721),c={steps:[5,3,5,5,3],maxValues:[0,0,0,0,0],texts:["points.vuelco","points.tocar","points.saltoobstaculo","points.reparacion","points.winch"],fiascoTexts:["points.noterminado","points.bateria"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:0,maxPoints:50,maxTime:6e5};function l(e,t,n,o){var s=[];return s.push(r.createElement(i.Z,{controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:t,zone:n,steps:c.steps,maxValues:c.maxValues,texts:c.texts,isClosed:!1})),s.push(r.createElement(i.Z,{textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:c.fiascoSteps,maxValues:c.fiascoMaxValues,texts:c.fiascoTexts,player:t,zone:n,isClosed:!0})),s.push(r.createElement(a.Z,{player:t,zone:n})),s}function u(e){e.totalPoints=e.points+e.simpathyPoints}var d={controlTextValuesInit:function(){return new Array(c.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(c.fiascoSteps.length).fill(0)},onTimerChange:function(){},onChangeScore:function(e){u(e)},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(r,i){if(o.zo.isFiasco(e,n,i)){var a=e.players[n].zones[i];a.time=e.maxTime>0?e.maxTime+e.courtesyTime:a.time,(o.zo.isTimeFiasco(e,a)||o.zo.isFiascoFromFiascoControlTextValues(e,t,r))&&(a.totalPoints+=25),u(a)}}))}))},onEndPlayer:function(e,t,n,r){var i=e.players[n].zones[r];i.time=t,o.zo.isFiasco(e,n,r)&&(i.time=e.maxTime>0?e.maxTime:t,i.totalPoints=e.maxPoints)},onGateProgressionChange:function(){},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(){},generateSliderMarksFromGates:function(){},doPageView:function(){s.Z.pageview("/king/")}}},3238:function(e,t,n){"use strict";n.r(t),n.d(t,{Levante124GameScores:function(){return c},gameExtras:function(){return d},getGameContent:function(){return l}});var r=n(7294),i=n(2742),o=n(653),a=n(4525),s=n(7721),c={steps:[1,3,5,5,5,10],maxValues:[0,0,0,0],texts:["points.puerta","points.tocarcochenoavanzar","points.tocarcochepuerta","points.vuelco","points.saltopelota","points.reparacion"],fiascoTexts:["points.bateria","points.reparacion"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:0,maxPoints:100,maxTime:0};function l(e,t,n,o){var s=[];return s.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:t,zone:n,steps:c.steps,maxValues:c.maxValues,texts:c.texts,isClosed:!1})),s.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:c.fiascoSteps,maxValues:c.fiascoMaxValues,texts:c.fiascoTexts,player:t,zone:n,isClosed:!0})),s.push(r.createElement(a.Z,{key:"aP",player:t,zone:n})),s}function u(e){e.totalPoints=e.points+e.simpathyPoints}var d={controlTextValuesInit:function(){return new Array(c.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(c.fiascoSteps.length).fill(0)},onTimerChange:function(e){u(e)},onChangeScore:function(e){u(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(o.zo.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,i.points=e.maxPoints>0?e.maxPoints:i.maxPoints,u(i)}}))}))},onGateProgressionChange:function(e){u(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){u(e)},generateSliderMarksFromGates:function(e,t){for(var n={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<t?(o+="colorGreen",a="-"):(o+="colorGrey",a="-"),n[i]=r.createElement("div",{className:o},a,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:function(){s.Z.pageview("/levante124/")}}},9206:function(e,t,n){"use strict";n.r(t),n.d(t,{MiniCrawlerPassionGameScores:function(){return c},gameExtras:function(){return d},getGameContent:function(){return l}});var r=n(7294),i=n(7721),o=n(4525),a=n(2742),s=n(653),c={steps:[1,3,5,5,5,5,10],maxValues:[0,0,0,0,0,0,0],texts:["points.puerta","points.tocarcoche","points.saltoobstaculo","points.vuelco","points.saltopelota","points.winch","points.reparacion"],fiascoTexts:["points.bateria","points.reparacion"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:0,maxPoints:80,maxTime:48e4};function l(e,t,n,i){var s=[];return s.push(r.createElement(a.Z,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:t,zone:n,steps:c.steps,maxValues:c.maxValues,texts:c.texts,isClosed:!1})),s.push(r.createElement(a.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:c.fiascoSteps,maxValues:c.fiascoMaxValues,texts:c.fiascoTexts,player:t,zone:n,isClosed:!0})),s.push(r.createElement(o.Z,{key:"aP",player:t,zone:n})),s}function u(e){e.totalPoints=e.points+e.simpathyPoints}var d={controlTextValuesInit:function(){return new Array(c.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(c.fiascoSteps.length).fill(0)},onTimerChange:function(e){u(e)},onChangeScore:function(e){u(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(s.zo.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,i.points=e.maxPoints>0?e.maxPoints:i.maxPoints,u(i)}}))}))},onGateProgressionChange:function(e){u(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){u(e)},generateSliderMarksFromGates:function(e,t){for(var n={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<t?(o+="colorGreen",a="-"):(o+="colorGrey",a="-"),n[i]=r.createElement("div",{className:o},a,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:function(){i.Z.pageview("/minicrawlerpassion/")}}},1222:function(e,t,n){"use strict";n.r(t),n.d(t,{RegionalZonaRcGameScores:function(){return R},gameExtras:function(){return M},getGameContent:function(){return D}});var r=n(7294),i=n(2742),o=n(653),a=n(4478),s=n(9789),c=function(e){var t=e.player,n=e.zone,i=(0,a.$)().t,o=r.useContext(s.G).game;if(!o||!o.players.length)return r.createElement(r.Fragment,null);var c=o.players[t].zones[n];return r.createElement("div",{className:"pointsText"},i("description.puntos"),": ",c.points)},l=n(8146),u=n(3379),d=n.n(u),h=n(7795),f=n.n(h),p=n(569),g=n.n(p),m=n(3565),v=n.n(m),y=n(9216),b=n.n(y),w=n(4589),C=n.n(w),I=n(9468),E={};E.styleTagTransform=C(),E.setAttributes=v(),E.insert=g().bind(null,"head"),E.domAPI=f(),E.insertStyleElement=b(),d()(I.Z,E),I.Z&&I.Z.locals&&I.Z.locals;var _=function(e){var t=e.handicap,n=e.onHandicapChange,i=(0,a.$)().t;return r.createElement("div",{className:"gameProgressionItem rounded rounded3"},r.createElement("div",{className:"handicapContainer"},i("description.bonificacionaccesorios"),": ",r.createElement(l.Z,{callback:function(e){n(e)},minValue:-5,maxValue:0,initialValue:0,value:t})))};function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===x(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){var t,n,i=e.player,o=e.zone,c=((0,a.$)().t,r.useContext(s.G)),l=c.game,u=c.setGame,d=(t=r.useState(0),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=d[0],f=d[1];return l&&l.players.length?r.createElement(_,{handicap:h,onHandicapChange:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l),n=t.players[i].zones[o];f(e),n.handicap=e,M.onHandicapChange&&M.onHandicapChange(n),u(t)}}):r.createElement(r.Fragment,null)},P=n(7721),N=n(6725),O={};O.styleTagTransform=C(),O.setAttributes=v(),O.insert=g().bind(null,"head"),O.domAPI=f(),O.insertStyleElement=b(),d()(N.Z,O),N.Z&&N.Z.locals&&N.Z.locals;var R={steps:[-5,5,5,1,10,5,1,1,4,4,4,3,2,1,3,1,3,5,10,10,10,5,2,1,1,3,3],maxValues:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],texts:["points.puertabonificada","points.saltarsepuerta","points.saltarzona","points.unaruedaejetrasero","points.empujarcocheacompañar","points.acaompañarcoche","points.tocarcoche","points.tocarpuerta","points.tocarcocheiniciovuelco","points.tocarpuertaunarueda","points.vuelcoasistidotoque","points.vuelcoasistido","points.vuelcotoquepuertapiloto","points.vuelconoasistido","points.utilizacionextrawinch","points.moverwinch","points.reparacion30mins","points.reparacionherramientasinsitu","points.conectarentiempoajuste","points.nococheparquecerrado","points.manipulacionvehiculocarpa","points.terminarzonasinobjeto","points.interferiraccionjuez","points.tiemposentrenamiento","points.caidapuente","points.recolocarpuente"],fiascoTexts:["points.noempezado","points.bateria","points.reparacion"],fiascoSteps:[1,1,1],fiascoMaxValues:[1,1,1],courtesyTime:6e4,maxPoints:25,maxTime:6e5};function D(e,t,n,o){var a=[];return a.push(r.createElement(i.Z,{key:"ctP",controlTextValuesString:"controlTextValues",player:t,zone:n,steps:R.steps,maxValues:R.maxValues,texts:R.texts,isClosed:!1})),a.push(r.createElement(i.Z,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:R.fiascoSteps,maxValues:R.fiascoMaxValues,texts:R.fiascoTexts,player:t,zone:n,isClosed:!0})),a.push(r.createElement(c,{key:"zRP",player:t,zone:n})),a.push(r.createElement(T,{key:"zRM",player:t,zone:n})),a}function L(e){e.totalPoints=e.points+e.simpathyPoints+e.handicap}var M={controlTextValuesInit:function(){return new Array(R.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(R.fiascoSteps.length).fill(0)},onTimerChange:function(e){L(e)},onChangeScore:function(e){L(e)},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(r,i){if(o.zo.isFiasco(e,n,i)){var a=e.players[n].zones[i];a.time=e.maxTime>0?e.maxTime+e.courtesyTime:a.time,(o.zo.isTimeFiasco(e,a)||o.zo.isFiascoFromFiascoControlTextValues(e,t,r))&&(a.points+=25),L(a)}}))}))},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGateProgressionChange:function(e){L(e)},onHandicapChange:function(e){L(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){L(e)},generateSliderMarksFromGates:function(e,t){for(var n={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<t?(e[i].controlTextValues[0]<0?o+="colorGreen":o+="colorClearGrey",a="-"):(o+="colorGrey",a="-"),n[i]=r.createElement("div",{className:o},a,r.createElement("br",null),e[i].gatePoints)}return n},doPageView:function(){P.Z.pageview("/copaespana/")}}},6124:function(e,t,n){"use strict";if(n(1934),n(5654),n(7694),n.g._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");function r(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}n.g._babelPolyfill=!0,r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(e){[][e]&&r(Array,e,Function.call.bind([][e]))}))},5654:function(e,t,n){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",l=t.regeneratorRuntime;if(l)e.exports=l;else{(l=t.regeneratorRuntime=e.exports).wrap=b;var u="suspendedStart",d="suspendedYield",h="executing",f="completed",p={},g={};g[a]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(P([])));v&&v!==r&&i.call(v,a)&&(g=v);var y=E.prototype=C.prototype=Object.create(g);I.prototype=y.constructor=E,E.constructor=I,E[c]=I.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===I||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(y),e},l.awrap=function(e){return{__await:e}},_(x.prototype),x.prototype[s]=function(){return this},l.AsyncIterator=x,l.async=function(e,t,n,r){var i=new x(b(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(y),y[c]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function b(e,t,n,r){var i=t&&t.prototype instanceof C?t:C,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(e,t,n){var r=u;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=w(e,t,n);if("normal"===c.type){if(r=n.done?f:d,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function C(){}function I(){}function E(){}function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function x(e){function n(t,r,o,a){var s=w(e[t],e,r);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):Promise.resolve(l).then((function(e){c.value=e,o(c)}),a)}a(s.arg)}var r;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function i(){return new Promise((function(r,i){n(e,t,r,i)}))}return r=r?r.then(i,i):i()}}function A(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,A(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=w(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:n,done:!0}}}("object"==typeof n.g?n.g:"object"==typeof window?window:"object"==typeof self?self:this)},4184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7694:function(e,t,n){n(1761),e.exports=n(5645).RegExp.escape},4963:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},3365:function(e,t,n){var r=n(2032);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},7722:function(e,t,n){var r=n(6314)("unscopables"),i=Array.prototype;null==i[r]&&n(7728)(i,r,{}),e.exports=function(e){i[r][e]=!0}},6793:function(e,t,n){"use strict";var r=n(4496)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},3328:function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},7007:function(e,t,n){var r=n(5286);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},5216:function(e,t,n){"use strict";var r=n(508),i=n(2337),o=n(875);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),c=i(t,a),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?a:i(l,a))-c,a-s),d=1;for(c<s&&s<c+u&&(d=-1,c+=u-1,s+=u-1);u-- >0;)c in n?n[s]=n[c]:delete n[s],s+=d,c+=d;return n}},6852:function(e,t,n){"use strict";var r=n(508),i=n(2337),o=n(875);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>s;)t[s++]=e;return t}},9490:function(e,t,n){var r=n(3531);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},9315:function(e,t,n){var r=n(2110),i=n(875),o=n(2337);e.exports=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},50:function(e,t,n){var r=n(741),i=n(9797),o=n(508),a=n(875),s=n(6886);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d,f=t||s;return function(t,s,p){for(var g,m,v=o(t),y=i(v),b=r(s,p,3),w=a(y.length),C=0,I=n?f(t,w):c?f(t,0):void 0;w>C;C++)if((h||C in y)&&(m=b(g=y[C],C,v),e))if(n)I[C]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return C;case 2:I.push(g)}else if(u)return!1;return d?-1:l||u?u:I}}},7628:function(e,t,n){var r=n(4963),i=n(508),o=n(9797),a=n(875);e.exports=function(e,t,n,s,c){r(t);var l=i(e),u=o(l),d=a(l.length),h=c?d-1:0,f=c?-1:1;if(n<2)for(;;){if(h in u){s=u[h],h+=f;break}if(h+=f,c?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:d>h;h+=f)h in u&&(s=t(s,u[h],h,l));return s}},2736:function(e,t,n){var r=n(5286),i=n(4302),o=n(6314)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},6886:function(e,t,n){var r=n(2736);e.exports=function(e,t){return new(r(e))(t)}},4398:function(e,t,n){"use strict";var r=n(4963),i=n(5286),o=n(7242),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),c=function(){var r=n.concat(a.call(arguments));return this instanceof c?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(c.prototype=t.prototype),c}},1488:function(e,t,n){var r=n(2032),i=n(6314)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},2032:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9824:function(e,t,n){"use strict";var r=n(9275).f,i=n(2503),o=n(4408),a=n(741),s=n(3328),c=n(3531),l=n(2923),u=n(5436),d=n(2974),h=n(7057),f=n(4728).fastKey,p=n(1616),g=h?"_s":"size",m=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,null!=r&&c(r,n,e[l],e)}));return o(u.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=p(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(p(this,t),e)}}),h&&r(u.prototype,"size",{get:function(){return p(this,t)[g]}}),u},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){l(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(t)}}},6132:function(e,t,n){var r=n(1488),i=n(9490);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},3657:function(e,t,n){"use strict";var r=n(4408),i=n(4728).getWeak,o=n(7007),a=n(5286),s=n(3328),c=n(3531),l=n(50),u=n(9181),d=n(1616),h=l(5),f=l(6),p=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},v=function(e,t){return h(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=r&&c(r,n,e[o],e)}));return r(l.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?g(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?g(d(this,t)).has(e):n&&u(n,this._i)}}),l},def:function(e,t,n){var r=i(o(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},5795:function(e,t,n){"use strict";var r=n(3816),i=n(2985),o=n(7234),a=n(4408),s=n(4728),c=n(3531),l=n(3328),u=n(5286),d=n(4253),h=n(7462),f=n(2943),p=n(266);e.exports=function(e,t,n,g,m,v){var y=r[e],b=y,w=m?"set":"add",C=b&&b.prototype,I={},E=function(e){var t=C[e];o(C,e,"delete"==e||"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||C.forEach&&!d((function(){(new b).entries().next()})))){var _=new b,x=_[w](v?{}:-0,1)!=_,A=d((function(){_.has(1)})),k=h((function(e){new b(e)})),S=!v&&d((function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)}));k||((b=t((function(t,n){l(t,b,e);var r=p(new y,t,b);return null!=n&&c(n,m,r[w],r),r}))).prototype=C,C.constructor=b),(A||S)&&(E("delete"),E("has"),m&&E("get")),(S||x)&&E(w),v&&C.clear&&delete C.clear}else b=g.getConstructor(t,e,m,w),a(b.prototype,n),s.NEED=!0;return f(b,e),I[e]=b,i(i.G+i.W+i.F*(b!=y),I),v||g.setStrong(b,e,m),b}},5645:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},2811:function(e,t,n){"use strict";var r=n(9275),i=n(681);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},741:function(e,t,n){var r=n(4963);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},3537:function(e,t,n){"use strict";var r=n(4253),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},870:function(e,t,n){"use strict";var r=n(7007),i=n(1689),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},1355:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},7057:function(e,t,n){e.exports=!n(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:function(e,t,n){var r=n(5286),i=n(3816).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},4430:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:function(e,t,n){var r=n(7184),i=n(4548),o=n(4682);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),c=o.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},2985:function(e,t,n){var r=n(3816),i=n(5645),o=n(7728),a=n(7234),s=n(741),c="prototype",l=function(e,t,n){var u,d,h,f,p=e&l.F,g=e&l.G,m=e&l.S,v=e&l.P,y=e&l.B,b=g?r:m?r[t]||(r[t]={}):(r[t]||{})[c],w=g?i:i[t]||(i[t]={}),C=w[c]||(w[c]={});for(u in g&&(n=t),n)h=((d=!p&&b&&void 0!==b[u])?b:n)[u],f=y&&d?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,b&&a(b,u,h,e&l.U),w[u]!=h&&o(w,u,f),v&&C[u]!=h&&(C[u]=h)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},8852:function(e,t,n){var r=n(6314)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},4253:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},8082:function(e,t,n){"use strict";n(8269);var r=n(7234),i=n(7728),o=n(4253),a=n(1355),s=n(6314),c=n(1165),l=s("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var h=s(e),f=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=f?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[h](""),!t})):void 0;if(!f||!p||"replace"===e&&!u||"split"===e&&!d){var g=/./[h],m=n(a,h,""[e],(function(e,t,n,r,i){return t.exec===c?f&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,e,v),i(RegExp.prototype,h,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},3218:function(e,t,n){"use strict";var r=n(7007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},3325:function(e,t,n){"use strict";var r=n(4302),i=n(5286),o=n(875),a=n(741),s=n(6314)("isConcatSpreadable");e.exports=function e(t,n,c,l,u,d,h,f){for(var p,g,m=u,v=0,y=!!h&&a(h,f,3);v<l;){if(v in c){if(p=y?y(c[v],v,n):c[v],g=!1,i(p)&&(g=void 0!==(g=p[s])?!!g:r(p)),g&&d>0)m=e(t,n,p,o(p.length),m,d-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=p}m++}v++}return m}},3531:function(e,t,n){var r=n(741),i=n(8851),o=n(6555),a=n(7007),s=n(875),c=n(9002),l={},u={},d=e.exports=function(e,t,n,d,h){var f,p,g,m,v=h?function(){return e}:c(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(f=s(e.length);f>b;b++)if((m=t?y(a(p=e[b])[0],p[1]):y(e[b]))===l||m===u)return m}else for(g=v.call(e);!(p=g.next()).done;)if((m=i(g,y,p.value,t))===l||m===u)return m};d.BREAK=l,d.RETURN=u},18:function(e,t,n){e.exports=n(3825)("native-function-to-string",Function.toString)},3816:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},9181:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},7728:function(e,t,n){var r=n(9275),i=n(681);e.exports=n(7057)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},639:function(e,t,n){var r=n(3816).document;e.exports=r&&r.documentElement},1734:function(e,t,n){e.exports=!n(7057)&&!n(4253)((function(){return 7!=Object.defineProperty(n(2457)("div"),"a",{get:function(){return 7}}).a}))},266:function(e,t,n){var r=n(5286),i=n(7375).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},7242:function(e){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},9797:function(e,t,n){var r=n(2032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6555:function(e,t,n){var r=n(2803),i=n(6314)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},4302:function(e,t,n){var r=n(2032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},8367:function(e,t,n){var r=n(5286),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},5286:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},5364:function(e,t,n){var r=n(5286),i=n(2032),o=n(6314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},8851:function(e,t,n){var r=n(7007);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},9988:function(e,t,n){"use strict";var r=n(2503),i=n(681),o=n(2943),a={};n(7728)(a,n(6314)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},2923:function(e,t,n){"use strict";var r=n(4461),i=n(2985),o=n(7234),a=n(7728),s=n(2803),c=n(9988),l=n(2943),u=n(468),d=n(6314)("iterator"),h=!([].keys&&"next"in[].keys()),f="keys",p="values",g=function(){return this};e.exports=function(e,t,n,m,v,y,b){c(n,t,m);var w,C,I,E=function(e){if(!h&&e in k)return k[e];switch(e){case f:case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",x=v==p,A=!1,k=e.prototype,S=k[d]||k["@@iterator"]||v&&k[v],T=S||E(v),P=v?x?E("entries"):T:void 0,N="Array"==t&&k.entries||S;if(N&&(I=u(N.call(new e)))!==Object.prototype&&I.next&&(l(I,_,!0),r||"function"==typeof I[d]||a(I,d,g)),x&&S&&S.name!==p&&(A=!0,T=function(){return S.call(this)}),r&&!b||!h&&!A&&k[d]||a(k,d,T),s[t]=T,s[_]=g,v)if(w={values:x?T:E(p),keys:y?T:E(f),entries:P},b)for(C in w)C in k||o(k,C,w[C]);else i(i.P+i.F*(h||A),t,w);return w}},7462:function(e,t,n){var r=n(6314)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},5436:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},2803:function(e){e.exports={}},4461:function(e){e.exports=!1},3086:function(e){var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},4934:function(e,t,n){var r=n(1801),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),c=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),l=r(e);return i<c?l*(i/c/a+1/o-1/o)*c*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?l*(1/0):l*n}},6206:function(e){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},8757:function(e){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},1801:function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},4728:function(e,t,n){var r=n(3953)("meta"),i=n(5286),o=n(9181),a=n(9275).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(4253)((function(){return c(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!o(e,r)&&u(e),e}}},133:function(e,t,n){var r=n(8416),i=n(2985),o=n(3825)("metadata"),a=o.store||(o.store=new(n(147))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o};e.exports={store:a,map:s,has:function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){s(n,r,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},4351:function(e,t,n){var r=n(3816),i=n(4193).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(2032)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var d=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},3499:function(e,t,n){"use strict";var r=n(4963);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},5345:function(e,t,n){"use strict";var r=n(7057),i=n(7184),o=n(4548),a=n(4682),s=n(508),c=n(9797),l=Object.assign;e.exports=!l||n(4253)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,u=1,d=o.f,h=a.f;l>u;)for(var f,p=c(arguments[u++]),g=d?i(p).concat(d(p)):i(p),m=g.length,v=0;m>v;)f=g[v++],r&&!h.call(p,f)||(n[f]=p[f]);return n}:l},2503:function(e,t,n){var r=n(7007),i=n(5588),o=n(4430),a=n(9335)("IE_PROTO"),s=function(){},c="prototype",l=function(){var e,t=n(2457)("iframe"),r=o.length;for(t.style.display="none",n(639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l[c][o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[c]=r(e),n=new s,s[c]=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},9275:function(e,t,n){var r=n(7007),i=n(1734),o=n(1689),a=Object.defineProperty;t.f=n(7057)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},5588:function(e,t,n){var r=n(9275),i=n(7007),o=n(7184);e.exports=n(7057)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},1670:function(e,t,n){"use strict";e.exports=n(4461)||!n(4253)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n(3816)[e]}))},8693:function(e,t,n){var r=n(4682),i=n(681),o=n(2110),a=n(1689),s=n(9181),c=n(1734),l=Object.getOwnPropertyDescriptor;t.f=n(7057)?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},9327:function(e,t,n){var r=n(2110),i=n(616).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},616:function(e,t,n){var r=n(189),i=n(4430).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},4548:function(e,t){t.f=Object.getOwnPropertySymbols},468:function(e,t,n){var r=n(9181),i=n(508),o=n(9335)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},189:function(e,t,n){var r=n(9181),i=n(2110),o=n(9315)(!1),a=n(9335)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},7184:function(e,t,n){var r=n(189),i=n(4430);e.exports=Object.keys||function(e){return r(e,i)}},4682:function(e,t){t.f={}.propertyIsEnumerable},3160:function(e,t,n){var r=n(2985),i=n(5645),o=n(4253);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},1131:function(e,t,n){var r=n(7057),i=n(7184),o=n(2110),a=n(4682).f;e.exports=function(e){return function(t){for(var n,s=o(t),c=i(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},7643:function(e,t,n){var r=n(616),i=n(4548),o=n(7007),a=n(3816).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},7743:function(e,t,n){var r=n(3816).parseFloat,i=n(9599).trim;e.exports=1/r(n(4644)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},5960:function(e,t,n){var r=n(3816).parseInt,i=n(9599).trim,o=n(4644),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},188:function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},94:function(e,t,n){var r=n(7007),i=n(5286),o=n(3499);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},681:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4408:function(e,t,n){var r=n(7234);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},7234:function(e,t,n){var r=n(3816),i=n(7728),o=n(9181),a=n(3953)("src"),s=n(18),c="toString",l=(""+s).split(c);n(5645).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},7787:function(e,t,n){"use strict";var r=n(1488),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},1165:function(e,t,n){"use strict";var r,i,o=n(3218),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l="lastIndex",u=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[l]||0!==i[l]),d=void 0!==/()??/.exec("")[1];(u||d)&&(c=function(e){var t,n,r,i,c=this;return d&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),u&&(t=c[l]),r=a.call(c,e),u&&r&&(c[l]=c.global?r.index+r[0].length:t),d&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},5496:function(e){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},7195:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},1024:function(e,t,n){"use strict";var r=n(2985),i=n(4963),o=n(741),a=n(3531);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),null==e?new this:(n=[],t?(r=0,s=o(c,arguments[2],2),a(e,!1,(function(e){n.push(s(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},4881:function(e,t,n){"use strict";var r=n(2985);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},7375:function(e,t,n){var r=n(5286),i=n(7007),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(741)(Function.call,n(8693).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},2974:function(e,t,n){"use strict";var r=n(3816),i=n(9275),o=n(7057),a=n(6314)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},2943:function(e,t,n){var r=n(9275).f,i=n(9181),o=n(6314)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},9335:function(e,t,n){var r=n(3825)("keys"),i=n(3953);e.exports=function(e){return r[e]||(r[e]=i(e))}},3825:function(e,t,n){var r=n(5645),i=n(3816),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},8364:function(e,t,n){var r=n(7007),i=n(4963),o=n(6314)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},7717:function(e,t,n){"use strict";var r=n(4253);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},4496:function(e,t,n){var r=n(1467),i=n(1355);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},2094:function(e,t,n){var r=n(5364),i=n(1355);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},9395:function(e,t,n){var r=n(2985),i=n(4253),o=n(1355),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},5442:function(e,t,n){var r=n(875),i=n(8595),o=n(1355);e.exports=function(e,t,n,a){var s=String(o(e)),c=s.length,l=void 0===n?" ":String(n),u=r(t);if(u<=c||""==l)return s;var d=u-c,h=i.call(l,Math.ceil(d/l.length));return h.length>d&&(h=h.slice(0,d)),a?h+s:s+h}},8595:function(e,t,n){"use strict";var r=n(1467),i=n(1355);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},9599:function(e,t,n){var r=n(2985),i=n(1355),o=n(4253),a=n(4644),s="["+a+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),c=i[e]=s?t(d):a[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},d=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},4644:function(e){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},4193:function(e,t,n){var r,i,o,a=n(741),s=n(7242),c=n(639),l=n(2457),u=n(3816),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,m=0,v={},y="onreadystatechange",b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){b.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},f=function(e){delete v[e]},"process"==n(2032)(d)?r=function(e){d.nextTick(a(b,e,1))}:g&&g.now?r=function(e){g.now(a(b,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",w,!1)):r=y in l("script")?function(e){c.appendChild(l("script"))[y]=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:h,clear:f}},2337:function(e,t,n){var r=n(1467),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},4843:function(e,t,n){var r=n(1467),i=n(875);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},1467:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},2110:function(e,t,n){var r=n(9797),i=n(1355);e.exports=function(e){return r(i(e))}},875:function(e,t,n){var r=n(1467),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},508:function(e,t,n){var r=n(1355);e.exports=function(e){return Object(r(e))}},1689:function(e,t,n){var r=n(5286);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},8440:function(e,t,n){"use strict";if(n(7057)){var r=n(4461),i=n(3816),o=n(4253),a=n(2985),s=n(9383),c=n(1125),l=n(741),u=n(3328),d=n(681),h=n(7728),f=n(4408),p=n(1467),g=n(875),m=n(4843),v=n(2337),y=n(1689),b=n(9181),w=n(1488),C=n(5286),I=n(508),E=n(6555),_=n(2503),x=n(468),A=n(616).f,k=n(9002),S=n(3953),T=n(6314),P=n(50),N=n(9315),O=n(8364),R=n(6997),D=n(2803),L=n(7462),M=n(2974),j=n(6852),F=n(5216),V=n(9275),U=n(8693),z=V.f,B=U.f,G=i.RangeError,q=i.TypeError,Z=i.Uint8Array,W="ArrayBuffer",H="Shared"+W,K="BYTES_PER_ELEMENT",$="prototype",Q=Array[$],Y=c.ArrayBuffer,J=c.DataView,X=P(0),ee=P(2),te=P(3),ne=P(4),re=P(5),ie=P(6),oe=N(!0),ae=N(!1),se=R.values,ce=R.keys,le=R.entries,ue=Q.lastIndexOf,de=Q.reduce,he=Q.reduceRight,fe=Q.join,pe=Q.sort,ge=Q.slice,me=Q.toString,ve=Q.toLocaleString,ye=T("iterator"),be=T("toStringTag"),we=S("typed_constructor"),Ce=S("def_constructor"),Ie=s.CONSTR,Ee=s.TYPED,_e=s.VIEW,xe="Wrong length!",Ae=P(1,(function(e,t){return Ne(O(e,e[Ce]),t)})),ke=o((function(){return 1===new Z(new Uint16Array([1]).buffer)[0]})),Se=!!Z&&!!Z[$].set&&o((function(){new Z(1).set({})})),Te=function(e,t){var n=p(e);if(n<0||n%t)throw G("Wrong offset!");return n},Pe=function(e){if(C(e)&&Ee in e)return e;throw q(e+" is not a typed array!")},Ne=function(e,t){if(!C(e)||!(we in e))throw q("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return Re(O(e,e[Ce]),t)},Re=function(e,t){for(var n=0,r=t.length,i=Ne(e,r);r>n;)i[n]=t[n++];return i},De=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},Le=function(e){var t,n,r,i,o,a,s=I(e),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,h=k(s);if(null!=h&&!E(h)){for(a=h.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(d&&c>2&&(u=l(u,arguments[2],2)),t=0,n=g(s.length),i=Ne(this,n);n>t;t++)i[t]=d?u(s[t],t):s[t];return i},Me=function(){for(var e=0,t=arguments.length,n=Ne(this,t);t>e;)n[e]=arguments[e++];return n},je=!!Z&&o((function(){ve.call(new Z(1))})),Fe=function(){return ve.apply(je?ge.call(Pe(this)):Pe(this),arguments)},Ve={copyWithin:function(e,t){return F.call(Pe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(Pe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return j.apply(Pe(this),arguments)},filter:function(e){return Oe(this,ee(Pe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return re(Pe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ie(Pe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Pe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(Pe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Pe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return fe.apply(Pe(this),arguments)},lastIndexOf:function(e){return ue.apply(Pe(this),arguments)},map:function(e){return Ae(Pe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return de.apply(Pe(this),arguments)},reduceRight:function(e){return he.apply(Pe(this),arguments)},reverse:function(){for(var e,t=this,n=Pe(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return te(Pe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return pe.call(Pe(this),e)},subarray:function(e,t){var n=Pe(this),r=n.length,i=v(e,r);return new(O(n,n[Ce]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===t?r:v(t,r))-i))}},Ue=function(e,t){return Oe(this,ge.call(Pe(this),e,t))},ze=function(e){Pe(this);var t=Te(arguments[1],1),n=this.length,r=I(e),i=g(r.length),o=0;if(i+t>n)throw G(xe);for(;o<i;)this[t+o]=r[o++]},Be={entries:function(){return le.call(Pe(this))},keys:function(){return ce.call(Pe(this))},values:function(){return se.call(Pe(this))}},Ge=function(e,t){return C(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return Ge(e,t=y(t,!0))?d(2,e[t]):B(e,t)},Ze=function(e,t,n){return!(Ge(e,t=y(t,!0))&&C(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};Ie||(U.f=qe,V.f=Ze),a(a.S+a.F*!Ie,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Ze}),o((function(){me.call({})}))&&(me=ve=function(){return fe.call(this)});var We=f({},Ve);f(We,Be),h(We,ye,Be.values),f(We,{slice:Ue,set:ze,constructor:function(){},toString:me,toLocaleString:Fe}),De(We,"buffer","b"),De(We,"byteOffset","o"),De(We,"byteLength","l"),De(We,"length","e"),z(We,be,{get:function(){return this[Ee]}}),e.exports=function(e,t,n,c){var l=e+((c=!!c)?"Clamped":"")+"Array",d="get"+e,f="set"+e,p=i[l],v=p||{},y=p&&x(p),b=!p||!s.ABV,I={},E=p&&p[$],k=function(e,n){z(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,ke)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[f](n*t+i.o,r,ke)}(this,n,e)},enumerable:!0})};b?(p=n((function(e,n,r,i){u(e,p,l,"_d");var o,a,s,c,d=0,f=0;if(C(n)){if(!(n instanceof Y||(c=w(n))==W||c==H))return Ee in n?Re(p,n):Le.call(p,n);o=n,f=Te(r,t);var v=n.byteLength;if(void 0===i){if(v%t)throw G(xe);if((a=v-f)<0)throw G(xe)}else if((a=g(i)*t)+f>v)throw G(xe);s=a/t}else s=m(n),o=new Y(a=s*t);for(h(e,"_d",{b:o,o:f,l:a,e:s,v:new J(o)});d<s;)k(e,d++)})),E=p[$]=_(We),h(E,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&L((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,r,i){var o;return u(e,p,l),C(n)?n instanceof Y||(o=w(n))==W||o==H?void 0!==i?new v(n,Te(r,t),i):void 0!==r?new v(n,Te(r,t)):new v(n):Ee in n?Re(p,n):Le.call(p,n):new v(m(n))})),X(y!==Function.prototype?A(v).concat(A(y)):A(v),(function(e){e in p||h(p,e,v[e])})),p[$]=E,r||(E.constructor=p));var S=E[ye],T=!!S&&("values"==S.name||null==S.name),P=Be.values;h(p,we,!0),h(E,Ee,l),h(E,_e,!0),h(E,Ce,p),(c?new p(1)[be]==l:be in E)||z(E,be,{get:function(){return l}}),I[l]=p,a(a.G+a.W+a.F*(p!=v),I),a(a.S,l,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){v.of.call(p,1)})),l,{from:Le,of:Me}),K in E||h(E,K,t),a(a.P,l,Ve),M(l),a(a.P+a.F*Se,l,{set:ze}),a(a.P+a.F*!T,l,Be),r||E.toString==me||(E.toString=me),a(a.P+a.F*o((function(){new p(1).slice()})),l,{slice:Ue}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),l,{toLocaleString:Fe}),D[l]=T?S:P,r||T||h(E,ye,P)}}else e.exports=function(){}},1125:function(e,t,n){"use strict";var r=n(3816),i=n(7057),o=n(4461),a=n(9383),s=n(7728),c=n(4408),l=n(4253),u=n(3328),d=n(1467),h=n(875),f=n(4843),p=n(616).f,g=n(9275).f,m=n(6852),v=n(2943),y="ArrayBuffer",b="DataView",w="prototype",C="Wrong index!",I=r[y],E=r[b],_=r.Math,x=r.RangeError,A=r.Infinity,k=I,S=_.abs,T=_.pow,P=_.floor,N=_.log,O=_.LN2,R="buffer",D="byteLength",L="byteOffset",M=i?"_b":R,j=i?"_l":D,F=i?"_o":L;function V(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,l=c>>1,u=23===t?T(2,-24)-T(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for((e=S(e))!=e||e===A?(i=e!=e?1:0,r=c):(r=P(N(e)/O),e*(o=T(2,-r))<1&&(r--,o*=2),(e+=r+l>=1?u/o:u*T(2,1-l))*o>=2&&(r++,o/=2),r+l>=c?(i=0,r=c):r+l>=1?(i=(e*o-1)*T(2,t),r+=l):(i=e*T(2,l-1)*T(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*h,a}function U(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=n-1,l=e[c--],u=127&l;for(l>>=7;s>0;u=256*u+e[c],c--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===u)u=1-a;else{if(u===o)return r?NaN:l?-A:A;r+=T(2,t),u-=a}return(l?-1:1)*r*T(2,u-t)}function z(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function B(e){return[255&e]}function G(e){return[255&e,e>>8&255]}function q(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function Z(e){return V(e,52,8)}function W(e){return V(e,23,4)}function H(e,t,n){g(e[w],t,{get:function(){return this[n]}})}function K(e,t,n,r){var i=f(+n);if(i+t>e[j])throw x(C);var o=e[M]._b,a=i+e[F],s=o.slice(a,a+t);return r?s:s.reverse()}function $(e,t,n,r,i,o){var a=f(+n);if(a+t>e[j])throw x(C);for(var s=e[M]._b,c=a+e[F],l=r(+i),u=0;u<t;u++)s[c+u]=l[o?u:t-u-1]}if(a.ABV){if(!l((function(){I(1)}))||!l((function(){new I(-1)}))||l((function(){return new I,new I(1.5),new I(NaN),I.name!=y}))){for(var Q,Y=(I=function(e){return u(this,I),new k(f(e))})[w]=k[w],J=p(k),X=0;J.length>X;)(Q=J[X++])in I||s(I,Q,k[Q]);o||(Y.constructor=I)}var ee=new E(new I(2)),te=E[w].setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||c(E[w],{setInt8:function(e,t){te.call(this,e,t<<24>>24)},setUint8:function(e,t){te.call(this,e,t<<24>>24)}},!0)}else I=function(e){u(this,I,y);var t=f(e);this._b=m.call(new Array(t),0),this[j]=t},E=function(e,t,n){u(this,E,b),u(e,I,b);var r=e[j],i=d(t);if(i<0||i>r)throw x("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw x("Wrong length!");this[M]=e,this[F]=i,this[j]=n},i&&(H(I,D,"_l"),H(E,R,"_b"),H(E,D,"_l"),H(E,L,"_o")),c(E[w],{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return z(K(this,4,e,arguments[1]))},getUint32:function(e){return z(K(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return U(K(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return U(K(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){$(this,1,e,B,t)},setUint8:function(e,t){$(this,1,e,B,t)},setInt16:function(e,t){$(this,2,e,G,t,arguments[2])},setUint16:function(e,t){$(this,2,e,G,t,arguments[2])},setInt32:function(e,t){$(this,4,e,q,t,arguments[2])},setUint32:function(e,t){$(this,4,e,q,t,arguments[2])},setFloat32:function(e,t){$(this,4,e,W,t,arguments[2])},setFloat64:function(e,t){$(this,8,e,Z,t,arguments[2])}});v(I,y),v(E,b),s(E[w],a.VIEW,!0),t[y]=I,t[b]=E},9383:function(e,t,n){for(var r,i=n(3816),o=n(7728),a=n(3953),s=a("typed_array"),c=a("view"),l=!(!i.ArrayBuffer||!i.DataView),u=l,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[h[d++]])?(o(r.prototype,s,!0),o(r.prototype,c,!0)):u=!1;e.exports={ABV:l,CONSTR:u,TYPED:s,VIEW:c}},3953:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},575:function(e,t,n){var r=n(3816).navigator;e.exports=r&&r.userAgent||""},1616:function(e,t,n){var r=n(5286);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},6074:function(e,t,n){var r=n(3816),i=n(5645),o=n(4461),a=n(8787),s=n(9275).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},8787:function(e,t,n){t.f=n(6314)},6314:function(e,t,n){var r=n(3825)("wks"),i=n(3953),o=n(3816).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},9002:function(e,t,n){var r=n(1488),i=n(6314)("iterator"),o=n(2803);e.exports=n(5645).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},1761:function(e,t,n){var r=n(2985),i=n(5496)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},2e3:function(e,t,n){var r=n(2985);r(r.P,"Array",{copyWithin:n(5216)}),n(7722)("copyWithin")},5745:function(e,t,n){"use strict";var r=n(2985),i=n(50)(4);r(r.P+r.F*!n(7717)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},8977:function(e,t,n){var r=n(2985);r(r.P,"Array",{fill:n(6852)}),n(7722)("fill")},8837:function(e,t,n){"use strict";var r=n(2985),i=n(50)(2);r(r.P+r.F*!n(7717)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},4899:function(e,t,n){"use strict";var r=n(2985),i=n(50)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(7722)(o)},2310:function(e,t,n){"use strict";var r=n(2985),i=n(50)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(7722)(o)},4336:function(e,t,n){"use strict";var r=n(2985),i=n(50)(0),o=n(7717)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},522:function(e,t,n){"use strict";var r=n(741),i=n(2985),o=n(508),a=n(8851),s=n(6555),c=n(875),l=n(2811),u=n(9002);i(i.S+i.F*!n(7462)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,d,h=o(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(h);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(t=c(h.length));t>v;v++)l(n,v,m?g(h[v],v):h[v]);else for(d=y.call(h),n=new f;!(i=d.next()).done;v++)l(n,v,m?a(d,g,[i.value,v],!0):i.value);return n.length=v,n}})},3369:function(e,t,n){"use strict";var r=n(2985),i=n(9315)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(7717)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},774:function(e,t,n){var r=n(2985);r(r.S,"Array",{isArray:n(4302)})},6997:function(e,t,n){"use strict";var r=n(7722),i=n(5436),o=n(2803),a=n(2110);e.exports=n(2923)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},7842:function(e,t,n){"use strict";var r=n(2985),i=n(2110),o=[].join;r(r.P+r.F*(n(9797)!=Object||!n(7717)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},9564:function(e,t,n){"use strict";var r=n(2985),i=n(2110),o=n(1467),a=n(875),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(7717)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},1802:function(e,t,n){"use strict";var r=n(2985),i=n(50)(1);r(r.P+r.F*!n(7717)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},8295:function(e,t,n){"use strict";var r=n(2985),i=n(2811);r(r.S+r.F*n(4253)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},3750:function(e,t,n){"use strict";var r=n(2985),i=n(7628);r(r.P+r.F*!n(7717)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},3057:function(e,t,n){"use strict";var r=n(2985),i=n(7628);r(r.P+r.F*!n(7717)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},110:function(e,t,n){"use strict";var r=n(2985),i=n(639),o=n(2032),a=n(2337),s=n(875),c=[].slice;r(r.P+r.F*n(4253)((function(){i&&c.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return c.call(this,e,t);for(var i=a(e,n),l=a(t,n),u=s(l-i),d=new Array(u),h=0;h<u;h++)d[h]="String"==r?this.charAt(i+h):this[i+h];return d}})},6773:function(e,t,n){"use strict";var r=n(2985),i=n(50)(3);r(r.P+r.F*!n(7717)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},75:function(e,t,n){"use strict";var r=n(2985),i=n(4963),o=n(508),a=n(4253),s=[].sort,c=[1,2,3];r(r.P+r.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!n(7717)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},1842:function(e,t,n){n(2974)("Array")},1822:function(e,t,n){var r=n(2985);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},1031:function(e,t,n){var r=n(2985),i=n(3537);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},9977:function(e,t,n){"use strict";var r=n(2985),i=n(508),o=n(1689);r(r.P+r.F*n(4253)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},1560:function(e,t,n){var r=n(6314)("toPrimitive"),i=Date.prototype;r in i||n(7728)(i,r,n(870))},6331:function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(7234)(r,o,(function(){var e=s.call(this);return e==e?a.call(this):i}))},9730:function(e,t,n){var r=n(2985);r(r.P,"Function",{bind:n(4398)})},8377:function(e,t,n){"use strict";var r=n(5286),i=n(468),o=n(6314)("hasInstance"),a=Function.prototype;o in a||n(9275).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},6059:function(e,t,n){var r=n(9275).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(7057)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},8416:function(e,t,n){"use strict";var r=n(9824),i=n(1616),o="Map";e.exports=n(5795)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},6503:function(e,t,n){var r=n(2985),i=n(6206),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},6786:function(e,t,n){var r=n(2985),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},932:function(e,t,n){var r=n(2985),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},7526:function(e,t,n){var r=n(2985),i=n(1801);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},1591:function(e,t,n){var r=n(2985);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},9073:function(e,t,n){var r=n(2985),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},347:function(e,t,n){var r=n(2985),i=n(3086);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},579:function(e,t,n){var r=n(2985);r(r.S,"Math",{fround:n(4934)})},4669:function(e,t,n){var r=n(2985),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,c=0;a<s;)c<(n=i(arguments[a++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(o)}})},7710:function(e,t,n){var r=n(2985),i=Math.imul;r(r.S+r.F*n(4253)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},5789:function(e,t,n){var r=n(2985);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},3514:function(e,t,n){var r=n(2985);r(r.S,"Math",{log1p:n(6206)})},9978:function(e,t,n){var r=n(2985);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},8472:function(e,t,n){var r=n(2985);r(r.S,"Math",{sign:n(1801)})},6946:function(e,t,n){var r=n(2985),i=n(3086),o=Math.exp;r(r.S+r.F*n(4253)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},5068:function(e,t,n){var r=n(2985),i=n(3086),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},413:function(e,t,n){var r=n(2985);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},1246:function(e,t,n){"use strict";var r=n(3816),i=n(9181),o=n(2032),a=n(266),s=n(1689),c=n(4253),l=n(616).f,u=n(8693).f,d=n(9275).f,h=n(9599).trim,f="Number",p=r[f],g=p,m=p.prototype,v=o(n(2503)(m))==f,y="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=y?t.trim():h(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,c=t.slice(2),l=0,u=c.length;l<u;l++)if((a=c.charCodeAt(l))<48||a>i)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?c((function(){m.valueOf.call(n)})):o(n)!=f)?a(new g(b(t)),n,p):b(t)};for(var w,C=n(7057)?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;C.length>I;I++)i(g,w=C[I])&&!i(p,w)&&d(p,w,u(g,w));p.prototype=m,m.constructor=p,n(7234)(r,f,p)}},5972:function(e,t,n){var r=n(2985);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},3403:function(e,t,n){var r=n(2985),i=n(3816).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},2516:function(e,t,n){var r=n(2985);r(r.S,"Number",{isInteger:n(8367)})},9371:function(e,t,n){var r=n(2985);r(r.S,"Number",{isNaN:function(e){return e!=e}})},6479:function(e,t,n){var r=n(2985),i=n(8367),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},1736:function(e,t,n){var r=n(2985);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},1889:function(e,t,n){var r=n(2985);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},5177:function(e,t,n){var r=n(2985),i=n(7743);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},6943:function(e,t,n){var r=n(2985),i=n(5960);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},726:function(e,t,n){"use strict";var r=n(2985),i=n(1467),o=n(3365),a=n(8595),s=1..toFixed,c=Math.floor,l=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d="0",h=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*l[n],l[n]=r%1e7,r=c(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=c(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+a.call(d,7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4253)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,c=o(this,u),l=i(e),m="",v=d;if(l<0||l>20)throw RangeError(u);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*g(2,69,1))-69,n=t<0?c*g(2,-t,1):c/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(h(0,n),r=l;r>=7;)h(1e7,0),r-=7;for(h(g(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),v=p()}else h(0,n),h(1<<-t,0),v=p()+a.call(d,l);return l>0?m+((s=v.length)<=l?"0."+a.call(d,l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l)):m+v}})},1901:function(e,t,n){"use strict";var r=n(2985),i=n(4253),o=n(3365),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},5115:function(e,t,n){var r=n(2985);r(r.S+r.F,"Object",{assign:n(5345)})},8132:function(e,t,n){var r=n(2985);r(r.S,"Object",{create:n(2503)})},7470:function(e,t,n){var r=n(2985);r(r.S+r.F*!n(7057),"Object",{defineProperties:n(5588)})},8388:function(e,t,n){var r=n(2985);r(r.S+r.F*!n(7057),"Object",{defineProperty:n(9275).f})},9375:function(e,t,n){var r=n(5286),i=n(4728).onFreeze;n(3160)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},4882:function(e,t,n){var r=n(2110),i=n(8693).f;n(3160)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},9622:function(e,t,n){n(3160)("getOwnPropertyNames",(function(){return n(9327).f}))},1520:function(e,t,n){var r=n(508),i=n(468);n(3160)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},9892:function(e,t,n){var r=n(5286);n(3160)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},4157:function(e,t,n){var r=n(5286);n(3160)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},5095:function(e,t,n){var r=n(5286);n(3160)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},9176:function(e,t,n){var r=n(2985);r(r.S,"Object",{is:n(7195)})},7476:function(e,t,n){var r=n(508),i=n(7184);n(3160)("keys",(function(){return function(e){return i(r(e))}}))},4672:function(e,t,n){var r=n(5286),i=n(4728).onFreeze;n(3160)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},3533:function(e,t,n){var r=n(5286),i=n(4728).onFreeze;n(3160)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},8838:function(e,t,n){var r=n(2985);r(r.S,"Object",{setPrototypeOf:n(7375).set})},6253:function(e,t,n){"use strict";var r=n(1488),i={};i[n(6314)("toStringTag")]="z",i+""!="[object z]"&&n(7234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},4299:function(e,t,n){var r=n(2985),i=n(7743);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},1084:function(e,t,n){var r=n(2985),i=n(5960);r(r.G+r.F*(parseInt!=i),{parseInt:i})},851:function(e,t,n){"use strict";var r,i,o,a,s=n(4461),c=n(3816),l=n(741),u=n(1488),d=n(2985),h=n(5286),f=n(4963),p=n(3328),g=n(3531),m=n(8364),v=n(4193).set,y=n(4351)(),b=n(3499),w=n(188),C=n(575),I=n(94),E="Promise",_=c.TypeError,x=c.process,A=x&&x.versions,k=A&&A.v8||"",S=c[E],T="process"==u(x),P=function(){},N=i=b.f,O=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(6314)("species")]=function(e){e(P,P)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==k.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(i||(2==e._h&&j(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?l(_("Promise-chain cycle")):(o=R(n))?o.call(n,c,l):c(n)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){v.call(c,(function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=w((function(){T?x.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=T||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){v.call(c,(function(){var t;T?x.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},V=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw _("Promise can't be resolved itself");(t=R(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,l(V,r,1),l(F,r,1))}catch(e){F.call(r,e)}})):(n._v=e,n._s=1,D(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}};O||(S=function(e){p(this,S,E,"_h"),f(e),r.call(this);try{e(l(V,this,1),l(F,this,1))}catch(e){F.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(4408)(S.prototype,{then:function(e,t){var n=N(m(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(V,e,1),this.reject=l(F,e,1)},b.f=N=function(e){return e===S||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!O,{Promise:S}),n(2943)(S,E),n(2974)(E),a=n(5645)[E],d(d.S+d.F*!O,E,{reject:function(e){var t=N(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!O),E,{resolve:function(e){return I(s&&this===a?S:this,e)}}),d(d.S+d.F*!(O&&n(7462)((function(e){S.all(e).catch(P)}))),E,{all:function(e){var t=this,n=N(t),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,a=1;g(e,!1,(function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=N(t),r=n.reject,i=w((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},1572:function(e,t,n){var r=n(2985),i=n(4963),o=n(7007),a=(n(3816).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(4253)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),c=o(n);return a?a(r,t,c):s.call(r,t,c)}})},2139:function(e,t,n){var r=n(2985),i=n(2503),o=n(4963),a=n(7007),s=n(5286),c=n(4253),l=n(4398),u=(n(3816).Reflect||{}).construct,d=c((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),h=!c((function(){u((function(){}))}));r(r.S+r.F*(d||h),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var c=n.prototype,f=i(s(c)?c:Object.prototype),p=Function.apply.call(e,f,t);return s(p)?p:f}})},685:function(e,t,n){var r=n(9275),i=n(2985),o=n(7007),a=n(1689);i(i.S+i.F*n(4253)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},5535:function(e,t,n){var r=n(2985),i=n(8693).f,o=n(7007);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},7347:function(e,t,n){"use strict";var r=n(2985),i=n(7007),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(9988)(o,"Object",(function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},6633:function(e,t,n){var r=n(8693),i=n(2985),o=n(7007);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},8989:function(e,t,n){var r=n(2985),i=n(468),o=n(7007);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},3049:function(e,t,n){var r=n(8693),i=n(468),o=n(9181),a=n(2985),s=n(5286),c=n(7007);a(a.S,"Reflect",{get:function e(t,n){var a,l,u=arguments.length<3?t:arguments[2];return c(t)===u?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(l=i(t))?e(l,n,u):void 0}})},8270:function(e,t,n){var r=n(2985);r(r.S,"Reflect",{has:function(e,t){return t in e}})},4510:function(e,t,n){var r=n(2985),i=n(7007),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},3984:function(e,t,n){var r=n(2985);r(r.S,"Reflect",{ownKeys:n(7643)})},5769:function(e,t,n){var r=n(2985),i=n(7007),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},6014:function(e,t,n){var r=n(2985),i=n(7375);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},55:function(e,t,n){var r=n(9275),i=n(8693),o=n(468),a=n(9181),s=n(2985),c=n(681),l=n(7007),u=n(5286);s(s.S,"Reflect",{set:function e(t,n,s){var d,h,f=arguments.length<4?t:arguments[3],p=i.f(l(t),n);if(!p){if(u(h=o(t)))return e(h,n,s,f);p=c(0)}if(a(p,"value")){if(!1===p.writable||!u(f))return!1;if(d=i.f(f,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(f,n,d)}else r.f(f,n,c(0,s));return!0}return void 0!==p.set&&(p.set.call(f,s),!0)}})},3946:function(e,t,n){var r=n(3816),i=n(266),o=n(9275).f,a=n(616).f,s=n(5364),c=n(3218),l=r.RegExp,u=l,d=l.prototype,h=/a/g,f=/a/g,p=new l(h)!==h;if(n(7057)&&(!p||n(4253)((function(){return f[n(6314)("match")]=!1,l(h)!=h||l(f)==f||"/a/i"!=l(h,"i")})))){l=function(e,t){var n=this instanceof l,r=s(e),o=void 0===t;return!n&&r&&e.constructor===l&&o?e:i(p?new u(r&&!o?e.source:e,t):u((r=e instanceof l)?e.source:e,r&&o?c.call(e):t),n?this:d,l)};for(var g=function(e){e in l||o(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=a(u),v=0;m.length>v;)g(m[v++]);d.constructor=l,l.prototype=d,n(7234)(r,"RegExp",l)}n(2974)("RegExp")},8269:function(e,t,n){"use strict";var r=n(1165);n(2985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},6774:function(e,t,n){n(7057)&&"g"!=/./g.flags&&n(9275).f(RegExp.prototype,"flags",{configurable:!0,get:n(3218)})},1466:function(e,t,n){"use strict";var r=n(7007),i=n(875),o=n(6793),a=n(7787);n(8082)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;for(var d,h=[],f=0;null!==(d=a(c,l));){var p=String(d[0]);h[f]=p,""===p&&(c.lastIndex=o(l,i(c.lastIndex),u)),f++}return 0===f?null:h}]}))},9357:function(e,t,n){"use strict";var r=n(7007),i=n(508),o=n(875),a=n(1467),s=n(6793),c=n(7787),l=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(8082)("replace",2,(function(e,t,n,p){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=p(n,e,this,t);if(i.done)return i.value;var d=r(e),h=String(this),f="function"==typeof t;f||(t=String(t));var m=d.global;if(m){var v=d.unicode;d.lastIndex=0}for(var y=[];;){var b=c(d,h);if(null===b)break;if(y.push(b),!m)break;""===String(b[0])&&(d.lastIndex=s(h,o(d.lastIndex),v))}for(var w,C="",I=0,E=0;E<y.length;E++){b=y[E];for(var _=String(b[0]),x=l(u(a(b.index),h.length),0),A=[],k=1;k<b.length;k++)A.push(void 0===(w=b[k])?w:String(w));var S=b.groups;if(f){var T=[_].concat(A,x,h);void 0!==S&&T.push(S);var P=String(t.apply(void 0,T))}else P=g(_,h,x,A,S,t);x>=I&&(C+=h.slice(I,x)+P,I=x+_.length)}return C+h.slice(I)}];function g(e,t,r,o,a,s){var c=r+e.length,l=o.length,u=f;return void 0!==a&&(a=i(a),u=h),n.call(s,u,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var h=d(u/10);return 0===h?n:h<=l?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},6142:function(e,t,n){"use strict";var r=n(7007),i=n(7195),o=n(7787);n(8082)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),c=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var u=o(s,c);return i(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},1876:function(e,t,n){"use strict";var r=n(5364),i=n(7007),o=n(8364),a=n(6793),s=n(875),c=n(7787),l=n(1165),u=n(4253),d=Math.min,h=[].push,f="split",p="length",g="lastIndex",m=4294967295,v=!u((function(){RegExp(m,"y")}));n(8082)("split",2,(function(e,t,n,u){var y;return y="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?m:t>>>0,v=new RegExp(e.source,u+"g");(o=l.call(v,i))&&!((a=v[g])>d&&(c.push(i.slice(d,o.index)),o[p]>1&&o.index<i[p]&&h.apply(c,o.slice(1)),s=o[0][p],d=a,c[p]>=f));)v[g]===o.index&&v[g]++;return d===i[p]?!s&&v.test("")||c.push(""):c.push(i.slice(d)),c[p]>f?c.slice(0,f):c}:"0"[f](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(e,t){var r=u(y,e,this,t,y!==n);if(r.done)return r.value;var l=i(e),h=String(this),f=o(l,RegExp),p=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),b=new f(v?l:"^(?:"+l.source+")",g),w=void 0===t?m:t>>>0;if(0===w)return[];if(0===h.length)return null===c(b,h)?[h]:[];for(var C=0,I=0,E=[];I<h.length;){b.lastIndex=v?I:0;var _,x=c(b,v?h:h.slice(I));if(null===x||(_=d(s(b.lastIndex+(v?0:I)),h.length))===C)I=a(h,I,p);else{if(E.push(h.slice(C,I)),E.length===w)return E;for(var A=1;A<=x.length-1;A++)if(E.push(x[A]),E.length===w)return E;I=C=_}}return E.push(h.slice(C)),E}]}))},6108:function(e,t,n){"use strict";n(6774);var r=n(7007),i=n(3218),o=n(7057),a="toString",s=/./[a],c=function(e){n(7234)(RegExp.prototype,a,e,!0)};n(4253)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?c((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):s.name!=a&&c((function(){return s.call(this)}))},8184:function(e,t,n){"use strict";var r=n(9824),i=n(1616);e.exports=n(5795)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},856:function(e,t,n){"use strict";n(9395)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},703:function(e,t,n){"use strict";n(9395)("big",(function(e){return function(){return e(this,"big","","")}}))},1539:function(e,t,n){"use strict";n(9395)("blink",(function(e){return function(){return e(this,"blink","","")}}))},5292:function(e,t,n){"use strict";n(9395)("bold",(function(e){return function(){return e(this,"b","","")}}))},9539:function(e,t,n){"use strict";var r=n(2985),i=n(4496)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},6620:function(e,t,n){"use strict";var r=n(2985),i=n(875),o=n(2094),a="endsWith",s=""[a];r(r.P+r.F*n(8852)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),c=void 0===n?r:Math.min(i(n),r),l=String(e);return s?s.call(t,l,c):t.slice(c-l.length,c)===l}})},6629:function(e,t,n){"use strict";n(9395)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},3694:function(e,t,n){"use strict";n(9395)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},7648:function(e,t,n){"use strict";n(9395)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},191:function(e,t,n){var r=n(2985),i=n(2337),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},2850:function(e,t,n){"use strict";var r=n(2985),i=n(2094),o="includes";r(r.P+r.F*n(8852)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},8930:function(e,t,n){"use strict";n(9395)("italics",(function(e){return function(){return e(this,"i","","")}}))},9115:function(e,t,n){"use strict";var r=n(4496)(!0);n(2923)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},4531:function(e,t,n){"use strict";n(9395)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},8306:function(e,t,n){var r=n(2985),i=n(2110),o=n(875);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},823:function(e,t,n){var r=n(2985);r(r.P,"String",{repeat:n(8595)})},3605:function(e,t,n){"use strict";n(9395)("small",(function(e){return function(){return e(this,"small","","")}}))},7732:function(e,t,n){"use strict";var r=n(2985),i=n(875),o=n(2094),a="startsWith",s=""[a];r(r.P+r.F*n(8852)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},6780:function(e,t,n){"use strict";n(9395)("strike",(function(e){return function(){return e(this,"strike","","")}}))},9937:function(e,t,n){"use strict";n(9395)("sub",(function(e){return function(){return e(this,"sub","","")}}))},511:function(e,t,n){"use strict";n(9395)("sup",(function(e){return function(){return e(this,"sup","","")}}))},4564:function(e,t,n){"use strict";n(9599)("trim",(function(e){return function(){return e(this,3)}}))},5767:function(e,t,n){"use strict";var r=n(3816),i=n(9181),o=n(7057),a=n(2985),s=n(7234),c=n(4728).KEY,l=n(4253),u=n(3825),d=n(2943),h=n(3953),f=n(6314),p=n(8787),g=n(6074),m=n(5541),v=n(4302),y=n(7007),b=n(5286),w=n(508),C=n(2110),I=n(1689),E=n(681),_=n(2503),x=n(9327),A=n(8693),k=n(4548),S=n(9275),T=n(7184),P=A.f,N=S.f,O=x.f,R=r.Symbol,D=r.JSON,L=D&&D.stringify,M="prototype",j=f("_hidden"),F=f("toPrimitive"),V={}.propertyIsEnumerable,U=u("symbol-registry"),z=u("symbols"),B=u("op-symbols"),G=Object[M],q="function"==typeof R&&!!k.f,Z=r.QObject,W=!Z||!Z[M]||!Z[M].findChild,H=o&&l((function(){return 7!=_(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(G,t);r&&delete G[t],N(e,t,n),r&&e!==G&&N(G,t,r)}:N,K=function(e){var t=z[e]=_(R[M]);return t._k=e,t},$=q&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Q=function(e,t,n){return e===G&&Q(B,t,n),y(e),t=I(t,!0),y(n),i(z,t)?(n.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),n=_(n,{enumerable:E(0,!1)})):(i(e,j)||N(e,j,E(1,{})),e[j][t]=!0),H(e,t,n)):N(e,t,n)},Y=function(e,t){y(e);for(var n,r=m(t=C(t)),i=0,o=r.length;o>i;)Q(e,n=r[i++],t[n]);return e},J=function(e){var t=V.call(this,e=I(e,!0));return!(this===G&&i(z,e)&&!i(B,e))&&(!(t||!i(this,e)||!i(z,e)||i(this,j)&&this[j][e])||t)},X=function(e,t){if(e=C(e),t=I(t,!0),e!==G||!i(z,t)||i(B,t)){var n=P(e,t);return!n||!i(z,t)||i(e,j)&&e[j][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=O(C(e)),r=[],o=0;n.length>o;)i(z,t=n[o++])||t==j||t==c||r.push(t);return r},te=function(e){for(var t,n=e===G,r=O(n?B:C(e)),o=[],a=0;r.length>a;)!i(z,t=r[a++])||n&&!i(G,t)||o.push(z[t]);return o};q||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===G&&t.call(B,n),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),H(this,e,E(1,n))};return o&&W&&H(G,e,{configurable:!0,set:t}),K(e)},s(R[M],"toString",(function(){return this._k})),A.f=X,S.f=Q,n(616).f=x.f=ee,n(4682).f=J,k.f=te,o&&!n(4461)&&s(G,"propertyIsEnumerable",J,!0),p.f=function(e){return K(f(e))}),a(a.G+a.W+a.F*!q,{Symbol:R});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)f(ne[re++]);for(var ie=T(f.store),oe=0;ie.length>oe;)g(ie[oe++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=R(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?_(e):Y(_(e),t)},defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=l((function(){k.f(1)}));a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return k.f(w(e))}}),D&&a(a.S+a.F*(!q||l((function(){var e=R();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!$(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,L.apply(D,r)}}),R[M][F]||n(7728)(R[M],F,R[M].valueOf),d(R,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},142:function(e,t,n){"use strict";var r=n(2985),i=n(9383),o=n(1125),a=n(7007),s=n(2337),c=n(875),l=n(5286),u=n(3816).ArrayBuffer,d=n(8364),h=o.ArrayBuffer,f=o.DataView,p=i.ABV&&u.isView,g=h.prototype.slice,m=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(u!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,v,{isView:function(e){return p&&p(e)||l(e)&&m in e}}),r(r.P+r.U+r.F*n(4253)((function(){return!new h(2).slice(1,void 0).byteLength})),v,{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,h))(c(i-r)),l=new f(this),u=new f(o),p=0;r<i;)u.setUint8(p++,l.getUint8(r++));return o}}),n(2974)(v)},1786:function(e,t,n){var r=n(2985);r(r.G+r.W+r.F*!n(9383).ABV,{DataView:n(1125).DataView})},162:function(e,t,n){n(8440)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},3834:function(e,t,n){n(8440)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},4821:function(e,t,n){n(8440)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},1303:function(e,t,n){n(8440)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},5368:function(e,t,n){n(8440)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},9103:function(e,t,n){n(8440)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},3318:function(e,t,n){n(8440)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},6964:function(e,t,n){n(8440)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},2152:function(e,t,n){n(8440)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},147:function(e,t,n){"use strict";var r,i=n(3816),o=n(50)(0),a=n(7234),s=n(4728),c=n(5345),l=n(3657),u=n(5286),d=n(1616),h=n(1616),f=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",g=s.getWeak,m=Object.isExtensible,v=l.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(u(e)){var t=g(e);return!0===t?v(d(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,p),e,t)}},w=e.exports=n(5795)(p,y,b,l,!0,!0);h&&f&&(c((r=l.getConstructor(y,p)).prototype,b),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=w.prototype,n=t[e];a(t,e,(function(t,i){if(u(t)&&!m(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},9192:function(e,t,n){"use strict";var r=n(3657),i=n(1616),o="WeakSet";n(5795)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},1268:function(e,t,n){"use strict";var r=n(2985),i=n(3325),o=n(508),a=n(875),s=n(4963),c=n(6886);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=c(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(7722)("flatMap")},4692:function(e,t,n){"use strict";var r=n(2985),i=n(3325),o=n(508),a=n(875),s=n(1467),c=n(6886);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=c(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(7722)("flatten")},2773:function(e,t,n){"use strict";var r=n(2985),i=n(9315)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(7722)("includes")},8267:function(e,t,n){var r=n(2985),i=n(4351)(),o=n(3816).process,a="process"==n(2032)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},2559:function(e,t,n){var r=n(2985),i=n(2032);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},5575:function(e,t,n){var r=n(2985);r(r.G,{global:n(3816)})},525:function(e,t,n){n(1024)("Map")},8211:function(e,t,n){n(4881)("Map")},7698:function(e,t,n){var r=n(2985);r(r.P+r.R,"Map",{toJSON:n(6132)("Map")})},8865:function(e,t,n){var r=n(2985);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},368:function(e,t,n){var r=n(2985);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},6427:function(e,t,n){var r=n(2985),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},286:function(e,t,n){var r=n(2985),i=n(8757),o=n(4934);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},2816:function(e,t,n){var r=n(2985);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},2082:function(e,t,n){var r=n(2985);r(r.S,"Math",{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,c=i>>16,l=(s*a>>>0)+(o*a>>>16);return s*c+(l>>16)+((o*c>>>0)+(l&n)>>16)}})},5986:function(e,t,n){var r=n(2985);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},6308:function(e,t,n){var r=n(2985);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},9221:function(e,t,n){var r=n(2985),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},3570:function(e,t,n){var r=n(2985);r(r.S,"Math",{scale:n(8757)})},3776:function(e,t,n){var r=n(2985);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},6754:function(e,t,n){var r=n(2985);r(r.S,"Math",{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,c=i>>>16,l=(s*a>>>0)+(o*a>>>16);return s*c+(l>>>16)+((o*c>>>0)+(l&n)>>>16)}})},8646:function(e,t,n){"use strict";var r=n(2985),i=n(508),o=n(4963),a=n(9275);n(7057)&&r(r.P+n(1670),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},2658:function(e,t,n){"use strict";var r=n(2985),i=n(508),o=n(4963),a=n(9275);n(7057)&&r(r.P+n(1670),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},3276:function(e,t,n){var r=n(2985),i=n(1131)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},8351:function(e,t,n){var r=n(2985),i=n(7643),o=n(2110),a=n(8693),s=n(2811);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),c=a.f,l=i(r),u={},d=0;l.length>d;)void 0!==(n=c(r,t=l[d++]))&&s(u,t,n);return u}})},6917:function(e,t,n){"use strict";var r=n(2985),i=n(508),o=n(1689),a=n(468),s=n(8693).f;n(7057)&&r(r.P+n(1670),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},372:function(e,t,n){"use strict";var r=n(2985),i=n(508),o=n(1689),a=n(468),s=n(8693).f;n(7057)&&r(r.P+n(1670),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},6409:function(e,t,n){var r=n(2985),i=n(1131)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},6534:function(e,t,n){"use strict";var r=n(2985),i=n(3816),o=n(5645),a=n(4351)(),s=n(6314)("observable"),c=n(4963),l=n(7007),u=n(3328),d=n(4408),h=n(7728),f=n(3531),p=f.RETURN,g=function(e){return null==e?void 0:c(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},y=function(e){v(e)||(e._o=void 0,m(e))},b=function(e,t){l(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:c(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&m(this)};b.prototype=d({},{unsubscribe:function(){y(this)}});var w=function(e){this._s=e};w.prototype=d({},{next:function(e){var t=this._s;if(!v(t)){var n=t._o;try{var r=g(n.next);if(r)return r.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var r=g(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var r=g(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var C=function(e){u(this,C,"Observable","_f")._f=c(e)};d(C.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)((function(n,r){c(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})}))}}),d(C,{from:function(e){var t="function"==typeof this?this:C,n=g(l(e)[s]);if(n){var r=l(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}return new t((function(t){var n=!1;return a((function(){if(!n){try{if(f(e,!1,(function(e){if(t.next(e),n)return p}))===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}})),function(){n=!0}}))},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:C)((function(e){var t=!1;return a((function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}})),function(){t=!0}}))}}),h(C.prototype,s,(function(){return this})),r(r.G,{Observable:C}),n(2974)("Observable")},9865:function(e,t,n){"use strict";var r=n(2985),i=n(5645),o=n(3816),a=n(8364),s=n(94);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},1898:function(e,t,n){"use strict";var r=n(2985),i=n(3499),o=n(188);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},3364:function(e,t,n){var r=n(133),i=n(7007),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},1432:function(e,t,n){var r=n(133),i=n(7007),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var c=s.get(t);return c.delete(n),!!c.size||s.delete(t)}})},4416:function(e,t,n){var r=n(8184),i=n(9490),o=n(133),a=n(7007),s=n(468),c=o.keys,l=o.key,u=function(e,t){var n=c(e,t),o=s(e);if(null===o)return n;var a=u(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return u(a(e),arguments.length<2?void 0:l(arguments[1]))}})},6562:function(e,t,n){var r=n(133),i=n(7007),o=n(468),a=r.has,s=r.get,c=r.key,l=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?l(e,r,n):void 0};r.exp({getMetadata:function(e,t){return l(e,i(t),arguments.length<3?void 0:c(arguments[2]))}})},2213:function(e,t,n){var r=n(133),i=n(7007),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},8681:function(e,t,n){var r=n(133),i=n(7007),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},3471:function(e,t,n){var r=n(133),i=n(7007),o=n(468),a=r.has,s=r.key,c=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&c(e,r,n)};r.exp({hasMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},4329:function(e,t,n){var r=n(133),i=n(7007),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},5159:function(e,t,n){var r=n(133),i=n(7007),o=n(4963),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},9467:function(e,t,n){n(1024)("Set")},4837:function(e,t,n){n(4881)("Set")},8739:function(e,t,n){var r=n(2985);r(r.P+r.R,"Set",{toJSON:n(6132)("Set")})},7220:function(e,t,n){"use strict";var r=n(2985),i=n(4496)(!0),o=n(4253)((function(){return"𠮷"!=="𠮷".at(0)}));r(r.P+r.F*o,"String",{at:function(e){return i(this,e)}})},4208:function(e,t,n){"use strict";var r=n(2985),i=n(1355),o=n(875),a=n(5364),s=n(3218),c=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(9988)(l,"RegExp String",(function(){var e=this._r.exec(this._s);return{value:e,done:null===e}})),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in c?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new l(r,t)}})},2770:function(e,t,n){"use strict";var r=n(2985),i=n(5442),o=n(575),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},1784:function(e,t,n){"use strict";var r=n(2985),i=n(5442),o=n(575),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},5869:function(e,t,n){"use strict";n(9599)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},4325:function(e,t,n){"use strict";n(9599)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},9665:function(e,t,n){n(6074)("asyncIterator")},9593:function(e,t,n){n(6074)("observable")},8967:function(e,t,n){var r=n(2985);r(r.S,"System",{global:n(3816)})},4188:function(e,t,n){n(1024)("WeakMap")},7594:function(e,t,n){n(4881)("WeakMap")},3495:function(e,t,n){n(1024)("WeakSet")},9550:function(e,t,n){n(4881)("WeakSet")},1181:function(e,t,n){for(var r=n(6997),i=n(7184),o=n(7234),a=n(3816),s=n(7728),c=n(2803),l=n(6314),u=l("iterator"),d=l("toStringTag"),h=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(f),g=0;g<p.length;g++){var m,v=p[g],y=f[v],b=a[v],w=b&&b.prototype;if(w&&(w[u]||s(w,u,h),w[d]||s(w,d,v),c[v]=h,y))for(m in r)w[m]||o(w,m,r[m],!0)}},4633:function(e,t,n){var r=n(2985),i=n(4193);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},2564:function(e,t,n){var r=n(3816),i=n(2985),o=n(575),a=[].slice,s=/MSIE .\./.test(o),c=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},1934:function(e,t,n){n(5767),n(8132),n(8388),n(7470),n(4882),n(1520),n(7476),n(9622),n(9375),n(3533),n(4672),n(4157),n(5095),n(9892),n(5115),n(9176),n(8838),n(6253),n(9730),n(6059),n(8377),n(1084),n(4299),n(1246),n(726),n(1901),n(5972),n(3403),n(2516),n(9371),n(6479),n(1736),n(1889),n(5177),n(6943),n(6503),n(6786),n(932),n(7526),n(1591),n(9073),n(347),n(579),n(4669),n(7710),n(5789),n(3514),n(9978),n(8472),n(6946),n(5068),n(413),n(191),n(8306),n(4564),n(9115),n(9539),n(6620),n(2850),n(823),n(7732),n(856),n(703),n(1539),n(5292),n(6629),n(3694),n(7648),n(8930),n(4531),n(3605),n(6780),n(9937),n(511),n(1822),n(9977),n(1031),n(6331),n(1560),n(774),n(522),n(8295),n(7842),n(110),n(75),n(4336),n(1802),n(8837),n(6773),n(5745),n(3057),n(3750),n(3369),n(9564),n(2e3),n(8977),n(2310),n(4899),n(1842),n(6997),n(3946),n(8269),n(6108),n(6774),n(1466),n(9357),n(6142),n(1876),n(851),n(8416),n(8184),n(147),n(9192),n(142),n(1786),n(5368),n(6964),n(2152),n(4821),n(9103),n(1303),n(3318),n(162),n(3834),n(1572),n(2139),n(685),n(5535),n(7347),n(3049),n(6633),n(8989),n(8270),n(4510),n(3984),n(5769),n(55),n(6014),n(2773),n(1268),n(4692),n(7220),n(1784),n(2770),n(5869),n(4325),n(4208),n(9665),n(9593),n(8351),n(6409),n(3276),n(8646),n(2658),n(6917),n(372),n(7698),n(8739),n(8211),n(4837),n(7594),n(9550),n(525),n(9467),n(4188),n(3495),n(5575),n(8967),n(2559),n(8865),n(368),n(6427),n(286),n(2816),n(5986),n(2082),n(6308),n(9221),n(3570),n(6754),n(3776),n(9865),n(1898),n(3364),n(1432),n(6562),n(4416),n(8681),n(2213),n(3471),n(4329),n(5159),n(8267),n(6534),n(2564),n(4633),n(1181),e.exports=n(5645)},8:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".rc-slider{position:relative;height:14px;padding:5px 0;width:100%;border-radius:6px;touch-action:none;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-rail{position:absolute;width:100%;background-color:#e9e9e9;height:4px;border-radius:6px}.rc-slider-track{position:absolute;left:0;height:4px;border-radius:6px;background-color:#abe2fb}.rc-slider-handle{position:absolute;width:14px;height:14px;cursor:pointer;cursor:-webkit-grab;margin-top:-5px;cursor:grab;border-radius:50%;border:solid 2px #96dbfa;background-color:#fff;touch-action:pan-x}.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging{border-color:#57c5f7;box-shadow:0 0 0 5px #96dbfa}.rc-slider-handle:focus{outline:none}.rc-slider-handle-click-focused:focus{border-color:#96dbfa;box-shadow:unset}.rc-slider-handle:hover{border-color:#57c5f7}.rc-slider-handle:active{border-color:#57c5f7;box-shadow:0 0 5px #57c5f7;cursor:-webkit-grabbing;cursor:grabbing}.rc-slider-mark{position:absolute;top:18px;left:0;width:100%;font-size:12px}.rc-slider-mark-text{position:absolute;display:inline-block;vertical-align:middle;text-align:center;cursor:pointer;color:#999}.rc-slider-mark-text-active{color:#666}.rc-slider-step{position:absolute;width:100%;height:4px;background:rgba(0,0,0,0)}.rc-slider-dot{position:absolute;bottom:-2px;margin-left:-4px;width:8px;height:8px;border:2px solid #e9e9e9;background-color:#fff;cursor:pointer;border-radius:50%;vertical-align:middle}.rc-slider-dot-active{border-color:#96dbfa}.rc-slider-dot-reverse{margin-right:-4px}.rc-slider-disabled{background-color:#e9e9e9}.rc-slider-disabled .rc-slider-track{background-color:#ccc}.rc-slider-disabled .rc-slider-handle,.rc-slider-disabled .rc-slider-dot{border-color:#ccc;box-shadow:none;background-color:#fff;cursor:not-allowed}.rc-slider-disabled .rc-slider-mark-text,.rc-slider-disabled .rc-slider-dot{cursor:not-allowed !important}.rc-slider-vertical{width:14px;height:100%;padding:0 5px}.rc-slider-vertical .rc-slider-rail{height:100%;width:4px}.rc-slider-vertical .rc-slider-track{left:5px;bottom:0;width:4px}.rc-slider-vertical .rc-slider-handle{margin-left:-5px;touch-action:pan-y}.rc-slider-vertical .rc-slider-mark{top:0;left:18px;height:100%}.rc-slider-vertical .rc-slider-step{height:100%;width:4px}.rc-slider-vertical .rc-slider-dot{left:2px;margin-bottom:-4px}.rc-slider-vertical .rc-slider-dot:first-child{margin-bottom:-4px}.rc-slider-vertical .rc-slider-dot:last-child{margin-bottom:-4px}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear{animation-duration:.3s;animation-fill-mode:both;display:block !important;animation-play-state:paused}.rc-slider-tooltip-zoom-down-leave{animation-duration:.3s;animation-fill-mode:both;display:block !important;animation-play-state:paused}.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active{animation-name:rcSliderTooltipZoomDownIn;animation-play-state:running}.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active{animation-name:rcSliderTooltipZoomDownOut;animation-play-state:running}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear{transform:scale(0, 0);animation-timing-function:cubic-bezier(0.23, 1, 0.32, 1)}.rc-slider-tooltip-zoom-down-leave{animation-timing-function:cubic-bezier(0.755, 0.05, 0.855, 0.06)}@keyframes rcSliderTooltipZoomDownIn{0%{opacity:0;transform-origin:50% 100%;transform:scale(0, 0)}100%{transform-origin:50% 100%;transform:scale(1, 1)}}@keyframes rcSliderTooltipZoomDownOut{0%{transform-origin:50% 100%;transform:scale(1, 1)}100%{opacity:0;transform-origin:50% 100%;transform:scale(0, 0)}}.rc-slider-tooltip{position:absolute;left:-9999px;top:-9999px;visibility:visible;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-tooltip *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-tooltip-hidden{display:none}.rc-slider-tooltip-placement-top{padding:4px 0 8px 0}.rc-slider-tooltip-inner{padding:6px 2px;min-width:24px;height:24px;font-size:12px;line-height:1;color:#fff;text-align:center;text-decoration:none;background-color:#6c6c6c;border-radius:6px;box-shadow:0 0 4px #d9d9d9}.rc-slider-tooltip-arrow{position:absolute;width:0;height:0;border-color:rgba(0,0,0,0);border-style:solid}.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow{bottom:4px;left:50%;margin-left:-4px;border-width:4px 4px 0;border-top-color:#6c6c6c}",""]),t.Z=a},3024:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".aboutUsContent{font-size:18px;margin-bottom:35px;font-size:18px;margin-bottom:35px;text-align:left}.aboutUsContent img{width:100%;margin-top:15px}",""]),t.Z=a},1740:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"#root{width:100%;height:100%}.App{text-align:center;width:100%;height:100%}.AppMainContainer{width:95%;margin:0px auto;height:100%;max-width:430px;min-width:277px;padding-top:65px}.smallText{line-height:1.5;font-size:16px;text-align:justify}.centerText{text-align:center}.headerText{padding:6px;height:40px;line-height:40px;text-align:center}.sectionTitle{text-shadow:5px 5px 5px #222}.App-link{color:#61dafb}.rounded{border-radius:8px;padding:10px}.rounded button{background-color:rgba(0,0,0,0)}body.lightMode input.hidenInput,body.lightMode textarea.hidenInput,body.lightMode .bold,body.lightMode select{color:#000}body.lightMode .controlTextValues:nth-of-type(odd){background-color:#a0bcc2}body.lightMode .gameList .gameContainer .playGameButton{background-position-y:3px;position:relative;top:-3px;background-size:1.1em}body.lightMode .resultsContainer{background-image:linear-gradient(#b6ac91, #8c8a7f)}body.lightMode .rounded.colorGrey{color:#fff}body.lightMode .gameList .gameListPoints,body.lightMode .gameList .gameListPosition{background-color:#a0bcc2}body.lightMode .rounded{color:#000}body.lightMode .rounded.controlTextTitle{background-image:linear-gradient(#FEFBE7, #405662)}body.lightMode .rounded1{background-image:linear-gradient(#F9EBC8, #FEFBE7)}body.lightMode .rounded2{background-image:linear-gradient(#FEFBE7, #FEFBE7)}body.lightMode .rounded3{background-image:linear-gradient(#FEFBE7, #A0BCC2)}body.lightMode .rounded button{background-color:#405662}body.lightMode .linksContainer{color:#fefbe7}.rounded1{background-image:linear-gradient(#112031, #152D35)}.rounded2{background-image:linear-gradient(#345B63, #112031)}.rounded3{background-color:#345b63}.headerPlayer{padding:10px}.importantNote{background-image:linear-gradient(#ffa602, #ea7402)}.importantNote img{width:32px;vertical-align:middle;border-radius:8px;padding:5px 0px;float:left}.controlTextContainer{margin:10px auto;padding:10px}.controlTextText{margin:0 5px}.winnerBox{padding:15px;margin-bottom:8px}.winnerBox .headerPlayer{margin-bottom:15px}.closed{height:26px;box-shadow:none}.horizontalScrollContainer{overflow-x:scroll;overflow-y:hidden;display:flex}::-webkit-scrollbar-track{background:rgba(0,0,0,0)}::-webkit-scrollbar-thumb{background:#888;border-radius:14px;border:solid 1px #444}::-webkit-scrollbar-thumb:hover{background:rgba(0,0,0,0)}::-webkit-scrollbar{background:rgba(0,0,0,0)}",""]),t.Z=a},3084:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),l=new URL(n(8666),n.b),u=new URL(n(4162),n.b),d=new URL(n(7552),n.b),h=new URL(n(2308),n.b),f=a()(i()),p=c()(l),g=c()(u),m=c()(d),v=c()(h);f.push([e.id,"html{height:100%;width:100%}body{background-color:#333;color:#fcf7ff;font-family:Montserrat,Roboto,sans-serif;font-size:21px;margin:0px;height:100%;-webkit-font-smoothing:antialiased;background-image:url("+p+");background-attachment:fixed;background-position:center;background-position-y:top;background-position-x:right;background-repeat:no-repeat;background-size:cover}body.completegame{background-image:url("+g+")}body.profile{background-image:url("+m+")}body.feed{background-image:url("+v+')}.blink{animation:blinker 1s linear infinite}@keyframes blinker{50%{opacity:0}}.bold{font-weight:bold}.left{text-align:left}.inline{display:inline}button,select,input,textarea{margin:5px;border-radius:15px;font-size:21px;background-color:rgba(0,0,0,0);border:1px solid #fff;color:#fff}input,textarea{color:#000}select{padding:10px;width:85%}button{padding:10px;margin:5px;align-items:center;background-color:initial;background-image:linear-gradient(#464d55, #25292e);border-radius:8px;border-width:0;box-shadow:0 10px 20px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.05);box-sizing:border-box;color:#fff;cursor:pointer;font-size:18px;justify-content:center;line-height:.5;outline:none;text-align:center;text-decoration:none;transform:translate3d(0, 0, 0);transition:all 150ms;transition-duration:.4s;-webkit-transition-duration:.4s;vertical-align:baseline;white-space:nowrap;user-select:none}button *:hover{transition-duration:.1s;background-color:#3a3a3a}button *:after{content:"";display:block;position:absolute;border-radius:8px;left:0;top:0;width:100%;height:100%;opacity:0;transition:all .2s;box-shadow:0 0 10px 15px #fff}button *:active:after{box-shadow:0 0 0 0 #fff;position:absolute;border-radius:8px;left:0;top:0;opacity:1;transition:0s}input,textarea{background-color:#fff;max-width:195px;font-size:17px;padding:5px}a{color:#fff;text-decoration:none}li{list-style-type:none;text-align:right}figure{margin:0;padding:0;width:100%}figcaption{text-align:center;font-size:16px}.colorGreen{background-color:green}.colorGrey{background-color:#333}.colorClearGrey{background-color:#666}.colorRed{background-color:red}.colorOrange{background-color:orange}.foreColorRed{color:red}',""]),t.Z=f},7291:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".controlText{font-size:14px;display:flex;line-height:20px;text-align:left;background-color:rgba(30,30,30,.32);margin-bottom:5px;border-radius:15px}.controlTextValue{background-color:inherit;padding:10px;font-weight:bold;font-size:1.1em;border-radius:15px}.controlTextText{min-width:168px;padding:10px 0;width:100%}.controlTextTitle{margin:0px 0px 10px 0px;font-size:.8em}.controlTextContainer{overflow:hidden}.controlTextContainer .dropdown{width:20px;margin:0;float:right}.controlTextContainer .closed{height:35px}.buttonControlTextPlus,.buttonControlTextMinus{text-shadow:2px 2px 4px #333;font-size:12px}.generic .controlText{font-size:14px;display:flex;line-height:20px;text-align:left;background-color:rgba(30,30,30,.32);margin-bottom:5px;border-radius:15px;font-size:.7em}.generic .controlTextValue{background-color:inherit;padding:10px;font-weight:bold;font-size:1.1em;border-radius:15px;width:100%;text-align:right}.generic .controlTextText{min-width:30px;padding:10px 0;width:100%}.generic .controlTextTitle{margin:0px 0px 10px 0px;font-size:.7em}.generic .controlTextContainer{overflow:hidden}.generic .controlTextContainer .dropdown{width:20px;margin:0;float:right}.generic .controlTextContainer .closed{height:35px}.generic .buttonTextPlus,.generic .buttonTextMinus{text-shadow:2px 2px 4px #333;font-weight:bold}",""]),t.Z=a},3803:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".controlTextValues{text-align:left;font-size:.9em}.controlTextValues:first-of-type{margin-top:15px}.controlTextValues:nth-of-type(odd){background-color:#345c62}",""]),t.Z=a},9114:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".errorBoxContainer{margin-bottom:25px;padding:5px;color:red;font-size:19px;border:1px solid;border-radius:15px;font-weight:bold;border-style:dotted}",""]),t.Z=a},1124:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".feedViewer .userSearchContainer{margin:0 auto 25px auto;max-width:470px}.feedViewer .userSearchContainer .resultsContainer .userSearchItem .userSearchResult{max-width:97%}.feedViewer .post{font-size:.8em;margin-bottom:25px;width:95%;overflow:hidden;background-color:#eee;color:#000;text-align:left}.feedViewer .post .userProfilePhotoContainer img{width:30px;height:30px;border-radius:7px;float:left}.feedViewer .refreshButton{position:fixed;top:19px;right:8px;margin-bottom:15px;padding:0}.feedViewer .refreshButton img{width:20px}.feedViewer .postText{margin:25px 0}.feedViewer .postDate{margin:10px 0 15px 0;font-size:.8em}.feedViewer .postGame{margin-bottom:15px}.feedViewer .postText,.feedViewer .postDate,.feedViewer .postGame{padding:0 10px;text-align:justify}.feedViewer .postUrlContent{margin-bottom:15px}",""]),t.Z=a},8130:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".Footer{font-size:14px;margin-top:100px}",""]),t.Z=a},5062:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".gatesPickerContainer .picker,.gatesPickerContainer .zoneName{margin:0 15px}",""]),t.Z=a},5523:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".gameHeaderInfo{margin-bottom:15px}",""]),t.Z=a},9393:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),l=new URL(n(4101),n.b),u=a()(i()),d=c()(l);u.push([e.id,".gameList{margin-bottom:15px;width:95%;text-align:right;display:inline-block;position:relative}.gameList .gameContainer{font-size:.9em;margin-bottom:15px;text-align:right;padding-top:0px;overflow:hidden}.gameList .gameContainer .playGameButton{background-image:url("+d+");background-repeat:no-repeat;background-size:contain;background-position-y:1px;margin:9px 0 0px 5px;display:inline-block}.gameList .gameContainer button{height:45px}.gameList .gameName{display:inline-block;width:70%;padding:10px 0;vertical-align:top;font-size:.8em}.gameList .gameDate{padding-top:15px;padding-bottom:20px}.gameList .removeButton{width:25px;height:25px}.gameList .gameParticipants{font-size:.8em;max-width:305px;margin:0 auto}.gameList .gameParticipants .closed{display:none}.gameList .gameParticipants .iconArrowDown{height:10px;margin-left:3px}.gameList .gameParticipants img{max-height:15px}.gameList .gameParticipants table{margin:auto}.gameList .gameParticipants table td:nth-of-type(2),.gameList .gameParticipants table td:nth-of-type(7){writing-mode:unset !important}.gameList .gameParticipants table tr:first-of-type td{writing-mode:vertical-lr;word-break:break-all;font-size:.8em}.gameList .gameParticipants .controlTextValues{background-color:rgba(0,0,0,0)}.gameList .gameParticipants .controlTextValues:first-of-type{margin-top:0}.gameList .gameListPosition{overflow:hidden;background-color:#345c62}.gameList .gameListPlayerName{display:block;width:120px;padding:0 5px}.gameList .gameListPoints{overflow:hidden;min-width:25px;background-color:#345c62;max-width:80px}.gameList .gameListTime{overflow:hidden;min-width:45px;padding:0 5px}.gameList .gameListTextArray{margin-top:15px}.gameList .winnerBox .headerPlayer img{position:relative;top:5px;margin-right:5px}.gameList .gameProgressionInfoItem{margin:10px;text-align:left}.gameList .gameProgressionInfoItem .fiascosText{margin-top:10px}.gameList .gameProgressionItem img{margin-right:10px;border-radius:15px;display:inline-block}.gameList .gameProgressionItem ul{padding-left:0px}.gameList .gameProgressionItem li{list-style-type:circle;text-align:left}",""]),t.Z=u},4293:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".gameList .gameListItemMenu{background-color:#222;position:absolute;padding-top:3px;left:14px;width:170px;height:81px;text-align:right;margin:5px 0 0 0;overflow:hidden;z-index:10}.gameList .gameListItemMenu .burguerMenuBar{width:15px;height:2px;margin:4px 0}.gameListItemMenu.closed{width:15px;height:15px;background-color:#333;z-index:1}.gameContainer .gameListItemMenu{padding:5px}",""]),t.Z=a},2300:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".gameListMenuItem{font-size:.8em;padding:5px}",""]),t.Z=a},8103:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".newGameContainer{margin-top:25px;width:95%}.newGameContainer .newGame{margin-bottom:25px;text-align:left;padding:15px 26px}.newGameContainer .newGame a{font-size:16px;margin-left:10px}.newGameContainer .newGameRow{padding:5px;font-size:.9em}.newGameContainer .newGameNameInput{max-width:164px}.newGameButton{margin:0 0 45px 0}.viewProfileLink{font-size:.8em;margin:0 auto 25px auto;border-radius:15px;padding:5px;width:70%}.profileHelper{margin-top:0;padding:15px;border:1px dotted #fff;font-size:.8em}",""]),t.Z=a},7332:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".gameProgressionItem{padding:15px;font-size:.7em;display:flex;margin-bottom:10px}.gameProgressionItem img{display:block;max-width:90px;max-height:45px;width:auto;height:auto;border-radius:15px}.gameProgressionItem .rounded{background-image:none;margin:8px;box-shadow:none}.tendJudgeContainer{margin-top:15px}.directorContainer{margin-bottom:15px}.directorGroup{background-color:green;color:#fff;border-radius:8px;padding:3px;font-size:.8em;margin-right:5px}.directorZone{margin:5px 0}.gatePoints{padding:5px;border-radius:15px;color:#fff}",""]),t.Z=a},6783:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".directorRequestContainer{margin-top:15px;border:1px solid red;border-radius:15px}",""]),t.Z=a},2202:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".gameType{margin:25px 0}.gameSelectText{line-height:1.5;font-size:16px;padding:25px;text-align:left;margin-bottom:15px;text-align:justify}",""]),t.Z=a},1242:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".aboutUsContent{width:85%;margin:0 auto}.loginAndContent{padding-bottom:140px}.loginAndContent .googleSignInButton{margin:auto;padding:15px;width:50%}.loginAndContent .googleSignInButton button{width:100%}img.collaborateLogo{width:100px}img.crawlerImageSignIn{width:50%;margin:0px auto 15px auto;display:block;cursor:pointer;padding:15px}img.youtubeLogo,img.instagramLogo,img.facebookLogo{width:35px;margin-right:15px;border-radius:15px}img.facebookLogo{background-color:#fff}",""]),t.Z=a},9110:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".loadingLogo{margin-top:25px}",""]),t.Z=a},8052:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".contentImg{margin:0;padding:0;width:100%}.logoImg{margin:auto;padding:15px;width:50%}.video-responsive{overflow:hidden;padding-bottom:56.25%;position:relative;height:0}.video-responsive iframe{left:0;top:0;height:100%;width:100%;position:absolute}",""]),t.Z=a},9747:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".pickerContainer{display:flex;font-size:18px;padding:15px;margin:15px}.maxTimePickerContainer--separator{max-width:40px;height:112px;line-height:112px}",""]),t.Z=a},1735:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".App-header{position:fixed;top:0px;left:0;width:100%;z-index:10;height:56px;font-weight:bold;background-color:#241e1f;min-height:40px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:calc(10px + 2vmin);color:#fff;margin-bottom:10px}.App-header img{position:fixed;top:0px;right:0px;width:60px;margin:11px 8px 10px 0}.menuContainer{position:fixed;top:1px;left:0px;margin:2px;padding:5px;z-index:10;border-radius:7px;overflow:hidden;transition:width .2s;min-height:420px}.burguerMenuBar:first-of-type{margin-top:3px}.burguerMenuBar:last-of-type{margin-bottom:15px}.burguerMenuBar{width:25px;height:4px;background-color:#fff;margin:4px}.open{width:90%;padding-bottom:25px;background-color:#333}.menuContainer.closed{width:35px;min-height:40px}.box:hover{background-color:#fcc;width:200px;height:200px;transform:rotate(180deg)}.closed .linksContainer{visibility:hidden;opacity:0}.linksContainer{width:100%;height:90%;background-color:#333;visibility:visible;opacity:1;transition:visibility 0s,opacity 10s linear}.linksContainer ul{margin:0 25px}.linksContainer ul li{overflow:hidden}.lightModeSwitch{position:absolute;bottom:15px;right:32px}",""]),t.Z=a},5128:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"body.offline .offlineContainer{width:95%;margin:10px auto;padding:15px;text-decoration:underline}",""]),t.Z=a},7925:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),l=new URL(n(1826),n.b),u=new URL(n(6111),n.b),d=a()(i()),h=c()(l),f=c()(u);d.push([e.id,".picker--value{background-color:#fff;border:1px solid #000;color:#333;border-radius:5px;font-size:19px;padding:5px}.picker{max-width:34px;width:50%;margin:0 auto;text-align:center;display:grid}.picker--arrowUp,.picker--arrowDown{display:inline-block;background-size:cover;width:35px;height:25px;background-repeat:no-repeat;background-position:center;margin:0px 0 5px 0}.picker--arrowUp{background-image:url("+h+")}.picker--arrowDown{top:8px;position:relative;background-image:url("+f+")}",""]),t.Z=d},2672:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".players{margin-bottom:25px;padding-bottom:15px}.playersList{margin:10px;padding:0}.playerListItem{margin-bottom:10px;line-height:42px;text-align:right;padding-right:10px}",""]),t.Z=a},9468:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".handicapContainer{width:100%;margin:15px auto}",""]),t.Z=a},4374:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".playerListItem.closed{width:auto;height:155px;overflow:hidden}.pickerContainer.handicapBox{margin:5px;padding:25px}.playerBox .textOverflow{max-width:190px;display:inline-block}.playerBox button{float:right}.handicapBox .handicapLabel{width:50%;text-align:center;line-height:6}.textOverflow{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}",""]),t.Z=a},5687:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"body .posts{max-width:470px;margin:0 auto 25px auto}body .posts .embedLoadingContainer{width:300px;height:300px;margin:0 auto}body .post{max-width:546px;margin:0 auto 25px auto}body .post .gameContainer{color:#fff;margin-top:15px}body .post .sharerContainer{width:80%;margin:0 auto;float:right}body .post .sharerContainer .shareProfileText{width:90%;margin:0 auto;text-align:center}body .post .sharerContainer .sharers{width:95%;margin:0 auto}body .post .postGameContainer{text-align:center}body .post .postGameContainer .getGameName,body .post .postGameContainer .gameName{margin:15px 0}body .post .postGameContainer .gameName{width:70%}body .post .postGameContainer .gameAssigned{margin-top:15px}body .post .postGameContainer .postGame{margin:15px 0}body .post .postGameContainer .gameName{margin-left:10px;margin-bottom:10px}body .post .postGameContainer .mapouter{text-align:center}.post .userProfileContainer{margin:0px}.post .postDate{margin:10px 0 0 0}.post .postText{margin:15px 0}.post .name input{color:#000}",""]),t.Z=a},2409:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".likeContainer{height:50px;margin:10px auto 0 auto;float:left}.likeContainer span{cursor:pointer;padding:10px 12px 8px;background:#fff;border-radius:50%;display:inline-block;margin:0 0 15px;color:#aaa;transition:.2s}.likeContainer span img{width:15px;height:15px}.likeContainer span.press{animation:size .4s;background-color:green}@keyframes fade{0%{color:rgba(0,0,0,0)}50%{color:green}100%{color:rgba(0,0,0,0)}}@keyframes size{0%{padding:10px 12px 8px}50%{padding:14px 16px 12px;margin-top:-4px}100%{padding:10px 12px 8px}}",""]),t.Z=a},2762:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".privacyPolicy{text-align:left}.privacyPolicy li{text-align:left;list-style-type:circle;margin:15px 0}",""]),t.Z=a},8874:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".repairProgressionContainer{margin:25px}.repairProgressionItem{margin:10px}.repairProgressionItem .repairProgressionItemHead{font-size:.8em}.repairProgressionItem .repairProgressionItemHead{text-align:left}.repairProgressionItem img{border-radius:15px;margin-right:15px;display:inline-block;max-width:40px}.repairProgressionItem .timerContainer{margin:0 auto;width:100%}.gameProgressionItemHour{margin:0 10px}",""]),t.Z=a},7169:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".repairTimerContainer .timerContainer{padding:0}",""]),t.Z=a},9195:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".spinner{display:inline-block;position:relative;width:20px;height:20px;top:-2px}.spinner div{box-sizing:border-box;display:block;position:absolute;width:14px;height:14px;margin:8px;border:3px solid #fff;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:#fff rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.spinner div:nth-child(1){animation-delay:-0.45s}.spinner div:nth-child(2){animation-delay:-0.3s}.spinner div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}",""]),t.Z=a},9090:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),l=new URL(n(4101),n.b),u=new URL(n(3361),n.b),d=new URL(n(8432),n.b),h=a()(i()),f=c()(l),p=c()(u),g=c()(d);h.push([e.id,".timerContainer{font-size:.8em;width:43%;margin:0 auto}.timerContainer button{width:36px;height:48px;background-repeat:no-repeat;background-size:25px;background-position:center;margin:5px 11px}.timerContainer .timer{border:1px solid;border-radius:15px;max-width:163px;margin:0 auto}.timerContainer .timerPlayButton{background-image:url("+f+")}.timerContainer .resetButton{background-image:url("+p+")}.timerContainer.play .timerPlayButton{background-image:url("+g+")}",""]),t.Z=h},6901:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),l=new URL(n(8297),n.b),u=new URL(n(7050),n.b),d=a()(i()),h=c()(l),f=c()(u);d.push([e.id,'.postForm{margin-bottom:25px}.postForm .headerText:after{display:inline-block;content:"";width:15px;height:15px;margin-left:5px;background:url('+h+");background-size:contain;background-repeat:no-repeat}.postForm.closed .headerText:after{background:url("+f+");background-size:contain;background-repeat:no-repeat}.postForm.closed{padding-bottom:30px;overflow:hidden}.postForm-help{font-size:.6em}.postForm-label{font-size:.8em}.postForm-label input{height:15px}.postForm-label textarea{height:50px;max-width:250px}.postForm-label input,.postForm-label textarea{margin-left:15px}",""]),t.Z=d},614:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".userViewer .post input{color:#000}.userProfileContainer{text-align:right;display:inline-block;margin-bottom:15px;width:95%;font-size:.8em}.userProfileContainer .headerText{text-align:center}.userProfileContainer .userProfilePhotoContainer{float:left;width:25%}.userProfileContainer .userProfilePhotoContainer img{margin:0 auto;width:100%;border-radius:15px}.userProfileContainer .userProfileInlineContainer{float:right;width:73%}.userProfileContainer .userProfileInlineContainer .name{margin:5px 0}.userProfileContainer .userProfileInlineContainer textarea{font-size:.8em}.userProfileContainer .userProfileInlineContainer input,.userProfileContainer .userProfileInlineContainer textarea{border-radius:0;text-align:right;width:100%;margin:0;padding:0;resize:none}.userProfileContainer .description{margin-top:5px}.userProfileContainer .hidenInput{font-family:Montserrat,Roboto,sans-serif;color:#fcf7ff;background-color:rgba(0,0,0,0);border:none}.userProfileContainer .userProfileHelper{font-size:.7em}",""]),t.Z=a},6401:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".userSearchContainer img{margin:5px 0 5px 5px}.userSearchContainer .userSearchResultsText{margin-bottom:15px}.userSearchContainer .userSearchText{padding:25px}.userSearchContainer .resultsContainer{border:1px solid;width:85%;border-radius:14px;padding:15px;margin-top:15px}.userSearchContainer .resultsContainer .userSearchItem{text-align:right}.userSearchContainer .resultsContainer .userSearchItem .userSearchResult{max-width:230px;display:block;float:left}.userSearchContainer .resultsContainer .userSearchItem button{float:left;margin:0 0 0 5px}.userSearchContainer .resultsContainer:empty{border:0px solid}",""]),t.Z=a},8108:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),c=n.n(s),l=new URL(n(2329),n.b),u=a()(i()),d=c()(l);u.push([e.id,".userViewer{max-width:470px;margin:0 auto 25px auto}.userViewer .statistics,.userViewer .posts{margin-bottom:25px;margin:0 auto 25px auto}.userViewer .statistics{width:96%;background-image:url("+d+"),linear-gradient(#345B63, #112031);background-position-x:center;background-repeat:no-repeat;padding-bottom:25px;font-size:.8em}.userViewer .removePostButton{float:right}.userViewer .post{font-size:.8em;margin-bottom:25px;width:95%;overflow:hidden;background-color:#eee;color:#000;text-align:left}.userViewer .submit{border:0px;color:#fff;padding:10px}.userViewerLogo{width:125px;margin-bottom:52px}.sharerContainer{margin-bottom:14px}.sharerContainer .shareProfileText{margin:15px 0 15px 0;font-size:.8em}",""]),t.Z=u},8992:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".winnerBox .fiasco{margin-bottom:4px}.winnerBox .fiasco img{width:auto;padding:0 5px}.winnerBox .pointsTable{margin-bottom:25px;text-align:right}",""]),t.Z=a},910:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".fb_iframe_widget{max-width:345px !important}.fb_iframe_widget span{max-width:345px !important}.fb_iframe_widget span iframe{max-width:345px !important}",""]),t.Z=a},8113:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"body .post .fb-share-button{margin:0 0 10px 15px}.fb-share-button{height:100%;margin:0 0 10px 0px;display:block;padding-bottom:10px}.fb-share-button span{padding:8px 0}",""]),t.Z=a},4516:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"iframe.instagram-media{max-width:350px;margin:0 auto}.post .instagram{padding:0px;width:100%;margin:0 auto}",""]),t.Z=a},8174:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".telegramLogo{margin-left:5px;width:25px;padding-bottom:2px}",""]),t.Z=a},9117:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"",""]),t.Z=a},5516:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".twitter-share-button{height:100%;margin-left:5px}",""]),t.Z=a},4661:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".whatsappLogo{width:25px;margin-left:5px;padding-bottom:2px}",""]),t.Z=a},9872:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".youtube>iframe{padding:0px;width:104%;position:relative;left:-2%}.video-responsive{height:0;overflow:hidden;padding-bottom:56.25%;padding-top:30px;position:relative}.video-responsive iframe,.video-responsive object,.video-responsive embed{height:100%;left:0;position:absolute;top:0;width:100%}",""]),t.Z=a},4649:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".gameRequestsContainer{margin-bottom:25px;width:95%;display:inline-block}.gameRequestsContainer .gameRequestGameName{margin-bottom:15px}.gameRequestsContainer .gameRequestsItem{text-align:center;margin-bottom:15px}.gameRequestsContainer .acceptButton{margin:10px}.gameRequestsContainer .acceptButton img{width:25px}.gameRequestsContainer .rejectButton{margin:10px}.gameRequestsContainer .rejectButton img{width:25px}",""]),t.Z=a},7243:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".totalValue{font-size:26px}.totalTimeContainer{margin:10px;padding:10px;font-size:.8em}.repairButton{display:block;margin:10px auto}.generic .gateProgressionContainer{width:26%;float:left;margin:0 10px 0 10px}.generic .gatePoints{padding:0px;width:18px}.generic .controlTextText{width:auto}.gateProgressionContainer .buttonControlTextPlus,.gateProgressionContainer .buttonControlTextMinus{width:35px;height:35px}.gatesContainer{margin:10px;padding:10px;font-size:.8em}.player{padding-bottom:10px}.pointsText{display:inline-block}.fiascoBox{font-size:17px;width:65px;padding:10px;float:left;margin:10px}.fiascoBox .importantNote{margin-bottom:15px}.info{font-size:.8em}.controlTextContainer .timerContainer{float:none;margin:0 auto}",""]),t.Z=a},5190:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".controlTextContainerQueue{background-color:#ffa602;border-radius:15px;margin:10px;font-size:15px;padding:5px}",""]),t.Z=a},6725:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".regionalzonarc .controlText:nth-of-type(1){background-color:#ccc;color:#000;margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(2),.regionalzonarc .controlText:nth-of-type(3),.regionalzonarc .controlText:nth-of-type(4){background-color:#aaa;color:#000}.regionalzonarc .controlText:nth-of-type(4){margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(5),.regionalzonarc .controlText:nth-of-type(6),.regionalzonarc .controlText:nth-of-type(7),.regionalzonarc .controlText:nth-of-type(8),.regionalzonarc .controlText:nth-of-type(9),.regionalzonarc .controlText:nth-of-type(10){background-color:#888}.regionalzonarc .controlText:nth-of-type(10){margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(11),.regionalzonarc .controlText:nth-of-type(12),.regionalzonarc .controlText:nth-of-type(13),.regionalzonarc .controlText:nth-of-type(14){background-color:#666}.regionalzonarc .controlText:nth-of-type(14){margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(15),.regionalzonarc .controlText:nth-of-type(16){background-color:#444}.regionalzonarc .controlText:nth-of-type(16){margin-bottom:45px}",""]),t.Z=a},2432:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"",""]),t.Z=a},8458:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".rc-slider{width:80%;height:47px;margin:15px auto}.generic .rc-slider{height:61px;width:61%;min-height:325px;margin:15px auto}.rc-slider-rail{background-color:#333}.rc-slider-track{background-color:#aaa}.rc-slider-dot{border-color:#666}.rc-slider-handle,.rc-slider-dot.rc-slider-dot-active{border-color:#fff;border-top-left-radius:0px;border-bottom-left-radius:0px;border-top-right-radius:75px;border-bottom-right-radius:75px}.rc-slider-mark-text{color:#000;padding-bottom:50%}body.lightMode .rc-slider-handle{background-color:#333}body.lightMode .rc-slider-rail{background-color:#333}body.lightMode .rc-slider-track{background-color:#aaa}body.lightMode .rc-slider-dot{border-color:#666}",""]),t.Z=a},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},1667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},1162:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),t.isMemo=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case u:case p:case f:case s:return e;default:return t}}case r:return t}}}(e)===f}},1805:function(e,t,n){"use strict";e.exports=n(1162)},4448:function(e,t,n){"use strict";var r=n(7294),i=n(3840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),I=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var c="\n"+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case I:return"Portal";case x:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(e){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ee=null,_e=null;function xe(e){if(e=bi(e)){if("function"!=typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=Ci(t),Ie(e.stateNode,e.type,t))}}function Ae(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function ke(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Se(e,t){return e(t)}function Te(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Se(e,t,n)}finally{Pe=!1,(null!==Ee||null!==_e)&&(Te(),ke())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ci(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Re=!1}function Le(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var Me=!1,je=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,je=e}};function ze(e,t,n,r,i,o,a,s,c){Me=!1,je=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(o(188))}function Ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2,lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!=(o&=a)&&(r=dt(o))}else 0!=(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0==(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var Ct,It,Et,_t,xt,At=!1,kt=[],St=null,Tt=null,Pt=null,Nt=new Map,Ot=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&It(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){At=!1,null!==St&&Ft(St)&&(St=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Nt.forEach(Vt),Ot.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<kt.length){zt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&zt(St,e),null!==Tt&&zt(Tt,e),null!==Pt&&zt(Pt,e),Nt.forEach(t),Ot.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var Gt=w.ReactCurrentBatchConfig,qt=!0;function Zt(e,t,n,r){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,Gt.transition=o}}function Wt(e,t,n,r){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,Gt.transition=o}}function Ht(e,t,n,r){if(qt){var i=$t(e,t,n,r);if(null===i)qr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Mt(St,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Ct(o),null===(o=$t(e,t,n,r))&&qr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Kt=null;function $t(e,t,n,r){if(Kt=null,null!==(e=yi(e=Ce(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=j({},ln,{view:0,detail:0}),hn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),gn=on(j({},fn,{dataTransfer:0})),mn=on(j({},dn,{relatedTarget:0})),vn=on(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},ln,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function xn(){return _n}var An=j({},dn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(An),Sn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=on(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Nn),Rn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1,Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Zn(e,t,n,r){Ae(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Kn(e){Fr(e,0)}function $n(e){if(H(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Jn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"==typeof er.oninput}Jn=Xn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Zn(t,Hn,e,Ce(e)),Ne(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||(r="selectionStart"in(r=mr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},Er={},_r={};function xr(e){if(Er[e])return Er[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var Ar=xr("animationend"),kr=xr("animationiteration"),Sr=xr("animationstart"),Tr=xr("transitionend"),Pr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),c(t,[e])}for(var Rr=0;Rr<Nr.length;Rr++){var Dr=Nr[Rr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Ar,"onAnimationEnd"),Or(kr,"onAnimationIteration"),Or(Sr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=je;Me=!1,je=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;jr(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;jr(i,s,l),o=c}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Qt(t)){case 1:var i=Zt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=o,i=Ce(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=kn;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Tn;break;case Ar:case kr:case Sr:c=vn;break;case Tr:c=Pn;break;case"scroll":c=hn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Sn}var u=0!=(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&null!=(g=Oe(p,h))&&u.push(Zr(p,g,f))),d)break;p=p.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Sn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?s:wi(c),f=null==l?s:wi(l),(s=new u(g,p+"leave",c,n,i)).target=d,s.relatedTarget=f,g=null,yi(i)===r&&((u=new u(h,p+"enter",l,n,i)).target=f,u.relatedTarget=d,g=u),d=g,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Hr(f))p++;for(f=0,g=h;g;g=Hr(g))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)h=Hr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hr(u),h=Hr(h)}u=null}else u=null;null!==c&&Kr(a,s,c,u,!1),null!==l&&null!==d&&Kr(a,d,l,u,!0)}if("select"===(c=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Qn;else if(qn(s))if(Yn)m=ar;else{m=ir;var v=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Zn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=zn(n)))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Xt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Fr(a,t)}))}function Zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Zr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Zr(e,o,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=Oe(n,o))&&a.unshift(Zr(n,c,s)):i||null!=(c=Oe(n,o))&&a.push(Zr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace($r,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ci(e){return e[fi]||null}var Ii=[],Ei=-1;function _i(e){return{current:e}}function xi(e){0>Ei||(e.current=Ii[Ei],Ii[Ei]=null,Ei--)}function Ai(e,t){Ei++,Ii[Ei]=e.current,e.current=t}var ki={},Si=_i(ki),Ti=_i(!1),Pi=ki;function Ni(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!=e.childContextTypes}function Ri(){xi(Ti),xi(Si)}function Di(e,t,n){if(Si.current!==ki)throw Error(o(168));Ai(Si,t),Ai(Ti,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,G(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Pi=Si.current,Ai(Si,e),Ai(Ti,Ti.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,xi(Ti),xi(Si),Ai(Si,e)):xi(Ti),Ai(Ti,n)}var Fi=null,Vi=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Xe,Bi),t}finally{bt=t,Ui=!1}}return null}var Gi=[],qi=0,Zi=null,Wi=0,Hi=[],Ki=0,$i=null,Qi=1,Yi="";function Ji(e,t){Gi[qi++]=Wi,Gi[qi++]=Zi,Zi=e,Wi=t}function Xi(e,t,n){Hi[Ki++]=Qi,Hi[Ki++]=Yi,Hi[Ki++]=$i,$i=e;var r=Qi;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Qi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Ji(e,1),Xi(e,1,0))}function to(e){for(;e===Zi;)Zi=Gi[--qi],Gi[qi]=null,Wi=Gi[--qi],Gi[qi]=null;for(;e===$i;)$i=Hi[--Ki],Hi[Ki]=null,Yi=Hi[--Ki],Hi[Ki]=null,Qi=Hi[--Ki],Hi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=_i(null),bo=null,wo=null,Co=null;function Io(){Co=wo=bo=null}function Eo(e){var t=yo.current;xi(yo),e._currentValue=t}function _o(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xo(e,t){bo=e,Co=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var ko=null;function So(e){null===ko?ko=[e]:ko.push(e)}function To(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,So(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&Tc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,So(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;No=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?o=l:a.next=l,a=c;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c)}if(null!==o){var d=i.baseState;for(a=0,u=l=c=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=g.payload)?p.call(f,d,h):p))break e;d=j({},d,h);break e;case 2:No=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);jc|=a,e.lanes=a,e.memoizedState=d}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function zo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Do(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rl(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),o=Do(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rl(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Do(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rl(t,e,r,n),Mo(t,e,r))}};function Go(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&cr(n,r)&&cr(i,o))}function qo(e,t,n){var r=!1,i=ki,o=t.contextType;return"object"==typeof o&&null!==o?o=Ao(o):(i=Oi(t)?Pi:Si.current,o=(r=null!=(r=t.contextTypes))?Ni(e,i):ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Zo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ao(o):(o=Oi(t)?Pi:Si.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Ho(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===O&&$o(o)===t.type)?((r=i(t,n.props)).ref=Ho(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ho(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ho(e,null,t),n.return=e,n;case I:return(t=Vl(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===i?l(e,t,n,r):null;case I:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function g(i,o,s,c){for(var l=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],c);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?l=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&Ji(i,g),l;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],c))&&(o=a(d,o,g),null===u?l=d:u.sibling=d,u=d);return io&&Ji(i,g),l}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,g),l}function m(i,s,c,l){var u=L(c);if("function"!=typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Ji(i,m),u;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,m),u}for(g=r(i,g);!y.done;m++,y=c.next())null!==(y=p(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}return function e(r,o,a,c){if("object"==typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case C:e:{for(var l=a.key,u=o;null!==u;){if(u.key===l){if((l=a.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===O&&$o(l)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Ho(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((o=Ml(a.props.children,r.mode,c,a.key)).return=r,r=o):((c=Ll(a.type,a.key,a.props,null,r.mode,c)).ref=Ho(r,o,a),c.return=r,r=c)}return s(r);case I:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Vl(a,r.mode,c)).return=r,r=o}return s(r);case O:return e(r,o,(u=a._init)(a._payload),c)}if(te(a))return g(r,o,a,c);if(L(a))return m(r,o,a,c);Ko(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fl(a,r.mode,c)).return=r,r=o),s(r)):n(r,o)}}var Yo=Qo(!0),Jo=Qo(!1),Xo={},ea=_i(Xo),ta=_i(Xo),na=_i(Xo);function ra(e){if(e===Xo)throw Error(o(174));return e}function ia(e,t){switch(Ai(na,t),Ai(ta,e),Ai(ea,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(ea),Ai(ea,t)}function oa(){xi(ea),xi(ta),xi(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ce(t,e.type);t!==n&&(Ai(ta,e),Ai(ea,n))}function sa(e){ta.current===e&&(xi(ea),xi(ta))}var ca=_i(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,ga=null,ma=null,va=null,ya=!1,ba=!1,wa=0,Ca=0;function Ia(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:cs,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,va=ma=null,t.updateQueue=null,ha.current=ls,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ma&&null!==ma.next,pa=0,va=ma=ga=null,ya=!1,t)throw Error(o(300));return e}function xa(){var e=0!==wa;return wa=0,e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=e:va=va.next=e,va}function ka(){if(null===ma){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===va?ga.memoizedState:va.next;if(null!==t)va=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===va?ga.memoizedState=va=e:va=va.next=e}return va}function Sa(e,t){return"function"==typeof t?t(e):t}function Ta(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var c=s=null,l=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,s=r):l=l.next=h,ga.lanes|=d,jc|=d}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,jc|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Na(){}function Oa(e,t){var n=ga,r=ka(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,qa(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Va(9,Da.bind(null,n,r,i,t),void 0,null),null===Pc)throw Error(o(349));0!=(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&ja(e)}function La(e,t,n){return n((function(){Ma(t)&&ja(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function ja(e){var t=Po(e,1);null!==t&&rl(t,e,1,-1)}function Fa(e){var t=Aa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return ka().memoizedState}function za(e,t,n,r){var i=Aa();ga.flags|=e,i.memoizedState=Va(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=ka();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Va(t,n,o,r))}ga.flags|=e,i.memoizedState=Va(1|t,n,o,r)}function Ga(e,t){return za(8390656,8,e,t)}function qa(e,t){return Ba(2048,8,e,t)}function Za(e,t){return Ba(4,2,e,t)}function Wa(e,t){return Ba(4,4,e,t)}function Ha(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!=n?n.concat([e]):null,Ba(4,4,Ha.bind(null,t,e),n)}function $a(){}function Qa(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0==(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,jc|=n,e.baseState=!0),t)}function Xa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return ka().memoizedState}function ts(e,t,n){var r=nl(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e)?is(t,n):null!==(n=To(e,t,n,r))&&(rl(n,e,r,tl()),os(n,t,r))}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(i.next=i,So(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=To(e,t,i,r))&&(rl(n,e,r,i=tl()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Ao,useCallback:Ia,useContext:Ia,useEffect:Ia,useImperativeHandle:Ia,useInsertionEffect:Ia,useLayoutEffect:Ia,useMemo:Ia,useReducer:Ia,useRef:Ia,useState:Ia,useDebugValue:Ia,useDeferredValue:Ia,useTransition:Ia,useMutableSource:Ia,useSyncExternalStore:Ia,useId:Ia,unstable_isNewReconciler:!1},ss={readContext:Ao,useCallback:function(e,t){return Aa().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Ga,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,za(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Aa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Aa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Aa().memoizedState=e},useState:Fa,useDebugValue:$a,useDeferredValue:function(e){return Aa().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Xa.bind(null,e[1]),Aa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=Aa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pc)throw Error(o(349));0!=(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ga(La.bind(null,r,a,e),[e]),r.flags|=2048,Va(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Aa(),t=Pc.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ca++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cs={readContext:Ao,useCallback:Qa,useContext:Ao,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Za,useLayoutEffect:Wa,useMemo:Ya,useReducer:Ta,useRef:Ua,useState:function(){return Ta(Sa)},useDebugValue:$a,useDeferredValue:function(e){return Ja(ka(),ma.memoizedState,e)},useTransition:function(){return[Ta(Sa)[0],ka().memoizedState]},useMutableSource:Na,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ao,useCallback:Qa,useContext:Ao,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Za,useLayoutEffect:Wa,useMemo:Ya,useReducer:Pa,useRef:Ua,useState:function(){return Pa(Sa)},useDebugValue:$a,useDeferredValue:function(e){var t=ka();return null===ma?t.memoizedState=e:Ja(t,ma.memoizedState,e)},useTransition:function(){return[Pa(Sa)[0],ka().memoizedState]},useMutableSource:Na,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var fs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zc||(Zc=!0,Wc=r),hs(0,t)},n}function gs(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!=typeof r&&(null===Hc?Hc=new Set([this]):Hc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Al.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function Cs(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Yo(t,e.child,n,r)}function Is(e,t,n,r,i){n=n.render;var o=t.ref;return xo(t,i),r=_a(e,t,n,r,o,i),n=xa(),null===e||ws?(io&&n&&eo(t),t.flags|=1,Cs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Rl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Zs(e,t,i)}return t.flags|=1,(e=Dl(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,Zs(e,t,i);0!=(131072&e.flags)&&(ws=!0)}}return ks(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Dc,Rc),Rc|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Dc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ai(Dc,Rc),Rc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ai(Dc,Rc),Rc|=r;return Cs(e,t,i,n),t.child}function As(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var o=Oi(n)?Pi:Si.current;return o=Ni(t,o),xo(t,i),n=_a(e,t,n,r,o,i),r=xa(),null===e||ws?(io&&r&&eo(t),t.flags|=1,Cs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zs(e,t,i))}function Ss(e,t,n,r,i){if(Oi(n)){var o=!0;Mi(t)}else o=!1;if(xo(t,i),null===t.stateNode)qs(e,t),qo(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;l="object"==typeof l&&null!==l?Ao(l):Ni(t,l=Oi(n)?Pi:Si.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==l)&&Zo(t,a,r,l),No=!1;var h=t.memoizedState;a.state=h,Fo(t,r,a,i),c=t.memoizedState,s!==r||h!==c||Ti.current||No?("function"==typeof u&&(zo(t,n,u,r),c=t.memoizedState),(s=No||Go(t,n,s,r,h,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:vo(t.type,s),a.props=l,d=t.pendingProps,h=a.context,c="object"==typeof(c=n.contextType)&&null!==c?Ao(c):Ni(t,c=Oi(n)?Pi:Si.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==c)&&Zo(t,a,r,c),No=!1,h=t.memoizedState,a.state=h,Fo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ti.current||No?("function"==typeof f&&(zo(t,n,f,r),p=t.memoizedState),(l=No||Go(t,n,l,r,h,p,c)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){As(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Zs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):Cs(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Ns(e,t,n,r,i){return po(),go(i),t.flags|=256,Cs(e,t,n,r),t.child}var Os,Rs,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ca.current,s=!1,c=0!=(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ai(ca,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,s?(i=t.mode,s=t.child,c={mode:"hidden",children:c},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=jl(c,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Vs(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jl({mode:"visible",children:r.children},i,0,null),(a=Ml(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,a);if(0==(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Us(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(c=0!=(s&e.childLanes),ws||c){if(null!==(r=Pc)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),rl(r,e,i,-1))}return ml(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Hi[Ki++]=Qi,Hi[Ki++]=Yi,Hi[Ki++]=$i,Qi=e.id,Yi=e.overflow,$i=t),(t=Vs(t,r.children)).flags|=4096,t)}(e,t,c,i,r,a,n);if(s){s=i.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&c)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Dl(r,s):(s=Ml(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,c=null===(c=e.child.memoizedState)?js(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=jl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&go(r),Yo(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_o(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Cs(e,t,r.children,n),0!=(2&(r=ca.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(ca,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jc|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Oi(t.type)&&Ri(),Hs(t),null;case 3:return r=t.stateNode,oa(),xi(Ti),xi(Si),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Rs(e,t),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!=(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Q(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var c in ye(n,a),i=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"==typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Vr("scroll",r)}switch(n){case"input":W(r),X(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[fi]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Q(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"==typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&b(e,a,u,c))}switch(n){case"input":W(e),X(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hs(t),null;case 13:if(xi(ca),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(sl(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&ca.current)?0===Lc&&(Lc=3):ml())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),Rs(e,t),null===e&&Br(t.stateNode.containerInfo),Hs(t),null;case 10:return Eo(t.type._context),Hs(t),null;case 19:if(xi(ca),null===(a=t.memoizedState))return Hs(t),null;if(r=0!=(128&t.flags),null===(c=a.rendering))if(r)Ws(a,!1);else{if(0!==Lc||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=la(e))){for(t.flags|=128,Ws(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(ca,1&ca.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Gc&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!io)return Hs(t),null}else 2*Ye()-a.renderingStartTime>Gc&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ca.current,Ai(ca,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Rc)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $s(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),xi(Ti),xi(Si),da(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(xi(ca),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(ca),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Vr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Ys=!1,Js="function"==typeof WeakSet?WeakSet:Set,Xs=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){xl(e,t,n)}else n.current=null}function tc(e,t,n){try{n()}catch(n){xl(e,t,n)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tc(t,n,o)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[mi],delete t[vi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var dc=null,hc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ys||ec(n,t);case 6:var r=dc,i=hc;dc=null,fc(e,t,n),hc=i,null!==(dc=r)&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dc.removeChild(n.stateNode));break;case 18:null!==dc&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(dc,n.stateNode));break;case 4:r=dc,i=hc,dc=n.stateNode.containerInfo,hc=!0,fc(e,t,n),dc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Ys&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&tc(n,t,a),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Ys&&(ec(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){xl(n,t,e)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fc(e,t,n),Ys=r):fc(e,t,n);break;default:fc(e,t,n)}}function gc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,hc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===dc)throw Error(o(160));pc(a,s,i),dc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(e){xl(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(t){xl(e,e.return,t)}try{rc(5,e,e.return)}catch(t){xl(e,e.return,t)}}break;case 1:mc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(mc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(t){xl(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&Y(i,a),be(c,s);var u=be(c,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(c){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(t){xl(e,e.return,t)}}break;case 6:if(mc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){xl(e,e.return,t)}}break;case 3:if(mc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(t){xl(e,e.return,t)}break;case 4:default:mc(t,e),yc(e);break;case 13:mc(t,e),yc(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bc=Ye())),4&r&&gc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,mc(t,e),Ys=u):mc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!=(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(h=Xs=d;null!==Xs;){switch(p=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var g=f.stateNode;if("function"==typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){xl(r,n,e)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Ic(h);continue}}null!==p?(p.return=f,Xs=p):Ic(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,s=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",s))}catch(t){xl(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){xl(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mc(t,e),yc(e),4&r&&gc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;lc(e,cc(e),a);break;default:throw Error(o(161))}}catch(t){xl(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,n){Xs=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!=(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,c=null!==s&&null!==s.memoizedState||Ys;s=Qs;var l=Ys;if(Qs=a,(Ys=c)&&!l)for(Xs=i;null!==Xs;)c=(a=Xs).child,22===a.tag&&null!==a.memoizedState?Ec(i):null!==c?(c.return=a,Xs=c):Ec(i);for(;null!==o;)Xs=o,wc(o,t,n),o=o.sibling;Xs=i,Qs=s,Ys=l}Cc(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):Cc(e)}}function Cc(e){for(;null!==Xs;){var t=Xs;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Vo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&oc(t)}catch(e){xl(t,t.return,e)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Ic(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Ec(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(e){xl(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){xl(t,i,e)}}var o=t.return;try{oc(t)}catch(e){xl(t,o,e)}break;case 5:var a=t.return;try{oc(t)}catch(e){xl(t,a,e)}}}catch(e){xl(t,t.return,e)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var _c,xc=Math.ceil,Ac=w.ReactCurrentDispatcher,kc=w.ReactCurrentOwner,Sc=w.ReactCurrentBatchConfig,Tc=0,Pc=null,Nc=null,Oc=0,Rc=0,Dc=_i(0),Lc=0,Mc=null,jc=0,Fc=0,Vc=0,Uc=null,zc=null,Bc=0,Gc=1/0,qc=null,Zc=!1,Wc=null,Hc=null,Kc=!1,$c=null,Qc=0,Yc=0,Jc=null,Xc=-1,el=0;function tl(){return 0!=(6&Tc)?Ye():-1!==Xc?Xc:Xc=Ye()}function nl(e){return 0==(1&e.mode)?1:0!=(2&Tc)&&0!==Oc?Oc&-Oc:null!==mo.transition?(0===el&&(el=gt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rl(e,t,n,r){if(50<Yc)throw Yc=0,Jc=null,Error(o(185));vt(e,n,r),0!=(2&Tc)&&e===Pc||(e===Pc&&(0==(2&Tc)&&(Fc|=n),4===Lc&&cl(e,Oc)),il(e,r),1===n&&0===Tc&&0==(1&t.mode)&&(Gc=Ye()+500,Vi&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,c=i[a];-1===c?0!=(s&n)&&0==(s&r)||(i[a]=ft(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Pc?Oc:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),ai((function(){0==(6&Tc)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Xc=-1,el=0,0!=(6&Tc))throw Error(o(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=ht(e,e===Pc?Oc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Tc;Tc|=2;var a=gl();for(Pc===e&&Oc===t||(qc=null,Gc=Ye()+500,fl(e,t));;)try{bl();break}catch(t){pl(e,t)}Io(),Ac.current=a,Tc=i,null!==Nc?t=0:(Pc=null,Oc=0,t=Lc)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=al(e,i)),1===t)throw n=Mc,fl(e,0),cl(e,r),il(e,Ye()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&0!==(a=pt(e))&&(r=a,t=al(e,a)),1===t))throw n=Mc,fl(e,0),cl(e,r),il(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Il(e,zc,qc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Bc+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Il.bind(null,e,zc,qc),t);break}Il(e,zc,qc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xc(r/1960))-r)){e.timeoutHandle=ri(Il.bind(null,e,zc,qc),r);break}Il(e,zc,qc);break;default:throw Error(o(329))}}}return il(e,Ye()),e.callbackNode===n?ol.bind(null,e):null}function al(e,t){var n=Uc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=zc,zc=n,null!==t&&sl(t)),e}function sl(e){null===zc?zc=e:zc.push.apply(zc,e)}function cl(e,t){for(t&=~Vc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!=(6&Tc))throw Error(o(327));El();var t=ht(e,0);if(0==(1&t))return il(e,Ye()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Mc,fl(e,0),cl(e,t),il(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Il(e,zc,qc),il(e,Ye()),null}function ul(e,t){var n=Tc;Tc|=1;try{return e(t)}finally{0===(Tc=n)&&(Gc=Ye()+500,Vi&&Bi())}}function dl(e){null!==$c&&0===$c.tag&&0==(6&Tc)&&El();var t=Tc;Tc|=1;var n=Sc.transition,r=bt;try{if(Sc.transition=null,bt=1,e)return e()}finally{bt=r,Sc.transition=n,0==(6&(Tc=t))&&Bi()}}function hl(){Rc=Dc.current,xi(Dc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nc)for(n=Nc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ri();break;case 3:oa(),xi(Ti),xi(Si),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:xi(ca);break;case 10:Eo(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Pc=e,Nc=e=Dl(e.current,null),Oc=Rc=t,Lc=0,Mc=null,Vc=Fc=jc=0,zc=Uc=null,null!==ko){for(t=0;t<ko.length;t++)if(null!==(r=(n=ko[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}ko=null}return e}function pl(e,t){for(;;){var n=Nc;try{if(Io(),ha.current=as,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ma=ga=null,ba=!1,wa=0,kc.current=null,null===n||null===n.return){Lc=1,Mc=t,Nc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=Oc,c.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,d=c,h=d.tag;if(0==(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,c,0,t),1&p.mode&&ms(a,u,t),l=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0==(1&t)){ms(a,u,t),ml();break e}l=Error(o(426))}else if(io&&1&c.mode){var v=vs(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),ys(v,s,c,0,t),go(us(l,c));break e}}a=l=us(l,c),4!==Lc&&(Lc=2),null===Uc?Uc=[a]:Uc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,l,t));break e;case 1:c=l;var y=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Hc||!Hc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,gs(a,c,t));break e}}a=a.return}while(null!==a)}Cl(n)}catch(e){t=e,Nc===n&&null!==n&&(Nc=n=n.return);continue}break}}function gl(){var e=Ac.current;return Ac.current=as,null===e?as:e}function ml(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Pc||0==(268435455&jc)&&0==(268435455&Fc)||cl(Pc,Oc)}function vl(e,t){var n=Tc;Tc|=2;var r=gl();for(Pc===e&&Oc===t||(qc=null,fl(e,t));;)try{yl();break}catch(t){pl(e,t)}if(Io(),Tc=n,Ac.current=r,null!==Nc)throw Error(o(261));return Pc=null,Oc=0,Lc}function yl(){for(;null!==Nc;)wl(Nc)}function bl(){for(;null!==Nc&&!$e();)wl(Nc)}function wl(e){var t=_c(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?Cl(e):Nc=t,kc.current=null}function Cl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ks(n,t,Rc)))return void(Nc=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Nc=n);if(null===e)return Lc=6,void(Nc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nc=t);Nc=t=e}while(null!==t);0===Lc&&(Lc=5)}function Il(e,t,n){var r=bt,i=Sc.transition;try{Sc.transition=null,bt=1,function(e,t,n,r){do{El()}while(null!==$c);if(0!=(6&Tc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pc&&(Nc=Pc=null,Oc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Kc||(Kc=!0,Pl(tt,(function(){return El(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Sc.transition,Sc.transition=null;var s=bt;bt=1;var c=Tc;Tc|=4,kc.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=s+i),h!==a||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(c=s),f===a&&++d===r&&(l=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var g=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(e){xl(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}g=nc,nc=!1}(e,n),vc(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bc(n,e,i),Qe(),Tc=c,bt=s,Sc.transition=a}else e.current=n;if(Kc&&(Kc=!1,$c=e,Qc=i),0===(a=e.pendingLanes)&&(Hc=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),il(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Zc)throw Zc=!1,e=Wc,Wc=null,e;0!=(1&Qc)&&0!==e.tag&&El(),0!=(1&(a=e.pendingLanes))?e===Jc?Yc++:(Yc=0,Jc=e):Yc=0,Bi()}(e,t,n,r)}finally{Sc.transition=i,bt=r}return null}function El(){if(null!==$c){var e=wt(Qc),t=Sc.transition,n=bt;try{if(Sc.transition=null,bt=16>e?16:e,null===$c)var r=!1;else{if(e=$c,$c=null,Qc=0,0!=(6&Tc))throw Error(o(331));var i=Tc;for(Tc|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!=(16&Xs.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:rc(8,d,a)}var h=d.child;if(null!==h)h.return=d,Xs=h;else for(;null!==Xs;){var f=(d=Xs).sibling,p=d.return;if(ac(d),d===u){Xs=null;break}if(null!==f){f.return=p,Xs=f;break}Xs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Xs=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!=(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:rc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!=(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!=(2048&(c=Xs).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(e){xl(c,c.return,e)}if(c===s){Xs=null;break e}var C=c.sibling;if(null!==C){C.return=c.return,Xs=C;break e}Xs=c.return}}if(Tc=i,Bi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Sc.transition=t}}return!1}function _l(e,t,n){e=Lo(e,t=ps(0,t=us(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function xl(e,t,n){if(3===e.tag)_l(e,e,n);else for(;null!==t;){if(3===t.tag){_l(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hc||!Hc.has(r))){t=Lo(t,e=gs(t,e=us(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function Al(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Pc===e&&(Oc&n)===n&&(4===Lc||3===Lc&&(130023424&Oc)===Oc&&500>Ye()-Bc?fl(e,0):Vc|=n),il(e,t)}function kl(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ut,0==(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Po(e,t))&&(vt(e,t,n),il(e,n))}function Sl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kl(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kl(e,n)}function Pl(e,t){return He(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Nl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Rl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case E:return Ml(n.children,i,a,t);case _:s=8,i|=8;break;case x:return(e=Ol(12,n,t,2|i)).elementType=x,e.lanes=a,e;case T:return(e=Ol(13,n,t,i)).elementType=T,e.lanes=a,e;case P:return(e=Ol(19,n,t,i)).elementType=P,e.lanes=a,e;case R:return jl(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case k:s=9;break e;case S:s=11;break e;case N:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ml(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function jl(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,o,a,s,c){return e=new Ul(e,t,n,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ol(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Bl(e){if(!e)return ki;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Li(e,n,t)}return t}function Gl(e,t,n,r,i,o,a,s,c){return(e=zl(n,r,!0,e,0,o,0,s,c)).context=Bl(null),n=e.current,(o=Do(r=tl(),i=nl(n))).callback=null!=t?t:null,Lo(n,o,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function ql(e,t,n,r){var i=t.current,o=tl(),a=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(rl(e,i,a,o),Mo(e,i,a)),a}function Zl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}_c=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ws=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(ca,1&ca.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Fs(e,t,n):(Ai(ca,1&ca.current),null!==(e=Zs(e,t,n))?e.sibling:null);Ai(ca,1&ca.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(ca,ca.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Zs(e,t,n)}(e,t,n);ws=0!=(131072&e.flags)}else ws=!1,io&&0!=(1048576&t.flags)&&Xi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ni(t,Si.current);xo(t,n),i=_a(null,t,r,e,i,n);var a=xa();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Cs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Rl(e)?1:0;if(null!=e){if((e=e.$$typeof)===S)return 11;if(e===N)return 14}return 2}(r),e=vo(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=Is(null,t,r,e,n);break e;case 14:t=Es(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Zs(e,t,n);break e}Cs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),As(e,t),Cs(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):Cs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ai(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=Zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Do(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),_o(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),_o(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Cs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xo(t,n),r=r(i=Ao(i)),t.flags|=1,Cs(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Es(e,t,r,i=vo(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),qs(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,xo(t,n),qo(t,r,i),Wo(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return xs(e,t,n)}throw Error(o(156,t.tag))};var Kl="function"==typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Zl(a);s.call(e)}}ql(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Zl(a);o.call(e)}}var a=Gl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),dl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Zl(c);s.call(e)}}var c=zl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[pi]=c.current,Br(8===e.nodeType?e.parentNode:e),dl((function(){ql(t,c,n,r)})),c}(n,t,e,i,r);return Zl(a)}Ql.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));ql(e,t,null,null)},Ql.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){ql(null,e,null,null)})),t[pi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Ye()),0==(6&Tc)&&(Gc=Ye()+500,Bi()))}break;case 13:dl((function(){var t=Po(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Hl(e,1)}},It=function(e){if(13===e.tag){var t=Po(e,134217728);null!==t&&rl(t,e,134217728,tl()),Hl(e,134217728)}},Et=function(e){if(13===e.tag){var t=nl(e),n=Po(e,t);null!==n&&rl(n,e,t,tl()),Hl(e,t)}},_t=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ie=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ci(r);if(!i)throw Error(o(90));H(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=ul,Te=dl;var tu={usingClientEntryPoint:!1,Events:[bi,wi,Ci,Ae,ke,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(o(299));var n=!1,r="",i=Kl;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Kl;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(dl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},745:function(e,t,n){"use strict";var r=n(3935);t.s=r.createRoot,r.hydrateRoot},3935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9559:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=t||"";return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(o=t.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,r){return t>0&&t+e.length!==r.length&&e.search(n)>-1&&":"!==r.charAt(t-2)&&("-"!==r.charAt(t+e.length)||"-"===r.charAt(t-1))&&r.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}))),i&&(o=function(e){return"string"==typeof e&&-1!==e.indexOf("@")}(e=o)?(console.warn("This arg looks like an email address, redacting."),r):e),o};var n=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i,r="REDACTED (Potential Email Address)"},1638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var r=c(n(6161)),i=c(n(9559)),o=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],s=["page","hitType"];function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function v(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}var b=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"reset",(function(){t.isInitialized=!1,t._testMode=!1,t._currentMeasurementId,t._hasLoadedGA=!1,t._isQueuing=!1,t._queueGtag=[]})),v(this,"_gtag",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t._testMode||t._isQueuing?t._queueGtag.push(n):r.default.apply(void 0,n)})),v(this,"_loadGA",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://www.googletagmanager.com/gtag/js";if("undefined"!=typeof window&&"undefined"!=typeof document&&!t._hasLoadedGA){var i=document.createElement("script");i.async=!0,i.src="".concat(r,"?id=").concat(e),n&&i.setAttribute("nonce",n),document.body.appendChild(i),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},t._hasLoadedGA=!0}})),v(this,"_toGtagOptions",(function(e){if(e){var t={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"};return Object.entries(e).reduce((function(e,n){var r,i,o=(i=2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(r,i)||p(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];return t[a]?e[t[a]]=s:e[a]=s,e}),{})}})),v(this,"initialize",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Require GA_MEASUREMENT_ID");var r="string"==typeof e?[{trackingId:e}]:e;t._currentMeasurementId=r[0].trackingId;var i=n.gaOptions,o=n.gtagOptions,a=n.nonce,s=n.testMode,c=void 0!==s&&s,l=n.gtagUrl;if(t._testMode=c,c||t._loadGA(t._currentMeasurementId,a,l),t.isInitialized||(t._gtag("js",new Date),r.forEach((function(e){var n=f(f(f({},t._toGtagOptions(f(f({},i),e.gaOptions))),o),e.gtagOptions);Object.keys(n).length?t._gtag("config",e.trackingId,n):t._gtag("config",e.trackingId)}))),t.isInitialized=!0,!c){var u=d(t._queueGtag);for(t._queueGtag=[],t._isQueuing=!1;u.length;){var h=u.shift();t._gtag.apply(t,d(h)),"get"===h[0]&&(t._isQueuing=!0)}}})),v(this,"set",(function(e){e?"object"===u(e)?(0===Object.keys(e).length&&console.warn("empty `fieldsObject` given to .set()"),t._gaCommand("set",e)):console.warn("Expected `fieldsObject` arg to be an Object"):console.warn("`fieldsObject` is required in .set()")})),v(this,"_gaCommandSendEvent",(function(e,n,r,i,o){t._gtag("event",n,f(f({event_category:e,event_label:r,value:i},o&&{non_interaction:o.nonInteraction}),t._toGtagOptions(o)))})),v(this,"_gaCommandSendEventParameters",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"==typeof n[0])t._gaCommandSendEvent.apply(t,d(n.slice(1)));else{var i=n[0],a=i.eventCategory,s=i.eventAction,c=i.eventLabel,u=i.eventValue,h=(i.hitType,l(i,o));t._gaCommandSendEvent(a,s,c,u,h)}})),v(this,"_gaCommandSendTiming",(function(e,n,r,i){t._gtag("event","timing_complete",{name:n,value:r,event_category:e,event_label:i})})),v(this,"_gaCommandSendPageview",(function(e,n){if(n&&Object.keys(n).length){var r=t._toGtagOptions(n),i=r.title,o=r.location,s=l(r,a);t._gtag("event","page_view",f(f(f(f({},e&&{page_path:e}),i&&{page_title:i}),o&&{page_location:o}),s))}else e?t._gtag("event","page_view",{page_path:e}):t._gtag("event","page_view")})),v(this,"_gaCommandSendPageviewParameters",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"==typeof n[0])t._gaCommandSendPageview.apply(t,d(n.slice(1)));else{var i=n[0],o=i.page,a=(i.hitType,l(i,s));t._gaCommandSendPageview(o,a)}})),v(this,"_gaCommandSend",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i="string"==typeof n[0]?n[0]:n[0].hitType;switch(i){case"event":t._gaCommandSendEventParameters.apply(t,n);break;case"pageview":t._gaCommandSendPageviewParameters.apply(t,n);break;case"timing":t._gaCommandSendTiming.apply(t,d(n.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(i));break;default:console.warn("Send command doesn't exist: ".concat(i))}})),v(this,"_gaCommandSet",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]=v({},n[0],n[1])),t._gtag("set",t._toGtagOptions(n[0]))})),v(this,"_gaCommand",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];switch(e){case"send":t._gaCommandSend.apply(t,r);break;case"set":t._gaCommandSet.apply(t,r);break;default:console.warn("Command doesn't exist: ".concat(e))}})),v(this,"ga",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"==typeof n[0])t._gaCommand.apply(t,n);else{var i=n[0];t._gtag("get",t._currentMeasurementId,"client_id",(function(e){t._isQueuing=!1;var n=t._queueGtag;for(i({get:function(n){return"clientId"===n?e:"trackingId"===n?t._currentMeasurementId:"apiVersion"===n?"1":void 0}});n.length;){var r=n.shift();t._gtag.apply(t,d(r))}})),t._isQueuing=!0}return t.ga})),v(this,"event",(function(e,n){if("string"==typeof e)t._gtag("event",e,t._toGtagOptions(n));else{var r=e.action,o=e.category,a=e.label,s=e.value,c=e.nonInteraction,l=e.transport;if(!o||!r)return void console.warn("args.category AND args.action are required in event()");var u={hitType:"event",eventCategory:(0,i.default)(o),eventAction:(0,i.default)(r)};a&&(u.eventLabel=(0,i.default)(a)),void 0!==s&&("number"!=typeof s?console.warn("Expected `args.value` arg to be a Number."):u.eventValue=s),void 0!==c&&("boolean"!=typeof c?console.warn("`args.nonInteraction` must be a boolean."):u.nonInteraction=c),void 0!==l&&("string"!=typeof l?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(l)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),u.transport=l)),t._gaCommand("send",u)}})),v(this,"send",(function(e){t._gaCommand("send",e)})),this.reset()}var t,n;return t=e,n=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],n&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.GA4=b;var w=new b;t.default=w},6161:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;"undefined"!=typeof window&&(void 0===window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(r=window).gtag.apply(r,t))}},9089:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.ZP=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=a?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(i,s,c):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(1638));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}i.GA4;var a=i.default;t.ZP=a},7031:function(e,t,n){"use strict";n.d(t,{OO:function(){return p},zv:function(){return m},JP:function(){return g},nI:function(){return v},Db:function(){return y}});var r=n(5671),i=n(3144),o=n(4942),a=n(7294),s=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,c={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},l=function(e){return c[e]};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,f={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(s,l)}},p=(0,a.createContext)();function g(){return f}var m=function(){function e(){(0,r.Z)(this,e),this.usedNamespaces={}}return(0,i.Z)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function v(){return h}var y={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f=d(d({},f),e)}(e.options.react),function(e){h=e}(e)}}},4478:function(e,t,n){"use strict";n.d(t,{$:function(){return p}});var r=n(9439),i=n(4942),o=n(7294),a=n(7031);function s(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var c={};function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&c[t[0]]||("string"==typeof t[0]&&(c[t[0]]=new Date),s.apply(void 0,t))}function u(e,t,n){e.loadNamespaces(t,(function(){e.isInitialized?n():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}))}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e,t){var n=(0,o.useRef)();return(0,o.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=(0,o.useContext)(a.OO)||{},s=i.i18n,c=i.defaultNS,d=n||s||(0,a.nI)();if(d&&!d.reportNamespaces&&(d.reportNamespaces=new a.zv),!d){l("You will need to pass in an i18next instance by using initReactI18next");var p=function(e){return Array.isArray(e)?e[e.length-1]:e},g=[p,{},!1];return g.t=p,g.i18n={},g.ready=!1,g}d.options.react&&void 0!==d.options.react.wait&&l("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var m=h(h(h({},(0,a.JP)()),d.options.react),t),v=m.useSuspense,y=m.keyPrefix,b=e||c||d.options&&d.options.defaultNS;b="string"==typeof b?[b]:b||["translation"],d.reportNamespaces.addUsedNamespaces&&d.reportNamespaces.addUsedNamespaces(b);var w=(d.isInitialized||d.initializedStoreOnce)&&b.every((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(r,e)||i&&!a(o,e)))}(e,t,n):(l("i18n.languages were undefined or empty",t.languages),!0)}(e,d,m)}));function C(){return d.getFixedT(null,"fallback"===m.nsMode?b:b[0],y)}var I=(0,o.useState)(C),E=(0,r.Z)(I,2),_=E[0],x=E[1],A=b.join(),k=f(A),S=(0,o.useRef)(!0);(0,o.useEffect)((function(){var e=m.bindI18n,t=m.bindI18nStore;function n(){S.current&&x(C)}return S.current=!0,w||v||u(d,b,(function(){S.current&&x(C)})),w&&k&&k!==A&&S.current&&x(C),e&&d&&d.on(e,n),t&&d&&d.store.on(t,n),function(){S.current=!1,e&&d&&e.split(" ").forEach((function(e){return d.off(e,n)})),t&&d&&t.split(" ").forEach((function(e){return d.store.off(e,n)}))}}),[d,A]);var T=(0,o.useRef)(!0);(0,o.useEffect)((function(){S.current&&!T.current&&x(C),T.current=!1}),[d,y]);var P=[_,d,w];if(P.t=_,P.i18n=d,P.ready=w,w)return P;if(!w&&!v)return P;throw new Promise((function(e){u(d,b,(function(){e()}))}))}},2408:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var C=Array.isArray,I=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===o?"."+S(c,0):o,C(a)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(c=0,o=""===o?".":o+":",C(e))for(var l=0;l<e.length;l++){var u=o+S(s=e[l],l);c+=T(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=T(s=s.value,t,i,u=o+S(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)I.call(t,l)&&!_.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},7294:function(e,t,n){"use strict";e.exports=n(2408)},53:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function C(e){if(m=!1,w(e),!g)if(null!==r(l))g=!0,R(I);else{var t=r(u);null!==t&&D(C,t.startTime-e)}}function I(e,n){g=!1,m&&(m=!1,y(A),A=-1),p=!0;var o=f;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"==typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?h.callback=s:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&D(C,d.startTime-n),c=!1}return c}finally{h=null,f=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,x=null,A=-1,k=5,S=-1;function T(){return!(t.unstable_now()-S<k)}function P(){if(null!==x){var e=t.unstable_now();S=e;var n=!0;try{n=x(!0,e)}finally{n?E():(_=!1,x=null)}}else _=!1}if("function"==typeof b)E=function(){b(P)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=P,E=function(){O.postMessage(null)}}else E=function(){v(P,0)};function R(e){x=e,_||(_=!0,E())}function D(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(m?(y(A),A=-1):m=!0,D(C,o-a))):(e.sortIndex=s,n(l,e),g||p||(g=!0,R(I))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},3840:function(e,t,n){"use strict";e.exports=n(53)},3379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var h=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=i(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var c=r(e,i),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:function(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1207:function(e,t){"use strict";t.jB=t.Xb=t.Ks=t.x8=t.TL=void 0,t.TL="BT_GATES",t.x8="BT_POINTS",t.Ks="BT_START",t.Xb="BT_STOP",t.jB="BT_TIME";var n=function(){function e(){this.device={},this.timeCharacteristic={},this.timeValueCharacteristic={},this.pointsCharacteristic={},this.gatesCharacteristic={}}return e.prototype.discoverDevice=function(e){var t=this;navigator.bluetooth.requestDevice({filters:[{name:"CrawlearBluetoothDevice"},{services:["3feb1e8a-3981-4045-ad39-b225135013a0"]}]}).then((function(n){return t.device=n,e&&e(n),n.gatt&&n.gatt.connect()})).then((function(e){return e&&e.getPrimaryService("3feb1e8a-3981-4045-ad39-b225135013a0")})).then((function(e){var t=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b26a8"),n=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b1"),r=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b2"),i=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b3");return Promise.all([t,n,r,i])})).then((function(e){var n=e[0],r=e[1],i=e[2],o=e[3];t.timeCharacteristic=n,t.timeValueCharacteristic=r,t.pointsCharacteristic=i,t.gatesCharacteristic=o})).catch((function(e){console.error(e)}))},e.prototype.sendTime=function(e){this.timeValueCharacteristic&&this.timeValueCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendPoints=function(e){this.pointsCharacteristic&&this.pointsCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendGates=function(e){this.gatesCharacteristic&&this.gatesCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendStart=function(){if(this.timeCharacteristic){var e=Uint8Array.of(1);this.timeCharacteristic.writeValue(e)}},e.prototype.sendStop=function(){if(this.timeCharacteristic){var e=Uint8Array.of(0);this.timeCharacteristic.writeValue(e)}},e}();t.ZP=n},5351:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2518)),o=function(){function e(){this.container=document.querySelector(".AppMainContainer")}return e.prototype.listenMessages=function(e,t){i.default.listenEvent(this.container,e,t)},e.prototype.sendMessage=function(e,t){i.default.sendEvent(this.container,e,t)},e}();t.default=o},2518:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={listenEvent:function(e,t,n){e.addEventListener(t,n)},sendEvent:function(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:n}))}};t.default=n},9105:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(7294));function u(e,t,n){return a(this,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(s){switch(s.label){case 0:return r=window.crawlear.fb,i=e[t],o=c([],e,!0),a=window.crawlear.user.uid,i.uids.indexOf(a)>=0?[4,r.removeIdFromGame(i,a,"uids")]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return i.jids.indexOf(a)>=0?[4,r.removeIdFromGame(i,a,"jids")]:[3,4];case 3:i=s.sent(),s.label=4;case 4:return i.owner.indexOf(a)>=0?[4,r.removeIdFromGame(i,a,"owner")]:[3,6];case 5:i=s.sent(),s.label=6;case 6:return 0!==i.uids.length||0!==i.jids.length?[3,8]:[4,r.removeGame(i.gid)];case 7:s.sent(),s.label=8;case 8:return o.splice(t,1),n(o),[2]}}))}))}t.default=function(){var e=l.useState([]),t=e[0],n=e[1],r=l.useState([]),i=r[0],o=r[1],a=l.useState([]),s=a[0],d=a[1],h=l.useState([]),f=h[0],p=h[1],g=window.crawlear.fb;return l.useEffect((function(){g.isUserLogged()&&(g.getGamesFromUser(window.crawlear.user.uid,!1,(function(e){p((function(t){return c(c([],t,!0),e,!0)}))})),g.getGamesFromJudge(window.crawlear.user.uid,!1,(function(e){p((function(t){return c(c([],t,!0),e,!0)}))})),g.getGamesFromDirector(window.crawlear.user.uid,!1,(function(e){p((function(t){return c(c([],t,!0),e,!0)}))})))}),[]),l.useEffect((function(){!function(e){var t=[],r=[],i=[];e.forEach((function(e){e.gameStatus<2?e.jids.indexOf(window.crawlear.user.uid)>=0||e.owner.indexOf(window.crawlear.user.uid)>=0?t.push(e):e.uids.indexOf(window.crawlear.user.uid)>=0&&r.push(e):i.push(e)})),n(r),o(t),d(i)}(f)}),[f]),[t,function(e){u(t,e,n)},i,function(e){u(i,e,o)},s,function(e){u(s,e,d)}]}},653:function(e,t,n){"use strict";t.zo=t.lA=t.vf=t.UU=t.Oh=t.Jo=t.uG=t.HF=t.UZ=t.te=t.oP=void 0;var r,i=n(2160),o=n(83),a=n(1222),s=n(3238),c=n(7525),l=n(9206),u=n(669);t.oP=0,t.te=1,t.UZ=2,t.HF=3,t.uG=4,t.Jo=5,t.Oh=6,t.UU="offlineUid",function(e){e[e.GAME_TYPE_AECAR=0]="GAME_TYPE_AECAR",e[e.GAME_TYPE_KING=1]="GAME_TYPE_KING",e[e.GAME_TYPE_ISRCC=2]="GAME_TYPE_ISRCC",e[e.GAME_TYPE_LEVANTE=3]="GAME_TYPE_LEVANTE",e[e.GAME_TYPE_COPAESPANA=4]="GAME_TYPE_COPAESPANA",e[e.GAME_TYPE_MINICRAWLERPASSION=5]="GAME_TYPE_MINICRAWLERPASSION",e[e.GAME_TYPE_GENERIC=6]="GAME_TYPE_GENERIC"}(r||(r={}));var d=function(){function e(e,n,r,d,h,f,p,g,m,v,y,b,w,C,I){if(this.name=e,this.date=n,this.location=r,this.isPublic=d,this.gameType=h,this.players=f||[],this.judges=p||[],this.maxTime=g,this.maxPoints=m,this.gates=v,this.uids=w||[],this.jids=C||[],this.zones=y,this.gameStatus=b,this.owner=I,this.gid="",0===g)this.courtesyTime=0;else{var E=void 0;switch(h){case t.oP:E=i.AecarGameScores.courtesyTime;break;case t.te:E=c.KingGameScores.courtesyTime;break;case t.UZ:E=o.IsrccGameScores.courtesyTime;break;case t.HF:E=s.Levante124GameScores.courtesyTime;break;case t.uG:E=a.RegionalZonaRcGameScores.courtesyTime;break;case t.Jo:E=l.MiniCrawlerPassionGameScores.courtesyTime;break;case t.Oh:E=u.GenericGameScores.courtesyTime;break;default:E=0}this.courtesyTime=E}}return e.prototype.setGameId=function(e){this.gid=e},e}();t.lA=d;var h=function(){function e(){}return e.init=function(e,t,n,r){e.gameStatus=0,e.players.forEach((function(i){if(i.time=0,i.points=0,i.totalGateProgression=0,i.totalPoints=0,i.totalTime=0,!i.zones||0===i.zones.length||r){i.zones=[];for(var o=0;o<e.zones;o++){for(var a={points:0,totalPoints:0,simpathyPoints:0,time:0,judgedBy:[],gateProgression:0,gatesWithBonification:0,gatesWithFail:0,handicap:0,gateProgressionData:new Array(e.gates[o]),fiascoControlTextValues:n()},s=0;s<e.gates[o];s++)a.gateProgressionData[s]={gatePoints:0,controlTextValues:t()};i.zones.push(a)}}}))},e.createGameProgression=function(e,t){var n=new Array(1);n[0]=new Array(t);for(var r=0;r<t;r++){n[0][r]=new Array(e);for(var i=0;i<e;i++)n[0][r][i]={status:"waiting"}}return n},e.getGameResult=function(e,t){return Object.entries(t).forEach((function(t,n){Object.entries(t[1]).forEach((function(t,r){t[1].data&&(e.players[n].zones[r]=t[1].data)}))})),e},e.getGameTypeBodyClassName=function(e){var n;switch(e){case t.oP:n="aecar";break;case t.te:n="king";break;case t.UZ:n="irscc";break;case t.HF:n="levante";break;case t.uG:n="regionalzonarc";break;case t.Jo:n="minicrawlerpassion";break;case t.Oh:n="generic";break;default:n=""}return n},e.getGameTypeControlTextValuesInit=function(e){var n;switch(e){case t.oP:n=i.gameExtras.controlTextValuesInit;break;case t.te:n=c.gameExtras.controlTextValuesInit;break;case t.UZ:n=o.gameExtras.controlTextValuesInit;break;case t.HF:n=s.gameExtras.controlTextValuesInit;break;case t.uG:n=a.gameExtras.controlTextValuesInit;break;case t.Jo:n=l.gameExtras.controlTextValuesInit;break;case t.Oh:n=u.gameExtras.controlTextValuesInit;break;default:n=o.gameExtras.controlTextValuesInit}return n},e.getGameTypeFiascoControlTextValuesInit=function(e){var n;switch(e){case t.oP:n=i.gameExtras.fiascoControlTextValuesInit;break;case t.te:n=c.gameExtras.fiascoControlTextValuesInit;break;case t.UZ:n=o.gameExtras.fiascoControlTextValuesInit;break;case t.HF:n=s.gameExtras.fiascoControlTextValuesInit;break;case t.uG:n=a.gameExtras.fiascoControlTextValuesInit;break;case t.Jo:n=l.gameExtras.fiascoControlTextValuesInit;break;case t.Oh:n=u.gameExtras.fiascoControlTextValuesInit;break;default:n=o.gameExtras.fiascoControlTextValuesInit}return n},e.redoPlayersIds=function(e){e.players.forEach((function(e,t){e.id=t}))},e.sumControlTextValues=function(e){var t=e.length?e[0].controlTextValues.length:0,n=new Array(t).fill(0);return e.forEach((function(e){e.controlTextValues.forEach((function(e,t){n[t]+=e}))})),n},e.isFiasco=function(e,t,n){var r=e.players[t].zones[n];return this.isFiascoFromFiascoControlTextValues(e,t,n)||this.isPointsFiasco(e,r)||this.isTimeFiasco(e,r)},e.isFiascoFromFiascoControlTextValues=function(e,t,n){for(var r=e.players[t].zones[n],i=!1,o=0;!i&&o<e.gates[n];){for(var a=0;!i&&a<r.fiascoControlTextValues.length;)r.fiascoControlTextValues[a]>0?i=!0:a++;o++}return i},e.isPointsFiasco=function(e,t){return e.maxPoints<=t.points&&e.maxPoints>0},e.isTimeFiasco=function(e,t){return e.maxTime+e.courtesyTime<=t.time&&e.maxTime>0},e.isNonPresentedFiasco=function(e,t,n){for(var r=e.players[t].zones[n],i=!1,o=0;!i&&o<e.gates[n];)r.fiascoControlTextValues[0]>0?i=!0:o++;return i},e.getZoneTotalBonification=function(e,t){for(var n=0,r=0;r<t;r++)e[r].gatePoints<20&&e[r].controlTextValues[2]<1&&n++;return-2*n},e.isCurrentUserIsOwner=function(e){return e&&e.find((function(e){return e===window.crawlear.user.uid}))},e.getMaxGroupNumber=function(e){var t=0;return e.players.forEach((function(e){t<e.group&&(t=e.group)})),t},e}();t.zo=h,t.vf={avatar:"https://eu.ui-avatars.com/api/?background=345B63&color=FFFFFF&name=J1",battery:!1,group:0,id:0,name:"J1",points:0,time:0,uid:t.UU,zones:[{fiascoControlTextValues:[0],gateProgression:0,gateProgressionData:[{controlTextValues:[0,0,0,0,0,0],gatePoints:0}],gatesWithBonification:0,gatesWithFail:0,handicap:0,judgedBy:new Array,points:0,simpathyPoints:0,time:0,totalPoints:0}]}},6111:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAJcHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZhZkuM6DkX/uYpegjiTy+EY8XbQy+8DUp7teplZ1X9lhSVZ4gDiXlyAVuO//0z1Hz42+6CcjynkEA4+LrtsCjfp2J+yzvpw67w+7nzF74fn6vrC8MhytftnCmf7y3N9HWBfCnf+bqDUzhf18UU+ZzDpaSCzL1Yskvt+DpTPgazZL/Q5QNnLOkJO8X4Jdexrv6wk7a+Sk0uPZr/8jnive+axxgyr7cHZWLMNsPLVyhZe6HU2NNQ2ce+s5extOgfDIe/8dNxZpZ5Rud7pD8+fQLFhP1c8eHRmuF7fPtf+6fk5oFouvpvZtuvMj8/1MZ6Xc/nO2ZOac+zVFRdwaTgXdVnKuqNhxeV2dQscka/nPq4jcyQFexuQ96MdlaPprA2wTO1010VPPda16YaJzgwTuRrTAEqeJRtNNs0eCpycHHqaaLPtoGZsA17LU3O1Ra9585qu6cTEXdPSaAbTQgUlpz9xfBxoTqG81ke6+gq7jJAQMwQ5OdMKQPS88MgvB1+O54/gakHQLzcnFliOuoeoXp/cEh7ZBbSloee6Y03Hfg6Ai5jbYwwR4PQRtPU66CMaE7XGjwl8CgMlY52pQKC9Nx0rDQESACcZmZs+Ua+2xpv9GM0CCG+DjUCTbQErh7DBn+gSHCreeue9Dz765LMvwQYXfAghBhG/Em100ccQY0wxx5JscsmnkGJKKuVUsskWcfQ55JhTzrkUJi2MXOhdaFBKNdVWV30NNdZUcy0N+jTXfAsttqRabqWbbjs60UOPPfXcy9ADKg03/AgjjjTyKBOqTTvd9DPMONPMs1xR02rD+nJ8HTV9Qc0spKRhvKJG1xgvQ2iREy+YgZhxGsSjICACJpgdSTtnlEAnmB3ZEBXeYKUXcLoWxEDQDW381Ffsbsg94Kac+y3czAU5JdD9CeSUQPcBuVfc3qDWJdu0w6qFkIShOPWwhB8NRiomFUlqX76q73b4O9DfgX40UB1IhlRwfh6tzqF9k9/EDULS56zOjj6H8vyuNWZfbQhzNenVZl71TrVm23o2dM5xjhKG/Grl0rIQU+SkELuao+VpmckwhY2tdwwwQ1dkg0E6Mj+qHz066sK4h8U0bJveRgbnLM9UJUjT4SNG+lZi6rZpeYMBPdHOBD2Dm9XMnKWDIcplthrkF+vSialLVzKNZ7pQQtXFTumV7Vx+WQb22bZ5sebpS6vfdDaSoqsLuCqgHVPWII5EPiy6ZvOMemSPpAgQpjal1+3BKjD3XEmdlV4sUNZReY4ggg7dsa+Ir/Lq1azUCFS4ruPsKTU1Hhq9+oLm4f3Z0as+HIB6d5rCJL4tY9KcJSTbTUX8xH4EbE71C2g5F5w1Klhh6mx7fhSaifLCSgPZaBs17FyAdyQVU6pljWiwDbHiW5nvX4mNB8WivgwKAQNrdGvN8GySy2J2sWkszGmID6WYLNkj3iQ/r53Xt6vSizy0305nw/CGPvfkuVEntjhLC/isZ6sG3ly+6fAacHAO69JjxB7qGLVA3RbyOHbEOXzWoIPUq9VEXNVwUQ4MFAJRBT96gXQBNwYibJhKuJIuk4QSDDaRSALbXHHloKTulda2NywLnh2OWiv0sit6unpSog1pMyGK2Y3EtiIjjDaiHQMKpAtt1dd4+++0VW94a2Yyc4duwvevPXfoPlJeSd8oUatfIdVi7egWc6wRN9YVAXpTtRQ77KJLa8dUEhpLurotE46wRymLaC9XyzuAXpyi1EkLBCGe0G6sWENEiR44EZeIQO900TjEYylc1dCcooHN0xw2bSoQl30JnTYMRBP4JIqXgxB8CvF4dEcGRvhgZHaThQLHVGNR65CSsFmRXUTeWlCkbMl4M6w5KbMs8iZWLWte+aXeECz2Hr8tu+ped+9ll83x9pj+muxS1RIJLkBQWCLKs5YCfJ5FYWjPsLi3WDyKPtLcRI+ndp1UZ+3qxvadCX0U1w19iKjE7bmObVL3bc+Bo3hjeY6+IOMwTAG9FybTl86vfWHYfe9b31HGPYLqEdKBoPo8DEtMzqMYuDhRfOYpobkWHSo5WQSDl3bGbc9kB8miiaJBNS2LqVshrR87/lsQnkkmmKx/OQWjkSs8olEmPGJWNKj3TDtK17TxYlSD5RM/hkh4wAHRvSwVcmljh04niWNRGvBPQ0IIh4Oq2CzAL+dWoeWMO8OwCzhpOUBmEHk2sumQNGIVk3kJDDprmklYxQoncc4B/xcZmmHxKOhKQKbfRZX4bMcVsfYUWFQAvwqsuBFeeEpkMc2KLfU2uB5Dy+dFV8IqnXR9E1fqJbCOD6H1PiXtqAJftXm/kuJm/juJr/5AzXHNpuiy6mDWakQoCUCEDc1cImWl1jvzlcezdSuUZXckZoizLWFHVhe3vYaS+losjfqJb5dwUDsexKbXiJAK4m1E2Esc3fqpL3QU5Bo1qdEsf1CvkPIBQLMrHLJ8sLaZHSRscMV+bimkW23Pps29q3DUp9KnzMGeFSaESMKflQRiI8GUqpCXtNlHSTv5yV8aWlVZwWIPIr4znPF9BisMXAkZfaVUIeBIquZa0kg+P+JtMvVhtnPjcJiYhoSElUIBqBOx1RMOzIP822C/dJ19Vf5Cc9pVzGR/rd9m719eI2MpQNRY1szibFjLdAYUhYErZFr1PQu3ZMHguysNL38IRjKykBKZUnt3sSyucfQ8ZFQsNjOE1qU+kzRC8FDlUNlSnoDvKifCIgw0MratagR3nvVzoChy8antpeWK+4emPuW7YvRbzlhXfyeMkji3MqonafTHluE25tcRE8DUiZjvq0ZmczAKU2b0k7RRhUGPgj+XWrQjD3vWuTgSfQJ+g8IHc+Gf+OEdA1GwYD8VrlzV5cbL3FXCepedCNAWvKNSzE0pbyWoTY8hiEBR1w/WBZr4LaaqftLVT7TyCVx1Y8LvEUF9Mxo+XtVnZnyPGOozM75HDPWZGd8jhnplxM+IoG5M+D0iqHeS8BMiqHeS8JOr+olkvCOGksrNzAPr+2KGOSvbs3Dzl8q2xl30SGV7V7ix79WO7YRX6fK/D7VlmNIWeoSxyHH+4cNIa8/m99ZqeLdoQoUJSF2QjtlQaMGG1YDt/2pgohQsvkdrfzlEGTeoif6F9D3OC4f3OB/HZ/TUcxwf8jeSeAenWNkBsjUuspuJ9+n/9U8k9Uf+8vs70P97IPm3hw3f/wDALU0BK3EBgAAAASRpQ0NQSUNDIHByb2ZpbGUAAHicnZCxSsNQFIa/VFHROojiIA4ZHFwKLmZyqQqhoBBjBatTmqRYTGJIUopv4Jvow3QQBN/AF1Bw9r/RwcEsXjj8H4dz/v/eCy07CdNyfg/SrCpcvzu4HFzZi2+s0GaNXQjCMu963gmN5/MVy+hLx3g1z/15FqK4DKUzVRbmRQXWgdiZVrlhFRu3ff9I/CC2ozSLxE/inSiNDJtdP00m4Y+nuU07zi7OTV+1jUuPUzxshkwYk1DRkWbqHOOwL3UpCLinJJQmxOpNNVNxIyrl5HIo6ot0m4a8rTrPU8pQHmN5mYQ7UnmaPMz/fq99nNWb1uYsD4qgbs2pWqMRvD/C6gDWn2H5uiFr6ffbGmaceuafb/wCyRBQVR3vGxsAAA+gaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczppcHRjRXh0PSJodHRwOi8vaXB0Yy5vcmcvc3RkL0lwdGM0eG1wRXh0LzIwMDgtMDItMjkvIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6cGx1cz0iaHR0cDovL25zLnVzZXBsdXMub3JnL2xkZi94bXAvMS4wLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6NmY3N2Y0YzAtMzNmNi00MTZmLThiZTgtZWNmM2JiNWFiZmZjIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJmZTNlZDY3LWZlNDYtNGNlZS1iYjBhLWM5YzBmNDIyZjVhMyIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjZmNDdlZjM0LTA3M2MtNGI1OS1iYTQwLTBmZTNiMGQ0NjY1NCIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iTWFjIE9TIgogICBHSU1QOlRpbWVTdGFtcD0iMTYzNjczOTAzODEzMTIxNiIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjIyIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8aXB0Y0V4dDpMb2NhdGlvbkNyZWF0ZWQ+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpMb2NhdGlvbkNyZWF0ZWQ+CiAgIDxpcHRjRXh0OkxvY2F0aW9uU2hvd24+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpMb2NhdGlvblNob3duPgogICA8aXB0Y0V4dDpBcnR3b3JrT3JPYmplY3Q+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpBcnR3b3JrT3JPYmplY3Q+CiAgIDxpcHRjRXh0OlJlZ2lzdHJ5SWQ+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpSZWdpc3RyeUlkPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjQyYmQ5NS0xYjBlLTQwMTMtOTdhMS02YzQyNWJiZjhiMDQiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTWFjIE9TKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMS0xMS0xMlQxODo0Mzo1OCswMTowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgIDxwbHVzOkltYWdlU3VwcGxpZXI+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZVN1cHBsaWVyPgogICA8cGx1czpJbWFnZUNyZWF0b3I+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZUNyZWF0b3I+CiAgIDxwbHVzOkNvcHlyaWdodE93bmVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6Q29weXJpZ2h0T3duZXI+CiAgIDxwbHVzOkxpY2Vuc29yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6TGljZW5zb3I+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz6juRBoAAAAAmJLR0QAHyeFLscAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQflCwwRKzoaw0OkAAAA90lEQVRo3u2YMQ7CMAxFf3spBthgATGkPgg3QxwxrEghtuMk7fLfWuL32qQSABBCCCGEEKKyDZkiyrWldiHnnw8tcbk1Z7WXATlLSJ6KOe7qki3w4P/NCerbE6Q6JxzQkiDKFPPcZwVx732dpB9CPfDteAqCjzrEeKVWtd7eCDHXd5wBO0Ecqzt3UDsLnpXJc4huoQSP/uV9jdoThurbE4brAeDiTpii9ydM03sTJuoB4NqdcOr9PnPGYXffnzBEH08Ypo8lDNW3JwzXtyVM0fsTpul9CVP1dsJ0vZ6wi76esJseAO44VF/+gkg4iCce/BeDEEJIF19rdlvyr1vVVwAAAABJRU5ErkJggg=="},1826:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAKK3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7Zlbcuy2DkX/OYoMQSTF13D4QtWdwR1+Fkip7bbbjpOT/B13uSVLFAhib2yAspn//5+YP/jx5YzmDCnHEuPBz1nO4ion+dg/dX3b41zf6+e8bvH303XzuOG45Dn6/WeO1/j7un0Y2IfKWXhnKPfrRnu+Ua4ZXP5g6JrIq0eOk3EZKpch7/YNexmoe1lHLDm9X0Kb+zjuleT9a/TLp2X7YeTj32cieiNw0Ts3vfUH38677YDXX2t85YZd346B1mfOTz6VAfeSCMirOB3vvDIfUXmc2S+ufwDFx33dcOE5mPFxfHndhtfBNyvE72b2/THz03WXjvlxOfevyMhGZO7V1TMS0ngt6l7KOmNgI+R+PRb5JH4D52l9Cp9sYG8HnXH0o/HptlgHLGJPO2y1Yuc6dttx8XTTJY7OdYDSa9knV1z3hwEnxei04pIvfoCa8x14PVfdwxe75i1rum4zEw/LSGcxZpUKRr/+jc+XhkSU8tYe+REr/HJKQtxQ5PSbUQBi5eZRWAG+Px9/FFcPgmGFObPAerRtogV7cUt55BfQnoGB404Lm8ZlgBAxd8AZMuC0R7Q+2GiP5Fyyljhm8KkYys6frgGBDcENvHSn9xFwstO5eSbZNdYFty+jWQARfPQJaIqvYHUibPAnnRkO1eDDGUKIIYUcSqjRxzOGGGOKKn41+XSmkGJKKaeSavb5zCHHnHI2ueRaXEEtSyixpJJLKbUyacVy5enKgFqba76dLbTYUsuttNqhTz976LGnnk0vvQ43/EAnRhxp5FFGnXZCpXnOMONMM88yq0A18XJKkChJshSpD9Ss2bB++vwcNXuj5hZSOjA9UOPRlG4TVuUkKGYg5k4L4kkRUAFTzI5sz9MZhU4xO4ojK4LDy6DgDKuIgeA5rQtiH9i9IfeEmznPX8LN3cgZhe7fQM4odF8g9xm3F6gNrTb98GYhpGmoQT086ceAmavLVYvaj4/m7z7w29B/YajKhChRwBGdKE3aAP4YvWSqRJ9pAH0+XEDDziRmjii+wYsZUgkNfniI64skO0uYI2Gpd3I0+KSDvF44GmyrRRBFBJELMJt602Q6JopdGsbWQAdPG3dIBWkndseQSt6087DzrGkeJWI2RrVy9OLEyBwl9I4q+FXGTh4RmhgdMEcLQuZTQJGcGputfi31lOIFL33qg/HdtmRs7qkVCbW3Ki1KD2XaNTyf1c+eNFSERpqfsngfA5GITDJplQSXQyVfDPrk0UOZ3TI26QJIEQbiV0wtPSZiBWddaNDOfT6ar278+NikRpwm2NXOKFM0uiXLtCCroEnUNo2QeY2376A9paTGcvqCn6XOEdACDQOtXz+KnhISEQjDUnsjABIbtAFvFbDmY5ybURgAZsLHc/PgmXw6ncl4xR6FGWAvir1KFb41/4x89Ig5+CmEb0cUc7ou+EKwXbASF06AzvND16XsaI6/W2IOQs6Z1KHtLc146moASmgEDmFaMcO1ro95yCe9+dFyj350nooupNHuKdX0Pef7Ga/5zPOESpvnmb6ZiJC5xyLNx1X/g2MQkDV4OccB2SU1hL7j06H4k3iEX3t1Zcl3JNESQKN1o6j4Lxw/wagp/ApIq89RkkW7SIJN5ypUX82zUUUFo0SrvvGkeqLkmxqqZr+TNnOfUO7ExqS0pEYT/CUQCBv2pq5T1YDyKQN1IYVJQfwasVXNQOratBg4UD1CciT8ENWzJGXpFFIwAMlOBBEVcYvz13wYvmdkPvOY8OV0cxH1JxMZZsIx+yvyv9Td/LW8H7Dke5KkoeL/HsMFIUt5ApH97UsYy5hHFLab+mwxsjwSOhvKgKdqzKD5cyzfUGQ8UfKlRGjoU3R/qmz+dDRf3aBxI7C5scFZpGTbTbujZ6xUYx7TKhDIDnk9hyG9Ne44O1sY7qoYmMhoBUHKXpUfJaM16nOMzXSJCH8WVLKFXMgD6loWxE4nLSsecWuRymQPqhneb5nkdppDVRS426odhXJ0lw7za7Xj7Wiuk2HJJvyfwy+Qx9SM/VgL4tUOvGCLuejS5loYRMjQYNIbL+KAZkl/heY5IQExspqmB9S6o0MoylVENFGvMgIc8lZEZpvfFki6jR7L9KvMEMe+c22ZRJ7wvPdNUdY+NTMT8qAUNcrRLLamPHRJ5CfuL8/IybEUcOHW1C8t+fh13n4BuYQyQLqZ0Dqc7vRGMwDa9GNg34+cKqyMumFnPVhS59zujqKnwAa6o9ajhrbkNMzqjsLVrDR3i+tgDctzJmOLn8cuMrqtKDQpiBArItZ0JLCc3sysGCxR0R5macqcraKYNO+BBeONvlBY1UiX2wEi3EA0JaqumErLruVi6mwv6TbfmqZXLdMKfaAb+dAzzbIES3L8cecE9wn2P+/Rnicyv5ZnbP5QFyi94IdKa6VKAKh/LAIgLhAAEaV+oqt+NxG2fCWEZuXOeFbCuejQvD962m0P+lM2uyupOl+4aF5lh0bryg/Njrfc+JwZd2KI2UQhKzQzvskLJez7zKARyQMJYWMKs0Y3X+SGrX02LStjnou+7EOVk5RCAmDxFv1y82155hF6te6SRp7Ea1PdmLutUtEnP9R1ZMrq6wfH3mG3p7msVU6DNofdMbK58boMDHTtyqKWAwp9iDXmUfu9eVhBz3v70KRvwogh/ZQx0ip+asBtegRcAzaugDtaxrSbnsFmZkUcV7ARV5dgantV0f9+k2Oeu5xpT4LFPk6TnMqoWykhvxvbuHelrKSw07WdRK73OjT7d1fdztj68V02zJrRMpbqbd+bP02N4NoIKDi5hrtlbeJ2GNOprxfG2qi9LORLlXu8Nh6IY9ae2gBZXK1J4Y4K49o4xhXeR9eJtNp6ZRvjrZappN0Ku5oZtf+OK9cUAo3KnWtiQR5KQnG4Db8ybCQQQ8FuZEYiDU7dPL2x25SvlD+yfX7ZpVzHD+wyr+m12LVeodmgC0Nku796kavKPYi1q5x5wS12MZVNsgXmRYOlRcluIuj7HiUCwgQRtAdKuB66AQMnNwYawbs+vVWnL2pTSO/3JNemhh7RarmFBdor4dlae6GUVflEvlfcM19IssZnWoKw3wBk4AHusmNEt7MpeQCT6HuuGbX2a+qMHDThacu1Ezt2SWr6akvTfXX5Fb7NGva7h7orcqxQV8U/GiJ0vR6Zrlx8abIr6eIMk3ha+6LrJzDvif2gNW4ZrD6IvWv+Te0F8b03LoH4eI3SOPW9Rgm7aI8Qpv5Hxxp6AloKu0VVfiKqr4/mU72Lq91BdFdP/WPZNe919weyu9pwRtugPNWx13rNfpGzlqwLRjC7tqF+WUbhevD2Frc9zRY49mhxd0GDNqbr+yOnfcfFlqQG0oMtQ/siKW1zJUTd1zAiR9UJbq39wHoymrJ0prLTWKjVoLJWvxfL/+a1z29Dvw390JCydxT6xD8Ba1RYSTvhB1sAAAEkaUNDUElDQyBwcm9maWxlAAB4nJ2QsUrDUBSGv1RR0TqI4iAOGRxcCi5mcqkKoaAQYwWrU5qkWExiSFKKb+Cb6MN0EATfwBdQcPa/0cHBLF44/B+Hc/7/3gstOwnTcn4P0qwqXL87uBxc2YtvrNBmjV0IwjLvet4JjefzFcvoS8d4Nc/9eRaiuAylM1UW5kUF1oHYmVa5YRUbt33/SPwgtqM0i8RP4p0ojQybXT9NJuGPp7lNO84uzk1ftY1Lj1M8bIZMGJNQ0ZFm6hzjsC91KQi4pySUJsTqTTVTcSMq5eRyKOqLdJuGvK06z1PKUB5jeZmEO1J5mjzM/36vfZzVm9bmLA+KoG7NqVqjEbw/wuoA1p9h+boha+n32xpmnHrmn2/8AskQUFUd7xsbAAAQhGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6aXB0Y0V4dD0iaHR0cDovL2lwdGMub3JnL3N0ZC9JcHRjNHhtcEV4dC8yMDA4LTAyLTI5LyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOnBsdXM9Imh0dHA6Ly9ucy51c2VwbHVzLm9yZy9sZGYveG1wLzEuMC8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjg2MGE0ZjYxLWQ0MTItNDI3Mi04ZTFjLTA4ODUxM2U3MWRkMCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozZjU1YTI0Ni02MThiLTRlMDMtYTRhZi0zZjkyMjcyY2FjMTQiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MTdkMThlNi02MDViLTQxMDUtYmUzOC1iZDZkMjI0MGNkMDAiCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09Ik1hYyBPUyIKICAgR0lNUDpUaW1lU3RhbXA9IjE2MzY3MzkwNDMxNDIzNTUiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yMiIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPGlwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICA8aXB0Y0V4dDpMb2NhdGlvblNob3duPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgPGlwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICA8aXB0Y0V4dDpSZWdpc3RyeUlkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6UmVnaXN0cnlJZD4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OGRkY2U5NjYtOGIxMC00N2Y5LTlmNGEtYTAwNmRhYmYxN2U5IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKE1hYyBPUykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMTEtMTJUMTg6NDA6MTgrMDE6MDAiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDVjODE4OTQtNTE2Ni00M2FjLTg1NDEtZmI3NzI5ZWU4OTQ5IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKE1hYyBPUykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMTEtMTJUMTg6NDQ6MDMrMDE6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogICA8cGx1czpJbWFnZVN1cHBsaWVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VTdXBwbGllcj4KICAgPHBsdXM6SW1hZ2VDcmVhdG9yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VDcmVhdG9yPgogICA8cGx1czpDb3B5cmlnaHRPd25lcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkNvcHlyaWdodE93bmVyPgogICA8cGx1czpMaWNlbnNvcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkxpY2Vuc29yPgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8++8HhLAAAAAJiS0dEAB8nhS7HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QsMESwDCoddawAAAP5JREFUaN7tlr0VwjAMBj/DKuxAAR00vEcRmT0YDQZiGNEGEtuS/EOBro5195zYADiO4zj/zrZ2wBU7vH7TTuAZ02j95UPPzHwfqT8s9EMT1vXDEtL6IQl5ffeEsr5rgkzfLUGu75Kg0zdP0OubJtj0zRLs+iYJpyo9M/O+Rn+s1lftgkQfMaFTgkwPoE/CWazvkqDTN0/Q65smTCa9dKXgv2N5CCXXRsHqgn4Du16WUPkCqLiDUTVh8708ZIffwrMY8ABlh7D9GyDxMc7tgvkjJNVFlk6A7RyQ+ipfTxAulp17/Y2yfCakE2YPBfsPeuUcQgsiHMdxHMdxHCfNG1XedpO3lSQzAAAAAElFTkSuQmCC"},7050:function(e,t,n){"use strict";e.exports=n.p+"bf4270c63e13228a05e1.png"},8297:function(e,t,n){"use strict";e.exports=n.p+"922944daa0b065a45a51.png"},4162:function(e,t,n){"use strict";e.exports=n.p+"cd0ca1dd8f3a1fdb4e68.jpeg"},2308:function(e,t,n){"use strict";e.exports=n.p+"5a44f62010f7c0ab463f.jpeg"},7552:function(e,t,n){"use strict";e.exports=n.p+"e2006945cfbd2e0589e8.jpeg"},8432:function(e,t,n){"use strict";e.exports=n.p+"c3934397bbea4f4b413d.png"},4101:function(e,t,n){"use strict";e.exports=n.p+"4e8d84bf42ab7e35ed38.png"},3361:function(e,t,n){"use strict";e.exports=n.p+"7df5afd41f704db43dad.png"},8666:function(e,t,n){"use strict";e.exports=n.p+"88eb99d0c3739d8fccb7.png"},2329:function(e,t,n){"use strict";e.exports=n.p+"2f52623ecac9ca1603ff.png"},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878),i=n(181),o=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.exports}a.m=i,a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},a.d(i,o),i},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))},a.u=function(e){return e+".js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},r="crawlear.com:",a.l=function(e,t,i,o){if(n[e])n[e].push(t);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+i),s.src=e),n[e]=[t];var h=function(t,r){s.onerror=s.onload=null,clearTimeout(f);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e}(),function(){a.b=document.baseURI||self.location.href;var e={179:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(function(n){if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,o=n[0],s=n[1],c=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);c&&c(a)}for(t&&t(n);l<o.length;l++)i=o[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkcrawlear_com=self.webpackChunkcrawlear_com||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),a.nc=void 0,function(){"use strict";var e={};a.r(e),a.d(e,{FirebaseError:function(){return xn},SDK_VERSION:function(){return Vr},_DEFAULT_ENTRY_NAME:function(){return kr},_addComponent:function(){return Nr},_addOrOverwriteComponent:function(){return Or},_apps:function(){return Tr},_clearComponents:function(){return Mr},_components:function(){return Pr},_getProvider:function(){return Dr},_registerComponent:function(){return Rr},_removeServiceInstance:function(){return Lr},deleteApp:function(){return Gr},getApp:function(){return zr},getApps:function(){return Br},initializeApp:function(){return Ur},onLog:function(){return Zr},registerVersion:function(){return qr},setLogLevel:function(){return Wr}});var t,n=a(7294),r=a.t(n,2),i=a(745);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function c(e,t){if(!1===e||null==e)throw new Error(t)}function l(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var p;function g(e,t,n){void 0===n&&(n="/");let r=T(("string"==typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let i=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e)o=A(i[e],S(r));return o}function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=R([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),m(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:x(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of v(e.path))i(e,t,n);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=v(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const y=/^:\w+$/,b=3,w=2,C=1,I=10,E=-2,_=e=>"*"===e;function x(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=E),t&&(r+=w),n.filter((e=>!_(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?C:I)),r)}function A(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=k({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);let u=a.route;o.push({params:r,pathname:R([i,l.pathname]),pathnameBase:D(R([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=R([i,l.pathnameBase]))}return o}function k(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),c=r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{});return{params:c,pathname:o,pathnameBase:a,pattern:e}}function S(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=f(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let a,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(r||null==l)a=n;else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:L(r),hash:M(i)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const j=["post","put","patch","delete"],F=(new Set(j),["get",...j]);function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}new Set(F),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const U=n.createContext(null),z=n.createContext(null),B=n.createContext(null),G=n.createContext(null),q=n.createContext({outlet:null,matches:[],isDataRoute:!1}),Z=n.createContext(null);function W(){return null!=n.useContext(G)}function H(){return W()||c(!1),n.useContext(G).location}function K(e){n.useContext(B).static||n.useLayoutEffect(e)}function $(){let{isDataRoute:e}=n.useContext(q);return e?function(){let{router:e}=function(e){let t=n.useContext(U);return t||c(!1),t}(te.UseNavigateStable),t=re(ne.UseNavigateStable),r=n.useRef(!1);K((()=>{r.current=!0}));let i=n.useCallback((function(n,i){void 0===i&&(i={}),r.current&&("number"==typeof n?e.navigate(n):e.navigate(n,V({fromRouteId:t},i)))}),[e,t]);return i}():function(){W()||c(!1);let e=n.useContext(U),{basename:t,navigator:r}=n.useContext(B),{matches:i}=n.useContext(q),{pathname:o}=H(),a=JSON.stringify(N(i).map((e=>e.pathnameBase))),s=n.useRef(!1);K((()=>{s.current=!0}));let l=n.useCallback((function(n,i){if(void 0===i&&(i={}),!s.current)return;if("number"==typeof n)return void r.go(n);let c=O(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:R([t,c.pathname])),(i.replace?r.replace:r.push)(c,i.state,i)}),[t,r,a,o,e]);return l}()}function Q(e,r,i){W()||c(!1);let{navigator:o}=n.useContext(B),{matches:a}=n.useContext(q),s=a[a.length-1],l=s?s.params:{},u=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let d,h=H();if(r){var p;let e="string"==typeof r?f(r):r;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||c(!1),d=e}else d=h;let m=d.pathname||"/",v=g(e,{pathname:"/"===u?m:m.slice(u.length)||"/"}),y=function(e,t,r){var i;if(void 0===t&&(t=[]),void 0===r&&(r=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}let a=e,s=null==(i=r)?void 0:i.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,i,o)=>{let c=i.route.id?null==s?void 0:s[i.route.id]:null,l=null;r&&(l=i.route.errorElement||J);let u=t.concat(a.slice(0,o+1)),d=()=>{let t;return t=c?l:i.route.Component?n.createElement(i.route.Component,null):i.route.element?i.route.element:e,n.createElement(ee,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=r},children:t})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?n.createElement(X,{location:r.location,revalidation:r.revalidation,component:l,error:c,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:R([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i);return r&&y?n.createElement(G.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},y):y}function Y(){let e=function(){var e;let t=n.useContext(Z),r=function(e){let t=n.useContext(z);return t||c(!1),t}(ne.UseRouteError),i=re(ne.UseRouteError);return t||(null==(e=r.errors)?void 0:e[i])}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),r?n.createElement("pre",{style:i},r):null,null)}const J=n.createElement(Y,null);class X extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?n.createElement(q.Provider,{value:this.props.routeContext},n.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ee(e){let{routeContext:t,match:r,children:i}=e,o=n.useContext(U);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(q.Provider,{value:t},i)}var te=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(te||{}),ne=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ne||{});function re(e){let t=function(e){let t=n.useContext(q);return t||c(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||c(!1),r.route.id}function ie(e){let{to:t,replace:r,state:i,relative:o}=e;W()||c(!1);let{matches:a}=n.useContext(q),{pathname:s}=H(),l=$(),u=O(t,N(a).map((e=>e.pathnameBase)),s,"path"===o),d=JSON.stringify(u);return n.useEffect((()=>l(JSON.parse(d),{replace:r,state:i,relative:o})),[l,d,o,r,i]),null}function oe(e){c(!1)}function ae(e){let{basename:r="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:l=!1}=e;W()&&c(!1);let u=r.replace(/^\/*/,"/"),d=n.useMemo((()=>({basename:u,navigator:s,static:l})),[u,s,l]);"string"==typeof o&&(o=f(o));let{pathname:h="/",search:p="",hash:g="",state:m=null,key:v="default"}=o,y=n.useMemo((()=>{let e=T(h,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:m,key:v},navigationType:a}}),[u,h,p,g,m,v,a]);return null==y?null:n.createElement(B.Provider,{value:d},n.createElement(G.Provider,{children:i,value:y}))}function se(e){let{children:t,location:n}=e;return Q(ce(t),n)}function ce(e,t){void 0===t&&(t=[]);let r=[];return n.Children.forEach(e,((e,i)=>{if(!n.isValidElement(e))return;let o=[...t,i];if(e.type===n.Fragment)return void r.push.apply(r,ce(e.props.children,o));e.type!==oe&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ce(e.props.children,o)),r.push(a)})),r}r.startTransition,new Promise((()=>{})),n.Component;var le=a(7721);function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function de(){de=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new P(r||[]);return i(a,"_invoke",{value:A(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var C=Object.getPrototypeOf,I=C&&C(C(N([])));I&&I!==n&&r.call(I,a)&&(w=I);var E=b.prototype=v.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ue(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function A(t,n,r){var i=h;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?g:f,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ue(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},_(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function he(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var fe=function(e){var t=e.filePath;n.useEffect((function(){le.Z.pageview("/txtRoute/")}),[]);var r=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){he(o,r,i,a,s,"next",e)}function s(e){he(o,r,i,a,s,"throw",e)}a(void 0)}))}}(de().mark((function e(t){return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new FileReader).readAsText(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r(t)},pe=a(4478),ge=a.p+"cc09ab0763994fa2fdd3.png",me=a(3379),ve=a.n(me),ye=a(7795),be=a.n(ye),we=a(569),Ce=a.n(we),Ie=a(3565),Ee=a.n(Ie),_e=a(9216),xe=a.n(_e),Ae=a(4589),ke=a.n(Ae),Se=a(1735),Te={};function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Te.styleTagTransform=ke(),Te.setAttributes=Ee(),Te.insert=Ce().bind(null,"head"),Te.domAPI=be(),Te.insertStyleElement=xe(),ve()(Se.Z,Te),Se.Z&&Se.Z.locals&&Se.Z.locals;var Oe="lightMode",Re=function(){var e=Pe(n.useState(!1),2),t=e[0],r=e[1],i=(0,pe.$)().t,o=Pe(n.useState(!1),2),a=o[0],s=o[1],c=$();function l(){r(!t)}function u(e){le.Z.event("navigation","menu",e),c(e)}return t?n.createElement("header",{className:"App-header"},n.createElement("div",{className:"rounded menuContainer open",onClick:l},n.createElement("div",{className:"burguerMenuBar"}),n.createElement("div",{className:"burguerMenuBar"}),n.createElement("div",{className:"burguerMenuBar"}),n.createElement("div",{className:"linksContainer"},n.createElement("ul",null,n.createElement("li",null,n.createElement("div",{onClick:function(){u("/completegame")}},i("description.herramientajuego"))),n.createElement("li",null,n.createElement("div",{onClick:function(){u("/social")}},i("description.perfilsocial"))),n.createElement("li",null,n.createElement("div",{onClick:function(){u("/follows")}},i("description.murodefollows"))),n.createElement("li",null,"-"),n.createElement("li",null,n.createElement("div",{href:"https://www.aecar.org/modalidades.php?tipo=crawler"},"AECAR")),n.createElement("li",null,n.createElement("div",{href:"https://www.clubzonarc.es/"},"Club ZonaRc")),n.createElement("li",null,n.createElement("div",{href:"https://isrcc.eu/"},"ISRCC")),n.createElement("li",null,"-"),n.createElement("li",null,n.createElement("div",{onClick:function(){u("/privacypolicy")}},i("description.politicaprivacidad"))),n.createElement("li",null,n.createElement("div",{onClick:function(){u("/aboutus")}},i("description.aboutus")))),n.createElement("div",{className:"lightModeSwitch",onClick:function(e){e.preventDefault(),e.stopPropagation(),a?(s(!1),document.body.classList.remove(Oe)):(s(!0),document.body.classList.add(Oe))}},"Modo claro / oscuro")))):n.createElement("header",{className:"App-header"},n.createElement("div",{className:"rounded menuContainer closed",onClick:l},n.createElement("div",{className:"burguerMenuBar"}),n.createElement("div",{className:"burguerMenuBar"}),n.createElement("div",{className:"burguerMenuBar"})),n.createElement("a",{href:"/"},n.createElement("img",{src:ge,alt:"web logo"})))},De=(a(6124),a(1002)),Le=a(5671),Me=a(3144);function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e,t){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fe(e,t)}function Ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fe(e,t)}function Ue(e,t){if(t&&("object"===(0,De.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return je(e)}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ze(e)}var Be=a(4942),Ge=a(3878);function qe(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var Ze=a(181),We=a(5267);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){(0,Be.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Qe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Le.Z)(this,e),this.init(t,n)}return(0,Me.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||$e,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Ke(Ke({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),Ye=new Qe,Je=function(){function e(){(0,Le.Z)(this,e),this.observers={}}return(0,Me.Z)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function Xe(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function et(e){return null==e?"":""+e}function tt(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function nt(e,t,n){var r=tt(e,t,Object);r.obj[r.k]=n}function rt(e,t){var n=tt(e,t),r=n.obj,i=n.k;if(r)return r[i]}function it(e,t,n){var r=rt(e,n);return void 0!==r?r:rt(t,n)}function ot(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):ot(e[r],t[r],n):e[r]=t[r]);return e}function at(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ct(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return st[e]})):e}var lt="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,ut=[" ",",","?","!",";"];function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){(0,Be.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),c=i[s];void 0===c&&r.length>o+a;)a++,c=i[s=r.slice(o,o+a).join(n)];if(void 0===c)return;if(null===c)return null;if(t.endsWith(s)){if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s]}var l=r.slice(o+a).join(n);return l?ft(c,l,n):void 0}i=i[r[o]]}return i}}var pt=function(e){Ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ze(t);if(n){var i=ze(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Ue(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,Le.Z)(this,i),t=r.call(this),lt&&Je.call(je(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return(0,Me.Z)(i,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=rt(this.data,a);return s||!o||"string"!=typeof n?s:ft(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),nt(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=rt(this.data,a)||{};r?ot(s,n,i):s=ht(ht({},s),n),nt(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?ht(ht({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(Je),gt={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,Be.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt={},bt=function(e){Ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ze(t);if(n){var i=ze(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Ue(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Le.Z)(this,i),t=r.call(this),lt&&Je.call(je(t)),function(e,t,n){["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((function(e){t[e]&&(n[e]=t[e])}))}(0,e,je(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=Ye.create("translator"),t}return(0,Me.Z)(i,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=ut.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,n,r));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==(0,De.Z)(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),c=s.key,l=s.namespaces,u=l[l.length-1],d=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(h){var f=t.nsSeparator||this.options.nsSeparator;return o?(p.res="".concat(u).concat(f).concat(c),p):"".concat(u).concat(f).concat(c)}return o?(p.res=c,p):c}var p=this.resolve(e,t),g=p&&p.res,m=p&&p.usedKey||c,v=p&&p.exactUsedKey||c,y=Object.prototype.toString.apply(g),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&g&&"string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!=typeof b||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,g,vt(vt({},t),{},{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return o?(p.res=C,p):C}if(a){var I="[object Array]"===y,E=I?[]:{},_=I?v:m;for(var x in g)if(Object.prototype.hasOwnProperty.call(g,x)){var A="".concat(_).concat(a).concat(x);E[x]=this.translate(A,vt(vt({},t),{joinArrays:!1,ns:l})),E[x]===A&&(E[x]=g[x])}g=E}}else if(w&&"string"==typeof b&&"[object Array]"===y)(g=g.join(b))&&(g=this.extendTranslation(g,e,t,n));else{var k=!1,S=!1,T=void 0!==t.count&&"string"!=typeof t.count,P=i.hasDefaultValue(t),N=T?this.pluralResolver.getSuffix(d,t.count,t):"",O=t["defaultValue".concat(N)]||t.defaultValue;!this.isValidLookup(g)&&P&&(k=!0,g=O),this.isValidLookup(g)||(S=!0,g=c);var R=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:g,D=P&&O!==g&&this.options.updateMissing;if(S||k||D){if(this.logger.log(D?"updateKey":"missingKey",d,u,c,D?O:g),a){var L=this.resolve(c,vt(vt({},t),{},{keySeparator:!1}));L&&L.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var M=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var F=0;F<j.length;F++)M.push(j[F]);else"all"===this.options.saveMissingTo?M=this.languageUtils.toResolveHierarchy(t.lng||this.language):M.push(t.lng||this.language);var V=function(e,n,i){var o=P&&i!==g?i:R;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,n,o,D,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,n,o,D,t),r.emit("missingKey",e,u,n,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?M.forEach((function(e){r.pluralResolver.getSuffixes(e,t).forEach((function(n){V([e],c+n,t["defaultValue".concat(n)]||O)}))})):V(M,c,O))}g=this.extendTranslation(g,e,t,p,n),S&&g===c&&this.options.appendNamespaceToMissingKey&&(g="".concat(u,":").concat(c)),(S||k)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(u,":").concat(c):c,k?g:void 0):this.options.parseMissingKeyHandler(g))}return o?(p.res=g,p):g}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,vt(vt({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(vt(vt({},n),{interpolation:vt(vt({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);a=c&&c.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=vt(vt({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=gt.handle(h,e,t,this.options&&this.options.postProcessPassResolved?vt({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),l=c.key;n=l;var u=c.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,h=d&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),f=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(e){a.isValidLookup(t)||(o=e,!yt["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(yt["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,c=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(c,l,n,e,s);else{var u;d&&(u=a.pluralResolver.getSuffix(n,s.count,s));var p="".concat(a.options.pluralSeparator,"zero");if(d&&(c.push(l+u),h&&c.push(l+p)),f){var g="".concat(l).concat(a.options.contextSeparator).concat(s.context);c.push(g),d&&(c.push(g+u),h&&c.push(g+p))}}for(;o=c.pop();)a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}]),i}(Je);function wt(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Ct=function(){function e(t){(0,Le.Z)(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ye.create("languageUtils")}return(0,Me.Z)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=wt(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=wt(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=wt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),It=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Et={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},_t=["v1","v2","v3"],xt={zero:0,one:1,two:2,few:3,many:4,other:5},At=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Le.Z)(this,e),this.languageUtils=t,this.options=r,this.logger=Ye.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},It.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:Et[e.fc]}}))})),n)}return(0,Me.Z)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return xt[e]-xt[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!_t.includes(this.options.compatibilityJSON)}}]),e}();function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){(0,Be.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Le.Z)(this,e),this.logger=Ye.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,Me.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:ct,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?at(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?at(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?at(t.nestingPrefix):t.nestingPrefixEscaped||at("$t("),this.nestingSuffix=t.nestingSuffix?at(t.nestingSuffix):t.nestingSuffixEscaped||at(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var i=it(t,c,e);return s.alwaysFormat?s.format(i,void 0,n,St(St(St({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(it(t,c,a),l,n,St(St(St({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(o=u(n)))if("function"==typeof d){var c=d(e,i,r);o="string"==typeof c?c:""}else if(r&&r.hasOwnProperty(n))o="";else{if(h){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=et(o));var l=t.safeValue(o);if(e=e.replace(i[0],l),h?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=St({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0];var o=(i=this.interpolate(i,a)).match(/'/g),s=i.match(/"/g);(o&&o.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{a=JSON.parse(i),t&&(a=St(St({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),c=u,l=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=et(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=c.reduce((function(e,t){return i.format(e,t,o.lng,St(St({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){(0,Be.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e){var t={};return function(n,r,i){var o=r+JSON.stringify(i),a=t[o];return a||(a=e(r,i),t[o]=a),a(n)}}var Rt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,Le.Z)(this,e),this.logger=Ye.create("formatter"),this.options=t,this.formats={number:Ot((function(e,t){var n=new Intl.NumberFormat(e,t);return function(e){return n.format(e)}})),currency:Ot((function(e,t){var n=new Intl.NumberFormat(e,Nt(Nt({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:Ot((function(e,t){var n=new Intl.DateTimeFormat(e,Nt({},t));return function(e){return n.format(e)}})),relativetime:Ot((function(e,t){var n=new Intl.RelativeTimeFormat(e,Nt({},t));return function(e){return n.format(e,t.range||"day")}})),list:Ot((function(e,t){var n=new Intl.ListFormat(e,Nt({},t));return function(e){return n.format(e)}}))},this.init(t)}return(0,Me.Z)(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=Ot(t)}},{key:"format",value:function(e,t,n,r){var i=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=function(e){return(0,Ge.Z)(e)||qe(e)||(0,Ze.Z)(e)||(0,We.Z)()}(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}}(t),a=o.formatName,s=o.formatOptions;if(i.formats[a]){var c=e;try{var l=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=l.locale||l.lng||r.locale||r.lng||n;c=i.formats[a](e,u,Nt(Nt(Nt({},s),r),l))}catch(e){i.logger.warn(e)}return c}return i.logger.warn("there was no format function for ".concat(a)),e}),e);return o}}]),e}();function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,Be.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt=function(e){Ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ze(t);if(n){var i=ze(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Ue(this,e)});function i(e,t,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,Le.Z)(this,i),o=r.call(this),lt&&Je.call(je(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=a,o.logger=Ye.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,a.backend,a),o}return(0,Me.Z)(i,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o={},a={},s={},c={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===a[s]&&(a[s]=!0):(i.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===c[t]&&(c[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var i=tt(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],o[a].push(n)}(n.loaded,[i],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;return e.length?this.readingCalls>=this.maxParallelReads?void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:a}):(this.readingCalls++,this.backend[n](e,t,(function(s,c){if(r.readingCalls--,r.waitingReads.length>0){var l=r.waitingReads.shift();r.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}s&&c&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,c)}))):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,Lt(Lt({},o),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),i}(Je);function jt(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){(0,Be.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(){}var zt=function(e){Ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ze(t);if(n){var i=ze(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Ue(this,e)});function i(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if((0,Le.Z)(this,i),e=r.call(this),lt&&Je.call(je(e)),e.options=jt(n),e.services={},e.logger=Ye,e.modules={external:[]},t=je(e),Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((function(e){"function"==typeof t[e]&&(t[e]=t[e].bind(t))})),o&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,o),Ue(e,je(e));setTimeout((function(){e.init(n,o)}),0)}return e}return(0,Me.Z)(i,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r={debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,De.Z)(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===(0,De.Z)(e[2])||"object"===(0,De.Z)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}};function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=Vt(Vt(Vt({},r),this.options),jt(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Vt(Vt({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?Ye.init(i(this.modules.logger),this.options):Ye.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=Rt);var a=new Ct(this.options);this.store=new pt(this.options.resources,this.options);var s=this.services;s.logger=Ye,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new At(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Tt(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Mt(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new bt(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=Ut),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var l=Xe(),u=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)})),this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=Xe();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Ut),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&gt.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=Xe();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==(0,De.Z)(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];o=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=Vt({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||n||e.keyPrefix;var l=r.options.keySeparator||".",u=o.keyPrefix?"".concat(o.keyPrefix).concat(l).concat(t):t;return r.t(u,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!(!this.hasResourceBundle(r,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=Xe();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=Xe();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut,r=Vt(Vt(Vt({},this.options),t),{isClone:!0}),o=new i(r);return void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t)),["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=Vt({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new bt(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(Je);(0,Be.Z)(zt,"createInstance",(function(){return new zt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var Bt=zt.createInstance();Bt.createInstance=zt.createInstance,Bt.createInstance,Bt.init,Bt.loadResources,Bt.reloadResources,Bt.use,Bt.changeLanguage,Bt.getFixedT;var Gt=Bt.t,qt=(Bt.exists,Bt.setDefaultNamespace,Bt.hasLoadedNamespace,Bt.loadNamespaces,Bt.loadLanguages,Bt);function Zt(e){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zt(e)}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){return function(e){if(Array.isArray(e))return Kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qt(r.key),r)}}function Qt(e){var t=function(e,t){if("object"!==Zt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zt(t)?t:String(t)}var Yt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"isMobile",value:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"isIphone",value:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return/Firefox/i.test(navigator.userAgent)}},{key:"sanitizeUrl",value:function(e){var t=e.indexOf("?");return t>=0&&(e=e.slice(0,t)),"/"!==e[e.length-1]&&(e+="/"),e}},{key:"isYoutubeUrl",value:function(e){var t=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11==t[2].length}},{key:"isInstagramUrl",value:function(e){var t=this.sanitizeUrl(e).match(/(?:(?:http|https):\/\/)?(?:www.)?(?:instagram.com|instagr.am|instagr.com)(?:\/(?:.?)*)*\/(?:reel|p|tv)\/(.*)*(?:\/)*/);return t&&t[1]}},{key:"getTiktokVideoId",value:function(e){var t=this.sanitizeUrl(e).match(/(?:(?:http|https):\/\/)?(?:www.)?tiktok.com\/@(.*)\/video\/(.*)*/);return t&&t[1]&&t[2]?t[2]:null}},{key:"isTiktokUrl",value:function(e){var t=this.sanitizeUrl(e).match(/(?:(?:http|https):\/\/)?(?:www.)?tiktok.com\/@(.*)\/video\/(.*)*/);return t&&t[1]&&t[2]}},{key:"isFacebookUrl",value:function(e){var t=this.sanitizeUrl(e).match(/(?:https?:\/\/)?(?:www\.)?(mbasic.facebook|m\.facebook|facebook|fb)\.(com|me)\/(?:(?:\w\.)*#!\/)?(?:pages\/)?(?:[\w\-\.]*\/)*([\w\-\.]*)/);return t&&t[1]&&t[2]}},{key:"tokenToTexts",value:function(e){return e.map((function(e){return Gt(e)}))}},{key:"getUidsFromUsers",value:function(e){var t=[];return e.forEach((function(e){e.uid&&t.push(e.uid)})),t}},{key:"millisToTime",value:function(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),r=Math.floor(n/60);return{h:r%=24,m:n%=60,s:t%=60,mm:e%1e3}}},{key:"timeToMillis",value:function(e,t,n){var r=new Date,i=new Date;return i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),r.setMinutes(e),r.setSeconds(t),r.setMilliseconds(n),r.getTime()-i.getTime()}},{key:"printTime",value:function(e){return"".concat(String(e.m).padStart(2,"0"),":").concat(String(e.s).padStart(2,"0"),":").concat(String(e.mm).padStart(3,"0"))}},{key:"randomizeArray",value:function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e}},{key:"getWinnerByPoints",value:function(e){var t=Ht(e);return t.sort((function(e,t){var n=e.points-t.points;return 0===n?e.id-t.id:n})),t}},{key:"getWinnerByPointsAndTime",value:function(e){var t=Ht(e);return t.sort((function(e,t){var n=e.points-t.points;return 0===n?e.time-t.time:n})),t}},{key:"getOrderedGameResult",value:function(e){return(e=this.calulateFinalGameResult(e)).players=e.players.sort((function(e,t){var n=e.totalPoints-t.totalPoints;if(0===n){var r=e.totalTime-t.totalTime;return 0===r?t.totalGateProgression-e.totalGateProgression:r}return n})),e}},{key:"calulateFinalGameResult",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=Qt(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return t.players.forEach((function(e){var t=0,n=0,r=0;e.zones.forEach((function(e){t+=e.totalPoints,n+=e.time,r+=e.gateProgression})),e.totalPoints=t,e.totalTime=n,e.totalGateProgression=r})),t}},{key:"getMapsURL",value:function(e,t){return"https://www.google.com/maps/search/?api=1&query=".concat(e,"%2C").concat(t)}},{key:"getGroupFromJid",value:function(e,t){var n=e.judges.find((function(e){return e.uid===t}));return n?n.group:0}}],null&&$t(t.prototype,null),n&&$t(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Yt.PLAYER_STATE_STOP="stop",Yt.PLAYER_STATE_START="start",Yt.PLAYER_STATE_PAUSE="pause";var Jt=Yt,Xt=a(653);const en=function(e,t){if(!e)throw tn(t)},tn=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},nn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},rn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(3&i)<<4|a>>4;let d=(15&a)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw new on;const c=i<<2|o>>4;if(r.push(c),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class on extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const an=function(e){const t=nn(e);return rn.encodeByteArray(t,!0)},sn=function(e){return an(e).replace(/\./g,"")},cn=function(e){try{return rn.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ln(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ln(e[n],t[n]));return e}function un(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==a.g)return a.g;throw new Error("Unable to locate global object.")}const dn=()=>{try{return un().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&cn(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},hn=e=>{var t,n;return null===(n=null===(t=dn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},fn=e=>{const t=hn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},pn=()=>{var e;return null===(e=dn())||void 0===e?void 0:e.config},gn=e=>{var t;return null===(t=dn())||void 0===t?void 0:t[`_${e}`]};class mn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function vn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[sn(JSON.stringify({alg:"none",type:"JWT"})),sn(JSON.stringify(o)),""].join(".")}function yn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bn(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function wn(){var e;const t=null===(e=dn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(a.g.process)}catch(e){return!1}}function Cn(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function In(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function En(){const e=yn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _n(){try{return"object"==typeof indexedDB}catch(e){return!1}}class xn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}}class An{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(kn,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new xn(r,a,n)}}const kn=/\{\$([^}]+)}/g;function Sn(e){return JSON.parse(e)}function Tn(e){return JSON.stringify(e)}const Pn=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Sn(cn(o[0])||""),n=Sn(cn(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function Nn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function On(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Rn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Dn(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ln(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Mn(n)&&Mn(o)){if(!Ln(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Mn(e){return null!==e&&"object"==typeof e}function jn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Fn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Vn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Un{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^a&(s^c),i=1518500249):(r=a^s^c,i=1859775393):e<60?(r=a&s|c&(a|s),i=2400959708):(r=a^s^c,i=3395469782);const t=(o<<5|o>>>27)+r+l+i+n[e]&4294967295;l=c,c=s,s=4294967295&(a<<30|a>>>2),a=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function zn(e,t){const n=new Bn(e,t);return n.subscribe.bind(n)}class Bn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Gn),void 0===r.error&&(r.error=Gn),void 0===r.complete&&(r.complete=Gn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Gn(){}function qn(e,t){return`${e} failed: ${t} argument `}const Zn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Wn=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},Hn=144e5;function Kn(e){return e&&e._delegate?e._delegate:e}class $n{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qn="[DEFAULT]";class Yn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new mn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=Qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Qn){return this.instances.has(e)}getOptions(e=Qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Qn?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=Qn){return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Jn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Yn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Xn=[];var er;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(er||(er={}));const tr={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},nr=er.INFO,rr={[er.DEBUG]:"log",[er.VERBOSE]:"log",[er.INFO]:"info",[er.WARN]:"warn",[er.ERROR]:"error"},ir=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=rr[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class or{constructor(e){this.name=e,this._logLevel=nr,this._logHandler=ir,this._userLogHandler=null,Xn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in er))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,er.DEBUG,...e),this._logHandler(this,er.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,er.VERBOSE,...e),this._logHandler(this,er.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,er.INFO,...e),this._logHandler(this,er.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,er.WARN,...e),this._logHandler(this,er.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,er.ERROR,...e),this._logHandler(this,er.ERROR,...e)}}const ar=(e,t)=>t.some((t=>e instanceof t));let sr,cr;const lr=new WeakMap,ur=new WeakMap,dr=new WeakMap,hr=new WeakMap,fr=new WeakMap;let pr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ur.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function gr(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(cr||(cr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(vr(this),e),mr(lr.get(this))}:function(...e){return mr(t.apply(vr(this),e))}:function(e,...n){const r=t.call(vr(this),e,...n);return dr.set(r,e.sort?e.sort():[e]),mr(r)}:(e instanceof IDBTransaction&&function(e){if(ur.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));ur.set(e,t)}(e),ar(e,sr||(sr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,pr):e);var t}function mr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(mr(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&lr.set(t,e)})).catch((()=>{})),fr.set(t,e),t}(e);if(hr.has(e))return hr.get(e);const t=gr(e);return t!==e&&(hr.set(e,t),fr.set(t,e)),t}const vr=e=>fr.get(e),yr=["get","getKey","getAll","getAllKeys","count"],br=["put","add","delete","clear"],wr=new Map;function Cr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(wr.get(t))return wr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=br.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yr.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return wr.set(t,o),o}var Ir;Ir=pr,pr={...Ir,get:(e,t,n)=>Cr(e,t)||Ir.get(e,t,n),has:(e,t)=>!!Cr(e,t)||Ir.has(e,t)};class Er{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const _r="@firebase/app",xr="0.9.13",Ar=new or("@firebase/app"),kr="[DEFAULT]",Sr={[_r]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tr=new Map,Pr=new Map;function Nr(e,t){try{e.container.addComponent(t)}catch(n){Ar.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Or(e,t){e.container.addOrOverwriteComponent(t)}function Rr(e){const t=e.name;if(Pr.has(t))return Ar.debug(`There were multiple attempts to register component ${t}.`),!1;Pr.set(t,e);for(const t of Tr.values())Nr(t,e);return!0}function Dr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Lr(e,t,n=kr){Dr(e,t).clearInstance(n)}function Mr(){Pr.clear()}const jr=new An("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $n("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const Vr="9.23.0";function Ur(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:kr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=pn()),!n)throw jr.create("no-options");const o=Tr.get(i);if(o){if(Ln(n,o.options)&&Ln(r,o.config))return o;throw jr.create("duplicate-app",{appName:i})}const a=new Jn(i);for(const e of Pr.values())a.addComponent(e);const s=new Fr(n,r,a);return Tr.set(i,s),s}function zr(e=kr){const t=Tr.get(e);if(!t&&e===kr&&pn())return Ur();if(!t)throw jr.create("no-app",{appName:e});return t}function Br(){return Array.from(Tr.values())}async function Gr(e){const t=e.name;Tr.has(t)&&(Tr.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function qr(e,t,n){var r;let i=null!==(r=Sr[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ar.warn(e.join(" "))}Rr(new $n(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Zr(e,t){if(null!==e&&"function"!=typeof e)throw jr.create("invalid-log-argument");!function(e,t){for(const n of Xn){let r=null;t&&t.level&&(r=tr[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const o=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:er[n].toLowerCase(),message:o,args:i,type:t.name})}}}(e,t)}function Wr(e){var t;t=e,Xn.forEach((e=>{e.setLogLevel(t)}))}const Hr="firebase-heartbeat-database",Kr=1,$r="firebase-heartbeat-store";let Qr=null;function Yr(){return Qr||(Qr=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=mr(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(mr(a.result),e.oldVersion,e.newVersion,mr(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(Hr,Kr,{upgrade:(e,t)=>{0===t&&e.createObjectStore($r)}}).catch((e=>{throw jr.create("idb-open",{originalErrorMessage:e.message})}))),Qr}async function Jr(e,t){try{const n=(await Yr()).transaction($r,"readwrite"),r=n.objectStore($r);await r.put(t,Xr(e)),await n.done}catch(e){if(e instanceof xn)Ar.warn(e.message);else{const t=jr.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Ar.warn(t.message)}}}function Xr(e){return`${e.name}!${e.options.appId}`}class ei{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ni(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ti();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ti(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ri(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ri(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=sn(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ti(){return(new Date).toISOString().substring(0,10)}class ni{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!_n()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Yr();return await t.transaction($r).objectStore($r).get(Xr(e))}catch(e){if(e instanceof xn)Ar.warn(e.message);else{const t=jr.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Ar.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Jr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ri(e){return sn(JSON.stringify({version:2,heartbeats:e})).length}Rr(new $n("platform-logger",(e=>new Er(e)),"PRIVATE")),Rr(new $n("heartbeat",(e=>new ei(e)),"PRIVATE")),qr(_r,xr,""),qr(_r,xr,"esm2017"),qr("fire-js","");const ii=new Map,oi={activated:!1,tokenObservers:[]},ai={initialized:!1,enabled:!1};function si(e){return ii.get(e)||Object.assign({},oi)}function ci(){return ai}const li="https://content-firebaseappcheck.googleapis.com/v1",ui="exchangeDebugToken",di={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class hi{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((()=>{}))}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new mn,await function(e){return new Promise((t=>{setTimeout(t,e)}))}(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new mn,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch((()=>{}))}catch(e){this.retryPolicy(e)?this.process(!1).catch((()=>{})):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const fi=new An("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pi(e=!1){var t;return e?null===(t=self.grecaptcha)||void 0===t?void 0:t.enterprise:self.grecaptcha}function gi(e){if(!si(e).activated)throw fi.create("use-before-activation",{appName:e.name})}function mi(e){const t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),o=t-3600*n*24-3600*r-60*i;let a="";return n&&(a+=vi(n)+"d:"),r&&(a+=vi(r)+"h:"),a+=vi(i)+"m:"+vi(o)+"s",a}function vi(e){return 0===e?"00":e>=10?e.toString():"0"+e}async function yi({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&(r["X-Firebase-Client"]=e)}const o={method:"POST",body:JSON.stringify(t),headers:r};let a,s;try{a=await fetch(e,o)}catch(e){throw fi.create("fetch-network-error",{originalErrorMessage:null==e?void 0:e.message})}if(200!==a.status)throw fi.create("fetch-status-error",{httpStatus:a.status});try{s=await a.json()}catch(e){throw fi.create("fetch-parse-error",{originalErrorMessage:null==e?void 0:e.message})}const c=s.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw fi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:s.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}}function bi(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${li}/projects/${n}/apps/${r}:${ui}?key=${i}`,body:{debug_token:t}}}const wi="firebase-app-check-database",Ci=1,Ii="firebase-app-check-store",Ei="debug-token";let _i=null;function xi(){return _i||(_i=new Promise(((e,t)=>{try{const n=indexedDB.open(wi,Ci);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(fi.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(Ii,{keyPath:"compositeKey"})}}catch(e){t(fi.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}})),_i)}async function Ai(e,t){const n=(await xi()).transaction(Ii,"readwrite"),r=n.objectStore(Ii).put({compositeKey:e,value:t});return new Promise(((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(fi.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))}async function ki(e){const t=(await xi()).transaction(Ii,"readonly"),n=t.objectStore(Ii).get(e);return new Promise(((e,r)=>{n.onsuccess=t=>{const n=t.target.result;e(n?n.value:void 0)},t.onerror=e=>{var t;r(fi.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}}))}function Si(e){return`${e.options.appId}-${e.name}`}const Ti=new or("@firebase/app-check");function Pi(e,t){return _n()?function(e,t){return Ai(Si(e),t)}(e,t).catch((e=>{Ti.warn(`Failed to write token to IndexedDB. Error: ${e}`)})):Promise.resolve()}function Ni(){return ci().enabled}async function Oi(){const e=ci();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}const Ri={error:"UNKNOWN_ERROR"};async function Di(e,t=!1){const n=e.app;gi(n);const r=si(n);let i,o=r.token;if(o&&!Vi(o)&&(r.token=void 0,o=void 0),!o){const e=await r.cachedTokenPromise;e&&(Vi(e)?o=e:await Pi(n,void 0))}if(!t&&o&&Vi(o))return{token:o.token};let a,s=!1;if(Ni()){r.exchangeTokenPromise||(r.exchangeTokenPromise=yi(bi(n,await Oi()),e.heartbeatServiceProvider).finally((()=>{r.exchangeTokenPromise=void 0})),s=!0);const t=await r.exchangeTokenPromise;return await Pi(n,t),r.token=t,{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally((()=>{r.exchangeTokenPromise=void 0})),s=!0),o=await si(n).exchangeTokenPromise}catch(e){"appCheck/throttled"===e.code?Ti.warn(e.message):Ti.error(e),i=e}return o?i?a=Vi(o)?{token:o.token,internalError:i}:Ui(i):(a={token:o.token},r.token=o,await Pi(n,o)):a=Ui(i),s&&Fi(n,a),a}function Li(e,t,n,r){const{app:i}=e,o=si(i),a={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,a],o.token&&Vi(o.token)){const t=o.token;Promise.resolve().then((()=>{n({token:t.token}),ji(e)})).catch((()=>{}))}o.cachedTokenPromise.then((()=>ji(e)))}function Mi(e,t){const n=si(e),r=n.tokenObservers.filter((e=>e.next!==t));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function ji(e){const{app:t}=e,n=si(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new hi((async()=>{let n;if(n=si(t).token?await Di(e,!0):await Di(e),n.error)throw n.error;if(n.internalError)throw n.internalError}),(()=>!0),(()=>{const e=si(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;const n=e.token.expireTimeMillis-3e5;return t=Math.min(t,n),Math.max(0,t-Date.now())}return 0}),di.RETRIAL_MIN_WAIT,di.RETRIAL_MAX_WAIT)}(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Fi(e,t){const n=si(e).tokenObservers;for(const e of n)try{"EXTERNAL"===e.type&&null!=t.error?e.error(t.error):e.next(t)}catch(e){}}function Vi(e){return e.expireTimeMillis-Date.now()>0}function Ui(e){return{token:(t=Ri,rn.encodeString(JSON.stringify(t),!1)),error:e};var t}class zi{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)Mi(this.app,t.next);return Promise.resolve()}}function Bi(e,t){const n=new mn;si(e).reCAPTCHAState={initialized:n};const r=function(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}(e),i=pi(!1);return i?Gi(e,t,i,r,n):function(i){const o=document.createElement("script");o.src="https://www.google.com/recaptcha/api.js",o.onload=()=>{const i=pi(!1);if(!i)throw new Error("no recaptcha");Gi(e,t,i,r,n)},document.head.appendChild(o)}(),n.promise}function Gi(e,t,n,r,i){n.ready((()=>{!function(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{si(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{si(e).reCAPTCHAState.succeeded=!1}}),o=si(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}(e,t,n,r),i.resolve(n)}))}class qi{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,t,n;!function(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw fi.create("throttled",{time:mi(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}(this._throttleData);const r=await async function(e){gi(e);const t=si(e).reCAPTCHAState,n=await t.initialized.promise;return new Promise(((t,r)=>{const i=si(e).reCAPTCHAState;n.ready((()=>{t(n.execute(i.widgetId,{action:"fire_app_check"}))}))}))}(this._app).catch((e=>{throw fi.create("recaptcha-error")}));if(!(null===(e=si(this._app).reCAPTCHAState)||void 0===e?void 0:e.succeeded))throw fi.create("recaptcha-error");let i;try{i=await yi(function(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${li}/projects/${n}/apps/${r}:exchangeRecaptchaV3Token?key=${i}`,body:{recaptcha_v3_token:t}}}(this._app,r),this._heartbeatServiceProvider)}catch(e){throw(null===(t=e.code)||void 0===t?void 0:t.includes("fetch-status-error"))?(this._throttleData=function(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};{const n=t?t.backoffCount:0,r=function(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Hn,r+i)}(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}(Number(null===(n=e.customData)||void 0===n?void 0:n.httpStatus),this._throttleData),fi.create("throttled",{time:mi(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):e}return this._throttleData=null,i}initialize(e){this._app=e,this._heartbeatServiceProvider=Dr(e,"heartbeat"),Bi(e,this._siteKey).catch((()=>{}))}isEqual(e){return e instanceof qi&&this._siteKey===e._siteKey}}function Zi(e=zr(),t){const n=Dr(e=Kn(e),"app-check");if(ci().initialized||function(){const e=un(),t=ci();if(t.initialized=!0,"string"!=typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==e.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const n=new mn;t.token=n,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(async function(){let e;try{e=await ki(Ei)}catch(e){}if(e)return e;{const e=Wn();return(t=e,Ai(Ei,t)).catch((e=>Ti.warn(`Failed to persist debug token to IndexedDB. Error: ${e}`))),e}var t}())}(),Ni()&&Oi().then((e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`))),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw fi.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return function(e,t,n){const r=function(e,t){return ii.set(e,t),ii.get(e)}(e,Object.assign({},oi));r.activated=!0,r.provider=t,r.cachedTokenPromise=async function(e){if(_n()){let t;try{t=await function(e){return ki(Si(e))}(e)}catch(e){Ti.warn(`Failed to read token from IndexedDB. Error: ${e}`)}return t}}(e).then((t=>(t&&Vi(t)&&(r.token=t,Fi(e,{token:t.token})),t))),r.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),si(e).isTokenAutoRefreshEnabled&&Li(r,"INTERNAL",(()=>{})),r}const Wi="app-check-internal";Rr(new $n("app-check",(e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),new zi(t,n);var t,n}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider(Wi).initialize()}))),Rr(new $n(Wi,(e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>Di(t,e),getLimitedUseToken:()=>async function(e){const t=e.app;gi(t);const{provider:n}=si(t);if(Ni()){const n=await Oi(),{token:r}=await yi(bi(t,n),e.heartbeatServiceProvider);return{token:r}}{const{token:e}=await n.getToken();return{token:e}}}(t),addTokenListener:e=>Li(t,"INTERNAL",e),removeTokenListener:e=>Mi(t.app,e)};var t}),"PUBLIC").setInstantiationMode("EXPLICIT")),qr("@firebase/app-check","0.8.0");class Hi{constructor(e,t){this._delegate=e,this.firebase=t,Nr(e,new $n("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Gr(this._delegate))))}_getService(e,t=kr){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=kr){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Nr(this._delegate,e)}_addOrOverwriteComponent(e){Or(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ki=new An("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$i=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const o=Ur(e,i);if(Nn(n,o.name))return n[o.name];const a=new t(o,r);return n[o.name]=a,a},app:i,registerVersion:qr,setLogLevel:Wr,onLog:Zr,apps:null,SDK_VERSION:Vr,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Rr(e)&&"PUBLIC"===e.type){const a=(e=i())=>{if("function"!=typeof e[o])throw Ki.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&ln(a,e.serviceProps),r[o]=a,t.prototype[o]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Nn(n,e=e||kr))throw Ki.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Hi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ln(n,e)},createSubscribe:zn,ErrorFactory:An,deepExtend:ln}),n}(),Qi=new or("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Qi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Qi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Yi=$i;function Ji(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}qr("@firebase/app-compat","0.2.13",void 0),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const Xi={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const eo=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},to=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},no=new An("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ro=new or("@firebase/auth");function io(e,...t){ro.logLevel<=er.ERROR&&ro.error(`Auth (${Vr}): ${e}`,...t)}function oo(e,...t){throw lo(e,...t)}function ao(e,...t){return lo(e,...t)}function so(e,t,n){const r=Object.assign(Object.assign({},to()),{[t]:n});return new An("auth","Firebase",r).create(t,{appName:e.name})}function co(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&oo(e,"argument-error"),so(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lo(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return no.create(e,...t)}function uo(e,t,...n){if(!e)throw lo(t,...n)}function ho(e){const t="INTERNAL ASSERTION FAILED: "+e;throw io(t),new Error(t)}function fo(e,t){e||ho(t)}function po(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function go(){return"http:"===mo()||"https:"===mo()}function mo(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class vo{constructor(e,t){this.shortDelay=e,this.longDelay=t,fo(t>e,"Short delay should be less than long delay!"),this.isMobile=bn()||In()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(go()||Cn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function yo(e,t){fo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class bo{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Co=new vo(3e4,6e4);function Io(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Eo(e,t,n,r,i={}){return _o(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=jn(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),bo.fetch()(Ao(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function _o(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},wo),t);try{const t=new ko(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw So(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw So(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw So(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw So(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw so(e,s,a);oo(e,s)}}catch(t){if(t instanceof xn)throw t;oo(e,"network-request-failed",{message:String(t)})}}async function xo(e,t,n,r,i={}){const o=await Eo(e,t,n,r,i);return"mfaPendingCredential"in o&&oo(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Ao(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?yo(e.config,i):`${e.config.apiScheme}://${i}`}class ko{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ao(this.auth,"network-request-failed"))),Co.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function So(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ao(e,t,r);return i.customData._tokenResponse=n,i}function To(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Po(e){return 1e3*Number(e)}function No(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return io("JWT malformed, contained fewer than 3 sections"),null;try{const e=cn(n);return e?JSON.parse(e):(io("Failed to decode base64 JWT payload"),null)}catch(e){return io("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function Oo(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof xn&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Ro{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class Do{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Oo(e,async function(e,t){return Eo(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));uo(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Ji(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=(c=e.providerData,l=a,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==s?void 0:s.length)),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Do(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){uo(e.idToken,"internal-error"),uo(void 0!==e.idToken,"internal-error"),uo(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=No(e);return uo(t,"internal-error"),uo(void 0!==t.exp,"internal-error"),uo(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return uo(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await _o(e,{},(async()=>{const n=jn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Ao(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bo.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Mo;return n&&(uo("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(uo("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(uo("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return ho("not implemented")}}function jo(e,t){uo("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Fo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ji(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ro(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Do(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return uo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Kn(e),r=await n.getIdToken(t),i=No(r);uo(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:To(Po(i.auth_time)),issuedAtTime:To(Po(i.iat)),expirationTime:To(Po(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Kn(e);await Lo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(uo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){uo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Lo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Oo(this,async function(e,t){return Eo(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:I}=t;uo(y&&I,e,"internal-error");const E=Mo.fromJSON(this.name,I);uo("string"==typeof y,e,"internal-error"),jo(u,e.name),jo(d,e.name),uo("boolean"==typeof b,e,"internal-error"),uo("boolean"==typeof w,e,"internal-error"),jo(h,e.name),jo(f,e.name),jo(p,e.name),jo(g,e.name),jo(m,e.name),jo(v,e.name);const _=new Fo({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return C&&Array.isArray(C)&&(_.providerData=C.map((e=>Object.assign({},e)))),g&&(_._redirectEventId=g),_}static async _fromIdTokenResponse(e,t,n=!1){const r=new Mo;r.updateFromServerResponse(t);const i=new Fo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Lo(i),i}}const Vo=new Map;function Uo(e){fo(e instanceof Function,"Expected a class definition");let t=Vo.get(e);return t?(fo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vo.set(e,t),t)}class zo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zo.type="NONE";const Bo=zo;function Go(e,t,n){return`firebase:${e}:${t}:${n}`}class qo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Go(this.userKey,r.apiKey,i),this.fullPersistenceKey=Go("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new qo(Uo(Bo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Uo(Bo);const o=Go(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(o);if(t){const r=Fo._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new qo(i,e,n)):new qo(i,e,n)}}function Zo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($o(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yo(t))return"Blackberry";if(Jo(t))return"Webos";if(Ho(t))return"Safari";if((t.includes("chrome/")||Ko(t))&&!t.includes("edge/"))return"Chrome";if(Qo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Wo(e=yn()){return/firefox\//i.test(e)}function Ho(e=yn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ko(e=yn()){return/crios\//i.test(e)}function $o(e=yn()){return/iemobile/i.test(e)}function Qo(e=yn()){return/android/i.test(e)}function Yo(e=yn()){return/blackberry/i.test(e)}function Jo(e=yn()){return/webos/i.test(e)}function Xo(e=yn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ea(e=yn()){return Xo(e)||Qo(e)||Jo(e)||Yo(e)||/windows phone/i.test(e)||$o(e)}function ta(e,t=[]){let n;switch(e){case"Browser":n=Zo(yn());break;case"Worker":n=`${Zo(yn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vr}/${r}`}async function na(e,t){return Eo(e,"GET","/v2/recaptchaConfig",Io(e,t))}function ra(e){return void 0!==e&&void 0!==e.getResponse}function ia(e){return void 0!==e&&void 0!==e.enterprise}class oa{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function aa(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ao("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function sa(e){return`__${e}${Math.floor(1e6*Math.random())}`}class ca{constructor(e){this.type="recaptcha-enterprise",this.auth=ha(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;ia(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{na(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new oa(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&ia(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));aa("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function la(e,t,n,r=!1){const i=new ca(e);let o;try{o=await i.verify(n)}catch(e){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class ua{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class da{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fa(this),this.idTokenSubscription=new fa(this),this.beforeStateQueue=new ua(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=no,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Uo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return uo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lo(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Kn(e):null;return t&&uo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&uo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Uo(e))}))}async initializeRecaptchaConfig(){const e=await na(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new oa(e);null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled&&new ca(this).verify()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new An("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Uo(e)||this._popupRedirectResolver;uo(t,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Uo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return uo(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return uo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ta(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){ro.logLevel<=er.WARN&&ro.warn(`Auth (${Vr}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function ha(e){return Kn(e)}class fa{constructor(e){this.auth=e,this.observer=null,this.addObserver=zn((e=>this.observer=e))}get next(){return uo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pa(e,t,n){const r=ha(e);uo(r._canInitEmulator,r,"emulator-config-failed"),uo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=ga(t),{host:a,port:s}=function(e){const t=ga(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ma(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ma(t)}}}(t),c=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ga(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ma(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class va{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ho("not implemented")}_getIdTokenResponse(e){return ho("not implemented")}_linkToIdToken(e,t){return ho("not implemented")}_getReauthenticationResolver(e){return ho("not implemented")}}async function ya(e,t){return Eo(e,"POST","/v1/accounts:resetPassword",Io(e,t))}async function ba(e,t){return Eo(e,"POST","/v1/accounts:update",t)}async function wa(e,t){return xo(e,"POST","/v1/accounts:signInWithPassword",Io(e,t))}async function Ca(e,t){return Eo(e,"POST","/v1/accounts:sendOobCode",Io(e,t))}async function Ia(e,t){return Ca(e,t)}async function Ea(e,t){return Ca(e,t)}class _a extends va{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new _a(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new _a(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await la(e,n,"signInWithPassword");return wa(e,t)}return wa(e,n).catch((async t=>{if("auth/missing-recaptcha-token"===t.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await la(e,n,"signInWithPassword");return wa(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return xo(e,"POST","/v1/accounts:signInWithEmailLink",Io(e,t))}(e,{email:this._email,oobCode:this._password});default:oo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ba(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return xo(e,"POST","/v1/accounts:signInWithEmailLink",Io(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:oo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xa(e,t){return xo(e,"POST","/v1/accounts:signInWithIdp",Io(e,t))}class Aa extends va{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):oo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ji(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Aa(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return xa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xa(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jn(t)}return e}}const ka={USER_NOT_FOUND:"user-not-found"};class Sa extends va{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Sa({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Sa({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return xo(e,"POST","/v1/accounts:signInWithPhoneNumber",Io(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await xo(e,"POST","/v1/accounts:signInWithPhoneNumber",Io(e,t));if(n.temporaryProof)throw So(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return xo(e,"POST","/v1/accounts:signInWithPhoneNumber",Io(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ka)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Sa({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ta{constructor(e){var t,n,r,i,o,a;const s=Fn(Vn(e)),c=null!==(t=s.apiKey)&&void 0!==t?t:null,l=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);uo(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Fn(Vn(e)).link,n=t?Fn(Vn(t)).deep_link_id:null,r=Fn(Vn(e)).deep_link_id;return(r?Fn(Vn(r)).link:null)||r||n||t||e}(e);try{return new Ta(t)}catch(e){return null}}}class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,t){return _a._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ta.parseLink(t);return uo(n,"argument-error"),_a._fromEmailAndCode(e,n.code,n.tenantId)}}Pa.PROVIDER_ID="password",Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Na{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Oa extends Na{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ra extends Oa{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return uo("providerId"in t&&"signInMethod"in t,"argument-error"),Aa._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return uo(e.idToken||e.accessToken,"argument-error"),Aa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ra.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ra.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:a}=e;if(!(n||r||t||i))return null;if(!a)return null;try{return new Ra(a)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(e){return null}}}class Da extends Oa{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Da.credential(e.oauthAccessToken)}catch(e){return null}}}Da.FACEBOOK_SIGN_IN_METHOD="facebook.com",Da.PROVIDER_ID="facebook.com";class La extends Oa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Aa._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return La.credential(t,n)}catch(e){return null}}}La.GOOGLE_SIGN_IN_METHOD="google.com",La.PROVIDER_ID="google.com";class Ma extends Oa{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch(e){return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com",Ma.PROVIDER_ID="github.com";class ja extends va{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return xa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,xa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xa(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new ja(n,i):null}static _create(e,t){return new ja(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fa extends Na{constructor(e){uo(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Fa.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Fa.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ja.fromJSON(e);return uo(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return ja._create(n,t)}catch(e){return null}}}class Va extends Oa{constructor(){super("twitter.com")}static credential(e,t){return Aa._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Va.credential(t,n)}catch(e){return null}}}async function Ua(e,t){return xo(e,"POST","/v1/accounts:signUp",Io(e,t))}Va.TWITTER_SIGN_IN_METHOD="twitter.com",Va.PROVIDER_ID="twitter.com";class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Fo._fromIdTokenResponse(e,n,r),o=Ba(n);return new za({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ba(n);return new za({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ba(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ga extends xn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ga.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ga(e,t,n,r)}}function qa(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Ga._fromErrorAndOperation(e,n,t,r);throw n}))}function Za(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Wa(e,t,n=!1){const r=await Oo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return za._forOperation(e,"link",r)}async function Ha(e,t,n){await Lo(t);const r=!1===e?"provider-already-linked":"no-such-provider";uo(Za(t.providerData).has(n)===e,t.auth,r)}async function Ka(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Oo(e,qa(r,i,t,e),n);uo(o.idToken,r,"internal-error");const a=No(o.idToken);uo(a,r,"internal-error");const{sub:s}=a;return uo(e.uid===s,r,"user-mismatch"),za._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&oo(r,"user-mismatch"),e}}async function $a(e,t,n=!1){const r="signIn",i=await qa(e,r,t),o=await za._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Qa(e,t){return $a(ha(e),t)}async function Ya(e,t){const n=Kn(e);return await Ha(!1,n,t.providerId),Wa(n,t)}async function Ja(e,t){return Ka(Kn(e),t)}class Xa{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?es._fromServerResponse(e,t):"totpInfo"in t?ts._fromServerResponse(e,t):oo(e,"internal-error")}}class es extends Xa{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new es(t)}}class ts extends Xa{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ts(t)}}function ns(e,t,n){var r;uo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),uo(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(uo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(uo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function rs(e,t){const n=Kn(e),r=await ya(n,{oobCode:t}),i=r.requestType;switch(uo(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":uo(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":uo(r.mfaInfo,n,"internal-error");default:uo(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Xa._fromServerResponse(ha(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function is(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Oo(e,ba(r,i));await e._updateTokensIfNecessary(o,!0)}class os{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class as extends os{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ss extends os{constructor(e,t){super(e,"facebook.com",t)}}class cs extends as{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class ls extends os{constructor(e,t){super(e,"google.com",t)}}class us extends as{constructor(e,t,n){super(e,"twitter.com",t,n)}}function ds(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=No(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new os(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ss(o,i);case"github.com":return new cs(o,i);case"google.com":return new ls(o,i);case"twitter.com":return new us(o,i,e.screenName||null);case"custom":case"anonymous":return new os(o,null);default:return new os(o,r,i)}}(n)}class hs{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new hs("enroll",e,t)}static _fromMfaPendingCredential(e){return new hs("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return hs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return hs._fromIdtoken(e.multiFactorSession.idToken)}return null}}class fs{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ha(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Xa._fromServerResponse(n,e)));uo(r.mfaPendingCredential,n,"internal-error");const o=hs._fromMfaPendingCredential(r.mfaPendingCredential);return new fs(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await za._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return uo(t.user,n,"internal-error"),za._forOperation(t.user,t.operationType,a);default:oo(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ps{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Xa._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ps(e)}async getSession(){return hs._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Oo(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Oo(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Eo(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Io(r,i))));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}var r,i}}const gs=new WeakMap,ms="__sak";class vs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ms,"1"),this.storage.removeItem(ms),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ys extends vs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=yn();return Ho(e)||Xo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ea(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);En()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ys.type="LOCAL";const bs=ys;class ws extends vs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ws.type="SESSION";const Cs=ws;class Is{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Is(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Es(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Is.receivers=[];class _s{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const c=Es("",20);r.port1.start();const l=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function xs(){return window}function As(){return void 0!==xs().WorkerGlobalScope&&"function"==typeof xs().importScripts}const ks="firebaseLocalStorageDb",Ss="firebaseLocalStorage",Ts="fbase_key";class Ps{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Ns(e,t){return e.transaction([Ss],t?"readwrite":"readonly").objectStore(Ss)}function Os(){const e=indexedDB.open(ks,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ss,{keyPath:Ts})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ss)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ks);return new Ps(e).toPromise()}(),t(await Os()))}))}))}async function Rs(e,t,n){const r=Ns(e,!0).put({[Ts]:t,value:n});return new Ps(r).toPromise()}function Ds(e,t){const n=Ns(e,!0).delete(t);return new Ps(n).toPromise()}class Ls{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Os()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return As()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Is._getInstance(As()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new _s(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Os();return await Rs(e,ms,"1"),await Ds(e,ms),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Rs(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Ns(e,!1).get(t),r=await new Ps(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ds(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Ns(e,!1).getAll();return new Ps(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ls.type="LOCAL";const Ms=Ls,js=1e12;class Fs{constructor(e){this.auth=e,this.counter=js,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Vs(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||js;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||js;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||js;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Vs{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;uo(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(62*Math.random())));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Us=sa("rcb"),zs=new vo(3e4,6e4);class Bs{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=xs().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return uo(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ra(xs().grecaptcha)?Promise.resolve(xs().grecaptcha):new Promise(((n,r)=>{const i=xs().setTimeout((()=>{r(ao(e,"network-request-failed"))}),zs.get());xs()[Us]=()=>{xs().clearTimeout(i),delete xs()[Us];const o=xs().grecaptcha;if(!o||!ra(o))return void r(ao(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)},aa(`https://www.google.com/recaptcha/api.js??${jn({onload:Us,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(ao(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=xs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gs{async load(e){return new Fs(e)}clearedOneInstance(){}}const qs="recaptcha",Zs={theme:"light",type:"image"};class Ws{constructor(e,t=Object.assign({},Zs),n){this.parameters=t,this.type=qs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ha(n),this.isInvisible="invisible"===this.parameters.size,uo("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;uo(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gs:new Bs,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){uo(!this.parameters.sitekey,this.auth,"argument-error"),uo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),uo("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=xs()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){uo(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){uo(go()&&!As(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Eo(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);uo(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return uo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hs{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Sa._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ks(e,t,n){var r;const i=await n.verify();try{let o;if(uo("string"==typeof i,e,"argument-error"),uo(n.type===qs,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){uo("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Eo(e,"POST","/v2/accounts/mfaEnrollment:start",Io(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{uo("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;uo(n,e,"missing-multi-factor-info");const a=await function(e,t){return Eo(e,"POST","/v2/accounts/mfaSignIn:start",Io(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Eo(e,"POST","/v1/accounts:sendVerificationCode",Io(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class $s{constructor(e){this.providerId=$s.PROVIDER_ID,this.auth=ha(e)}verifyPhoneNumber(e,t){return Ks(this.auth,e,Kn(t))}static credential(e,t){return Sa._fromVerification(e,t)}static credentialFromResult(e){const t=e;return $s.credentialFromTaggedObject(t)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Sa._fromTokenResponse(t,n):null}}function Qs(e,t){return t?Uo(t):(uo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$s.PROVIDER_ID="phone",$s.PHONE_SIGN_IN_METHOD="phone";class Ys extends va{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Js(e){return $a(e.auth,new Ys(e),e.bypassAuthState)}function Xs(e){const{auth:t,user:n}=e;return uo(n,t,"internal-error"),Ka(n,new Ys(e),e.bypassAuthState)}async function ec(e){const{auth:t,user:n}=e;return uo(n,t,"internal-error"),Wa(n,new Ys(e),e.bypassAuthState)}class tc{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Js;case"linkViaPopup":case"linkViaRedirect":return ec;case"reauthViaPopup":case"reauthViaRedirect":return Xs;default:oo(this.auth,"internal-error")}}resolve(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nc=new vo(2e3,1e4);async function rc(e,t,n){const r=ha(e);co(e,t,Na);const i=Qs(r,n);return new ic(r,"signInViaPopup",t,i).executeNotNull()}class ic extends tc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ic.currentPopupAction&&ic.currentPopupAction.cancel(),ic.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return uo(e,this.auth,"internal-error"),e}async onExecution(){fo(1===this.filter.length,"Popup operations only handle one event");const e=Es();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ao(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ao(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ic.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ao(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,nc.get())};e()}}ic.currentPopupAction=null;const oc="pendingRedirect",ac=new Map;class sc extends tc{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=dc(t),r=uc(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function cc(e,t){return uc(e)._set(dc(t),"true")}function lc(e,t){ac.set(e._key(),t)}function uc(e){return Uo(e._redirectPersistence)}function dc(e){return Go(oc,e.config.apiKey,e.name)}function hc(e,t,n){return async function(e,t,n){const r=ha(e);co(e,t,Na),await r._initializationPromise;const i=Qs(r,n);return await cc(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}async function fc(e,t){return await ha(e)._initializationPromise,pc(e,t,!1)}async function pc(e,t,n=!1){const r=ha(e),i=Qs(r,t),o=new sc(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function gc(e){const t=Es(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class mc{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!yc(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ao(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vc(e))}saveEventToCache(e){this.cachedEventUids.add(vc(e)),this.lastProcessedEventTime=Date.now()}}function vc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function yc({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function bc(e,t={}){return Eo(e,"GET","/v1/projects",t)}const wc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cc=/^https?/;function Ic(e){const t=po(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Cc.test(n))return!1;if(wc.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ec=new vo(3e4,6e4);function _c(){const e=xs().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let xc=null;function Ac(e){return xc=xc||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){_c(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_c(),n(ao(e,"network-request-failed"))},timeout:Ec.get()})}if(null===(i=null===(r=xs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=xs().gapi)||void 0===o?void 0:o.load)){const t=sa("iframefcb");return xs()[t]=()=>{gapi.load?a():n(ao(e,"network-request-failed"))},aa(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw xc=null,e}))}(e),xc}const kc=new vo(5e3,15e3),Sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pc(e){const t=e.config;uo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?yo(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Vr},i=Tc.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${jn(r).slice(1)}`}const Nc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const Rc="__/auth/handler",Dc="emulator/auth/handler",Lc=encodeURIComponent("fac");async function Mc(e,t,n,r,i,o){uo(e.config.authDomain,e,"auth-domain-config-required"),uo(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Vr,eventId:i};if(t instanceof Na){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Rn(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Oa){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const e of Object.keys(s))void 0===s[e]&&delete s[e];const c=await e._getAppCheckToken(),l=c?`#${Lc}=${encodeURIComponent(c)}`:"";return`${function({config:e}){return e.emulator?yo(e,Dc):`https://${e.authDomain}/${Rc}`}(e)}?${jn(s).slice(1)}${l}`}const jc="webStorageSupport",Fc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cs,this._completeRedirectFn=pc,this._overrideRedirectResult=lc}async _openPopup(e,t,n,r){var i;return fo(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},Nc),{width:r.toString(),height:i.toString(),top:o,left:a}),l=yn().toLowerCase();n&&(s=Ko(l)?"_blank":n),Wo(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=yn()){var t;return Xo(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Oc(null);const d=window.open(t||"",s,u);uo(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Oc(d)}(e,await Mc(e,t,n,po(),r),Es())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await Mc(e,t,n,po(),r),xs().location.href=i,new Promise((()=>{}));var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(fo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ac(e),n=xs().gapi;return uo(n,e,"internal-error"),t.open({where:document.body,url:Pc(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sc,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ao(e,"network-request-failed"),o=xs().setTimeout((()=>{r(i)}),kc.get());function a(){xs().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new mc(e);return t.register("authEvent",(t=>(uo(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jc,{type:jc},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[jc];void 0!==i&&t(!!i),oo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await bc(e);for(const e of t)try{if(Ic(e))return}catch(e){}oo(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ea()||Ho()||Xo()}};class Vc{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ho("unexpected MultiFactorSessionType")}}}class Uc extends Vc{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Uc(e)}_finalizeEnroll(e,t,n){return function(e,t){return Eo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Io(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Eo(e,"POST","/v2/accounts/mfaSignIn:finalize",Io(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class zc{constructor(){}static assertion(e){return Uc._fromCredential(e)}}zc.FACTOR_ID="phone";var Bc="@firebase/auth",Gc="0.23.2";class qc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){uo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Zc=gn("authIdTokenMaxAge")||300;let Wc=null;function Hc(e=zr()){const t=Dr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Dr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ln(n.getOptions(),null!=t?t:{}))return e;oo(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Fc,persistence:[Ms,bs,Cs]}),r=gn("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Zc)return;const r=null==t?void 0:t.token;Wc!==r&&(Wc=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Kn(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,r,i){Kn(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}var i;const o=hn("auth");return o&&pa(n,`http://${o}`),n}var Kc;function $c(){return window}Kc="Browser",Rr(new $n("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;uo(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:o,authDomain:a,clientPlatform:Kc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ta(Kc)},c=new da(n,r,i,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Uo);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(c,t),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Rr(new $n("auth-internal",(e=>{return t=ha(e.getProvider("auth").getImmediate()),new qc(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),qr(Bc,Gc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Kc)),qr(Bc,Gc,"esm2017");class Qc extends mc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Yc(e){const t=await Xc()._get(el(e));return t&&await Xc()._remove(el(e)),t}function Jc(){const e=[];for(let t=0;t<20;t++){const t=Math.floor(62*Math.random());e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(t))}return e.join("")}function Xc(){return Uo(bs)}function el(e){return Go("authEvent",e.config.apiKey,e.name)}function tl(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Fn(n.join("?"))}const nl=class{constructor(){this._redirectPersistence=Cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pc,this._overrideRedirectResult=lc}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Qc(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){oo(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,c,l,u;const d=$c();uo("function"==typeof(null===(t=null==d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),uo(void 0!==(null===(n=null==d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),uo("function"==typeof(null===(o=null===(i=null===(r=null==d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uo("function"==typeof(null===(c=null===(s=null===(a=null==d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uo("function"==typeof(null===(u=null===(l=null==d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ac.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Jc(),postBody:null,tenantId:e.tenantId,error:ao(e,"no-auth-event")}}(e,n,r);await function(e,t){return Xc()._set(el(e),t)}(e,o);const a=await async function(e,t,n){var r;const{BuildInfo:i}=$c();fo(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(fo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Xo()?a.ibi=i.packageName:Qo()?a.apn=i.packageName:oo(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,Mc(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}(e,o,t);return async function(e,t,n){const{cordova:r}=$c();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){s||(s=window.setTimeout((()=>{a(ao(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),Qo()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=$c();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=yn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=$c(),n={};Xo()?n.iosBundleId=t.packageName:Qo()?n.androidPackageName=t.packageName:oo(e,"operation-not-supported-in-this-environment"),await bc(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=$c(),o=setTimeout((async()=>{await Yc(e),t.onEvent(rl())}),500),a=async n=>{clearTimeout(o);const r=await Yc(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=tl(e),n=t.link?decodeURIComponent(t.link):void 0,r=tl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return tl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=tl(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?ao(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||rl())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const s=r,c=`${i.packageName.toLowerCase()}://`;$c().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof s)try{s(e)}catch(e){console.error(e)}}}};function rl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ao("no-auth-event")}}function il(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ol(e=yn()){return!("file:"!==il()&&"ionic:"!==il()&&"capacitor:"!==il()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function al(){try{const e=self.localStorage,t=Es();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=yn()){return En()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=yn()){return/Edge\/\d+/.test(e)}(e)}()||_n()}catch(e){return sl()&&_n()}return!1}function sl(){return void 0!==a.g&&"WorkerGlobalScope"in a.g&&"importScripts"in a.g}function cl(){return("http:"===il()||"https:"===il()||Cn()||ol())&&!(In()||wn())&&al()&&!sl()}function ll(){return ol()&&"undefined"!=typeof document}const ul={LOCAL:"local",NONE:"none",SESSION:"session"},dl=uo,hl="persistence";async function fl(e){await e._initializationPromise;const t=pl(),n=Go(hl,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function pl(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}const gl=uo;class ml{constructor(){this.browserResolver=Uo(Fc),this.cordovaResolver=Uo(nl),this.underlyingResolver=null,this._redirectPersistence=Cs,this._completeRedirectFn=pc,this._overrideRedirectResult=lc}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return ll()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gl(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!ll()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function vl(e){return e.unwrap()}function yl(e){const{_tokenResponse:t}=e instanceof xn?e.customData:e;if(!t)return null;if(!(e instanceof xn)&&"temporaryProof"in t&&"phoneNumber"in t)return $s.credentialFromResult(e);const n=t.providerId;if(!n||n===Xi.PASSWORD)return null;let r;switch(n){case Xi.GOOGLE:r=La;break;case Xi.FACEBOOK:r=Da;break;case Xi.GITHUB:r=Ma;break;case Xi.TWITTER:r=Va;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?ja._create(n,a):Aa._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Ra(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof xn?r.credentialFromError(e):r.credentialFromResult(e)}function bl(e,t){return t.catch((t=>{throw t instanceof xn&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null==t?void 0:t.code))t.resolver=new Cl(e,function(e,t){var n;const r=Kn(e),i=t;return uo(t.customData.operationType,r,"argument-error"),uo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),fs._fromError(r,i)}(e,t));else if(r){const e=yl(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,yl(r)),additionalUserInfo:ds(e),user:Il.getOrCreate(n)};var r}))}async function wl(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>bl(e,n.confirm(t))}}class Cl{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return bl(vl(this.auth),this.resolver.resolveSignIn(e))}}class Il{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Kn(e);return gs.has(t)||gs.set(t,ps._fromUser(t)),gs.get(t)}(e)}static getOrCreate(e){return Il.USER_MAP.has(e)||Il.USER_MAP.set(e,new Il(e)),Il.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return bl(this.auth,Ya(this._delegate,e))}async linkWithPhoneNumber(e,t){return wl(this.auth,async function(e,t,n){const r=Kn(e);await Ha(!1,r,"phone");const i=await Ks(r.auth,t,Kn(n));return new Hs(i,(e=>Ya(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return bl(this.auth,async function(e,t,n){const r=Kn(e);co(r.auth,t,Na);const i=Qs(r.auth,n);return new ic(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ml))}async linkWithRedirect(e){return await fl(ha(this.auth)),function(e,t,n){return async function(e,t,n){const r=Kn(e);co(r.auth,t,Na),await r.auth._initializationPromise;const i=Qs(r.auth,n);await Ha(!1,r,t.providerId),await cc(i,r.auth);const o=await gc(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,ml)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return bl(this.auth,Ja(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return wl(this.auth,async function(e,t,n){const r=Kn(e),i=await Ks(r.auth,t,Kn(n));return new Hs(i,(e=>Ja(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return bl(this.auth,async function(e,t,n){const r=Kn(e);co(r.auth,t,Na);const i=Qs(r.auth,n);return new ic(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,ml))}async reauthenticateWithRedirect(e){return await fl(ha(this.auth)),function(e,t,n){return async function(e,t,n){const r=Kn(e);co(r.auth,t,Na),await r.auth._initializationPromise;const i=Qs(r.auth,n);await cc(i,r.auth);const o=await gc(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,ml)}sendEmailVerification(e){return async function(e,t){const n=Kn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ns(n.auth,r,t);const{email:i}=await async function(e,t){return Ca(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=Kn(e);await Ha(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Eo(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Za(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return is(Kn(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return is(Kn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Wa(Kn(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Kn(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await Oo(r,async function(e,t){return Eo(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=Kn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&ns(r.auth,i,n);const{email:o}=await async function(e,t){return Ca(e,t)}(r.auth,i);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Il.USER_MAP=new WeakMap;const El=uo;class _l{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;El(n,"invalid-api-key",{appName:e.name}),El(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?ml:void 0;this._delegate=t.initialize({options:{persistence:Al(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(eo),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Il.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){pa(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return Eo(e,"POST","/v1/accounts:update",Io(e,t))}(Kn(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return rs(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await ya(Kn(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return bl(this._delegate,async function(e,t,n){var r;const i=ha(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await la(i,o,"signUpPassword");a=Ua(i,e)}else a=Ua(i,o).catch((async e=>{if("auth/missing-recaptcha-token"===e.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await la(i,o,"signUpPassword");return Ua(i,e)}return Promise.reject(e)}));const s=await a.catch((e=>Promise.reject(e))),c=await za._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(c.user),c}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:go()?po():"http://localhost"},{signinMethods:r}=await async function(e,t){return Eo(e,"POST","/v1/accounts:createAuthUri",Io(e,t))}(Kn(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Ta.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){El(cl(),this._delegate,"operation-not-supported-in-this-environment");const e=await fc(this._delegate,ml);return e?bl(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ha(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=xl(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=xl(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=ha(e),o={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function a(e,t){uo(t.handleCodeInApp,i,"argument-error"),t&&ns(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await la(i,o,"getOobCode",!0);a(e,n),await Ea(i,e)}else a(o,n),await Ea(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await la(i,o,"getOobCode",!0);a(e,n),await Ea(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=ha(e),o={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await la(i,o,"getOobCode",!0);n&&ns(i,e,n),await Ia(i,e)}else n&&ns(i,o,n),await Ia(i,o).catch((async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await la(i,o,"getOobCode",!0);n&&ns(i,e,n),await Ia(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){dl(Object.values(ul).includes(t),e,"invalid-persistence-type"),In()?dl(t!==ul.SESSION,e,"unsupported-persistence-type"):wn()?dl(t===ul.NONE,e,"unsupported-persistence-type"):sl()?dl(t===ul.NONE||t===ul.LOCAL&&_n(),e,"unsupported-persistence-type"):dl(t===ul.NONE||al(),e,"unsupported-persistence-type")}(this._delegate,e),e){case ul.SESSION:t=Cs;break;case ul.LOCAL:t=await Uo(Ms)._isAvailable()?Ms:bs;break;case ul.NONE:t=Bo;break;default:return oo("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return bl(this._delegate,async function(e){var t;const n=ha(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new za({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ua(n,{returnSecureToken:!0}),i=await za._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return bl(this._delegate,Qa(this._delegate,e))}signInWithCustomToken(e){return bl(this._delegate,async function(e,t){const n=ha(e),r=await async function(e,t){return xo(e,"POST","/v1/accounts:signInWithCustomToken",Io(e,t))}(n,{token:t,returnSecureToken:!0}),i=await za._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return bl(this._delegate,function(e,t,n){return Qa(Kn(e),Pa.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return bl(this._delegate,async function(e,t,n){const r=Kn(e),i=Pa.credentialWithLink(t,n||po());return uo(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Qa(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return wl(this._delegate,async function(e,t,n){const r=ha(e),i=await Ks(r,t,Kn(n));return new Hs(i,(e=>Qa(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return El(cl(),this._delegate,"operation-not-supported-in-this-environment"),bl(this._delegate,rc(this._delegate,e,ml))}async signInWithRedirect(e){return El(cl(),this._delegate,"operation-not-supported-in-this-environment"),await fl(this._delegate),hc(this._delegate,e,ml)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await rs(Kn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function xl(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Il.getOrCreate(e)),error:t,complete:n}}function Al(e,t){const n=function(e,t){const n=pl();if(!n)return[];const r=Go(hl,e,t);switch(n.getItem(r)){case ul.NONE:return[Bo];case ul.LOCAL:return[Ms,Cs];case ul.SESSION:return[Cs];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(Ms)||n.push(Ms),"undefined"!=typeof window)for(const e of[bs,Cs])n.includes(e)||n.push(e);return n.includes(Bo)||n.push(Bo),n}_l.Persistence=ul;class kl{constructor(){this.providerId="phone",this._delegate=new $s(vl(Yi.auth()))}static credential(e,t){return $s.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}kl.PHONE_SIGN_IN_METHOD=$s.PHONE_SIGN_IN_METHOD,kl.PROVIDER_ID=$s.PROVIDER_ID;const Sl=uo;class Tl{constructor(e,t,n=Yi.app()){var r;Sl(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ws(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new $n("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new _l(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pa,FacebookAuthProvider:Da,GithubAuthProvider:Ma,GoogleAuthProvider:La,OAuthProvider:Ra,SAMLAuthProvider:Fa,PhoneAuthProvider:kl,PhoneMultiFactorGenerator:zc,RecaptchaVerifier:Tl,TwitterAuthProvider:Va,Auth:_l,AuthCredential:va,Error:xn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.2")}(Yi);var Pl,Nl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ol={},Rl=Rl||{},Dl=Nl||self;function Ll(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ml(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var jl="closure_uid_"+(1e9*Math.random()>>>0),Fl=0;function Vl(e,t,n){return e.call.apply(e.bind,arguments)}function Ul(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function zl(e,t,n){return(zl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vl:Ul).apply(null,arguments)}function Bl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gl(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ql(){this.s=this.s,this.o=this.o}ql.prototype.s=!1,ql.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,jl)&&e[jl]||(e[jl]=++Fl))},ql.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Wl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Hl(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(Ll(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function Kl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Kl.prototype.h=function(){this.defaultPrevented=!0};var $l=function(){if(!Dl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Dl.addEventListener("test",(()=>{}),t),Dl.removeEventListener("test",(()=>{}),t)}catch(e){}return e}();function Ql(e){return/^[\s\xa0]*$/.test(e)}function Yl(){var e=Dl.navigator;return e&&(e=e.userAgent)?e:""}function Jl(e){return-1!=Yl().indexOf(e)}function Xl(e){return Xl[" "](e),e}Xl[" "]=function(){};var eu,tu,nu,ru=Jl("Opera"),iu=Jl("Trident")||Jl("MSIE"),ou=Jl("Edge"),au=ou||iu,su=Jl("Gecko")&&!(-1!=Yl().toLowerCase().indexOf("webkit")&&!Jl("Edge"))&&!(Jl("Trident")||Jl("MSIE"))&&!Jl("Edge"),cu=-1!=Yl().toLowerCase().indexOf("webkit")&&!Jl("Edge");function lu(){var e=Dl.document;return e?e.documentMode:void 0}e:{var uu="",du=(tu=Yl(),su?/rv:([^\);]+)(\)|;)/.exec(tu):ou?/Edge\/([\d\.]+)/.exec(tu):iu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(tu):cu?/WebKit\/(\S+)/.exec(tu):ru?/(?:Version)[ \/]?(\S+)/.exec(tu):void 0);if(du&&(uu=du?du[1]:""),iu){var hu=lu();if(null!=hu&&hu>parseFloat(uu)){eu=String(hu);break e}}eu=uu}Dl.document&&iu?nu=lu()||parseInt(eu,10)||void 0:nu=void 0;var fu=nu;function pu(e,t){if(Kl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(su){e:{try{Xl(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:gu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&pu.$.h.call(this)}}Gl(pu,Kl);var gu={2:"touch",3:"pen",4:"mouse"};pu.prototype.h=function(){pu.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var mu="closure_listenable_"+(1e6*Math.random()|0),vu=0;function yu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++vu,this.fa=this.ia=!1}function bu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function wu(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Cu(e){const t={};for(const n in e)t[n]=e[n];return t}const Iu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Eu(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Iu.length;t++)n=Iu[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _u(e){this.src=e,this.g={},this.h=0}function xu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Zl(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(bu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Au(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}_u.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Au(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new yu(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var ku="closure_lm_"+(1e6*Math.random()|0),Su={};function Tu(e,t,n,r,i){if(r&&r.once)return Nu(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Tu(e,t[o],n,r,i);return null}return n=Fu(n),e&&e[mu]?e.O(t,n,Ml(r)?!!r.capture:!!r,i):Pu(e,t,n,!1,r,i)}function Pu(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Ml(i)?!!i.capture:!!i,s=Mu(e);if(s||(e[ku]=s=new _u(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){const e=Lu;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$l||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Du(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Nu(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Nu(e,t[o],n,r,i);return null}return n=Fu(n),e&&e[mu]?e.P(t,n,Ml(r)?!!r.capture:!!r,i):Pu(e,t,n,!0,r,i)}function Ou(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ou(e,t[o],n,r,i);else r=Ml(r)?!!r.capture:!!r,n=Fu(n),e&&e[mu]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Au(o=e.g[t],n,r,i))&&(bu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Mu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Au(t,n,r,i)),(n=-1<e?t[e]:null)&&Ru(n))}function Ru(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[mu])xu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Du(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mu(t))?(xu(n,e),0==n.h&&(n.src=null,t[ku]=null)):bu(e)}}}function Du(e){return e in Su?Su[e]:Su[e]="on"+e}function Lu(e,t){if(e.fa)e=!0;else{t=new pu(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ru(e),e=n.call(r,t)}return e}function Mu(e){return(e=e[ku])instanceof _u?e:null}var ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(e){return"function"==typeof e?e:(e[ju]||(e[ju]=function(t){return e.handleEvent(t)}),e[ju])}function Vu(){ql.call(this),this.i=new _u(this),this.S=this,this.J=null}function Uu(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new Kl(t,e);else if(t instanceof Kl)t.target=t.target||e;else{var i=t;Eu(t=new Kl(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=zu(a,r,!0,t)&&i}if(i=zu(a=t.g=e,r,!0,t)&&i,i=zu(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=zu(a=t.g=n[o],r,!1,t)&&i}function zu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,c=a.la||a.src;a.ia&&xu(e.i,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}Gl(Vu,ql),Vu.prototype[mu]=!0,Vu.prototype.removeEventListener=function(e,t,n,r){Ou(this,e,t,n,r)},Vu.prototype.N=function(){if(Vu.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bu(n[r]);delete t.g[e],t.h--}}this.J=null},Vu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Vu.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Bu=Dl.JSON.stringify;function Gu(){var e=Qu;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qu=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Zu),(e=>e.reset()));class Zu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Wu(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Hu(e){Dl.setTimeout((()=>{throw e}),0)}let Ku,$u=!1,Qu=new class{constructor(){this.h=this.g=null}add(e,t){const n=qu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Yu=()=>{const e=Dl.Promise.resolve(void 0);Ku=()=>{e.then(Ju)}};var Ju=()=>{for(var e;e=Gu();){try{e.h.call(e.g)}catch(e){Hu(e)}var t=qu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}$u=!1};function Xu(e,t){Vu.call(this),this.h=e||1,this.g=t||Dl,this.j=zl(this.qb,this),this.l=Date.now()}function ed(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function td(e,t,n){if("function"==typeof e)n&&(e=zl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=zl(e.handleEvent,e)}return 2147483647<Number(t)?-1:Dl.setTimeout(e,t||0)}function nd(e){e.g=td((()=>{e.g=null,e.i&&(e.i=!1,nd(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Gl(Xu,Vu),(Pl=Xu.prototype).ga=!1,Pl.T=null,Pl.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Uu(this,"tick"),this.ga&&(ed(this),this.start()))}},Pl.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pl.N=function(){Xu.$.N.call(this),ed(this),delete this.g};class rd extends ql{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nd(this)}N(){super.N(),this.g&&(Dl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function id(e){ql.call(this),this.h=e,this.g={}}Gl(id,ql);var od=[];function ad(e,t,n,r){Array.isArray(n)||(n&&(od[0]=n.toString()),n=od);for(var i=0;i<n.length;i++){var o=Tu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function sd(e){wu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ru(e)}),e),e.g={}}function cd(){this.g=!0}function ld(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Bu(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}id.prototype.N=function(){id.$.N.call(this),sd(this)},id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cd.prototype.Ea=function(){this.g=!1},cd.prototype.info=function(){};var ud={},dd=null;function hd(){return dd=dd||new Vu}function fd(e){Kl.call(this,ud.Ta,e)}function pd(e){const t=hd();Uu(t,new fd(t))}function gd(e,t){Kl.call(this,ud.STAT_EVENT,e),this.stat=t}function md(e){const t=hd();Uu(t,new gd(t,e))}function vd(e,t){Kl.call(this,ud.Ua,e),this.size=t}function yd(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Dl.setTimeout((function(){e()}),t)}ud.Ta="serverreachability",Gl(fd,Kl),ud.STAT_EVENT="statevent",Gl(gd,Kl),ud.Ua="timingevent",Gl(vd,Kl);var bd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cd(){}function Id(e){return e.h||(e.h=e.i())}function Ed(){}Cd.prototype.h=null;var _d,xd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ad(){Kl.call(this,"d")}function kd(){Kl.call(this,"c")}function Sd(){}function Td(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new id(this),this.P=Nd,e=au?125:void 0,this.V=new Xu(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Pd}function Pd(){this.i=null,this.g="",this.h=!1}Gl(Ad,Kl),Gl(kd,Kl),Gl(Sd,Cd),Sd.prototype.g=function(){return new XMLHttpRequest},Sd.prototype.i=function(){return{}},_d=new Sd;var Nd=45e3,Od={},Rd={};function Dd(e,t,n){e.L=1,e.v=Xd(Kd(t)),e.s=n,e.S=!0,Ld(e,null)}function Ld(e,t){e.G=Date.now(),Vd(e),e.A=Kd(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),hh(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Pd,e.g=ff(e.l,n?t:null,!e.s),0<e.O&&(e.M=new rd(zl(e.Pa,e,e.g),e.O)),ad(e.U,e.g,"readystatechange",e.nb),t=e.I?Cu(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),pd(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var l=s[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Md(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function jd(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Fd(e,n),r==Rd){4==t&&(e.o=4,md(14),i=!1),ld(e.j,e.m,null,"[Incomplete Response]");break}if(r==Od){e.o=4,md(15),ld(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ld(e.j,e.m,r,null),qd(e,r)}Md(e)&&r!=Rd&&r!=Od&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,md(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),of(t),t.M=!0,md(11))):(ld(e.j,e.m,n,"[Invalid Chunked Response]"),Gd(e),Bd(e))}function Fd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Rd:(n=Number(t.substring(n,r)),isNaN(n)?Od:(r+=1)+n>t.length?Rd:(t=t.slice(r,r+n),e.C=r+n,t))}function Vd(e){e.Y=Date.now()+e.P,Ud(e,e.P)}function Ud(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=yd(zl(e.lb,e),t)}function zd(e){e.B&&(Dl.clearTimeout(e.B),e.B=null)}function Bd(e){0==e.l.H||e.J||cf(e.l,e)}function Gd(e){zd(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ed(e.V),sd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function qd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||bh(n.i,e)))if(!e.K&&bh(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;sf(n),Qh(n)}rf(n),md(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=yd(zl(n.ib,n),6e3));if(1>=yh(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else uf(n,11)}else if((e.K||n.g==e)&&sf(n),!Ql(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(wh(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Jd(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=hf(r,r.J?r.pa:null,r.Y),a.K){Ch(r.i,a);var s=a,c=r.L;c&&s.setTimeout(c),s.B&&(zd(s),Vd(s)),r.g=a}else nf(r);0<n.j.length&&Jh(n)}else"stop"!=l[0]&&"close"!=l[0]||uf(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?uf(n,7):$h(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}pd()}catch(e){}}function Zd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ll(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(Ll(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(Ll(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Pl=Td.prototype).setTimeout=function(e){this.P=e},Pl.nb=function(e){e=e.target;const t=this.M;t&&3==Gh(e)?t.l():this.Pa(e)},Pl.Pa=function(e){try{if(e==this.g)e:{const u=Gh(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||au||this.g&&(this.h.h||this.g.ja()||qh(this.g)))){this.J||4!=u||7==t||pd(),zd(this);var n=this.g.da();this.ca=n;t:if(Md(this)){var r=qh(this.g);e="";var i=r.length,o=4==Gh(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gd(this),Bd(this);var a="";break t}this.h.i=new Dl.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ql(s)){var l=s;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,md(12),Gd(this),Bd(this);break e}ld(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qd(this,n)}this.S?(jd(this,u,a),au&&this.i&&3==u&&(ad(this.U,this.V,"tick",this.mb),this.V.start())):(ld(this.j,this.m,a,null),qd(this,a)),4==u&&Gd(this),this.i&&!this.J&&(4==u?cf(this.l,this):(this.i=!1,Vd(this)))}else(function(e){const t={};e=(e.g&&2<=Gh(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ql(e[r]))continue;var n=Wu(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,md(12)):(this.o=0,md(13)),Gd(this),Bd(this)}}}catch(e){}},Pl.mb=function(){if(this.g){var e=Gh(this.g),t=this.g.ja();this.C<t.length&&(zd(this),jd(this,e,t),this.i&&4!=e&&Vd(this))}},Pl.cancel=function(){this.J=!0,Gd(this)},Pl.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(pd(),md(17)),Gd(this),this.o=2,Bd(this)):Ud(this,this.Y-e)};var Wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Hd){this.h=e.h,$d(this,e.j),this.s=e.s,this.g=e.g,Qd(this,e.m),this.l=e.l;var t=e.i,n=new ch;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Yd(this,n),this.o=e.o}else e&&(t=String(e).match(Wd))?(this.h=!1,$d(this,t[1]||"",!0),this.s=eh(t[2]||""),this.g=eh(t[3]||"",!0),Qd(this,t[4]),this.l=eh(t[5]||"",!0),Yd(this,t[6]||"",!0),this.o=eh(t[7]||"")):(this.h=!1,this.i=new ch(null,this.h))}function Kd(e){return new Hd(e)}function $d(e,t,n){e.j=n?eh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yd(e,t,n){t instanceof ch?(e.i=t,function(e,t){t&&!e.j&&(lh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(uh(this,t),hh(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=th(t,ah)),e.i=new ch(t,e.h))}function Jd(e,t,n){e.i.set(t,n)}function Xd(e){return Jd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function eh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function th(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,nh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Hd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(th(t,rh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(th(t,rh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(th(n,"/"==n.charAt(0)?oh:ih,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",th(n,sh)),e.join("")};var rh=/[#\/\?@]/g,ih=/[#\?:]/g,oh=/[#\?]/g,ah=/[#\?@]/g,sh=/#/g;function ch(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function lh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function uh(e,t){lh(e),t=fh(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function dh(e,t){return lh(e),t=fh(e,t),e.g.has(t)}function hh(e,t,n){uh(e,t),0<n.length&&(e.i=null,e.g.set(fh(e,t),Wl(n)),e.h+=n.length)}function fh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Pl=ch.prototype).add=function(e,t){lh(this),this.i=null,e=fh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Pl.forEach=function(e,t){lh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Pl.ta=function(){lh(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Pl.Z=function(e){lh(this);let t=[];if("string"==typeof e)dh(this,e)&&(t=t.concat(this.g.get(fh(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Pl.set=function(e,t){return lh(this),this.i=null,dh(this,e=fh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Pl.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Pl.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var ph=class{constructor(e,t){this.g=e,this.map=t}};function gh(e){this.l=e||mh,e=Dl.PerformanceNavigationTiming?0<(e=Dl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Dl.g&&Dl.g.Ka&&Dl.g.Ka()&&Dl.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mh=10;function vh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function yh(e){return e.h?1:e.g?e.g.size:0}function bh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function wh(e,t){e.g?e.g.add(t):e.h=t}function Ch(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ih(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Wl(e.i)}gh.prototype.cancel=function(){if(this.i=Ih(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Eh=class{stringify(e){return Dl.JSON.stringify(e,void 0)}parse(e){return Dl.JSON.parse(e,void 0)}};function _h(){this.g=new Eh}function xh(e,t,n){const r=n||"";try{Zd(e,(function(e,n){let i=e;Ml(e)&&(i=Bu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Ah(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function kh(e){this.l=e.fc||null,this.j=e.ob||!1}function Sh(e,t){Vu.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Th,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gl(kh,Cd),kh.prototype.g=function(){return new Sh(this.l,this.j)},kh.prototype.i=function(e){return function(){return e}}({}),Gl(Sh,Vu);var Th=0;function Ph(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Nh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Oh(e)}function Oh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Pl=Sh.prototype).open=function(e,t){if(this.readyState!=Th)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Oh(this)},Pl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Dl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Pl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nh(this)),this.readyState=Th},Pl.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Oh(this)),this.g&&(this.readyState=3,Oh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Dl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ph(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Pl.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nh(this):Oh(this),3==this.readyState&&Ph(this)}},Pl.Za=function(e){this.g&&(this.response=this.responseText=e,Nh(this))},Pl.Ya=function(e){this.g&&(this.response=e,Nh(this))},Pl.ka=function(){this.g&&Nh(this)},Pl.setRequestHeader=function(e,t){this.v.append(e,t)},Pl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Pl.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Rh=Dl.JSON.parse;function Dh(e){Vu.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Lh,this.L=this.M=!1}Gl(Dh,Vu);var Lh="",Mh=/^https?$/i,jh=["POST","PUT"];function Fh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vh(e),zh(e)}function Vh(e){e.F||(e.F=!0,Uu(e,"complete"),Uu(e,"error"))}function Uh(e){if(e.h&&void 0!==Rl&&(!e.C[1]||4!=Gh(e)||2!=e.da()))if(e.v&&4==Gh(e))td(e.La,0,e);else if(Uu(e,"readystatechange"),4==Gh(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Wd)[1]||null;!i&&Dl.self&&Dl.self.location&&(i=Dl.self.location.protocol.slice(0,-1)),r=!Mh.test(i?i.toLowerCase():"")}n=r}if(n)Uu(e,"complete"),Uu(e,"success");else{e.m=6;try{var o=2<Gh(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.da()+"]",Vh(e)}}finally{zh(e)}}}function zh(e,t){if(e.g){Bh(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Uu(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Bh(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Dl.clearTimeout(e.A),e.A=null)}function Gh(e){return e.g?e.g.readyState:0}function qh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Lh:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Zh(e){let t="";return wu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Wh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zh(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Jd(e,t,n))}function Hh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kh(e){this.Ga=0,this.j=[],this.l=new cd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hh("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hh("baseRetryDelayMs",5e3,e),this.hb=Hh("retryDelaySeedMs",1e4,e),this.eb=Hh("forwardChannelMaxRetries",2,e),this.xa=Hh("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new gh(e&&e.concurrentRequestLimit),this.Ja=new _h,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $h(e){if(Yh(e),3==e.H){var t=e.W++,n=Kd(e.I);if(Jd(n,"SID",e.K),Jd(n,"RID",t),Jd(n,"TYPE","terminate"),ef(e,n),(t=new Td(e,e.l,t)).L=2,t.v=Xd(Kd(n)),n=!1,Dl.navigator&&Dl.navigator.sendBeacon)try{n=Dl.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&Dl.Image&&((new Image).src=t.v,n=!0),n||(t.g=ff(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Vd(t)}df(e)}function Qh(e){e.g&&(of(e),e.g.cancel(),e.g=null)}function Yh(e){Qh(e),e.u&&(Dl.clearTimeout(e.u),e.u=null),sf(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Dl.clearTimeout(e.m),e.m=null)}function Jh(e){if(!vh(e.i)&&!e.m){e.m=!0;var t=e.Na;Ku||Yu(),$u||(Ku(),$u=!0),Qu.add(t,e),e.C=0}}function Xh(e,t){var n;n=t?t.m:e.W++;const r=Kd(e.I);Jd(r,"SID",e.K),Jd(r,"RID",n),Jd(r,"AID",e.V),ef(e,r),e.o&&e.s&&Wh(r,e.o,e.s),n=new Td(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=tf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),wh(e.i,n),Dd(n,r,t)}function ef(e,t){e.na&&wu(e.na,(function(e,n){Jd(t,n,e)})),e.h&&Zd({},(function(e,n){Jd(t,n,e)}))}function tf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?zl(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{xh(s,e,"req"+n+"_")}catch(e){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function nf(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ku||Yu(),$u||(Ku(),$u=!0),Qu.add(t,e),e.A=0}}function rf(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=yd(zl(e.Ma,e),lf(e,e.A)),e.A++,0))}function of(e){null!=e.B&&(Dl.clearTimeout(e.B),e.B=null)}function af(e){e.g=new Td(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Kd(e.wa);Jd(t,"RID","rpc"),Jd(t,"SID",e.K),Jd(t,"AID",e.V),Jd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Jd(t,"TO",e.qa),Jd(t,"TYPE","xmlhttp"),ef(e,t),e.o&&e.s&&Wh(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Xd(Kd(t)),n.s=null,n.S=!0,Ld(n,e)}function sf(e){null!=e.v&&(Dl.clearTimeout(e.v),e.v=null)}function cf(e,t){var n=null;if(e.g==t){sf(e),of(e),e.g=null;var r=2}else{if(!bh(e.i,t))return;n=t.F,Ch(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Uu(r=hd(),new vd(r,n)),Jh(e)}else nf(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(yh(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=yd(zl(e.Na,e,t),lf(e,e.C)),e.C++,0)))}(e,t)||2==r&&rf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:uf(e,5);break;case 4:uf(e,10);break;case 3:uf(e,6);break;default:uf(e,2)}}function lf(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function uf(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=zl(e.pb,e);n||(n=new Hd("//www.google.com/images/cleardot.gif"),Dl.location&&"http"==Dl.location.protocol||$d(n,"https"),Xd(n)),function(e,t){const n=new cd;if(Dl.Image){const r=new Image;r.onload=Bl(Ah,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bl(Ah,n,r,"TestLoadImage: error",!1,t),r.onabort=Bl(Ah,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bl(Ah,n,r,"TestLoadImage: timeout",!1,t),Dl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else md(2);e.H=0,e.h&&e.h.za(t),df(e),Yh(e)}function df(e){if(e.H=0,e.ma=[],e.h){const t=Ih(e.i);0==t.length&&0==e.j.length||(Hl(e.ma,t),Hl(e.ma,e.j),e.i.i.length=0,Wl(e.j),e.j.length=0),e.h.ya()}}function hf(e,t,n){var r=n instanceof Hd?Kd(n):new Hd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Qd(r,r.m);else{var i=Dl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Hd(null);r&&$d(o,r),t&&(o.g=t),i&&Qd(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Jd(r,n,t),Jd(r,"VER",e.ra),ef(e,r),r}function ff(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Dh(new kh({ob:!0})):new Dh(e.va)).Oa(e.J),t}function pf(){}function gf(){if(iu&&!(10<=Number(fu)))throw Error("Environmental error: no available transport.")}function mf(e,t){Vu.call(this),this.g=new Kh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ql(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ql(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new bf(this)}function vf(e){Ad.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yf(){kd.call(this),this.status=1}function bf(e){this.g=e}function wf(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cf(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function If(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Pl=Dh.prototype).Oa=function(e){this.M=e},Pl.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_d.g(),this.C=this.u?Id(this.u):Id(_d),this.g.onreadystatechange=zl(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void Fh(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Dl.FormData&&e instanceof Dl.FormData,!(0<=Zl(jh,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Bh(this),0<this.B&&((this.L=function(e){return iu&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zl(this.ua,this)):this.A=td(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Fh(this,e)}},Pl.ua=function(){void 0!==Rl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Uu(this,"timeout"),this.abort(8))},Pl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Uu(this,"complete"),Uu(this,"abort"),zh(this))},Pl.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zh(this,!0)),Dh.$.N.call(this)},Pl.La=function(){this.s||(this.G||this.v||this.l?Uh(this):this.kb())},Pl.kb=function(){Uh(this)},Pl.isActive=function(){return!!this.g},Pl.da=function(){try{return 2<Gh(this)?this.g.status:-1}catch(e){return-1}},Pl.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Pl.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rh(t)}},Pl.Ia=function(){return this.m},Pl.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pl=Kh.prototype).ra=8,Pl.H=1,Pl.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Td(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Cu(o),Eu(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tf(this,i,t),Jd(n=Kd(this.I),"RID",e),Jd(n,"CVER",22),this.F&&Jd(n,"X-HTTP-Session-Id",this.F),ef(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Zh(o)))+"&"+t:this.o&&Wh(n,this.o,o)),wh(this.i,i),this.bb&&Jd(n,"TYPE","init"),this.P?(Jd(n,"$req",t),Jd(n,"SID","null"),i.aa=!0,Dd(i,n,null)):Dd(i,n,t),this.H=2}}else 3==this.H&&(e?Xh(this,e):0==this.j.length||vh(this.i)||Xh(this))},Pl.Ma=function(){if(this.u=null,af(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=yd(zl(this.jb,this),e)}},Pl.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,md(10),Qh(this),af(this))},Pl.ib=function(){null!=this.v&&(this.v=null,Qh(this),rf(this),md(19))},Pl.pb=function(e){e?(this.l.info("Successfully pinged google.com"),md(2)):(this.l.info("Failed to ping google.com"),md(1))},Pl.isActive=function(){return!!this.h&&this.h.isActive(this)},(Pl=pf.prototype).Ba=function(){},Pl.Aa=function(){},Pl.za=function(){},Pl.ya=function(){},Pl.isActive=function(){return!0},Pl.Va=function(){},gf.prototype.g=function(e,t){return new mf(e,t)},Gl(mf,Vu),mf.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;md(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=hf(e,null,e.Y),Jh(e)},mf.prototype.close=function(){$h(this.g)},mf.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Bu(e),e=n);t.j.push(new ph(t.fb++,e)),3==t.H&&Jh(t)},mf.prototype.N=function(){this.g.h=null,delete this.j,$h(this.g),delete this.g,mf.$.N.call(this)},Gl(vf,Ad),Gl(yf,kd),Gl(bf,pf),bf.prototype.Ba=function(){Uu(this.g,"a")},bf.prototype.Aa=function(e){Uu(this.g,new vf(e))},bf.prototype.za=function(e){Uu(this.g,new yf)},bf.prototype.ya=function(){Uu(this.g,"b")},Gl(wf,(function(){this.blockSize=-1})),wf.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},wf.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Cf(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Cf(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Cf(this,r),i=0;break}}this.h=i,this.i+=t},wf.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ef={};function _f(e){return-128<=e&&128>e?function(e,t){var n=Ef;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new If([0|e],0>e?-1:0)}(e)}(e):new If([0|e],0>e?-1:0)}function xf(e){if(isNaN(e)||!isFinite(e))return kf;if(0>e)return Of(xf(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Af;return new If(t,0)}var Af=4294967296,kf=_f(0),Sf=_f(1),Tf=_f(16777216);function Pf(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Nf(e){return-1==e.h}function Of(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new If(n,~e.h).add(Sf)}function Rf(e,t){return e.add(Of(t))}function Df(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Lf(e,t){this.g=e,this.h=t}function Mf(e,t){if(Pf(t))throw Error("division by zero");if(Pf(e))return new Lf(kf,kf);if(Nf(e))return t=Mf(Of(e),t),new Lf(Of(t.g),Of(t.h));if(Nf(t))return t=Mf(e,Of(t)),new Lf(Of(t.g),t.h);if(30<e.g.length){if(Nf(e)||Nf(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Sf,r=t;0>=r.X(e);)n=jf(n),r=jf(r);var i=Ff(n,1),o=Ff(r,1);for(r=Ff(r,2),n=Ff(n,2);!Pf(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=Ff(r,1),n=Ff(n,1)}return t=Rf(e,i.R(t)),new Lf(i,t)}for(i=kf;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=xf(n)).R(t);Nf(a)||0<a.X(e);)a=(o=xf(n-=r)).R(t);Pf(o)&&(o=Sf),i=i.add(o),e=Rf(e,a)}return new Lf(i,e)}function jf(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new If(n,e.h)}function Ff(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new If(i,e.h)}(Pl=If.prototype).ea=function(){if(Nf(this))return-Of(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Af+r)*t,t*=Af}return e},Pl.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Pf(this))return"0";if(Nf(this))return"-"+Of(this).toString(e);for(var t=xf(Math.pow(e,6)),n=this,r="";;){var i=Mf(n,t).g,o=((0<(n=Rf(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Pf(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Pl.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Pl.X=function(e){return Nf(e=Rf(this,e))?-1:Pf(e)?0:1},Pl.abs=function(){return Nf(this)?Of(this):this},Pl.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new If(n,-2147483648&n[n.length-1]?-1:0)},Pl.R=function(e){if(Pf(this)||Pf(e))return kf;if(Nf(this))return Nf(e)?Of(this).R(Of(e)):Of(Of(this).R(e));if(Nf(e))return Of(this.R(Of(e)));if(0>this.X(Tf)&&0>e.X(Tf))return xf(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=a*c,Df(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Df(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,Df(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,Df(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new If(n,0)},Pl.gb=function(e){return Mf(this,e).h},Pl.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new If(n,this.h&e.h)},Pl.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new If(n,this.h|e.h)},Pl.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new If(n,this.h^e.h)},gf.prototype.createWebChannel=gf.prototype.g,mf.prototype.send=mf.prototype.u,mf.prototype.open=mf.prototype.m,mf.prototype.close=mf.prototype.close,bd.NO_ERROR=0,bd.TIMEOUT=8,bd.HTTP_ERROR=6,wd.COMPLETE="complete",Ed.EventType=xd,xd.OPEN="a",xd.CLOSE="b",xd.ERROR="c",xd.MESSAGE="d",Vu.prototype.listen=Vu.prototype.O,Dh.prototype.listenOnce=Dh.prototype.P,Dh.prototype.getLastError=Dh.prototype.Sa,Dh.prototype.getLastErrorCode=Dh.prototype.Ia,Dh.prototype.getStatus=Dh.prototype.da,Dh.prototype.getResponseJson=Dh.prototype.Wa,Dh.prototype.getResponseText=Dh.prototype.ja,Dh.prototype.send=Dh.prototype.ha,Dh.prototype.setWithCredentials=Dh.prototype.Oa,wf.prototype.digest=wf.prototype.l,wf.prototype.reset=wf.prototype.reset,wf.prototype.update=wf.prototype.j,If.prototype.add=If.prototype.add,If.prototype.multiply=If.prototype.R,If.prototype.modulo=If.prototype.gb,If.prototype.compare=If.prototype.X,If.prototype.toNumber=If.prototype.ea,If.prototype.toString=If.prototype.toString,If.prototype.getBits=If.prototype.D,If.fromNumber=xf,If.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Of(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=xf(Math.pow(n,8)),i=kf,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=xf(Math.pow(n,a)),i=i.R(a).add(xf(s))):i=(i=i.R(r)).add(xf(s))}return i};var Vf=Ol.createWebChannelTransport=function(){return new gf},Uf=Ol.getStatEventTarget=function(){return hd()},zf=Ol.ErrorCode=bd,Bf=Ol.EventType=wd,Gf=Ol.Event=ud,qf=Ol.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zf=Ol.FetchXmlHttpFactory=kh,Wf=Ol.WebChannel=Ed,Hf=Ol.XhrIo=Dh,Kf=Ol.Md5=wf,$f=Ol.Integer=If;const Qf="@firebase/firestore";class Yf{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yf.UNAUTHENTICATED=new Yf(null),Yf.GOOGLE_CREDENTIALS=new Yf("google-credentials-uid"),Yf.FIRST_PARTY=new Yf("first-party-uid"),Yf.MOCK_USER=new Yf("mock-user");let Jf="9.23.0";const Xf=new or("@firebase/firestore");function ep(){return Xf.logLevel}function tp(e,...t){if(Xf.logLevel<=er.DEBUG){const n=t.map(ip);Xf.debug(`Firestore (${Jf}): ${e}`,...n)}}function np(e,...t){if(Xf.logLevel<=er.ERROR){const n=t.map(ip);Xf.error(`Firestore (${Jf}): ${e}`,...n)}}function rp(e,...t){if(Xf.logLevel<=er.WARN){const n=t.map(ip);Xf.warn(`Firestore (${Jf}): ${e}`,...n)}}function ip(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function op(e="Unexpected state"){const t=`FIRESTORE (${Jf}) INTERNAL ASSERTION FAILED: `+e;throw np(t),new Error(t)}function ap(e,t){e||op()}function sp(e,t){return e}const cp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lp extends xn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class up{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class dp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yf.UNAUTHENTICATED)))}shutdown(){}}class fp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pp{constructor(e){this.t=e,this.currentUser=Yf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new up;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new up,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{tp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(tp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new up)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(tp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ap("string"==typeof t.accessToken),new dp(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ap(null===e||"string"==typeof e),new Yf(e)}}class gp{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Yf.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class mp{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new gp(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Yf.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yp{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&tp("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,tp("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{tp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):tp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ap("string"==typeof e.token),this.T=e.token,new vp(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bp(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class wp{static A(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=bp(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Cp(e,t){return e<t?-1:e>t?1:0}function Ip(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ep(e){return e+"\0"}class _p{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lp(cp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lp(cp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new lp(cp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lp(cp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _p.fromMillis(Date.now())}static fromDate(e){return _p.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new _p(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cp(this.nanoseconds,e.nanoseconds):Cp(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xp(e)}static min(){return new xp(new _p(0,0))}static max(){return new xp(new _p(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ap{constructor(e,t,n){void 0===t?t=0:t>e.length&&op(),void 0===n?n=e.length-t:n>e.length-t&&op(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ap.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ap?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kp extends Ap{construct(e,t,n){return new kp(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new lp(cp.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new kp(t)}static emptyPath(){return new kp([])}}const Sp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tp extends Ap{construct(e,t,n){return new Tp(e,t,n)}static isValidIdentifier(e){return Sp.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tp.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tp(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new lp(cp.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new lp(cp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new lp(cp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new lp(cp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tp(t)}static emptyPath(){return new Tp([])}}class Pp{constructor(e){this.path=e}static fromPath(e){return new Pp(kp.fromString(e))}static fromName(e){return new Pp(kp.fromString(e).popFirst(5))}static empty(){return new Pp(kp.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kp.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kp.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pp(new kp(e.slice()))}}class Np{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Op(e){return e.fields.find((e=>2===e.kind))}function Rp(e){return e.fields.filter((e=>2!==e.kind))}Np.UNKNOWN_ID=-1;class Dp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Lp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Lp(0,Fp.min())}}function Mp(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xp.fromTimestamp(1e9===r?new _p(n+1,0):new _p(n,r));return new Fp(i,Pp.empty(),t)}function jp(e){return new Fp(e.readTime,e.key,-1)}class Fp{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Fp(xp.min(),Pp.empty(),-1)}static max(){return new Fp(xp.max(),Pp.empty(),-1)}}function Vp(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Pp.comparator(e.documentKey,t.documentKey),0!==n?n:Cp(e.largestBatchId,t.largestBatchId))}const Up="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bp(e){if(e.code!==cp.FAILED_PRECONDITION||e.message!==Up)throw e;tp("LocalStore","Unexpectedly lost primary lease")}class Gp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&op(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Gp(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Gp?t:Gp.resolve(t)}catch(e){return Gp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Gp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Gp.reject(t)}static resolve(e){return new Gp(((t,n)=>{t(e)}))}static reject(e){return new Gp(((t,n)=>{n(e)}))}static waitFor(e){return new Gp(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Gp.resolve(!1);for(const n of e)t=t.next((e=>e?Gp.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Gp(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const c=s;t(e[c]).next((e=>{o[c]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Gp(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class qp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new up,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Hp(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=Jp(t.target.error);this.v.reject(new Hp(e,n))}}static open(e,t,n,r){try{return new qp(t,e.transaction(r,n))}catch(e){throw new Hp(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(tp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $p(t)}}class Zp{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===Zp.S(yn())&&np("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return tp("SimpleDb","Removing database:",e),Qp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!_n())return!1;if(Zp.C())return!0;const e=yn(),t=Zp.S(e),n=0<t&&t<10,r=Zp.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(tp("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Hp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new lp(cp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new lp(cp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Hp(e,r))},r.onupgradeneeded=e=>{tp("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{tp("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.$(e);const t=qp.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Gp.reject(e)))).toPromise();return o.catch((()=>{})),await t.R,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(tp("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Wp{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Qp(this.L.delete())}}class Hp extends lp{constructor(e,t){super(cp.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kp(e){return"IndexedDbTransactionError"===e.name}class $p{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(tp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(tp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Qp(n)}add(e){return tp("SimpleDb","ADD",this.store.name,e,e),Qp(this.store.add(e))}get(e){return Qp(this.store.get(e)).next((t=>(void 0===t&&(t=null),tp("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return tp("SimpleDb","DELETE",this.store.name,e),Qp(this.store.delete(e))}count(){return tp("SimpleDb","COUNT",this.store.name),Qp(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Gp(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Gp(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){tp("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new Gp(((n,r)=>{t.onerror=e=>{const t=Jp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Gp(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Wp(i),a=t(i.primaryKey,i.value,o);if(a instanceof Gp){const e=a.catch((e=>(o.done(),Gp.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>Gp.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Qp(e){return new Gp(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Jp(e.target.error);n(t)}}))}let Yp=!1;function Jp(e){const t=Zp.S(yn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new lp("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yp||(Yp=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Xp{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){tp("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{tp("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(e){Kp(e)?tp("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Bp(e)}await this.et(6e4)}))}}class eg{constructor(e,t){this.localStore=e,this.persistence=t}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return Gp.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return tp("IndexBackiller",`Processing collection: ${t}`),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(tp("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=jp(t);Vp(r,n)>0&&(n=r)})),new Fp(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class tg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function ng(e){return null==e}function rg(e){return 0===e&&1/e==-1/0}function ig(e){return"number"==typeof e&&Number.isInteger(e)&&!rg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function og(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=sg(t)),t=ag(e.get(n),t);return sg(t)}function ag(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function sg(e){return e+""}function cg(e){const t=e.length;if(ap(t>=2),2===t)return ap(""===e.charAt(0)&&""===e.charAt(1)),kp.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&op(),e.charAt(t+1)){case"":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:op()}o=t+2}return new kp(r)}tg.ct=-1;const lg=["userId","batchId"];function ug(e,t){return[e,og(t)]}function dg(e,t,n){return[e,og(t),n]}const hg={},fg=["prefixPath","collectionGroup","readTime","documentId"],pg=["prefixPath","collectionGroup","documentId"],gg=["collectionGroup","readTime","prefixPath","documentId"],mg=["canonicalId","targetId"],vg=["targetId","path"],yg=["path","targetId"],bg=["collectionId","parent"],wg=["indexId","uid"],Cg=["uid","sequenceNumber"],Ig=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Eg=["indexId","uid","orderedDocumentKey"],_g=["userId","collectionPath","documentId"],xg=["userId","collectionPath","largestBatchId"],Ag=["userId","collectionGroup","largestBatchId"],kg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Sg=[...kg,"documentOverlays"],Tg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pg=Tg,Ng=[...Pg,"indexConfiguration","indexState","indexEntries"];class Og extends zp{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Rg(e,t){const n=sp(e);return Zp.M(n.ht,t)}function Dg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Lg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class jg{constructor(e,t){this.comparator=e,this.root=t||Vg.EMPTY}insert(e,t){return new jg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vg.BLACK,null,null))}remove(e){return new jg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vg.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fg(this.root,e,this.comparator,!0)}}class Fg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vg{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Vg.RED,this.left=null!=r?r:Vg.EMPTY,this.right=null!=i?i:Vg.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Vg(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vg.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Vg.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vg.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vg.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw op();if(this.right.isRed())throw op();const e=this.left.check();if(e!==this.right.check())throw op();return e+(this.isRed()?0:1)}}Vg.EMPTY=null,Vg.RED=!0,Vg.BLACK=!1,Vg.EMPTY=new class{constructor(){this.size=0}get key(){throw op()}get value(){throw op()}get color(){throw op()}get left(){throw op()}get right(){throw op()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Vg(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ug{constructor(e){this.comparator=e,this.data=new jg(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zg(this.data.getIterator())}getIteratorFrom(e){return new zg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ug))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ug(this.comparator);return t.data=e,t}}class zg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bg(e){return e.hasNext()?e.getNext():void 0}class Gg{constructor(e){this.fields=e,e.sort(Tp.comparator)}static empty(){return new Gg([])}unionWith(e){let t=new Ug(Tp.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Gg(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ip(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class qg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new qg("Invalid base64 string: "+e):e}}(e);return new Zg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Zg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cp(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zg.EMPTY_BYTE_STRING=new Zg("");const Wg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hg(e){if(ap(!!e),"string"==typeof e){let t=0;const n=Wg.exec(e);if(ap(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Kg(e.seconds),nanos:Kg(e.nanos)}}function Kg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function $g(e){return"string"==typeof e?Zg.fromBase64String(e):Zg.fromUint8Array(e)}function Qg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yg(e){const t=e.mapValue.fields.__previous_value__;return Qg(t)?Yg(t):t}function Jg(e){const t=Hg(e.mapValue.fields.__local_write_time__.timestampValue);return new _p(t.seconds,t.nanos)}class Xg{constructor(e,t,n,r,i,o,a,s,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=c}}class em{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new em("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof em&&e.projectId===this.projectId&&e.database===this.database}}const tm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nm={nullValue:"NULL_VALUE"};function rm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qg(e)?4:vm(e)?9007199254740991:10:op()}function im(e,t){if(e===t)return!0;const n=rm(e);if(n!==rm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Jg(e).isEqual(Jg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Hg(e.timestampValue),r=Hg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return $g(e.bytesValue).isEqual($g(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Kg(e.geoPointValue.latitude)===Kg(t.geoPointValue.latitude)&&Kg(e.geoPointValue.longitude)===Kg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Kg(e.integerValue)===Kg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Kg(e.doubleValue),r=Kg(t.doubleValue);return n===r?rg(n)===rg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ip(e.arrayValue.values||[],t.arrayValue.values||[],im);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Dg(n)!==Dg(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!im(n[e],r[e])))return!1;return!0}(e,t);default:return op()}}function om(e,t){return void 0!==(e.values||[]).find((e=>im(e,t)))}function am(e,t){if(e===t)return 0;const n=rm(e),r=rm(t);if(n!==r)return Cp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cp(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Kg(e.integerValue||e.doubleValue),r=Kg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return sm(e.timestampValue,t.timestampValue);case 4:return sm(Jg(e),Jg(t));case 5:return Cp(e.stringValue,t.stringValue);case 6:return function(e,t){const n=$g(e),r=$g(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Cp(n[e],r[e]);if(0!==t)return t}return Cp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cp(Kg(e.latitude),Kg(t.latitude));return 0!==n?n:Cp(Kg(e.longitude),Kg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=am(n[e],r[e]);if(t)return t}return Cp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===tm.mapValue&&t===tm.mapValue)return 0;if(e===tm.mapValue)return 1;if(t===tm.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=Cp(r[e],o[e]);if(0!==t)return t;const a=am(n[r[e]],i[o[e]]);if(0!==a)return a}return Cp(r.length,o.length)}(e.mapValue,t.mapValue);default:throw op()}}function sm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cp(e,t);const n=Hg(e),r=Hg(t),i=Cp(n.seconds,r.seconds);return 0!==i?i:Cp(n.nanos,r.nanos)}function cm(e){return lm(e)}function lm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Hg(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$g(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Pp.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=lm(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${lm(e.fields[i])}`;return n+"}"}(e.mapValue):op();var t,n}function um(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function dm(e){return!!e&&"integerValue"in e}function hm(e){return!!e&&"arrayValue"in e}function fm(e){return!!e&&"nullValue"in e}function pm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gm(e){return!!e&&"mapValue"in e}function mm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Lg(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=mm(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mm(e.arrayValue.values[n]);return t}return Object.assign({},e)}function vm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ym(e){return"nullValue"in e?nm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?um(em.empty(),Pp.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:op()}function bm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?um(em.empty(),Pp.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?tm:op()}function wm(e,t){const n=am(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Cm(e,t){const n=am(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Im{constructor(e){this.value=e}static empty(){return new Im({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!gm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mm(t)}setAll(e){let t=Tp.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=mm(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());gm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return im(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];gm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Lg(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Im(mm(this.value))}}function Em(e){const t=[];return Lg(e.fields,((e,n)=>{const r=new Tp([e]);if(gm(n)){const e=Em(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Gg(t)}class _m{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _m(e,0,xp.min(),xp.min(),xp.min(),Im.empty(),0)}static newFoundDocument(e,t,n,r){return new _m(e,1,t,xp.min(),n,r,0)}static newNoDocument(e,t){return new _m(e,2,t,xp.min(),xp.min(),Im.empty(),0)}static newUnknownDocument(e,t){return new _m(e,3,t,xp.min(),xp.min(),Im.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Im.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Im.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xp.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _m&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _m(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xm{constructor(e,t){this.position=e,this.inclusive=t}}function Am(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Pp.comparator(Pp.fromName(a.referenceValue),n.key):am(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function km(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!im(e.position[n],t.position[n]))return!1;return!0}class Sm{constructor(e,t="asc"){this.field=e,this.dir=t}}function Tm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Pm{}class Nm extends Pm{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new zm(e,t,n):"array-contains"===t?new Zm(e,n):"in"===t?new Wm(e,n):"not-in"===t?new Hm(e,n):"array-contains-any"===t?new Km(e,n):new Nm(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bm(e,n):new Gm(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(am(t,this.value)):null!==t&&rm(this.value)===rm(t)&&this.matchesComparison(am(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return op()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Om extends Pm{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Om(e,t)}matches(e){return Rm(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Rm(e){return"and"===e.op}function Dm(e){return"or"===e.op}function Lm(e){return Mm(e)&&Rm(e)}function Mm(e){for(const t of e.filters)if(t instanceof Om)return!1;return!0}function jm(e){if(e instanceof Nm)return e.field.canonicalString()+e.op.toString()+cm(e.value);if(Lm(e))return e.filters.map((e=>jm(e))).join(",");{const t=e.filters.map((e=>jm(e))).join(",");return`${e.op}(${t})`}}function Fm(e,t){return e instanceof Nm?function(e,t){return t instanceof Nm&&e.op===t.op&&e.field.isEqual(t.field)&&im(e.value,t.value)}(e,t):e instanceof Om?function(e,t){return t instanceof Om&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Fm(n,t.filters[r])),!0)}(e,t):void op()}function Vm(e,t){const n=e.filters.concat(t);return Om.create(n,e.op)}function Um(e){return e instanceof Nm?function(e){return`${e.field.canonicalString()} ${e.op} ${cm(e.value)}`}(e):e instanceof Om?function(e){return e.op.toString()+" {"+e.getFilters().map(Um).join(" ,")+"}"}(e):"Filter"}class zm extends Nm{constructor(e,t,n){super(e,t,n),this.key=Pp.fromName(n.referenceValue)}matches(e){const t=Pp.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bm extends Nm{constructor(e,t){super(e,"in",t),this.keys=qm(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Gm extends Nm{constructor(e,t){super(e,"not-in",t),this.keys=qm(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Pp.fromName(e.referenceValue)))}class Zm extends Nm{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hm(t)&&om(t.arrayValue,this.value)}}class Wm extends Nm{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&om(this.value.arrayValue,t)}}class Hm extends Nm{constructor(e,t){super(e,"not-in",t)}matches(e){if(om(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!om(this.value.arrayValue,t)}}class Km extends Nm{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>om(this.value.arrayValue,e)))}}class $m{constructor(e,t=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Qm(e,t=null,n=[],r=[],i=null,o=null,a=null){return new $m(e,t,n,r,i,o,a)}function Ym(e){const t=sp(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>jm(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ng(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>cm(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>cm(e))).join(",")),t.dt=e}return t.dt}function Jm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Tm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!km(e.startAt,t.startAt)&&km(e.endAt,t.endAt)}function Xm(e){return Pp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ev(e,t){return e.filters.filter((e=>e instanceof Nm&&e.field.isEqual(t)))}function tv(e,t,n){let r=nm,i=!0;for(const n of ev(e,t)){let e=nm,t=!0;switch(n.op){case"<":case"<=":e=ym(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=nm}wm({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];wm({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function nv(e,t,n){let r=tm,i=!0;for(const n of ev(e,t)){let e=tm,t=!0;switch(n.op){case">=":case">":e=bm(n.value),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=tm}Cm({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Cm({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class rv{constructor(e,t=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function iv(e,t,n,r,i,o,a,s){return new rv(e,t,n,r,i,o,a,s)}function ov(e){return new rv(e)}function av(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function sv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cv(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function lv(e){return null!==e.collectionGroup}function uv(e){const t=sp(e);if(null===t.wt){t.wt=[];const e=cv(t),n=sv(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Sm(e)),t.wt.push(new Sm(Tp.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Sm(Tp.keyField(),e))}}}return t.wt}function dv(e){const t=sp(e);if(!t._t)if("F"===t.limitType)t._t=Qm(t.path,t.collectionGroup,uv(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of uv(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Sm(n.field,t))}const n=t.endAt?new xm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xm(t.startAt.position,t.startAt.inclusive):null;t._t=Qm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function hv(e,t){t.getFirstInequalityField(),cv(e);const n=e.filters.concat([t]);return new rv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function fv(e,t,n){return new rv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pv(e,t){return Jm(dv(e),dv(t))&&e.limitType===t.limitType}function gv(e){return`${Ym(dv(e))}|lt:${e.limitType}`}function mv(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Um(e))).join(", ")}]`),ng(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>cm(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>cm(e))).join(",")),`Target(${t})`}(dv(e))}; limitType=${e.limitType})`}function vv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Pp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of uv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Am(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,uv(e),t)||e.endAt&&!function(e,t,n){const r=Am(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,uv(e),t))}(e,t)}function yv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bv(e){return(t,n)=>{let r=!1;for(const i of uv(e)){const e=wv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function wv(e,t,n){const r=e.field.isKeyField()?Pp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?am(r,i):op()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return op()}}class Cv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Lg(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Mg(this.inner)}size(){return this.innerSize}}const Iv=new jg(Pp.comparator);function Ev(){return Iv}const _v=new jg(Pp.comparator);function xv(...e){let t=_v;for(const n of e)t=t.insert(n.key,n);return t}function Av(e){let t=_v;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function kv(){return Tv()}function Sv(){return Tv()}function Tv(){return new Cv((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Pv=new jg(Pp.comparator),Nv=new Ug(Pp.comparator);function Ov(...e){let t=Nv;for(const n of e)t=t.add(n);return t}const Rv=new Ug(Cp);function Dv(){return Rv}function Lv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rg(t)?"-0":t}}function Mv(e){return{integerValue:""+e}}function jv(e,t){return ig(t)?Mv(t):Lv(e,t)}class Fv{constructor(){this._=void 0}}function Vv(e,t,n){return e instanceof Bv?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Qg(t)&&(t=Yg(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gv?qv(e,t):e instanceof Zv?Wv(e,t):function(e,t){const n=zv(e,t),r=Kv(n)+Kv(e.gt);return dm(n)&&dm(e.gt)?Mv(r):Lv(e.serializer,r)}(e,t)}function Uv(e,t,n){return e instanceof Gv?qv(e,t):e instanceof Zv?Wv(e,t):n}function zv(e,t){return e instanceof Hv?dm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Bv extends Fv{}class Gv extends Fv{constructor(e){super(),this.elements=e}}function qv(e,t){const n=$v(t);for(const t of e.elements)n.some((e=>im(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Zv extends Fv{constructor(e){super(),this.elements=e}}function Wv(e,t){let n=$v(t);for(const t of e.elements)n=n.filter((e=>!im(e,t)));return{arrayValue:{values:n}}}class Hv extends Fv{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Kv(e){return Kg(e.integerValue||e.doubleValue)}function $v(e){return hm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Qv{constructor(e,t){this.field=e,this.transform=t}}class Yv{constructor(e,t){this.version=e,this.transformResults=t}}class Jv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Jv}static exists(e){return new Jv(void 0,e)}static updateTime(e){return new Jv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ey{}function ty(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dy(e.key,Jv.none()):new ay(e.key,e.data,Jv.none());{const n=e.data,r=Im.empty();let i=new Ug(Tp.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new sy(e.key,r,new Gg(i.toArray()),Jv.none())}}function ny(e,t,n){e instanceof ay?function(e,t,n){const r=e.value.clone(),i=ly(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sy?function(e,t,n){if(!Xv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ly(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ry(e,t,n,r){return e instanceof ay?function(e,t,n,r){if(!Xv(e.precondition,t))return n;const i=e.value.clone(),o=uy(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof sy?function(e,t,n,r){if(!Xv(e.precondition,t))return n;const i=uy(e.fieldTransforms,r,t),o=t.data;return o.setAll(cy(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Xv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function iy(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=zv(r.transform,e||null);null!=i&&(null===n&&(n=Im.empty()),n.set(r.field,i))}return n||null}function oy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ip(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gv&&t instanceof Gv||e instanceof Zv&&t instanceof Zv?Ip(e.elements,t.elements,im):e instanceof Hv&&t instanceof Hv?im(e.gt,t.gt):e instanceof Bv&&t instanceof Bv}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ay extends ey{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class sy extends ey{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cy(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ly(e,t,n){const r=new Map;ap(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Uv(a,s,n[i]))}return r}function uy(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Vv(e,o,t))}return r}class dy extends ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hy extends ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fy{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&ny(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ry(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ry(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Sv();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=ty(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(xp.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ov())}isEqual(e){return this.batchId===e.batchId&&Ip(this.mutations,e.mutations,((e,t)=>oy(e,t)))&&Ip(this.baseMutations,e.baseMutations,((e,t)=>oy(e,t)))}}class py{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ap(e.mutations.length===n.length);let r=Pv;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new py(e,t,n,r)}}class gy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class my{constructor(e,t){this.count=e,this.unchangedNames=t}}var vy,yy;function by(e){switch(e){default:return op();case cp.CANCELLED:case cp.UNKNOWN:case cp.DEADLINE_EXCEEDED:case cp.RESOURCE_EXHAUSTED:case cp.INTERNAL:case cp.UNAVAILABLE:case cp.UNAUTHENTICATED:return!1;case cp.INVALID_ARGUMENT:case cp.NOT_FOUND:case cp.ALREADY_EXISTS:case cp.PERMISSION_DENIED:case cp.FAILED_PRECONDITION:case cp.ABORTED:case cp.OUT_OF_RANGE:case cp.UNIMPLEMENTED:case cp.DATA_LOSS:return!0}}function wy(e){if(void 0===e)return np("GRPC error has no .code"),cp.UNKNOWN;switch(e){case vy.OK:return cp.OK;case vy.CANCELLED:return cp.CANCELLED;case vy.UNKNOWN:return cp.UNKNOWN;case vy.DEADLINE_EXCEEDED:return cp.DEADLINE_EXCEEDED;case vy.RESOURCE_EXHAUSTED:return cp.RESOURCE_EXHAUSTED;case vy.INTERNAL:return cp.INTERNAL;case vy.UNAVAILABLE:return cp.UNAVAILABLE;case vy.UNAUTHENTICATED:return cp.UNAUTHENTICATED;case vy.INVALID_ARGUMENT:return cp.INVALID_ARGUMENT;case vy.NOT_FOUND:return cp.NOT_FOUND;case vy.ALREADY_EXISTS:return cp.ALREADY_EXISTS;case vy.PERMISSION_DENIED:return cp.PERMISSION_DENIED;case vy.FAILED_PRECONDITION:return cp.FAILED_PRECONDITION;case vy.ABORTED:return cp.ABORTED;case vy.OUT_OF_RANGE:return cp.OUT_OF_RANGE;case vy.UNIMPLEMENTED:return cp.UNIMPLEMENTED;case vy.DATA_LOSS:return cp.DATA_LOSS;default:return op()}}(yy=vy||(vy={}))[yy.OK=0]="OK",yy[yy.CANCELLED=1]="CANCELLED",yy[yy.UNKNOWN=2]="UNKNOWN",yy[yy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yy[yy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yy[yy.NOT_FOUND=5]="NOT_FOUND",yy[yy.ALREADY_EXISTS=6]="ALREADY_EXISTS",yy[yy.PERMISSION_DENIED=7]="PERMISSION_DENIED",yy[yy.UNAUTHENTICATED=16]="UNAUTHENTICATED",yy[yy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yy[yy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yy[yy.ABORTED=10]="ABORTED",yy[yy.OUT_OF_RANGE=11]="OUT_OF_RANGE",yy[yy.UNIMPLEMENTED=12]="UNIMPLEMENTED",yy[yy.INTERNAL=13]="INTERNAL",yy[yy.UNAVAILABLE=14]="UNAVAILABLE",yy[yy.DATA_LOSS=15]="DATA_LOSS";class Cy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Iy}static getOrCreateInstance(){return null===Iy&&(Iy=new Cy),Iy}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Iy=null;function Ey(){return new TextEncoder}const _y=new $f([4294967295,4294967295],0);function xy(e){const t=Ey().encode(e),n=new Kf;return n.update(t),new Uint8Array(n.digest())}function Ay(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new $f([n,r],0),new $f([i,o],0)]}class ky{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sy(`Invalid padding: ${t}`);if(n<0)throw new Sy(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Sy(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Sy(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=$f.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply($f.fromNumber(n)));return 1===r.compare(_y)&&(r=new $f([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=xy(e),[n,r]=Ay(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);if(!this.At(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ky(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=xy(e),[n,r]=Ay(t);for(let e=0;e<this.hashCount;e++){const t=this.Et(n,r,e);this.Rt(t)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ty{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Py.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ty(xp.min(),r,new jg(Cp),Ev(),Ov())}}class Py{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Py(n,t,Ov(),Ov(),Ov())}}class Ny{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Oy{constructor(e,t){this.targetId=e,this.Vt=t}}class Ry{constructor(e,t,n=Zg.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Dy{constructor(){this.St=0,this.Dt=jy(),this.Ct=Zg.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ov(),t=Ov(),n=Ov();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:op()}})),new Py(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=jy()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Ly{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ev(),this.zt=My(),this.Wt=new jg(Cp)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:op()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Xm(o))if(0===r){const e=new Pp(o.path);this.Yt(n,e,_m.newNoDocument(e,xp.min()))}else ap(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Cy.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,c;const l={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(l.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(c=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==c?c:0}),l}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let s,c;try{s=$g(i).toUint8Array()}catch(e){if(e instanceof qg)return rp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{c=new ky(s,o,a)}catch(e){return rp(e instanceof Sy?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===c.It?1:r!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Xm(i.target)){const t=new Pp(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,_m.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Ov();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Ty(e,t,this.Wt,this.jt,n);return this.jt=Ev(),this.zt=My(),this.Wt=new jg(Cp),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Dy,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ug(Cp),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||tp("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Dy),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function My(){return new jg(Pp.comparator)}function jy(){return new jg(Pp.comparator)}const Fy={asc:"ASCENDING",desc:"DESCENDING"},Vy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uy={and:"AND",or:"OR"};class zy{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function By(e,t){return e.useProto3Json||ng(t)?t:{value:t}}function Gy(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qy(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zy(e,t){return Gy(e,t.toTimestamp())}function Wy(e){return ap(!!e),xp.fromTimestamp(function(e){const t=Hg(e);return new _p(t.seconds,t.nanos)}(e))}function Hy(e,t){return function(e){return new kp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ky(e){const t=kp.fromString(e);return ap(mb(t)),t}function $y(e,t){return Hy(e.databaseId,t.path)}function Qy(e,t){const n=Ky(t);if(n.get(1)!==e.databaseId.projectId)throw new lp(cp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lp(cp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Pp(eb(n))}function Yy(e,t){return Hy(e.databaseId,t)}function Jy(e){const t=Ky(e);return 4===t.length?kp.emptyPath():eb(t)}function Xy(e){return new kp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function eb(e){return ap(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function tb(e,t,n){return{name:$y(e,t),fields:n.value.mapValue.fields}}function nb(e,t,n){const r=Qy(e,t.name),i=Wy(t.updateTime),o=t.createTime?Wy(t.createTime):xp.min(),a=new Im({mapValue:{fields:t.fields}}),s=_m.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function rb(e,t){let n;if(t instanceof ay)n={update:tb(e,t.key,t.value)};else if(t instanceof dy)n={delete:$y(e,t.key)};else if(t instanceof sy)n={update:tb(e,t.key,t.data),updateMask:gb(t.fieldMask)};else{if(!(t instanceof hy))return op();n={verify:$y(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Bv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hv)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw op()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:op()}(e,t.precondition)),n}function ib(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Jv.updateTime(Wy(e.updateTime)):void 0!==e.exists?Jv.exists(e.exists):Jv.none()}(t.currentDocument):Jv.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ap("REQUEST_TIME"===t.setToServerValue),n=new Bv;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Gv(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Zv(e)}else"increment"in t?n=new Hv(e,t.increment):op();const r=Tp.fromServerFormat(t.fieldPath);return new Qv(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Qy(e,t.update.name),o=new Im({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Gg(t.map((e=>Tp.fromServerFormat(e))))}(t.updateMask);return new sy(i,o,e,n,r)}return new ay(i,o,n,r)}if(t.delete){const r=Qy(e,t.delete);return new dy(r,n)}if(t.verify){const r=Qy(e,t.verify);return new hy(r,n)}return op()}function ob(e,t){return{documents:[Yy(e,t.path)]}}function ab(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Yy(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Yy(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return pb(Om.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:hb(e.field),direction:lb(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=By(e,t.limit);var s;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function sb(e){let t=Jy(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ap(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=cb(e);return t instanceof Om&&Lm(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Sm(fb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,ng(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new xm(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new xm(n,t)}(n.endAt)),iv(t,i,a,o,s,"F",c,l)}function cb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fb(e.unaryFilter.field);return Nm.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=fb(e.unaryFilter.field);return Nm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fb(e.unaryFilter.field);return Nm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=fb(e.unaryFilter.field);return Nm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return op()}}(e):void 0!==e.fieldFilter?function(e){return Nm.create(fb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return op()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Om.create(e.compositeFilter.filters.map((e=>cb(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return op()}}(e.compositeFilter.op))}(e):op()}function lb(e){return Fy[e]}function ub(e){return Vy[e]}function db(e){return Uy[e]}function hb(e){return{fieldPath:e.canonicalString()}}function fb(e){return Tp.fromServerFormat(e.fieldPath)}function pb(e){return e instanceof Nm?function(e){if("=="===e.op){if(pm(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NAN"}};if(fm(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pm(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NOT_NAN"}};if(fm(e.value))return{unaryFilter:{field:hb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hb(e.field),op:ub(e.op),value:e.value}}}(e):e instanceof Om?function(e){const t=e.getFilters().map((e=>pb(e)));return 1===t.length?t[0]:{compositeFilter:{op:db(e.op),filters:t}}}(e):op()}function gb(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function mb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class vb{constructor(e,t,n,r,i=xp.min(),o=xp.min(),a=Zg.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new vb(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vb(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vb(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yb{constructor(e){this.fe=e}}function bb(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:$y(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Gy(e,t.version.toTimestamp()),createTime:Gy(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cb(t.version)};else{if(!t.isUnknownDocument())return op();r.unknownDocument={path:n.path.toArray(),version:Cb(t.version)}}return r}function wb(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cb(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ib(e){const t=new _p(e.seconds,e.nanoseconds);return xp.fromTimestamp(t)}function Eb(e,t){const n=(t.baseMutations||[]).map((t=>ib(e.fe,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>ib(e.fe,t))),i=_p.fromMillis(t.localWriteTimeMs);return new fy(t.batchId,i,n,r)}function _b(e){const t=Ib(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ib(e.lastLimboFreeSnapshotVersion):xp.min();let r;var i;return void 0!==e.query.documents?(ap(1===(i=e.query).documents.length),r=dv(ov(Jy(i.documents[0])))):r=function(e){return dv(sb(e))}(e.query),new vb(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Zg.fromBase64String(e.resumeToken))}function xb(e,t){const n=Cb(t.snapshotVersion),r=Cb(t.lastLimboFreeSnapshotVersion);let i;i=Xm(t.target)?ob(e.fe,t.target):ab(e.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ym(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ab(e){const t=sb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?fv(t,t.limit,"L"):t}function kb(e,t){return new gy(t.largestBatchId,ib(e.fe,t.overlayMutation))}function Sb(e,t){const n=t.path.lastSegment();return[e,og(t.path.popLast()),n]}function Tb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Cb(r.readTime),documentKey:og(r.documentKey.path),largestBatchId:r.largestBatchId}}class Pb{getBundleMetadata(e,t){return Nb(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Ib(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Nb(e).put({bundleId:(n=t).id,createTime:Cb(Wy(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Ob(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Ab(t.bundledQuery),readTime:Ib(t.readTime)};var t}))}saveNamedQuery(e,t){return Ob(e).put(function(e){return{name:e.name,readTime:Cb(Wy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Nb(e){return Rg(e,"bundles")}function Ob(e){return Rg(e,"namedQueries")}class Rb{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new Rb(e,n)}getOverlay(e,t){return Db(e).get(Sb(this.userId,t)).next((e=>e?kb(this.serializer,e):null))}getOverlays(e,t){const n=kv();return Gp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new gy(t,i);r.push(this.we(e,o))})),Gp.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(og(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Db(e).J("collectionPathOverlayIndex",r))})),Gp.waitFor(i)}getOverlaysForCollection(e,t,n){const r=kv(),i=og(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Db(e).j("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=kb(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=kv();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Db(e).X({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=kb(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}we(e,t){return Db(e).put(function(e,t,n){const[r,i,o]=Sb(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:rb(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function Db(e){return Rg(e,"documentOverlays")}class Lb{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Kg(e.integerValue));else if("doubleValue"in e){const n=Kg(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),rg(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie(`${n.seconds||""}`),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae($g(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?vm(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):op()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const e of Object.keys(n))this.Te(e,t),this.me(n[e],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const e of n)this.me(e,t)}ve(e,t){this.ye(t,37),Pp.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Mb(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function jb(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Mb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Lb.Ve=new Lb;class Fb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=jb(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Le(e){const t=this.Fe(e),n=jb(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Vb{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Ub{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class zb{constructor(){this.je=new Fb,this.ze=new Vb(this.je),this.We=new Ub(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Bb{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Bb(this.indexId,this.documentKey,this.arrayValue,n)}}function Gb(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=qb(e.arrayValue,t.arrayValue),0!==n?n:(n=qb(e.directionalValue,t.directionalValue),0!==n?n:Pp.comparator(e.documentKey,t.documentKey)))}function qb(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Zb{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){ap(e.collectionGroup===this.collectionId);const t=Op(e);if(void 0!==t&&!this.en(t))return!1;const n=Rp(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[o++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Wb(e){var t,n;if(ap(e instanceof Nm||e instanceof Om),e instanceof Nm){if(e instanceof Wm){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Nm.create(e.field,"==",t))))||[];return Om.create(r,"or")}return e}const r=e.filters.map((e=>Wb(e)));return Om.create(r,e.op)}function Hb(e){if(0===e.getFilters().length)return[];const t=Yb(Wb(e));return ap(Qb(t)),Kb(t)||$b(t)?[t]:t.getFilters()}function Kb(e){return e instanceof Nm}function $b(e){return e instanceof Om&&Lm(e)}function Qb(e){return Kb(e)||$b(e)||function(e){if(e instanceof Om&&Dm(e)){for(const t of e.getFilters())if(!Kb(t)&&!$b(t))return!1;return!0}return!1}(e)}function Yb(e){if(ap(e instanceof Nm||e instanceof Om),e instanceof Nm)return e;if(1===e.filters.length)return Yb(e.filters[0]);const t=e.filters.map((e=>Yb(e)));let n=Om.create(t,e.op);return n=ew(n),Qb(n)?n:(ap(n instanceof Om),ap(Rm(n)),ap(n.filters.length>1),n.filters.reduce(((e,t)=>Jb(e,t))))}function Jb(e,t){let n;return ap(e instanceof Nm||e instanceof Om),ap(t instanceof Nm||t instanceof Om),n=e instanceof Nm?t instanceof Nm?function(e,t){return Om.create([e,t],"and")}(e,t):Xb(e,t):t instanceof Nm?Xb(t,e):function(e,t){if(ap(e.filters.length>0&&t.filters.length>0),Rm(e)&&Rm(t))return Vm(e,t.getFilters());const n=Dm(e)?e:t,r=Dm(e)?t:e,i=n.filters.map((e=>Jb(e,r)));return Om.create(i,"or")}(e,t),ew(n)}function Xb(e,t){if(Rm(t))return Vm(t,e.getFilters());{const n=t.filters.map((t=>Jb(e,t)));return Om.create(n,"or")}}function ew(e){if(ap(e instanceof Nm||e instanceof Om),e instanceof Nm)return e;const t=e.getFilters();if(1===t.length)return ew(t[0]);if(Mm(e))return e;const n=t.map((e=>ew(e))),r=[];return n.forEach((t=>{t instanceof Nm?r.push(t):t instanceof Om&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Om.create(r,e.op)}class tw{constructor(){this.rn=new nw}addToCollectionParentIndex(e,t){return this.rn.add(t),Gp.resolve()}getCollectionParents(e,t){return Gp.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Gp.resolve()}deleteFieldIndex(e,t){return Gp.resolve()}getDocumentsMatchingTarget(e,t){return Gp.resolve(null)}getIndexType(e,t){return Gp.resolve(0)}getFieldIndexes(e,t){return Gp.resolve([])}getNextCollectionGroupToUpdate(e){return Gp.resolve(null)}getMinOffset(e,t){return Gp.resolve(Fp.min())}getMinOffsetFromCollectionGroup(e,t){return Gp.resolve(Fp.min())}updateCollectionGroup(e,t,n){return Gp.resolve()}updateIndexEntries(e,t){return Gp.resolve()}}class nw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ug(kp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ug(kp.comparator)).toArray()}}const rw=new Uint8Array(0);class iw{constructor(e,t){this.user=e,this.databaseId=t,this.on=new nw,this.un=new Cv((e=>Ym(e)),((e,t)=>Jm(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:og(r)};return ow(e).put(i)}return Gp.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ep(t),""],!1,!0);return ow(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(cg(r.parent))}return n}))}addFieldIndex(e,t){const n=sw(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=cw(e);return i.next((e=>{n.put(Tb(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=sw(e),r=cw(e),i=aw(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=aw(e);let r=!0;const i=new Map;return Gp.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Ov();const r=[];return Gp.forEach(i,((i,o)=>{var a;tp("IndexedDbIndexManager",`Using index ${a=i,`id=${a.indexId}|cg=${a.collectionGroup}|f=${a.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${Ym(t)}`);const s=function(e,t){const n=Op(t);if(void 0===n)return null;for(const t of ev(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(o,i),c=function(e,t){const n=new Map;for(const r of Rp(t))for(const t of ev(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Rp(t)){const t=0===i.kind?tv(e,i.fieldPath,e.startAt):nv(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new xm(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of Rp(t)){const t=0===i.kind?nv(e,i.fieldPath,e.endAt):tv(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new xm(n,r)}(o,i),d=this.hn(i,o,l),h=this.hn(i,o,u),f=this.ln(i,o,c),p=this.fn(i.indexId,s,d,l.inclusive,h,u.inclusive,f);return Gp.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=Pp.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Gp.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Hb(Om.create(e.filters,"and")).map((t=>Qm(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[];for(let u=0;u<s;++u){const s=t?this.dn(t[u/c]):rw,d=this.wn(e,s,n[u%c],r),h=this._n(e,s,i[u%c],o),f=a.map((t=>this.wn(e,s,t,!0)));l.push(...this.createRange(d,h,f))}return l}wn(e,t,n,r){const i=new Bb(e,Pp.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new Bb(e,Pp.empty(),t,n);return r?i.Je():i}an(e,t){const n=new Zb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Gp.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Ug(Tp.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new zb;for(const r of Rp(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);Lb.Ve._e(e,i)}return n.Qe()}dn(e){const t=new zb;return Lb.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new zb;return Lb.Ve._e(um(this.databaseId,t),n.He(function(e){const t=Rp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new zb);let i=0;for(const o of Rp(e)){const e=n[i++];for(const n of r)if(this.yn(t,o.fieldPath)&&hm(e))r=this.pn(r,o,e);else{const t=n.He(o.kind);Lb.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of r){const r=new zb;r.seed(n.Qe()),Lb.Ve._e(e,r.He(t.kind)),i.push(r)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof Nm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=sw(e),r=cw(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Gp.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Lp(t.sequenceNumber,new Fp(Ib(t.readTime),new Pp(cg(t.documentKey)),t.largestBatchId)):Lp.empty(),r=e.fields.map((([e,t])=>new Dp(Tp.fromServerFormat(e),t)));return new Np(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Cp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=sw(e),i=cw(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Gp.forEach(t,(t=>i.put(Tb(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Gp.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Gp.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Gp.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?Gp.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return aw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return aw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=aw(e);let i=new Ug(Gb);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new Bb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new Ug(Gb);const r=this.mn(t,e);if(null==r)return n;const i=Op(t);if(null!=i){const o=e.data.field(i.fieldPath);if(hm(o))for(const i of o.arrayValue.values||[])n=n.add(new Bb(t.indexId,e.key,this.dn(i),r))}else n=n.add(new Bb(t.indexId,e.key,rw,r));return n}vn(e,t,n,r,i){tp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=Bg(o),c=Bg(a);for(;s||c;){let e=!1,t=!1;if(s&&c){const r=n(s,c);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(c),c=Bg(a)):t?(i(s),s=Bg(o)):(s=Bg(o),c=Bg(a))}}(r,i,Gb,(r=>{o.push(this.Rn(e,t,n,r))}),(r=>{o.push(this.Pn(e,t,n,r))})),Gp.waitFor(o)}Tn(e){let t=1;return cw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Gb(e,t))).filter(((e,t,n)=>!t||0!==Gb(e,n[t-1])));const r=[];r.push(e);for(const i of n){const n=Gb(i,e),o=Gb(i,t);if(0===n)r[0]=e.Je();else if(n>0&&o<0)r.push(i),r.push(i.Je());else if(o>0)break}r.push(t);const i=[];for(let e=0;e<r.length;e+=2){if(this.bn(r[e],r[e+1]))return[];const t=[r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,rw,[]],n=[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,rw,[]];i.push(IDBKeyRange.bound(t,n))}return i}bn(e,t){return Gb(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(lw)}getMinOffset(e,t){return Gp.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||op())))).next(lw)}}function ow(e){return Rg(e,"collectionParents")}function aw(e){return Rg(e,"indexEntries")}function sw(e){return Rg(e,"indexConfiguration")}function cw(e){return Rg(e,"indexState")}function lw(e){ap(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Vp(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Fp(t.readTime,t.documentKey,n)}const uw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dw{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new dw(e,dw.DEFAULT_COLLECTION_PERCENTILE,dw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hw(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const c=r.X({range:a},((e,t,n)=>(s++,n.delete())));o.push(c.next((()=>{ap(1===s)})));const l=[];for(const e of n.mutations){const r=dg(t,e.key.path,n.batchId);o.push(i.delete(r)),l.push(e.key)}return Gp.waitFor(o).next((()=>l))}function fw(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw op();t=e.noDocument}return JSON.stringify(t).length}dw.DEFAULT_COLLECTION_PERCENTILE=10,dw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dw.DEFAULT=new dw(41943040,dw.DEFAULT_COLLECTION_PERCENTILE,dw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dw.DISABLED=new dw(-1,0,0);class pw{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){ap(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new pw(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mw(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=vw(e),o=mw(e);return o.add({}).next((a=>{ap("number"==typeof a);const s=new fy(a,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>rb(e.fe,t))),i=n.mutations.map((t=>rb(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),l=[];let u=new Ug(((e,t)=>Cp(e.canonicalString(),t.canonicalString())));for(const e of r){const t=dg(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,hg))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[a]=s.keys()})),Gp.waitFor(l).next((()=>s))}))}lookupMutationBatch(e,t){return mw(e).get(t).next((e=>e?(ap(e.userId===this.userId),Eb(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Gp.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return mw(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(ap(t.batchId>=n),i=Eb(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return mw(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mw(e).j("userMutationsIndex",t).next((e=>e.map((e=>Eb(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ug(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return vw(e).X({range:r},((n,r,o)=>{const[a,s,c]=n,l=cg(s);if(a===this.userId&&t.path.isEqual(l))return mw(e).get(c).next((e=>{if(!e)throw op();ap(e.userId===this.userId),i.push(Eb(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ug(Cp);const r=[];return t.forEach((t=>{const i=ug(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=vw(e).X({range:o},((e,r,i)=>{const[o,a,s]=e,c=cg(a);o===this.userId&&t.path.isEqual(c)?n=n.add(s):i.done()}));r.push(a)})),Gp.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ug(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new Ug(Cp);return vw(e).X({range:o},((e,t,i)=>{const[o,s,c]=e,l=cg(s);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(a=a.add(c)):i.done()})).next((()=>this.Dn(e,a)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(mw(e).get(t).next((e=>{if(null===e)throw op();ap(e.userId===this.userId),n.push(Eb(this.serializer,e))})))})),Gp.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return hw(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Gp.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Gp.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return vw(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=cg(e[1]);r.push(t)}else n.done()})).next((()=>{ap(0===r.length)}))}))}containsKey(e,t){return gw(e,this.userId,t)}xn(e){return yw(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function gw(e,t,n){const r=ug(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return vw(e).X({range:o,Y:!0},((e,n,r)=>{const[o,s,c]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function mw(e){return Rg(e,"mutations")}function vw(e){return Rg(e,"documentMutations")}function yw(e){return Rg(e,"mutationQueues")}class bw{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bw(0)}static Mn(){return new bw(-1)}}class ww{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new bw(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>xp.fromTimestamp(new _p(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Cw(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(ap(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Cw(e).X(((o,a)=>{const s=_b(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>Gp.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Cw(e).X(((e,n)=>{const r=_b(n);t(r)}))}$n(e){return Iw(e).get("targetGlobalKey").next((e=>(ap(null!==e),e)))}On(e,t){return Iw(e).put("targetGlobalKey",t)}Fn(e,t){return Cw(e).put(xb(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Ym(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Cw(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=_b(n);Jm(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Ew(e);return t.forEach((t=>{const o=og(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Gp.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ew(e);return Gp.forEach(t,(t=>{const i=og(t.path);return Gp.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Ew(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ew(e);let i=Ov();return r.X({range:n,Y:!0},((e,t,n)=>{const r=cg(e[1]),o=new Pp(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=og(t.path),r=IDBKeyRange.bound([n],[Ep(n)],!1,!0);let i=0;return Ew(e).X({index:"documentTargetsIndex",Y:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}le(e,t){return Cw(e).get(t).next((e=>e?_b(e):null))}}function Cw(e){return Rg(e,"targets")}function Iw(e){return Rg(e,"targetGlobal")}function Ew(e){return Rg(e,"targetDocuments")}function _w([e,t],[n,r]){const i=Cp(e,n);return 0===i?Cp(t,r):i}class xw{constructor(e){this.Ln=e,this.buffer=new Ug(_w),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();_w(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Aw{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){tp("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Kp(e)?tp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Bp(e)}await this.Qn(3e5)}))}}class kw{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Gp.resolve(tg.ct);const n=new xw(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tp("LruGarbageCollector","Garbage collection skipped; disabled"),Gp.resolve(uw)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(tp("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uw):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,o,a,s,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(tp("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),ep()<=er.DEBUG&&tp("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-l}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-s)+"ms\n"+`Total Duration: ${c-l}ms`),Gp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Sw{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new kw(e,t)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return Tw(e,n)}removeReference(e,t,n){return Tw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Tw(e,t)}Xn(e,t){return function(e,t){let n=!1;return yw(e).Z((r=>gw(e,r,t).next((e=>(e&&(n=!0),Gp.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((o,a)=>{if(a<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,xp.min()),Ew(e).delete([0,og(o.path)]))))}));r.push(t)}})).next((()=>Gp.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Tw(e,t)}Yn(e,t){const n=Ew(e);let r,i=tg.ct;return n.X({index:"documentTargetsIndex"},(([e,n],{path:o,sequenceNumber:a})=>{0===e?(i!==tg.ct&&t(new Pp(cg(r)),i),i=a,r=o):i=tg.ct})).next((()=>{i!==tg.ct&&t(new Pp(cg(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tw(e,t){return Ew(e).put(function(e,t){return{targetId:0,path:og(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Pw{constructor(){this.changes=new Cv((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_m.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Gp.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nw{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Lw(e).put(n)}removeEntry(e,t,n){return Lw(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],wb(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=_m.newInvalidDocument(t);return Lw(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mw(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:_m.newInvalidDocument(t)};return Lw(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mw(t))},((e,r)=>{n={document:this.ts(t,r),size:fw(r)}})).next((()=>n))}getEntries(e,t){let n=Ev();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=Ev(),r=new jg(Pp.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,fw(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return Gp.resolve();let r=new Ug(Fw);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Mw(r.first()),Mw(r.last())),o=r.getIterator();let a=o.getNext();return Lw(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Pp.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Fw(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.G(Mw(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,o=[i.popLast().toArray(),i.lastSegment(),wb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lw(e).j(IDBKeyRange.bound(o,a,!0)).next((e=>{let n=Ev();for(const i of e){const e=this.ts(Pp.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(vv(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Ev();const o=jw(t,n),a=jw(t,Fp.max());return Lw(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.ts(Pp.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Rw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Dw(e).get("remoteDocumentGlobalKey").next((e=>(ap(!!e),e)))}Zn(e,t){return Dw(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=nb(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Pp.fromSegments(t.noDocument.path),r=Ib(t.noDocument.readTime);n=_m.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return op();{const e=Pp.fromSegments(t.unknownDocument.path),r=Ib(t.unknownDocument.version);n=_m.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new _p(e[0],e[1]);return xp.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(xp.min()))return e}return _m.newInvalidDocument(e)}}function Ow(e){return new Nw(e)}class Rw extends Pw{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Cv((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Ug(((e,t)=>Cp(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.us.get(i);if(t.push(this.os.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=bb(this.os.serializer,o);r=r.add(i.path.popLast());const c=fw(s);n+=c-a.size,t.push(this.os.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=bb(this.os.serializer,o.convertToNoDocument(xp.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Gp.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((({documents:e,rs:t})=>(t.forEach(((t,n)=>{this.us.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function Dw(e){return Rg(e,"remoteDocumentGlobal")}function Lw(e){return Rg(e,"remoteDocumentsV14")}function Mw(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jw(e,t){const n=t.documentKey.path.toArray();return[e,wb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Fw(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=Cp(n[e],r[e]),i)return i;return i=Cp(n.length,r.length),i||(i=Cp(n[n.length-2],r[r.length-2]),i||Cp(n[n.length-1],r[r.length-1]))}class Vw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Uw{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ry(n.mutation,e,Gg.empty(),_p.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ov()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Ov()){const r=kv();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=xv();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=kv();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ov())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ev();const o=Tv(),a=Tv();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof sy)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),ry(a.mutation,t,a.mutation.getFieldMask(),_p.now())):o.set(t.key,Gg.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Vw(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Tv();let r=new jg(((e,t)=>e-t)),i=Ov();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Gg.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Ov()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,c=r.value,l=Sv();c.forEach((e=>{if(!i.has(e)){const r=ty(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,l))}return Gp.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Pp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Gp.resolve(kv());let a=-1,s=i;return o.next((t=>Gp.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Gp.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Ov()))).next((e=>({batchId:a,changes:Av(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pp(t)).next((e=>{let t=xv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=xv();return this.indexManager.getCollectionParents(e,r).next((o=>Gp.forEach(o,(o=>{const a=function(e,t){return new rv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,_m.newInvalidDocument(r)))}));let n=xv();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&ry(o.mutation,i,Gg.empty(),_p.now()),vv(t,i)&&(n=n.insert(e,i))})),n}))}}class zw{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Gp.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Wy(n.createTime)}),Gp.resolve()}getNamedQuery(e,t){return Gp.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Ab(e.bundledQuery),readTime:Wy(e.readTime)}}(t)),Gp.resolve()}}class Bw{constructor(){this.overlays=new jg(Pp.comparator),this.ls=new Map}getOverlay(e,t){return Gp.resolve(this.overlays.get(t))}getOverlays(e,t){const n=kv();return Gp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Gp.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Gp.resolve()}getOverlaysForCollection(e,t,n){const r=kv(),i=t.length+1,o=new Pp(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Gp.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new jg(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=kv(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=kv(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Gp.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new gy(t,n));let i=this.ls.get(t);void 0===i&&(i=Ov(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Gw{constructor(){this.fs=new Ug(qw.ds),this.ws=new Ug(qw._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new qw(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new qw(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Pp(new kp([])),n=new qw(t,e),r=new qw(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Pp(new kp([])),n=new qw(t,e),r=new qw(t,e+1);let i=Ov();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new qw(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class qw{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Pp.comparator(e.key,t.key)||Cp(e.As,t.As)}static _s(e,t){return Cp(e.As,t.As)||Pp.comparator(e.key,t.key)}}class Zw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ug(qw.ds)}checkEmpty(e){return Gp.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fy(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.Rs=this.Rs.add(new qw(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Gp.resolve(o)}lookupMutationBatch(e,t){return Gp.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Gp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gp.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Gp.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qw(t,0),r=new qw(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Gp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ug(Cp);return t.forEach((e=>{const t=new qw(e,0),r=new qw(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Gp.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Pp.isDocumentKey(i)||(i=i.child(""));const o=new qw(new Pp(i),0);let a=new Ug(Cp);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),Gp.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ap(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Gp.forEach(t.mutations,(r=>{const i=new qw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new qw(t,0),r=this.Rs.firstAfterOrEqual(n);return Gp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Gp.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ww{constructor(e){this.Ds=e,this.docs=new jg(Pp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Gp.resolve(n?n.document.mutableCopy():_m.newInvalidDocument(t))}getEntries(e,t){let n=Ev();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():_m.newInvalidDocument(e))})),Gp.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ev();const o=t.path,a=new Pp(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Vp(jp(a),n)<=0||(r.has(a.key)||vv(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Gp.resolve(i)}getAllFromCollectionGroup(e,t,n,r){op()}Cs(e,t){return Gp.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Hw(this)}getSize(e){return Gp.resolve(this.size)}}class Hw extends Pw{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Gp.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Kw{constructor(e){this.persistence=e,this.xs=new Cv((e=>Ym(e)),Jm),this.lastRemoteSnapshotVersion=xp.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gw,this.targetCount=0,this.Ms=bw.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Gp.resolve()}getLastRemoteSnapshotVersion(e){return Gp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Gp.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Gp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Gp.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new bw(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Gp.resolve()}updateTargetData(e,t){return this.Fn(t),Gp.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Gp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Gp.waitFor(i).next((()=>r))}getTargetCount(e){return Gp.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Gp.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Gp.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Gp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Gp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Gp.resolve(n)}containsKey(e,t){return Gp.resolve(this.ks.containsKey(t))}}class $w{constructor(e,t){this.$s={},this.overlays={},this.Os=new tg(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Kw(this),this.indexManager=new tw,this.remoteDocumentCache=function(e){return new Ww(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new yb(t),this.qs=new zw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Zw(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){tp("MemoryPersistence","Starting transaction:",e);const r=new Qw(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Gp.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Qw extends zp{constructor(e){super(),this.currentSequenceNumber=e}}class Yw{constructor(e){this.persistence=e,this.Qs=new Gw,this.js=null}static zs(e){return new Yw(e)}get Ws(){if(this.js)return this.js;throw op()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Gp.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Gp.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Gp.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gp.forEach(this.Ws,(n=>{const r=Pp.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,xp.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Gp.or([()=>Gp.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Jw{constructor(e){this.serializer=e}O(e,t,n,r){const i=new qp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lg,{unique:!0}),e.createObjectStore("documentMutations")}(e),Xw(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Gp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Xw(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lg,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Gp.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ys(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(o=o.next((()=>this.Zs(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ei(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:_g});t.createIndex("collectionPathOverlayIndex",xg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ag,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:fg});t.createIndex("documentKeyIndex",pg),t.createIndex("collectionGroupIndex",gg)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.si(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:wg}).createIndex("sequenceNumberIndex",Cg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ig}).createIndex("documentKeyIndex",Eg,{unique:!1})}(e)))),o}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=fw(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Gp.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>Gp.forEach(n,(n=>{ap(n.userId===t.userId);const r=Eb(this.serializer,n);return hw(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const o=new kp(n),a=function(e){return[0,og(e)]}(o);r.push(t.get(a).next((n=>n?Gp.resolve():(n=>t.put({targetId:0,path:og(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Gp.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:bg});const n=t.store("collectionParents"),r=new nw,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:og(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new kp(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},(([e,t,n],r)=>{const o=cg(t);return i(o.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=_b(n),i=xb(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(a=n,a.document?new Pp(kp.fromString(a.document.name).popFirst(5)):a.noDocument?Pp.fromSegments(a.noDocument.path):a.unknownDocument?Pp.fromSegments(a.unknownDocument.path):op()).path.toArray();var a;const s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>Gp.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=Ow(this.serializer),i=new $w(Yw.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ov();Eb(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Gp.forEach(n,((e,n)=>{const o=new Yf(n),a=Rb.de(this.serializer,o),s=i.getIndexManager(o),c=pw.de(o,this.serializer,s,i.referenceDelegate);return new Uw(r,c,a,s).recalculateAndSaveOverlaysForDocumentKeys(new Og(t,tg.ct),e).next()}))}))}}function Xw(e){e.createObjectStore("targetDocuments",{keyPath:vg}).createIndex("documentTargetsIndex",yg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mg,{unique:!0}),e.createObjectStore("targetGlobal")}const eC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tC{constructor(e,t,n,r,i,o,a,s,c,l,u=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=o,this.document=a,this.ri=c,this.oi=l,this.ui=u,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!tC.D())throw new lp(cp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Sw(this,r),this.di=t+"main",this.serializer=new yb(s),this.wi=new Zp(this.di,this.ui,new Jw(this.serializer)),this.Bs=new ww(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ow(this.serializer),this.qs=new Pb,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&np("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lp(cp.FAILED_PRECONDITION,eC);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new tg(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>rC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(Kp(e))return tp("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return tp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return nC(e).get("owner").next((e=>Gp.resolve(this.Ri(e))))}Pi(e){return rC(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Rg(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Gp.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Gp.resolve(!0):nC(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new lp(cp.FAILED_PRECONDITION,eC);return!1}}return!(!this.networkEnabled||!this.inForeground)||rC(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&tp("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Og(e,tg.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>rC(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return pw.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iw(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Rb.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){tp("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.ui)?Ng:14===o?Pg:13===o?Tg:12===o?Sg:11===o?kg:void op();var o;let a;return this.wi.runTransaction(e,r,i,(r=>(a=new Og(r,this.Os?this.Os.next():tg.ct),"readwrite-primary"===t?this.Ti(a).next((e=>!!e||this.Ei(a))).next((t=>{if(!t)throw np(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new lp(cp.FAILED_PRECONDITION,Up);return n(a)})).next((e=>this.vi(a).next((()=>e)))):this.Oi(a).next((()=>n(a)))))).then((e=>(a.raiseOnCommittedEvent(),e)))}Oi(e){return nC(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new lp(cp.FAILED_PRECONDITION,eC)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nC(e).put("owner",t)}static D(){return Zp.D()}Ai(e){const t=nC(e);return t.get("owner").next((e=>this.Ri(e)?(tp("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Gp.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t||e>n&&(np(`Detected an update time that is in the future: ${e} > ${n}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!wn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return tp("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return np("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){np("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nC(e){return Rg(e,"owner")}function rC(e){return Rg(e,"clientMetadata")}function iC(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class oC{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Ov(),r=Ov();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new oC(e,t.fromCache,n,r)}}class aC{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(av(t))return Gp.resolve(null);let n=dv(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=fv(t,null,"F"),n=dv(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ov(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,fv(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return av(t)||r.isEqual(xp.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(ep()<=er.DEBUG&&tp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mv(t)),this.Wi(e,o,t,Mp(r,-1)))}))}ji(e,t){let n=new Ug(bv(e));return t.forEach(((t,r)=>{vv(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return ep()<=er.DEBUG&&tp("QueryEngine","Using full collection scan to execute query:",mv(t)),this.Ui.getDocumentsMatchingQuery(e,t,Fp.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class sC{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new jg(Cp),this.Yi=new Cv((e=>Ym(e)),Jm),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uw(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function cC(e,t,n,r){return new sC(e,t,n,r)}async function lC(e,t){const n=sp(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=Ov();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function uC(e){const t=sp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function dC(e,t,n){let r=Ov(),i=Ov();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ev();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(xp.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):tp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function hC(e,t){const n=sp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function fC(e,t){const n=sp(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Gp.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new vb(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function pC(e,t,n){const r=sp(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Kp(e))throw e;tp("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function gC(e,t,n){const r=sp(e);let i=xp.min(),o=Ov();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=sp(e),i=r.Yi.get(n);return void 0!==i?Gp.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,dv(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:xp.min(),n?o:Ov()))).next((e=>(yC(r,yv(t),e),{documents:e,ir:o})))))}function mC(e,t){const n=sp(e),r=sp(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function vC(e,t){const n=sp(e),r=n.Xi.get(t)||xp.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,Mp(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(yC(n,t,e),e)))}function yC(e,t,n){let r=e.Xi.get(t)||xp.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function bC(e,t,n=Ov()){const r=await fC(e,dv(Ab(t.bundledQuery))),i=sp(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Wy(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(e,t);const a=r.withResumeToken(Zg.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(e,a).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function wC(e,t){return`firestore_clients_${e}_${t}`}function CC(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function IC(e,t){return`firestore_targets_${e}_${t}`}class EC{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new lp(r.error.code,r.error.message))),o?new EC(e,t,r.state,i):(np("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _C{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new lp(n.error.code,n.error.message))),i?new _C(e,n.state,r):(np("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Dv();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=ig(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new xC(e,i):(np("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class AC{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new AC(t.clientId,t.onlineState):(np("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kC{constructor(){this.activeTargetIds=Dv()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SC{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new jg(Cp),this.started=!1,this.yr=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=wC(this.persistenceKey,this.wr),this.Ir=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new kC),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Rr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const t of e){if(t===this.wr)continue;const e=this.getItem(wC(this.persistenceKey,t));if(e){const n=xC.ar(t,e);n&&(this.gr=this.gr.insert(n.clientId,n))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const e of this.yr)this.mr(e);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(IC(this.persistenceKey,e));if(n){const r=_C.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(IC(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return tp("SharedClientState","READ",e,t),t}setItem(e,t){tp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){tp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(tp("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void np("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=tg.ct;if(null!=e)try{const n=JSON.parse(e);ap("number"==typeof n),t=n}catch(e){np("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==tg.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new EC(this.currentUser,e,t,n),i=CC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=CC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=IC(this.persistenceKey,e),i=new _C(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return xC.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return EC.ar(new Yf(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return _C.ar(r,t)}br(e){return AC.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);tp("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Wr(o,a).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Dv();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class TC{constructor(){this.Hr=new kC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new kC,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PC{Yr(e){}shutdown(){}}class NC{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){tp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){tp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let OC=null;function RC(){return null===OC?OC=268435456+Math.round(2147483648*Math.random()):OC++,"0x"+OC.toString(16)}const DC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const MC="WebChannelConnection";class jC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=RC(),a=this.To(e,t);tp("RestConnection",`Sending RPC '${e}' ${o}:`,a,n);const s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((t=>(tp("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw rp("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=DC[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=RC();return new Promise(((o,a)=>{const s=new Hf;s.setWithCredentials(!0),s.listenOnce(Bf.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case zf.NO_ERROR:const t=s.getResponseJson();tp(MC,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case zf.TIMEOUT:tp(MC,`RPC '${e}' ${i} timed out`),a(new lp(cp.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const n=s.getStatus();if(tp(MC,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(cp).indexOf(t)>=0?t:cp.UNKNOWN}(t.status);a(new lp(e,t.message))}else a(new lp(cp.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new lp(cp.UNAVAILABLE,"Connection failed."));break;default:op()}}finally{tp(MC,`RPC '${e}' ${i} completed.`)}}));const c=JSON.stringify(r);tp(MC,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",c,n,15)}))}Ro(e,t,n){const r=RC(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Vf(),a=Uf(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.xmlHttpFactory=new Zf({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const l=i.join("");tp(MC,`Creating RPC '${e}' stream ${r}: ${l}`,s);const u=o.createWebChannel(l,s);let d=!1,h=!1;const f=new LC({ro:t=>{h?tp(MC,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(tp(MC,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),tp(MC,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Wf.EventType.OPEN,(()=>{h||tp(MC,`RPC '${e}' stream ${r} transport opened.`)})),p(u,Wf.EventType.CLOSE,(()=>{h||(h=!0,tp(MC,`RPC '${e}' stream ${r} transport closed`),f.wo())})),p(u,Wf.EventType.ERROR,(t=>{h||(h=!0,rp(MC,`RPC '${e}' stream ${r} transport errored:`,t),f.wo(new lp(cp.UNAVAILABLE,"The operation could not be completed")))})),p(u,Wf.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ap(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){tp(MC,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=vy[e];if(void 0!==t)return wy(t)}(t),i=a.message;void 0===n&&(n=cp.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new lp(n,i)),u.close()}else tp(MC,`RPC '${e}' stream ${r} received:`,i),f._o(i)}})),p(a,Gf.STAT_EVENT,(t=>{t.stat===qf.PROXY?tp(MC,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===qf.NOPROXY&&tp(MC,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.fo()}),0),f}}function FC(){return"undefined"!=typeof window?window:null}function VC(){return"undefined"!=typeof document?document:null}function UC(e){return new zy(e,!0)}class zC{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&tp("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class BC{constructor(e,t,n,r,i,o,a,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new zC(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===cp.RESOURCE_EXHAUSTED?(np(t.toString()),np("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===cp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Fo===t&&this.Zo(e,n)}),(t=>{e((()=>{const e=new lp(cp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return tp("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(tp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GC extends BC{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:op()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ap(void 0===t||"string"==typeof t),Zg.fromBase64String(t||"")):(ap(void 0===t||t instanceof Uint8Array),Zg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?cp.UNKNOWN:wy(e.code);return new lp(t,e.message||"")}(a);n=new Ry(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qy(e,r.document.name),o=Wy(r.document.updateTime),a=r.document.createTime?Wy(r.document.createTime):xp.min(),s=new Im({mapValue:{fields:r.document.fields}}),c=_m.newFoundDocument(i,o,a,s),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ny(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Qy(e,r.document),o=r.readTime?Wy(r.readTime):xp.min(),a=_m.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Ny([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Qy(e,r.document),o=r.removedTargetIds||[];n=new Ny([],o,i,null)}else{if(!("filter"in t))return op();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new my(r,i),a=e.targetId;n=new Oy(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return xp.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xp.min():t.readTime?Wy(t.readTime):xp.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Xy(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Xm(r)?{documents:ob(e,r)}:{query:ab(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=qy(e,t.resumeToken);const r=By(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(xp.min())>0){n.readTime=Gy(e,t.snapshotVersion.toTimestamp());const r=By(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return op()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Xy(this.serializer),t.removeTarget=e,this.Wo(t)}}class qC extends BC{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ap(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(ap(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Wy(e.updateTime):Wy(t);return n.isEqual(xp.min())&&(n=Wy(t)),new Yv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Wy(e.commitTime);return this.listener.cu(n,t)}return ap(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Xy(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>rb(this.serializer,e)))};this.Wo(t)}}class ZC extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new lp(cp.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.Io(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===cp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lp(cp.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.vo(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===cp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lp(cp.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class WC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(np(t),this.mu=!1):tp("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class HC{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{nI(this)&&(tp("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=sp(e);t.vu.add(4),await $C(t),t.bu.set("Unknown"),t.vu.delete(4),await KC(t)}(this))}))})),this.bu=new WC(n,r)}}async function KC(e){if(nI(e))for(const t of e.Ru)await t(!0)}async function $C(e){for(const t of e.Ru)await t(!1)}function QC(e,t){const n=sp(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),tI(n)?eI(n):wI(n).Ko()&&JC(n,t))}function YC(e,t){const n=sp(e),r=wI(n);n.Au.delete(t),r.Ko()&&XC(n,t),0===n.Au.size&&(r.Ko()?r.jo():nI(n)&&n.bu.set("Unknown"))}function JC(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xp.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wI(e).su(t)}function XC(e,t){e.Vu.qt(t),wI(e).iu(t)}function eI(e){e.Vu=new Ly({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),wI(e).start(),e.bu.gu()}function tI(e){return nI(e)&&!wI(e).Uo()&&e.Au.size>0}function nI(e){return 0===sp(e).vu.size}function rI(e){e.Vu=void 0}async function iI(e){e.Au.forEach(((t,n)=>{JC(e,t)}))}async function oI(e,t){rI(e),tI(e)?(e.bu.Iu(t),eI(e)):e.bu.set("Unknown")}async function aI(e,t,n){if(e.bu.set("Online"),t instanceof Ry&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){tp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sI(e,n)}else if(t instanceof Ny?e.Vu.Ht(t):t instanceof Oy?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(xp.min()))try{const t=await uC(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Zg.EMPTY_BYTE_STRING,r.snapshotVersion)),XC(e,t);const i=new vb(r.target,t,n,r.sequenceNumber);JC(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){tp("RemoteStore","Failed to raise snapshot:",t),await sI(e,t)}}async function sI(e,t,n){if(!Kp(t))throw t;e.vu.add(1),await $C(e),e.bu.set("Offline"),n||(n=()=>uC(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{tp("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await KC(e)}))}function cI(e,t){return t().catch((n=>sI(e,n,t)))}async function lI(e){const t=sp(e),n=CI(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;uI(t);)try{const e=await hC(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,dI(t,e)}catch(e){await sI(t,e)}hI(t)&&fI(t)}function uI(e){return nI(e)&&e.Eu.length<10}function dI(e,t){e.Eu.push(t);const n=CI(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function hI(e){return nI(e)&&!CI(e).Uo()&&e.Eu.length>0}function fI(e){CI(e).start()}async function pI(e){CI(e).hu()}async function gI(e){const t=CI(e);for(const n of e.Eu)t.uu(n.mutations)}async function mI(e,t,n){const r=e.Eu.shift(),i=py.from(r,t,n);await cI(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await lI(e)}async function vI(e,t){t&&CI(e).ou&&await async function(e,t){if(by(n=t.code)&&n!==cp.ABORTED){const n=e.Eu.shift();CI(e).Qo(),await cI(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await lI(e)}var n}(e,t),hI(e)&&fI(e)}async function yI(e,t){const n=sp(e);n.asyncQueue.verifyOperationInProgress(),tp("RemoteStore","RemoteStore received new credentials");const r=nI(n);n.vu.add(3),await $C(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await KC(n)}async function bI(e,t){const n=sp(e);t?(n.vu.delete(2),await KC(n)):t||(n.vu.add(2),await $C(n),n.bu.set("Unknown"))}function wI(e){return e.Su||(e.Su=function(e,t,n){const r=sp(e);return r.fu(),new GC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:iI.bind(null,e),ao:oI.bind(null,e),nu:aI.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),tI(e)?eI(e):e.bu.set("Unknown")):(await e.Su.stop(),rI(e))}))),e.Su}function CI(e){return e.Du||(e.Du=function(e,t,n){const r=sp(e);return r.fu(),new qC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:pI.bind(null,e),ao:vI.bind(null,e),au:gI.bind(null,e),cu:mI.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await lI(e)):(await e.Du.stop(),e.Eu.length>0&&(tp("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))}))),e.Du}class II{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new up,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new II(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lp(cp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function EI(e,t){if(np("AsyncQueue",`${t}: ${e}`),Kp(e))return new lp(cp.UNAVAILABLE,`${t}: ${e}`);throw e}class _I{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Pp.comparator(t.key,n.key):(e,t)=>Pp.comparator(e.key,t.key),this.keyedMap=xv(),this.sortedSet=new jg(this.comparator)}static emptySet(e){return new _I(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _I))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new _I;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xI{constructor(){this.Cu=new jg(Pp.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):op():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class AI{constructor(e,t,n,r,i,o,a,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new AI(e,t,_I.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class kI{constructor(){this.Nu=void 0,this.listeners=[]}}class SI{constructor(){this.queries=new Cv((e=>gv(e)),pv),this.onlineState="Unknown",this.ku=new Set}}async function TI(e,t){const n=sp(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new kI),i)try{o.Nu=await n.onListen(r)}catch(e){const n=EI(e,`Initialization of query '${mv(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&RI(n)}async function PI(e,t){const n=sp(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function NI(e,t){const n=sp(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.$u(e)&&(r=!0);i.Nu=e}}r&&RI(n)}function OI(e,t,n){const r=sp(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function RI(e){e.ku.forEach((e=>{e.next()}))}class DI{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new AI(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=AI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class LI{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class MI{constructor(e){this.serializer=e}rr(e){return Qy(this.serializer,e)}ur(e){return e.metadata.exists?nb(this.serializer,e.document,!1):_m.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wy(e)}}class jI{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=FI(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=kp.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new MI(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ov()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=sp(e);let o=Ov(),a=Ev();for(const e of n){const n=t.rr(e.metadata.name);e.document&&(o=o.add(n));const r=t.ur(e);r.setReadTime(t.cr(e.metadata.readTime)),a=a.insert(n,r)}const s=i.Zi.newChangeBuffer({trackRemovals:!0}),c=await fC(i,function(e){return dv(ov(kp.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>dC(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Bs.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new MI(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const e of this.queries)await bC(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function FI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class VI{constructor(e){this.key=e}}class UI{constructor(e){this.key=e}}class zI{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ov(),this.mutatedKeys=Ov(),this.tc=bv(e),this.ec=new _I(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new xI,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=vv(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(l,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.tc(u,s)>0||c&&this.tc(u,c)<0)&&(a=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(s||c)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return op()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,s=a!==this.Xu;return this.Xu=a,0!==i.length||s?{snapshot:new AI(this.query,e.ec,r,i,e.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new xI,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ov(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new UI(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new VI(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Ov();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return AI.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class BI{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class GI{constructor(e){this.key=e,this.fc=!1}}class qI{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Cv((e=>gv(e)),pv),this._c=new Map,this.mc=new Set,this.gc=new jg(Pp.comparator),this.yc=new Map,this.Ic=new Gw,this.Tc={},this.Ec=new Map,this.Ac=bw.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function ZI(e,t){const n=vE(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await fC(n.localStore,dv(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await WI(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&QC(n.remoteStore,e)}return i}async function WI(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await gC(e.localStore,t.query,!1).then((({documents:e})=>t.view.sc(e,i))));const o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o);return rE(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const o=await gC(e.localStore,t,!0),a=new zI(t,o.ir),s=a.sc(o.documents),c=Py.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=a.applyChanges(s,e.isPrimaryClient,c);rE(e,n,l.cc);const u=new BI(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),l.snapshot}async function HI(e,t){const n=sp(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!pv(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await pC(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),YC(n.remoteStore,r.targetId),tE(n,r.targetId)})).catch(Bp)):(tE(n,r.targetId),await pC(n.localStore,r.targetId,!0))}async function KI(e,t){const n=sp(e);try{const e=await function(e,t){const n=sp(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((o,s)=>{const c=i.get(s);if(!c)return;a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(Zg.EMPTY_BYTE_STRING,xp.min()).withLastLimboFreeSnapshotVersion(xp.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&a.push(n.Bs.updateTargetData(e,l))}));let s=Ev(),c=Ov();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(dC(e,o,t.documentUpdates).next((e=>{s=e.nr,c=e.sr}))),!r.isEqual(xp.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Gp.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(ap(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?ap(r.fc):e.removedDocuments.size>0&&(ap(r.fc),r.fc=!1))})),await aE(n,e,t)}catch(e){await Bp(e)}}function $I(e,t,n){const r=sp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=sp(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.Mu(t)&&(r=!0)})),r&&RI(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function QI(e,t,n){const r=sp(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new jg(Pp.comparator);e=e.insert(o,_m.newNoDocument(o,xp.min()));const n=Ov().add(o),i=new Ty(xp.min(),new Map,new jg(Cp),e,n);await KI(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),oE(r)}else await pC(r.localStore,t,!1).then((()=>tE(r,t,n))).catch(Bp)}async function YI(e,t){const n=sp(e),r=t.batch.batchId;try{const e=await function(e,t){const n=sp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Gp.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);ap(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ov();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);eE(n,r,null),XI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await aE(n,e)}catch(e){await Bp(e)}}async function JI(e,t,n){const r=sp(e);try{const e=await function(e,t){const n=sp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ap(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);eE(r,t,n),XI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await aE(r,e)}catch(n){await Bp(n)}}function XI(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function eE(e,t,n){const r=sp(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function tE(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||nE(e,t)}))}function nE(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(YC(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),oE(e))}function rE(e,t,n){for(const r of n)r instanceof VI?(e.Ic.addReference(r.key,t),iE(e,r)):r instanceof UI?(tp("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||nE(e,r.key)):op()}function iE(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(tp("SyncEngine","New document in limbo: "+n),e.mc.add(r),oE(e))}function oE(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Pp(kp.fromString(t)),r=e.Ac.next();e.yc.set(r,new GI(n)),e.gc=e.gc.insert(n,r),QC(e.remoteStore,new vb(dv(ov(n.path)),r,"TargetPurposeLimboResolution",tg.ct))}}async function aE(e,t,n){const r=sp(e),i=[],o=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,s)=>{a.push(r.Rc(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=oC.Li(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=sp(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Gp.forEach(t,(t=>Gp.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Gp.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Kp(e))throw e;tp("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ji.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(t,i)}}}(r.localStore,o))}async function sE(e,t){const n=sp(e);if(!n.currentUser.isEqual(t)){tp("SyncEngine","User change. New user:",t.toKey());const e=await lC(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new lp(cp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await aE(n,e.er)}}function cE(e,t){const n=sp(e),r=n.yc.get(t);if(r&&r.fc)return Ov().add(r.key);{let e=Ov();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function lE(e,t){const n=sp(e),r=await gC(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&rE(n,t.targetId,i.cc),i}async function uE(e,t){const n=sp(e);return vC(n.localStore,t).then((e=>aE(n,e)))}async function dE(e,t,n,r){const i=sp(e),o=await function(e,t){const n=sp(e),r=sp(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Gp.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await lI(i.remoteStore):"acknowledged"===n||"rejected"===n?(eE(i,t,r||null),XI(i,t),function(e,t){sp(sp(e).mutationQueue).Cn(t)}(i.localStore,t)):op(),await aE(i,o)):tp("SyncEngine","Cannot apply mutation batch with id: "+t)}async function hE(e,t,n){const r=sp(e),i=[],o=[];for(const e of t){let t;const n=r._c.get(e);if(n&&0!==n.length){t=await fC(r.localStore,dv(n[0]));for(const e of n){const t=r.wc.get(e),n=await lE(r,t);n.snapshot&&o.push(n.snapshot)}}else{const n=await mC(r.localStore,e);t=await fC(r.localStore,n),await WI(r,fE(n),e,!1,t.resumeToken)}i.push(t)}return r.dc.nu(o),i}function fE(e){return iv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pE(e){const t=sp(e);return sp(sp(t.localStore).persistence).$i()}async function gE(e,t,n,r){const i=sp(e);if(i.vc)return void tp("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await vC(i.localStore,yv(o[0])),r=Ty.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Zg.EMPTY_BYTE_STRING);await aE(i,e,r);break}case"rejected":await pC(i.localStore,t,!0),tE(i,t,r);break;default:op()}}async function mE(e,t,n){const r=vE(e);if(r.vc){for(const e of t){if(r._c.has(e)){tp("SyncEngine","Adding an already active target "+e);continue}const t=await mC(r.localStore,e),n=await fC(r.localStore,t);await WI(r,fE(t),n.targetId,!1,n.resumeToken),QC(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await pC(r.localStore,e,!1).then((()=>{YC(r.remoteStore,e),tE(r,e)})).catch(Bp)}}function vE(e){const t=sp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=KI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QI.bind(null,t),t.dc.nu=NI.bind(null,t.eventManager),t.dc.Pc=OI.bind(null,t.eventManager),t}function yE(e){const t=sp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,t),t}class bE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=UC(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cC(this.persistence,new aC,e.initialUser,this.serializer)}createPersistence(e){return new $w(Yw.zs,this.serializer)}createSharedClientState(e){return new TC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wE extends bE{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await yE(this.Vc.syncEngine),await lI(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return cC(this.persistence,new aC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Aw(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new eg(t,this.persistence);return new Xp(e.asyncQueue,n)}createPersistence(e){const t=iC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dw.withCacheSize(this.cacheSizeBytes):dw.DEFAULT;return new tC(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,FC(),VC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new TC}}class CE extends wE{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof SC&&(this.sharedClientState.syncEngine={jr:dE.bind(null,t),zr:gE.bind(null,t),Wr:mE.bind(null,t),$i:pE.bind(null,t),Qr:uE.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=sp(e);if(vE(n),yE(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await hE(n,e.toArray());n.vc=!0,await bI(n.remoteStore,!0);for(const e of t)QC(n.remoteStore,e)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(tE(n,i),pC(n.localStore,i,!0)))),YC(n.remoteStore,i)})),await t,await hE(n,e),function(e){const t=sp(e);t.yc.forEach(((e,n)=>{YC(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new jg(Pp.comparator)}(n),n.vc=!1,await bI(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=FC();if(!SC.D(t))throw new lp(cp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=iC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new SC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class IE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>$I(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sE.bind(null,this.syncEngine),await bI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new SI}createDatastore(e){const t=UC(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new jC(r));var r;return function(e,t,n,r){return new ZC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>$I(this.syncEngine,e,0),o=NC.D()?new NC:new PC,new HC(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new qI(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=sp(e);tp("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await $C(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function EE(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class _E{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):np("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class xE{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new up,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.Gu)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc(`length string (${t}) is not valid number`);const r=await this.$c(n);return new LI(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class AE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new lp(cp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=sp(e),r=Xy(n.serializer)+"/documents",i={documents:t.map((e=>$y(n.serializer,e)))},o=await n.vo("BatchGetDocuments",r,i,t.length),a=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){ap(!!t.found),t.found.name,t.found.updateTime;const n=Qy(e,t.found.name),r=Wy(t.found.updateTime),i=t.found.createTime?Wy(t.found.createTime):xp.min(),o=new Im({mapValue:{fields:t.found.fields}});return _m.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){ap(!!t.missing),ap(!!t.readTime);const n=Qy(e,t.missing),r=Wy(t.readTime);return _m.newNoDocument(n,r)}(e,t):op()}(n.serializer,e);a.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=a.get(e.toString());ap(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new dy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Pp.fromPath(t);this.mutations.push(new hy(n,this.precondition(n)))})),await async function(e,t){const n=sp(e),r=Xy(n.serializer)+"/documents",i={writes:t.map((e=>rb(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw op();t=xp.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new lp(cp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xp.min())?Jv.exists(!1):Jv.updateTime(t):Jv.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xp.min()))throw new lp(cp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jv.updateTime(t)}return Jv.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kE{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new zC(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new AE(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!ng(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!by(t)}return!1}}class SE{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yf.UNAUTHENTICATED,this.clientId=wp.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{tp("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(tp("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lp(cp.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new up;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=EI(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function TE(e,t){e.asyncQueue.verifyOperationInProgress(),tp("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await lC(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function PE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await OE(e);tp("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>yI(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>yI(t.remoteStore,n))),e._onlineComponents=t}function NE(e){return"FirebaseError"===e.name?e.code===cp.FAILED_PRECONDITION||e.code===cp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function OE(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tp("FirestoreClient","Using user provided OfflineComponentProvider");try{await TE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!NE(n))throw n;rp("Error using user provided cache. Falling back to memory cache: "+n),await TE(e,new bE)}}else tp("FirestoreClient","Using default OfflineComponentProvider"),await TE(e,new bE);return e._offlineComponents}async function RE(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tp("FirestoreClient","Using user provided OnlineComponentProvider"),await PE(e,e._uninitializedComponentsProvider._online)):(tp("FirestoreClient","Using default OnlineComponentProvider"),await PE(e,new IE))),e._onlineComponents}function DE(e){return OE(e).then((e=>e.persistence))}function LE(e){return OE(e).then((e=>e.localStore))}function ME(e){return RE(e).then((e=>e.remoteStore))}function jE(e){return RE(e).then((e=>e.syncEngine))}async function FE(e){const t=await RE(e),n=t.eventManager;return n.onListen=ZI.bind(null,t.syncEngine),n.onUnlisten=HI.bind(null,t.syncEngine),n}function VE(e,t,n={}){const r=new up;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new _E({next:o=>{t.enqueueAndForget((()=>PI(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new lp(cp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new lp(cp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new DI(ov(n.path),o,{includeMetadataChanges:!0,Ku:!0});return TI(e,a)}(await FE(e),e.asyncQueue,t,n,r))),r.promise}function UE(e,t,n={}){const r=new up;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new _E({next:n=>{t.enqueueAndForget((()=>PI(e,a))),n.fromCache&&"server"===r.source?i.reject(new lp(cp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new DI(n,o,{includeMetadataChanges:!0,Ku:!0});return TI(e,a)}(await FE(e),e.asyncQueue,t,n,r))),r.promise}function zE(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const BE=new Map;function GE(e,t,n){if(!n)throw new lp(cp.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qE(e,t,n,r){if(!0===t&&!0===r)throw new lp(cp.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ZE(e){if(!Pp.isDocumentKey(e))throw new lp(cp.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function WE(e){if(Pp.isDocumentKey(e))throw new lp(cp.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function HE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":op()}function KE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lp(cp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=HE(e);throw new lp(cp.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function $E(e,t){if(t<=0)throw new lp(cp.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class QE{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new lp(cp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lp(cp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new lp(cp.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new lp(cp.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new lp(cp.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class YE{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lp(cp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lp(cp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new hp;switch(e.type){case"firstParty":return new mp(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new lp(cp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=BE.get(e);t&&(tp("ComponentProvider","Removing Datastore"),BE.delete(e),t.terminate())}(this),Promise.resolve()}}function JE(e,t,n,r={}){var i;const o=(e=KE(e,YE))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&rp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Yf.MOCK_USER;else{t=vn(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new lp(cp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Yf(o)}e._authCredentials=new fp(new dp(t,n))}}class XE{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new t_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new XE(this.firestore,e,this._key)}}class e_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new e_(this.firestore,e,this._query)}}class t_ extends e_{constructor(e,t,n){super(e,t,ov(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new XE(this.firestore,null,new Pp(e))}withConverter(e){return new t_(this.firestore,e,this._path)}}function n_(e,t,...n){if(e=Kn(e),GE("collection","path",t),e instanceof YE){const r=kp.fromString(t,...n);return WE(r),new t_(e,null,r)}{if(!(e instanceof XE||e instanceof t_))throw new lp(cp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kp.fromString(t,...n));return WE(r),new t_(e.firestore,null,r)}}function r_(e,t,...n){if(e=Kn(e),1===arguments.length&&(t=wp.A()),GE("doc","path",t),e instanceof YE){const r=kp.fromString(t,...n);return ZE(r),new XE(e,null,new Pp(r))}{if(!(e instanceof XE||e instanceof t_))throw new lp(cp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kp.fromString(t,...n));return ZE(r),new XE(e.firestore,e instanceof t_?e.converter:null,new Pp(r))}}function i_(e,t){return e=Kn(e),t=Kn(t),(e instanceof XE||e instanceof t_)&&(t instanceof XE||t instanceof t_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function o_(e,t){return e=Kn(e),t=Kn(t),e instanceof e_&&t instanceof e_&&e.firestore===t.firestore&&pv(e._query,t._query)&&e.converter===t.converter}class a_{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new zC(this,"async_queue_retry"),this.Xc=()=>{const e=VC();e&&tp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=VC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=VC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new up;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Kp(e))throw e;tp("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw np("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=II.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&op()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function s_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class c_{constructor(){this._progressObserver={},this._taskCompletionResolver=new up,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class l_ extends YE{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new a_,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||d_(this),this._firestoreClient.terminate()}}function u_(e){return e._firestoreClient||d_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function d_(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Xg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new SE(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function h_(e,t,n){const r=new up;return e.asyncQueue.enqueue((async()=>{try{await TE(e,n),await PE(e,t),r.resolve()}catch(e){const t=e;if(!NE(t))throw t;rp("Error enabling indexeddb cache. Falling back to memory cache: "+t),r.reject(t)}})).then((()=>r.promise))}function f_(e){if(e._initialized||e._terminated)throw new lp(cp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class p_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new p_(Zg.fromBase64String(e))}catch(e){throw new lp(cp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new p_(Zg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class g_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new lp(cp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tp(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class m_{constructor(e){this._methodName=e}}class v_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lp(cp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lp(cp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cp(this._lat,e._lat)||Cp(this._long,e._long)}}const y_=/^__.*__$/;class b_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new sy(e,this.data,this.fieldMask,t,this.fieldTransforms):new ay(e,this.data,t,this.fieldTransforms)}}class w_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new sy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function C_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw op()}}class I_{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new I_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return B_(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(C_(this.ca)&&y_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class E_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||UC(e)}ya(e,t,n,r=!1){return new I_({ca:e,methodName:t,ga:n,path:Tp.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __(e){const t=e._freezeSettings(),n=UC(e._databaseId);return new E_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function x_(e,t,n,r,i,o={}){const a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);F_("Data must be an object, but it was:",a,r);const s=M_(r,a);let c,l;if(o.merge)c=new Gg(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=V_(t,r,n);if(!a.contains(i))throw new lp(cp.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);G_(e,i)||e.push(i)}c=new Gg(e),l=a.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=a.fieldTransforms;return new b_(new Im(s),c,l)}class A_ extends m_{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof A_}}function k_(e,t,n){return new I_({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class S_ extends m_{_toFieldTransform(e){return new Qv(e.path,new Bv)}isEqual(e){return e instanceof S_}}class T_ extends m_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=k_(this,e,!0),n=this.pa.map((e=>L_(e,t))),r=new Gv(n);return new Qv(e.path,r)}isEqual(e){return this===e}}class P_ extends m_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=k_(this,e,!0),n=this.pa.map((e=>L_(e,t))),r=new Zv(n);return new Qv(e.path,r)}isEqual(e){return this===e}}class N_ extends m_{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Hv(e.serializer,jv(e.serializer,this.Ia));return new Qv(e.path,t)}isEqual(e){return this===e}}function O_(e,t,n,r){const i=e.ya(1,t,n);F_("Data must be an object, but it was:",i,r);const o=[],a=Im.empty();Lg(r,((e,r)=>{const s=z_(t,e,n);r=Kn(r);const c=i.da(s);if(r instanceof A_)o.push(s);else{const e=L_(r,c);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Gg(o);return new w_(a,s,i.fieldTransforms)}function R_(e,t,n,r,i,o){const a=e.ya(1,t,n),s=[V_(t,r,n)],c=[i];if(o.length%2!=0)throw new lp(cp.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)s.push(V_(t,o[e])),c.push(o[e+1]);const l=[],u=Im.empty();for(let e=s.length-1;e>=0;--e)if(!G_(l,s[e])){const t=s[e];let n=c[e];n=Kn(n);const r=a.da(t);if(n instanceof A_)l.push(t);else{const e=L_(n,r);null!=e&&(l.push(t),u.set(t,e))}}const d=new Gg(l);return new w_(u,d,a.fieldTransforms)}function D_(e,t,n,r=!1){return L_(n,e.ya(r?4:3,t))}function L_(e,t){if(j_(e=Kn(e)))return F_("Unsupported field value:",t,e),M_(e,t);if(e instanceof m_)return function(e,t){if(!C_(t.ca))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=L_(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Kn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jv(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=_p.fromDate(e);return{timestampValue:Gy(t.serializer,n)}}if(e instanceof _p){const n=new _p(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gy(t.serializer,n)}}if(e instanceof v_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof p_)return{bytesValue:qy(t.serializer,e._byteString)};if(e instanceof XE){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Hy(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${HE(e)}`)}(e,t)}function M_(e,t){const n={};return Mg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lg(e,((e,r)=>{const i=L_(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function j_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _p||e instanceof v_||e instanceof p_||e instanceof XE||e instanceof m_)}function F_(e,t,n){if(!j_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=HE(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function V_(e,t,n){if((t=Kn(t))instanceof g_)return t._internalPath;if("string"==typeof t)return z_(e,t);throw B_("Field path arguments must be of type string or ",e,!1,void 0,n)}const U_=new RegExp("[~\\*/\\[\\]]");function z_(e,t,n){if(t.search(U_)>=0)throw B_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new g_(...t.split("."))._internalPath}catch(r){throw B_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function B_(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new lp(cp.INVALID_ARGUMENT,s+e+c)}function G_(e,t){return e.some((e=>e.isEqual(t)))}class q_{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new XE(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Z_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(W_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Z_ extends q_{data(){return super.data()}}function W_(e,t){return"string"==typeof t?z_(e,t):t instanceof g_?t._internalPath:t._delegate._internalPath}function H_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new lp(cp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K_{}class $_ extends K_{}function Q_(e,t,...n){let r=[];t instanceof K_&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof X_)).length,n=e.filter((e=>e instanceof Y_)).length;if(t>1||t>0&&n>0)throw new lp(cp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}class Y_ extends $_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Y_(e,t,n)}_apply(e){const t=this._parse(e);return ux(e._query,t),new e_(e.firestore,e.converter,hv(e._query,t))}_parse(e){const t=__(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new lp(cp.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){lx(a,o);const t=[];for(const n of a)t.push(cx(r,e,n));s={arrayValue:{values:t}}}else s=cx(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||lx(a,o),s=D_(n,"where",a,"in"===o||"not-in"===o);return Nm.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function J_(e,t,n){const r=t,i=W_("where",e);return Y_._create(i,r,n)}class X_ extends K_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new X_(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Om.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)ux(n,e),n=hv(n,e)}(e._query,t),new e_(e.firestore,e.converter,hv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ex extends $_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ex(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new lp(cp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new lp(cp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Sm(t,n);return function(e,t){if(null===sv(e)){const n=cv(e);null!==n&&dx(0,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new e_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new rv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function tx(e,t="asc"){const n=t,r=W_("orderBy",e);return ex._create(r,n)}class nx extends $_{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new nx(e,t,n)}_apply(e){return new e_(e.firestore,e.converter,fv(e._query,this._limit,this._limitType))}}function rx(e){return $E("limit",e),nx._create("limit",e,"F")}class ix extends $_{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ix(e,t,n)}_apply(e){const t=sx(e,this.type,this._docOrFields,this._inclusive);return new e_(e.firestore,e.converter,function(e,t){return new rv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function ox(...e){return ix._create("startAt",e,!0)}class ax extends $_{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ax(e,t,n)}_apply(e){const t=sx(e,this.type,this._docOrFields,this._inclusive);return new e_(e.firestore,e.converter,function(e,t){return new rv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function sx(e,t,n,r){if(n[0]=Kn(n[0]),n[0]instanceof q_)return function(e,t,n,r,i){if(!r)throw new lp(cp.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of uv(e))if(n.field.isKeyField())o.push(um(t,r.key));else{const e=r.data.field(n.field);if(Qg(e))throw new lp(cp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new lp(cp.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new xm(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=__(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new lp(cp.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const s=[];for(let o=0;o<i.length;o++){const c=i[o];if(a[o].field.isKeyField()){if("string"!=typeof c)throw new lp(cp.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!lv(e)&&-1!==c.indexOf("/"))throw new lp(cp.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child(kp.fromString(c));if(!Pp.isDocumentKey(n))throw new lp(cp.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Pp(n);s.push(um(t,i))}else{const e=D_(n,r,c);s.push(e)}}return new xm(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function cx(e,t,n){if("string"==typeof(n=Kn(n))){if(""===n)throw new lp(cp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lv(t)&&-1!==n.indexOf("/"))throw new lp(cp.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(kp.fromString(n));if(!Pp.isDocumentKey(r))throw new lp(cp.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return um(e,new Pp(r))}if(n instanceof XE)return um(e,n._key);throw new lp(cp.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HE(n)}.`)}function lx(e,t){if(!Array.isArray(e)||0===e.length)throw new lp(cp.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ux(e,t){if(t.isInequality()){const n=cv(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new lp(cp.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=sv(e);null!==i&&dx(0,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new lp(cp.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lp(cp.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function dx(e,t,n){if(!n.isEqual(t))throw new lp(cp.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class hx{convertValue(e,t="none"){switch(rm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($g(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw op()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Lg(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new v_(Kg(e.latitude),Kg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Yg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Jg(e));default:return null}}convertTimestamp(e){const t=Hg(e);return new _p(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=kp.fromString(e);ap(mb(n));const r=new em(n.get(1),n.get(3)),i=new Pp(n.popFirst(5));return r.isEqual(t)||np(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function fx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class px extends hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new p_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new XE(this.firestore,null,t)}}class gx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mx extends q_{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(W_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vx extends mx{data(e={}){return super.data(e)}}class yx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gx(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vx(this._firestore,this._userDataWriter,n.key,n,new gx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new lp(cp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new vx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gx(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new vx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:bx(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return op()}}function wx(e,t){return e instanceof mx&&t instanceof mx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof yx&&t instanceof yx&&e._firestore===t._firestore&&o_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Cx(e){e=KE(e,XE);const t=KE(e.firestore,l_);return VE(u_(t),e._key).then((n=>Px(t,e,n)))}class Ix extends hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new p_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new XE(this.firestore,null,t)}}function Ex(e){e=KE(e,e_);const t=KE(e.firestore,l_),n=u_(t),r=new Ix(t);return H_(e._query),UE(n,e._query).then((n=>new yx(t,r,e,n)))}function _x(e,t,n){e=KE(e,XE);const r=KE(e.firestore,l_),i=fx(e.converter,t,n);return Tx(r,[x_(__(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Jv.none())])}function xx(e,t,n,...r){e=KE(e,XE);const i=KE(e.firestore,l_),o=__(i);let a;return a="string"==typeof(t=Kn(t))||t instanceof g_?R_(o,"updateDoc",e._key,t,n,r):O_(o,"updateDoc",e._key,t),Tx(i,[a.toMutation(e._key,Jv.exists(!0))])}function Ax(e){return Tx(KE(e.firestore,l_),[new dy(e._key,Jv.none())])}function kx(e,t){const n=KE(e.firestore,l_),r=r_(e),i=fx(e.converter,t);return Tx(n,[x_(__(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Jv.exists(!1))]).then((()=>r))}function Sx(e,...t){var n,r,i;e=Kn(e);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||s_(t[a])||(o=t[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges};if(s_(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,l,u;if(e instanceof XE)l=KE(e.firestore,l_),u=ov(e._key.path),c={next:n=>{t[a]&&t[a](Px(l,e,n))},error:t[a+1],complete:t[a+2]};else{const n=KE(e,e_);l=KE(n.firestore,l_),u=n._query;const r=new Ix(l);c={next:e=>{t[a]&&t[a](new yx(l,r,n,e))},error:t[a+1],complete:t[a+2]},H_(e._query)}return function(e,t,n,r){const i=new _E(r),o=new DI(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>TI(await FE(e),o))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>PI(await FE(e),o)))}}(u_(l),u,s,c)}function Tx(e,t){return function(e,t){const n=new up;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=yE(e);try{const e=await function(e,t){const n=sp(e),r=_p.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ov());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Ev(),c=Ov();return n.Zi.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=iy(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new sy(e.key,t,Em(t.value.mapValue),Jv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Av(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new jg(Cp)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await aE(r,e.changes),await lI(r.remoteStore)}catch(e){const t=EI(e,"Failed to persist write");n.reject(t)}}(await jE(e),t,n))),n.promise}(u_(e),t)}function Px(e,t,n){const r=n.docs.get(t._key),i=new Ix(e);return new mx(e,i,t._key,r,new gx(n.hasPendingWrites,n.fromCache),t.converter)}const Nx={maxAttempts:5};class Ox{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=__(e)}set(e,t,n){this._verifyNotCommitted();const r=Rx(e,this._firestore),i=fx(r.converter,t,n),o=x_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Jv.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Rx(e,this._firestore);let o;return o="string"==typeof(t=Kn(t))||t instanceof g_?R_(this._dataReader,"WriteBatch.update",i._key,t,n,r):O_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Jv.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rx(e,this._firestore);return this._mutations=this._mutations.concat(new dy(t._key,Jv.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lp(cp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rx(e,t){if((e=Kn(e)).firestore!==t)throw new lp(cp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Dx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=__(e)}get(e){const t=Rx(e,this._firestore),n=new px(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return op();const r=e[0];if(r.isFoundDocument())return new q_(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new q_(this._firestore,n,t._key,null,t.converter);throw op()}))}set(e,t,n){const r=Rx(e,this._firestore),i=fx(r.converter,t,n),o=x_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=Rx(e,this._firestore);let o;return o="string"==typeof(t=Kn(t))||t instanceof g_?R_(this._dataReader,"Transaction.update",i._key,t,n,r):O_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=Rx(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rx(e,this._firestore),n=new Ix(this._firestore);return super.get(e).then((e=>new mx(this._firestore,n,t._key,e._document,new gx(!1,!1),t.converter)))}}function Lx(e){return u_(e=KE(e,l_)),new Ox(e,(t=>Tx(e,t)))}function Mx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new lp("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function jx(){if("undefined"==typeof Uint8Array)throw new lp("unimplemented","Uint8Arrays are not available in this environment.")}function Fx(){if("undefined"==typeof atob)throw new lp("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Jf=e}(Vr),Rr(new $n("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new l_(new pp(e.getProvider("auth-internal")),new yp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lp(cp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new em(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),qr(Qf,"3.13.0",e),qr(Qf,"3.13.0","esm2017")}();class Vx{constructor(e){this._delegate=e}static fromBase64String(e){return Fx(),new Vx(p_.fromBase64String(e))}static fromUint8Array(e){return jx(),new Vx(p_.fromUint8Array(e))}toBase64(){return Fx(),this._delegate.toBase64()}toUint8Array(){return jx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ux(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class zx{enableIndexedDbPersistence(e,t){return function(e,t){f_(e=KE(e,l_));const n=u_(e);if(n._uninitializedComponentsProvider)throw new lp(cp.FAILED_PRECONDITION,"SDK cache is already specified.");rp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new IE;return h_(n,i,new wE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){f_(e=KE(e,l_));const t=u_(e);if(t._uninitializedComponentsProvider)throw new lp(cp.FAILED_PRECONDITION,"SDK cache is already specified.");rp("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new IE;return h_(t,r,new CE(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new lp(cp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new up;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Zp.D())return Promise.resolve();const t=e+"main";await Zp.delete(t)}(iC(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Bx{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof em||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||rp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){JE(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await DE(e),n=await ME(e);return t.setNetworkEnabled(!0),function(e){const t=sp(e);return t.vu.delete(0),KC(t)}(n)}))}(u_(e=KE(e,l_)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await DE(e),n=await ME(e);return t.setNetworkEnabled(!1),async function(e){const t=sp(e);t.vu.add(0),await $C(t),t.bu.set("Offline")}(n)}))}(u_(e=KE(e,l_)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,qE("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new up;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=sp(e);nI(n.remoteStore)||tp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=sp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=EI(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await jE(e),t))),t.promise}(u_(e=KE(e,l_)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new _E(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){sp(e).ku.add(t),t.next()}(await FE(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){sp(e).ku.delete(t)}(await FE(e),n)))}}(u_(e=KE(e,l_)),s_(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new lp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nA(this,n_(this._delegate,e))}catch(e){throw Kx(e,"collection()","Firestore.collection()")}}doc(e){try{return new Hx(this,r_(this._delegate,e))}catch(e){throw Kx(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xx(this,function(e,t){if(e=KE(e,YE),GE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new lp(cp.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new e_(e,null,function(e){return new rv(kp.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Kx(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=KE(e,l_);const r=Object.assign(Object.assign({},Nx),void 0);return function(e){if(e.maxAttempts<1)throw new lp(cp.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new up;return e.asyncQueue.enqueueAndForget((async()=>{const i=await function(e){return RE(e).then((e=>e.datastore))}(e);new kE(e.asyncQueue,i,n,t,r).run()})),r.promise}(u_(e),(n=>t(new Dx(e,n))),r)}(this._delegate,(t=>e(new qx(this,t))))}batch(){return u_(this._delegate),new Zx(new Ox(this._delegate,(e=>Tx(this._delegate,e))))}loadBundle(e){return function(e,t){const n=u_(e=KE(e,l_)),r=new c_;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Ey().encode(e):e,function(e,t){return new xE(e,t)}(function(e,t){if(e instanceof Uint8Array)return EE(e,t);if(e instanceof ArrayBuffer)return EE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,UC(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=sp(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=sp(e),r=Wy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(FI(r));const i=new jI(r,e.localStore,t.serializer);let o=await t.bc();for(;o;){const e=await i.zu(o);e&&n._updateProgress(e),o=await t.bc()}const a=await i.complete();return await aE(e,a.Ju,void 0),await function(e,t){const n=sp(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Hu)}catch(e){return rp("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await jE(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=sp(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await LE(e),t)))}(u_(e=KE(e,l_)),t).then((t=>t?new e_(e,null,t.query):null))}(this._delegate,e).then((e=>e?new Xx(this,e):null))}}class Gx extends hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vx(new p_(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Hx.forKey(t,this.firestore,null)}}class qx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Gx(e)}get(e){const t=rA(e);return this._delegate.get(t).then((e=>new Yx(this._firestore,new mx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=rA(e);return n?(Mx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=rA(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=rA(e);return this._delegate.delete(t),this}}class Zx{constructor(e){this._delegate=e}set(e,t,n){const r=rA(e);return n?(Mx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=rA(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=rA(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wx{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new vx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jx(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Wx.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Wx(e,new Gx(e),t),r.set(t,i)),i}}Wx.INSTANCES=new WeakMap;class Hx{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gx(e)}static forPath(e,t,n){if(e.length%2!=0)throw new lp("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Hx(t,new XE(t._delegate,n,new Pp(e)))}static forKey(e,t,n){return new Hx(t,new XE(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new nA(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nA(this.firestore,n_(this._delegate,e))}catch(e){throw Kx(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Kn(e))instanceof XE&&i_(this._delegate,e)}set(e,t){t=Mx("DocumentReference.set",t);try{return t?_x(this._delegate,e,t):_x(this._delegate,e)}catch(e){throw Kx(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?xx(this._delegate,e):xx(this._delegate,e,t,...n)}catch(e){throw Kx(e,"updateDoc()","DocumentReference.update()")}}delete(){return Ax(this._delegate)}onSnapshot(...e){const t=$x(e),n=Qx(e,(e=>new Yx(this.firestore,new mx(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Sx(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=KE(e,XE);const t=KE(e.firestore,l_),n=u_(t),r=new Ix(t);return function(e,t){const n=new up;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=sp(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new lp(cp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=EI(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await LE(e),t,n))),n.promise}(n,e._key).then((n=>new mx(t,r,e._key,n,new gx(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=KE(e,XE);const t=KE(e.firestore,l_);return VE(u_(t),e._key,{source:"server"}).then((n=>Px(t,e,n)))}(this._delegate):Cx(this._delegate),t.then((e=>new Yx(this.firestore,new mx(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Hx(this.firestore,e?this._delegate.withConverter(Wx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Kx(e,t,n){return e.message=e.message.replace(t,n),e}function $x(e){for(const t of e)if("object"==typeof t&&!Ux(t))return t;return{}}function Qx(e,t){var n,r;let i;return i=Ux(e[0])?e[0]:Ux(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Yx{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Hx(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wx(this._delegate,e._delegate)}}class Jx extends Yx{data(e){const t=this._delegate.data(e);return function(e,t){e||op()}(void 0!==t),t}}class Xx{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Gx(e)}where(e,t,n){try{return new Xx(this.firestore,Q_(this._delegate,J_(e,t,n)))}catch(e){throw Kx(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Xx(this.firestore,Q_(this._delegate,tx(e,t)))}catch(e){throw Kx(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xx(this.firestore,Q_(this._delegate,rx(e)))}catch(e){throw Kx(e,"limit()","Query.limit()")}}limitToLast(e){try{return new Xx(this.firestore,Q_(this._delegate,function(e){return $E("limitToLast",e),nx._create("limitToLast",e,"L")}(e)))}catch(e){throw Kx(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xx(this.firestore,Q_(this._delegate,ox(...e)))}catch(e){throw Kx(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xx(this.firestore,Q_(this._delegate,function(...e){return ix._create("startAfter",e,!1)}(...e)))}catch(e){throw Kx(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xx(this.firestore,Q_(this._delegate,function(...e){return ax._create("endBefore",e,!1)}(...e)))}catch(e){throw Kx(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xx(this.firestore,Q_(this._delegate,function(...e){return ax._create("endAt",e,!0)}(...e)))}catch(e){throw Kx(e,"endAt()","Query.endAt()")}}isEqual(e){return o_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=KE(e,e_);const t=KE(e.firestore,l_),n=u_(t),r=new Ix(t);return function(e,t){const n=new up;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await gC(e,t,!0),i=new zI(t,r.ir),o=i.sc(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=EI(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await LE(e),t,n))),n.promise}(n,e._query).then((n=>new yx(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=KE(e,e_);const t=KE(e.firestore,l_),n=u_(t),r=new Ix(t);return UE(n,e._query,{source:"server"}).then((n=>new yx(t,r,e,n)))}(this._delegate):Ex(this._delegate),t.then((e=>new tA(this.firestore,new yx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=$x(e),n=Qx(e,(e=>new tA(this.firestore,new yx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Sx(this._delegate,t,n)}withConverter(e){return new Xx(this.firestore,e?this._delegate.withConverter(Wx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class eA{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Jx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Xx(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Jx(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new eA(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Jx(this._firestore,n))}))}isEqual(e){return wx(this._delegate,e._delegate)}}class nA extends Xx{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Hx(this.firestore,e):null}doc(e){try{return new Hx(this.firestore,void 0===e?r_(this._delegate):r_(this._delegate,e))}catch(e){throw Kx(e,"doc()","CollectionReference.doc()")}}add(e){return kx(this._delegate,e).then((e=>new Hx(this.firestore,e)))}isEqual(e){return i_(this._delegate,e._delegate)}withConverter(e){return new nA(this.firestore,e?this._delegate.withConverter(Wx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function rA(e){return KE(e,XE)}class iA{constructor(...e){this._delegate=new g_(...e)}static documentId(){return new iA(Tp.keyField().canonicalString())}isEqual(e){return(e=Kn(e))instanceof g_&&this._delegate._internalPath.isEqual(e._internalPath)}}class oA{constructor(e){this._delegate=e}static serverTimestamp(){const e=new S_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new oA(e)}static delete(){const e=new A_("deleteField");return e._methodName="FieldValue.delete",new oA(e)}static arrayUnion(...e){const t=function(...e){return new T_("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new oA(t)}static arrayRemove(...e){const t=function(...e){return new P_("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new oA(t)}static increment(e){const t=function(e){return new N_("increment",e)}(e);return t._methodName="FieldValue.increment",new oA(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const aA={Firestore:Bx,GeoPoint:v_,Timestamp:_p,Blob:Vx,Transaction:qx,WriteBatch:Zx,DocumentReference:Hx,DocumentSnapshot:Yx,Query:Xx,QueryDocumentSnapshot:Jx,QuerySnapshot:tA,CollectionReference:nA,FieldPath:iA,FieldValue:oA,setLogLevel:function(e){!function(e){Xf.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new $n("firestore-compat",(e=>((e,t)=>new Bx(e,t,new zx))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},aA)))}(e),e.registerVersion("@firebase/firestore-compat","0.3.12")}(Yi),qr("firebase","9.23.0","app");const sA="@firebase/database",cA="0.14.4";let lA="";class uA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Sn(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class dA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Nn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const hA=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new uA(t)}}catch(e){}return new dA},fA=hA("localStorage"),pA=hA("sessionStorage"),gA=new or("@firebase/database"),mA=function(){let e=1;return function(){return e++}}(),vA=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,en(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Un;n.update(t);const r=n.digest();return rn.encodeByteArray(r)},yA=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=yA.apply(null,r):t+="object"==typeof r?Tn(r):r,t+=" "}return t};let bA=null,wA=!0;const CA=function(...e){if(!0===wA&&(wA=!1,null===bA&&!0===pA.get("logging_enabled")&&(t=!0,en(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(gA.logLevel=er.VERBOSE,bA=gA.log.bind(gA),n&&pA.set("logging_enabled",!0)):"function"==typeof t?bA=t:(bA=null,pA.remove("logging_enabled")))),bA){const t=yA.apply(null,e);bA(t)}var t,n},IA=function(e){return function(...t){CA(e,...t)}},EA=function(...e){const t="FIREBASE INTERNAL ERROR: "+yA(...e);gA.error(t)},_A=function(...e){const t=`FIREBASE FATAL ERROR: ${yA(...e)}`;throw gA.error(t),new Error(t)},xA=function(...e){const t="FIREBASE WARNING: "+yA(...e);gA.warn(t)},AA=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},kA="[MIN_NAME]",SA="[MAX_NAME]",TA=function(e,t){if(e===t)return 0;if(e===kA||t===SA)return-1;if(t===kA||e===SA)return 1;{const n=jA(e),r=jA(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},PA=function(e,t){return e===t?0:e<t?-1:1},NA=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Tn(t))},OA=function(e){if("object"!=typeof e||null===e)return Tn(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Tn(t[r]),n+=":",n+=OA(e[t[r]]);return n+="}",n},RA=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function DA(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const LA=function(e){en(!AA(e),"Invalid JSON number");let t,n,r,i,o;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const s=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(s.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()},MA=new RegExp("^-?(0*)\\d{1,10}$"),jA=function(e){if(MA.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},FA=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw xA("Exception was thrown by user callback.",t),e}),Math.floor(0))}},VA=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class UA{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){xA(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zA{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(CA("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xA(e)}}class BA{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}BA.OWNER="owner";const GA="5",qA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZA="ac",WA="websocket",HA="long_polling";class KA{constructor(e,t,n,r,i=!1,o="",a=!1,s=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fA.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fA.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function $A(e,t,n){let r;if(en("string"==typeof t,"typeof type must == string"),en("object"==typeof n,"typeof params must == object"),t===WA)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==HA)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return DA(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class QA{constructor(){this.counters_={}}incrementCounter(e,t=1){Nn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ln(void 0,this.counters_)}}const YA={},JA={};function XA(e){const t=e.toString();return YA[t]||(YA[t]=new QA),YA[t]}class ek{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&FA((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const tk="start";class nk{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=IA(e),this.stats_=XA(t),this.urlFn=e=>(this.appCheckToken&&(e[ZA]=this.appCheckToken),$A(t,HA,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ek(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new rk(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===tk)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[tk]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=GA,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[ZA]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&qA.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nk.forceAllow_=!0}static forceDisallow(){nk.forceDisallow_=!0}static isAvailable(){return!(!nk.forceAllow_&&(nk.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Tn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=an(t),r=RA(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Tn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class rk{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mA(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=rk.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){CA("frame writing exception"),e.stack&&CA(e.stack),CA(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||CA("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{CA("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let ik=null;"undefined"!=typeof MozWebSocket?ik=MozWebSocket:"undefined"!=typeof WebSocket&&(ik=WebSocket);class ok{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=IA(this.connId),this.stats_=XA(t),this.connURL=ok.connectionURL_(t,o,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=GA,"undefined"!=typeof location&&location.hostname&&qA.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[ZA]=r),i&&(o.p=i),$A(e,WA,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fA.set("previous_websocket_failure",!0);try{let e;0,this.mySock=new ik(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ok.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ik&&!ok.forceDisallow_}static previouslyFailed(){return fA.isInMemoryStorage||!0===fA.get("previous_websocket_failure")}markConnectionHealthy(){fA.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Sn(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(en(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Tn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=RA(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ok.responsesRequiredToBeHealthy=2,ok.healthyTimeout=3e4;class ak{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[nk,ok]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=ok&&ok.isAvailable();let n=t&&!ok.previouslyFailed();if(e.webSocketOnly&&(t||xA("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ok];else{const e=this.transports_=[];for(const t of ak.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ak.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ak.globalTransportInitialized_=!1;class sk{constructor(e,t,n,r,i,o,a,s,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=IA("c:"+this.id+":"),this.transportManager_=new ak(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=VA((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=NA("t",e),n=NA("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=NA("t",e),n=NA("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=NA("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?EA("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):EA("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),GA!==n&&xA("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),VA((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):VA((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fA.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ck{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class lk{constructor(e){this.allowedEvents_=e,this.listeners_={},en(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){en(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class uk extends lk{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||bn()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new uk}getInitialEvent(e){return en("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class dk{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function hk(){return new dk("")}function fk(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pk(e){return e.pieces_.length-e.pieceNum_}function gk(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new dk(e.pieces_,t)}function mk(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function vk(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function yk(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new dk(t,0)}function bk(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof dk)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new dk(n,0)}function wk(e){return e.pieceNum_>=e.pieces_.length}function Ck(e,t){const n=fk(e),r=fk(t);if(null===n)return t;if(n===r)return Ck(gk(e),gk(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ik(e,t){if(pk(e)!==pk(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ek(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(pk(e)>pk(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class _k{constructor(e,t){this.errorPrefix_=t,this.parts_=vk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=Zn(this.parts_[e]);xk(this)}}function xk(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ak(e))}function Ak(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class kk extends lk{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new kk}getInitialEvent(e){return en("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Sk=1e3;class Tk extends ck{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=Tk.nextPersistentConnectionId_++,this.log_=IA("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Sk,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kk.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&uk.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Tn(i)),en(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new mn,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),en(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),en(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,a=i.s;Tk.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&Nn(e,"w")){const n=On(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();xA(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Pn(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Pn(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),en(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tn(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):EA("Unrecognized action received from server: "+Tn(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){en(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Sk,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Sk,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Sk),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Tk.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},c=function(e){en(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?CA("getToken() completed but was canceled"):(CA("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=c&&c.token,a=new sk(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{xA(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&xA(e),s())}}}interrupt(e){CA("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){CA("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Rn(this.interruptReasons_)&&(this.reconnectDelay_=Sk,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>OA(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new dk(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){CA("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){CA("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+lA.replace(/\./g,"-")]=1,bn()?e["framework.cordova"]=1:In()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=uk.getInstance().currentlyOnline();return Rn(this.interruptReasons_)&&e}}Tk.nextPersistentConnectionId_=0,Tk.nextConnectionId_=0;class Pk{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Pk(e,t)}}class Nk{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Pk(kA,e),r=new Pk(kA,t);return 0!==this.compare(n,r)}minPost(){return Pk.MIN}}let Ok;class Rk extends Nk{static get __EMPTY_NODE(){return Ok}static set __EMPTY_NODE(e){Ok=e}compare(e,t){return TA(e.name,t.name)}isDefinedOn(e){throw tn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Pk.MIN}maxPost(){return new Pk(SA,Ok)}makePost(e,t){return en("string"==typeof e,"KeyIndex indexValue must always be a string."),new Pk(e,Ok)}toString(){return".key"}}const Dk=new Rk;class Lk{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Mk{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Mk.RED,this.left=null!=r?r:jk.EMPTY_NODE,this.right=null!=i?i:jk.EMPTY_NODE}copy(e,t,n,r,i){return new Mk(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return jk.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return jk.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mk.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mk.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Mk.RED=!0,Mk.BLACK=!1;class jk{constructor(e,t=jk.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new jk(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Mk.BLACK,null,null))}remove(e){return new jk(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mk.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lk(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Lk(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Lk(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Lk(this.root_,null,this.comparator_,!0,e)}}function Fk(e,t){return TA(e.name,t.name)}function Vk(e,t){return TA(e,t)}let Uk;jk.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Mk(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const zk=function(e){return"number"==typeof e?"number:"+LA(e):"string:"+e},Bk=function(e){if(e.isLeafNode()){const t=e.val();en("string"==typeof t||"number"==typeof t||"object"==typeof t&&Nn(t,".sv"),"Priority must be a string or number.")}else en(e===Uk||e.isEmpty(),"priority of unexpected type.");en(e===Uk||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Gk,qk,Zk;class Wk{constructor(e,t=Wk.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,en(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Bk(this.priorityNode_)}static set __childrenNodeConstructor(e){Gk=e}static get __childrenNodeConstructor(){return Gk}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Wk(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Wk.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return wk(e)?this:".priority"===fk(e)?this.priorityNode_:Wk.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Wk.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=fk(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(en(".priority"!==n||1===pk(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Wk.__childrenNodeConstructor.EMPTY_NODE.updateChild(gk(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zk(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?LA(this.value_):this.value_,this.lazyHash_=vA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Wk.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Wk.__childrenNodeConstructor?-1:(en(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Wk.VALUE_TYPE_ORDER.indexOf(t),i=Wk.VALUE_TYPE_ORDER.indexOf(n);return en(r>=0,"Unknown leaf type: "+t),en(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Wk.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Hk=new class extends Nk{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?TA(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Pk.MIN}maxPost(){return new Pk(SA,new Wk("[PRIORITY-POST]",Zk))}makePost(e,t){const n=qk(e);return new Pk(t,new Wk("[PRIORITY-POST]",n))}toString(){return".priority"}},Kk=Math.log(2);class $k{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Kk,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qk=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new Mk(s,a.node,Mk.BLACK,null,null);{const c=parseInt(o/2,10)+t,l=i(t,c),u=i(c+1,r);return a=e[c],s=n?n(a):a,new Mk(s,a.node,Mk.BLACK,l,u)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const l=i(o+1,s),u=e[o],d=n?n(u):u;c(new Mk(d,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,Mk.BLACK):(s(r,Mk.BLACK),s(r,Mk.RED))}return o}(new $k(e.length));return new jk(r||t,o)};let Yk;const Jk={};class Xk{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return en(Jk&&Hk,"ChildrenNode.ts has not been loaded"),Yk=Yk||new Xk({".priority":Jk},{".priority":Hk}),Yk}get(e){const t=On(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof jk?t:null}hasIndex(e){return Nn(this.indexSet_,e.toString())}addIndex(e,t){en(e!==Dk,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Pk.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?Qk(n,e.getCompare()):Jk;const s=e.toString(),c=Object.assign({},this.indexSet_);c[s]=e;const l=Object.assign({},this.indexes_);return l[s]=o,new Xk(l,c)}addToIndexes(e,t){const n=Dn(this.indexes_,((n,r)=>{const i=On(this.indexSet_,r);if(en(i,"Missing index implementation for "+r),n===Jk){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Pk.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Qk(n,i.getCompare())}return Jk}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Pk(e.name,r))),i.insert(e,e.node)}}));return new Xk(n,this.indexSet_)}removeFromIndexes(e,t){const n=Dn(this.indexes_,(n=>{if(n===Jk)return n;{const r=t.get(e.name);return r?n.remove(new Pk(e.name,r)):n}}));return new Xk(n,this.indexSet_)}}let eS;class tS{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Bk(this.priorityNode_),this.children_.isEmpty()&&en(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eS||(eS=new tS(new jk(Vk),null,Xk.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eS}updatePriority(e){return this.children_.isEmpty()?this:new tS(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?eS:t}}getChild(e){const t=fk(e);return null===t?this:this.getImmediateChild(t).getChild(gk(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(en(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Pk(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?eS:this.priorityNode_;return new tS(r,o,i)}}updateChild(e,t){const n=fk(e);if(null===n)return t;{en(".priority"!==fk(e)||1===pk(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(gk(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Hk,((o,a)=>{t[o]=a.val(e),n++,i&&tS.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+zk(this.getPriority().val())+":"),this.forEachChild(Hk,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":vA(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Pk(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Pk(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Pk(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Pk.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Pk.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nS?-1:0}withIndex(e){if(e===Dk||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new tS(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Dk||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Hk),n=t.getIterator(Hk);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Dk?null:this.indexMap_.get(e.toString())}}tS.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const nS=new class extends tS{constructor(){super(new jk(Vk),tS.EMPTY_NODE,Xk.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tS.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Pk,{MIN:{value:new Pk(kA,tS.EMPTY_NODE)},MAX:{value:new Pk(SA,nS)}}),Rk.__EMPTY_NODE=tS.EMPTY_NODE,Wk.__childrenNodeConstructor=tS,Uk=nS,Zk=nS;const rS=!0;function iS(e,t=null){if(null===e)return tS.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),en(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Wk(e,iS(t));if(e instanceof Array||!rS){let n=tS.EMPTY_NODE;return DA(e,((t,r)=>{if(Nn(e,t)&&"."!==t.substring(0,1)){const e=iS(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(iS(t))}{const n=[];let r=!1;if(DA(e,((e,t)=>{if("."!==e.substring(0,1)){const i=iS(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Pk(e,i)))}})),0===n.length)return tS.EMPTY_NODE;const i=Qk(n,Fk,(e=>e.name),Vk);if(r){const e=Qk(n,Hk.getCompare());return new tS(i,iS(t),new Xk({".priority":e},{".priority":Hk}))}return new tS(i,iS(t),Xk.Default)}}!function(e){qk=e}(iS);class oS extends Nk{constructor(e){super(),this.indexPath_=e,en(!wk(e)&&".priority"!==fk(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?TA(e.name,t.name):i}makePost(e,t){const n=iS(e),r=tS.EMPTY_NODE.updateChild(this.indexPath_,n);return new Pk(t,r)}maxPost(){const e=tS.EMPTY_NODE.updateChild(this.indexPath_,nS);return new Pk(SA,e)}toString(){return vk(this.indexPath_,0).join("/")}}const aS=new class extends Nk{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?TA(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Pk.MIN}maxPost(){return Pk.MAX}makePost(e,t){const n=iS(e);return new Pk(t,n)}toString(){return".value"}};function sS(e){return{type:"value",snapshotNode:e}}function cS(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function lS(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function uS(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class dS{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){en(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(lS(t,a)):en(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(cS(t,n)):o.trackChildChange(uS(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Hk,((e,r)=>{t.hasChild(e)||n.trackChildChange(lS(e,r))})),t.isLeafNode()||t.forEachChild(Hk,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(uS(t,r,i))}else n.trackChildChange(cS(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?tS.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class hS{constructor(e){this.indexedFilter_=new dS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=hS.getStartPost_(e),this.endPost_=hS.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Pk(t,n))||(n=tS.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=tS.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(tS.EMPTY_NODE);const i=this;return t.forEachChild(Hk,((e,t)=>{i.matches(new Pk(e,t))||(r=r.updateImmediateChild(e,tS.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class fS{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new hS(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Pk(t,n))||(n=tS.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=tS.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=tS.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(tS.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,tS.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;en(a.numChildren()===this.limit_,"");const s=new Pk(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(uS(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(lS(t,e));const n=a.updateImmediateChild(t,tS.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(cS(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:l&&o(c,s)>=0?(null!=i&&(i.trackChildChange(lS(c.name,c.node)),i.trackChildChange(cS(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,tS.EMPTY_NODE)):e}}class pS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hk}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return en(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return en(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:kA}hasEnd(){return this.endSet_}getIndexEndValue(){return en(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return en(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:SA}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return en(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hk}copy(){const e=new pS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function gS(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Hk?n="$priority":e.index_===aS?n="$value":e.index_===Dk?n="$key":(en(e.index_ instanceof oS,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Tn(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Tn(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Tn(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Tn(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Tn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function mS(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Hk&&(t.i=e.index_.toString()),t}class vS extends ck{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=IA("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(en(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=vS.getListenId_(e,n),a={};this.listens_[o]=a;const s=gS(e._queryParams);this.restRequest_(i+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),On(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=vS.getListenId_(e,t);delete this.listens_[n]}get(e){const t=gS(e._queryParams),n=e._path.toString(),r=new mn;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+jn(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Sn(a.responseText)}catch(e){xA("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&xA("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class yS{constructor(){this.rootNode_=tS.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function bS(){return{value:null,children:new Map}}function wS(e,t,n){if(wk(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=fk(t);e.children.has(r)||e.children.set(r,bS()),wS(e.children.get(r),t=gk(t),n)}}function CS(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{CS(r,new dk(t.toString()+"/"+e),n)}))}class IS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&DA(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class ES{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new IS(e);const n=1e4+2e4*Math.random();VA(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;DA(e,((e,r)=>{r>0&&Nn(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),VA(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _S,xS;function AS(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(xS=_S||(_S={}))[xS.OVERWRITE=0]="OVERWRITE",xS[xS.MERGE=1]="MERGE",xS[xS.ACK_USER_WRITE=2]="ACK_USER_WRITE",xS[xS.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class kS{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=_S.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(wk(this.path)){if(null!=this.affectedTree.value)return en(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new dk(e));return new kS(hk(),t,this.revert)}}return en(fk(this.path)===e,"operationForChild called for unrelated child."),new kS(gk(this.path),this.affectedTree,this.revert)}}class SS{constructor(e,t){this.source=e,this.path=t,this.type=_S.LISTEN_COMPLETE}operationForChild(e){return wk(this.path)?new SS(this.source,hk()):new SS(this.source,gk(this.path))}}class TS{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=_S.OVERWRITE}operationForChild(e){return wk(this.path)?new TS(this.source,hk(),this.snap.getImmediateChild(e)):new TS(this.source,gk(this.path),this.snap)}}class PS{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=_S.MERGE}operationForChild(e){if(wk(this.path)){const t=this.children.subtree(new dk(e));return t.isEmpty()?null:t.value?new TS(this.source,hk(),t.value):new PS(this.source,hk(),t)}return en(fk(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new PS(this.source,gk(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class NS{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(wk(e))return this.isFullyInitialized()&&!this.filtered_;const t=fk(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class OS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function RS(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw tn("Should only compare child_ events.");const r=new Pk(t.childName,t.snapshotNode),i=new Pk(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function DS(e,t){return{eventCache:e,serverCache:t}}function LS(e,t,n,r){return DS(new NS(t,n,r),e.serverCache)}function MS(e,t,n,r){return DS(e.eventCache,new NS(t,n,r))}function jS(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function FS(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let VS;class US{constructor(e,t=(()=>(VS||(VS=new jk(PA)),VS))()){this.value=e,this.children=t}static fromObject(e){let t=new US(null);return DA(e,((e,n)=>{t=t.set(new dk(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:hk(),value:this.value};if(wk(e))return null;{const n=fk(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(gk(e),t);return null!=i?{path:bk(new dk(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(wk(e))return this;{const t=fk(e),n=this.children.get(t);return null!==n?n.subtree(gk(e)):new US(null)}}set(e,t){if(wk(e))return new US(t,this.children);{const n=fk(e),r=(this.children.get(n)||new US(null)).set(gk(e),t),i=this.children.insert(n,r);return new US(this.value,i)}}remove(e){if(wk(e))return this.children.isEmpty()?new US(null):new US(null,this.children);{const t=fk(e),n=this.children.get(t);if(n){const r=n.remove(gk(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new US(null):new US(this.value,i)}return this}}get(e){if(wk(e))return this.value;{const t=fk(e),n=this.children.get(t);return n?n.get(gk(e)):null}}setTree(e,t){if(wk(e))return t;{const n=fk(e),r=(this.children.get(n)||new US(null)).setTree(gk(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new US(this.value,i)}}fold(e){return this.fold_(hk(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(bk(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,hk(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(wk(e))return null;{const r=fk(e),i=this.children.get(r);return i?i.findOnPath_(gk(e),bk(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,hk(),t)}foreachOnPath_(e,t,n){if(wk(e))return this;{this.value&&n(t,this.value);const r=fk(e),i=this.children.get(r);return i?i.foreachOnPath_(gk(e),bk(t,r),n):new US(null)}}foreach(e){this.foreach_(hk(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(bk(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class zS{constructor(e){this.writeTree_=e}static empty(){return new zS(new US(null))}}function BS(e,t,n){if(wk(t))return new zS(new US(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=Ck(i,t);return o=o.updateChild(a,n),new zS(e.writeTree_.set(i,o))}{const r=new US(n),i=e.writeTree_.setTree(t,r);return new zS(i)}}}function GS(e,t,n){let r=e;return DA(n,((e,n)=>{r=BS(r,bk(t,e),n)})),r}function qS(e,t){if(wk(t))return zS.empty();{const n=e.writeTree_.setTree(t,new US(null));return new zS(n)}}function ZS(e,t){return null!=WS(e,t)}function WS(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ck(n.path,t)):null}function HS(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Hk,((e,n)=>{t.push(new Pk(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Pk(e,n.value))})),t}function KS(e,t){if(wk(t))return e;{const n=WS(e,t);return new zS(null!=n?new US(n):e.writeTree_.subtree(t))}}function $S(e){return e.writeTree_.isEmpty()}function QS(e,t){return YS(hk(),e.writeTree_,t)}function YS(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(en(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=YS(bk(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(bk(e,".priority"),r)),n}}function JS(e,t){return lT(t,e)}function XS(e,t){if(e.snap)return Ek(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ek(bk(e.path,n),t))return!0;return!1}function eT(e){return e.visible}function tT(e,t,n){let r=zS.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)Ek(n,e)?(t=Ck(n,e),r=BS(r,t,o.snap)):Ek(e,n)&&(t=Ck(e,n),r=BS(r,hk(),o.snap.getChild(t)));else{if(!o.children)throw tn("WriteRecord should have .snap or .children");if(Ek(n,e))t=Ck(n,e),r=GS(r,t,o.children);else if(Ek(e,n))if(t=Ck(e,n),wk(t))r=GS(r,hk(),o.children);else{const e=On(o.children,fk(t));if(e){const n=e.getChild(gk(t));r=BS(r,hk(),n)}}}}}return r}function nT(e,t,n,r,i){if(r||i){const o=KS(e.visibleWrites,t);if(!i&&$S(o))return n;if(i||null!=n||ZS(o,hk())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ek(e.path,t)||Ek(t,e.path))};return QS(tT(e.allWrites,o,t),n||tS.EMPTY_NODE)}return null}{const r=WS(e.visibleWrites,t);if(null!=r)return r;{const r=KS(e.visibleWrites,t);return $S(r)?n:null!=n||ZS(r,hk())?QS(r,n||tS.EMPTY_NODE):null}}}function rT(e,t,n,r){return nT(e.writeTree,e.treePath,t,n,r)}function iT(e,t){return function(e,t,n){let r=tS.EMPTY_NODE;const i=WS(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Hk,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=KS(e.visibleWrites,t);return n.forEachChild(Hk,((e,t)=>{const n=QS(KS(i,new dk(e)),t);r=r.updateImmediateChild(e,n)})),HS(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return HS(KS(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function oT(e,t,n,r){return function(e,t,n,r,i){en(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=bk(t,n);if(ZS(e.visibleWrites,o))return null;{const t=KS(e.visibleWrites,o);return $S(t)?i.getChild(n):QS(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function aT(e,t){return function(e,t){return WS(e.visibleWrites,t)}(e.writeTree,bk(e.treePath,t))}function sT(e,t,n){return function(e,t,n,r){const i=bk(t,n),o=WS(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?QS(KS(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function cT(e,t){return lT(bk(e.treePath,t),e.writeTree)}function lT(e,t){return{treePath:e,writeTree:t}}class uT{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;en("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),en(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,uS(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,lS(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,cS(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw tn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,uS(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const dT=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class hT{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new NS(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sT(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:FS(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const c=KS(e.visibleWrites,t),l=WS(c,hk());if(null!=l)s=l;else{if(null==n)return[];s=QS(c,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let c=n.getNext();for(;c&&e.length<i;)0!==t(c,r)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function fT(e,t,n,r,i,o){const a=t.eventCache;if(null!=aT(r,n))return t;{let s,c;if(wk(n))if(en(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=FS(t),i=iT(r,n instanceof tS?n:tS.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=rT(r,FS(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const l=fk(n);if(".priority"===l){en(1===pk(n),"Can't have a priority with additional path components");const i=a.getNode();c=t.serverCache.getNode();const o=oT(r,n,i,c);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const u=gk(n);let d;if(a.isCompleteForChild(l)){c=t.serverCache.getNode();const e=oT(r,n,a.getNode(),c);d=null!=e?a.getNode().getImmediateChild(l).updateChild(u,e):a.getNode().getImmediateChild(l)}else d=sT(r,l,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),l,d,u,i,o):a.getNode()}}return LS(t,s,a.isFullyInitialized()||wk(n),e.filter.filtersNodes())}}function pT(e,t,n,r,i,o,a,s){const c=t.serverCache;let l;const u=a?e.filter:e.filter.getIndexedFilter();if(wk(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),e,null)}else{const e=fk(n);if(!c.isCompleteForPath(n)&&pk(n)>1)return t;const i=gk(n),o=c.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?u.updatePriority(c.getNode(),o):u.updateChild(c.getNode(),e,o,i,dT,null)}const d=MS(t,l,c.isFullyInitialized()||wk(n),u.filtersNodes());return fT(e,d,n,i,new hT(i,d,o),s)}function gT(e,t,n,r,i,o,a){const s=t.eventCache;let c,l;const u=new hT(i,t,o);if(wk(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=LS(t,l,!0,e.filter.filtersNodes());else{const i=fk(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=LS(t,l,s.isFullyInitialized(),s.isFiltered());else{const o=gk(n),l=s.getNode().getImmediateChild(i);let d;if(wk(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===mk(o)&&e.getChild(yk(o)).isEmpty()?e:e.updateChild(o,r):tS.EMPTY_NODE}c=l.equals(d)?t:LS(t,e.filter.updateChild(s.getNode(),i,d,o,u,a),s.isFullyInitialized(),e.filter.filtersNodes())}}return c}function mT(e,t){return e.eventCache.isCompleteForChild(t)}function vT(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function yT(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=wk(n)?r:new US(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const c=vT(0,t.serverCache.getNode().getImmediateChild(n),r);l=pT(e,l,new dk(n),c,i,o,a,s)}})),c.children.inorderTraversal(((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!c){const c=vT(0,t.serverCache.getNode().getImmediateChild(n),r);l=pT(e,l,new dk(n),c,i,o,a,s)}})),l}class bT{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new dS(n.getIndex()),i=(o=n).loadsAllData()?new dS(o.getIndex()):o.hasLimit()?new fS(o):new hS(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,c=r.updateFullNode(tS.EMPTY_NODE,a.getNode(),null),l=i.updateFullNode(tS.EMPTY_NODE,s.getNode(),null),u=new NS(c,a.isFullyInitialized(),r.filtersNodes()),d=new NS(l,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=DS(d,u),this.eventGenerator_=new OS(this.query_)}get query(){return this.query_}}function wT(e,t){const n=FS(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!wk(t)&&!n.getImmediateChild(fk(t)).isEmpty())?n.getChild(t):null}function CT(e){return 0===e.eventRegistrations_.length}function IT(e,t,n){const r=[];if(n){en(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function ET(e,t,n,r){t.type===_S.MERGE&&null!==t.source.queryId&&(en(FS(e.viewCache_),"We should always have a full cache before handling merges"),en(jS(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function(e,t,n,r,i){const o=new uT;let a,s;if(n.type===_S.OVERWRITE){const c=n;c.source.fromUser?a=gT(e,t,c.path,c.snap,r,i,o):(en(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!wk(c.path),a=pT(e,t,c.path,c.snap,r,i,s,o))}else if(n.type===_S.MERGE){const c=n;c.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach(((r,c)=>{const l=bk(n,r);mT(t,fk(l))&&(s=gT(e,s,l,c,i,o,a))})),r.foreach(((r,c)=>{const l=bk(n,r);mT(t,fk(l))||(s=gT(e,s,l,c,i,o,a))})),s}(e,t,c.path,c.children,r,i,o):(en(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),a=yT(e,t,c.path,c.children,r,i,s,o))}else if(n.type===_S.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=aT(r,n))return t;{const s=new hT(r,t,i),c=t.eventCache.getNode();let l;if(wk(n)||".priority"===fk(n)){let n;if(t.serverCache.isFullyInitialized())n=rT(r,FS(t));else{const e=t.serverCache.getNode();en(e instanceof tS,"serverChildren would be complete if leaf node"),n=iT(r,e)}l=e.filter.updateFullNode(c,n,o)}else{const i=fk(n);let u=sT(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=c.getImmediateChild(i)),l=null!=u?e.filter.updateChild(c,i,u,gk(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,tS.EMPTY_NODE,gk(n),s,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=rT(r,FS(t)),a.isLeafNode()&&(l=e.filter.updateFullNode(l,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=aT(r,hk()),LS(t,l,a,e.filter.filtersNodes())}}(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=aT(i,n))return t;const s=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(wk(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return pT(e,t,n,c.getNode().getChild(n),i,o,s,a);if(wk(n)){let r=new US(null);return c.getNode().forEachChild(Dk,((e,t)=>{r=r.set(new dk(e),t)})),yT(e,t,n,r,i,o,s,a)}return t}{let l=new US(null);return r.foreach(((e,t)=>{const r=bk(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))})),yT(e,t,n,l,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==_S.LISTEN_COMPLETE)throw tn("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache;return fT(e,MS(t,o.getNode(),o.isFullyInitialized()||wk(n),o.isFiltered()),n,r,dT,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=jS(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(sS(jS(t)))}}(t,a,c),{viewCache:a,changes:c}}(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,en(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),en(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),en(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,_T(e,o.changes,o.viewCache.eventCache.getNode(),null)}function _T(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),RS(e,i,"child_removed",t,r,n),RS(e,i,"child_added",t,r,n),RS(e,i,"child_moved",o,r,n),RS(e,i,"child_changed",t,r,n),RS(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let xT,AT;class kT{constructor(){this.views=new Map}}function ST(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return en(null!=o,"SyncTree gave us an op for an invalid query."),ET(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(ET(o,t,n,r));return i}}function TT(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=rT(n,i?r:null),o=!1;e?o=!0:r instanceof tS?(e=iT(n,r),o=!1):(e=tS.EMPTY_NODE,o=!1);const a=DS(new NS(e,o,!1),new NS(r,i,!1));return new bT(t,a)}return a}function PT(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function NT(e,t){let n=null;for(const r of e.views.values())n=n||wT(r,t);return n}function OT(e,t){if(t._queryParams.loadsAllData())return LT(e);{const n=t._queryIdentifier;return e.views.get(n)}}function RT(e,t){return null!=OT(e,t)}function DT(e){return null!=LT(e)}function LT(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let MT=1;class jT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new US(null),this.pendingWriteTree_={visibleWrites:zS.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function FT(e,t,n,r,i){return function(e,t,n,r,i){en(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=BS(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ZT(e,new TS({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function VT(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));en(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&XS(t,r.path)?i=!1:Ek(r.path,t.path)&&(o=!0)),a--}return!!i&&(o?(function(e){e.visibleWrites=tT(e.allWrites,eT,hk()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=qS(e.visibleWrites,r.path):DA(r.children,(t=>{e.visibleWrites=qS(e.visibleWrites,bk(r.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new US(null);return null!=r.snap?t=t.set(hk(),!0):DA(r.children,(e=>{t=t.set(new dk(e),!0)})),ZT(e,new kS(r.path,t,n))}return[]}function UT(e,t,n){return ZT(e,new TS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function zT(e,t,n,r,i=!1){const o=t._path,a=e.syncPointTree_.get(o);let s=[];if(a&&("default"===t._queryIdentifier||RT(a,t))){const c=function(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=DT(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat(IT(i,n,r)),CT(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat(IT(t,n,r)),CT(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!DT(e)&&o.push(new(en(xT,"Reference.ts has not been loaded"),xT)(t._repo,t._path)),{removed:o,events:a}}(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const l=c.removed;if(s=c.events,!i){const n=-1!==l.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>DT(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&DT(t))return[LT(t)];{let e=[];return t&&(e=PT(t)),DA(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=KT(e,r);e.listenProvider_.startListening(eP(i),$T(e,i),o.hashFn,o.onComplete)}}}if(!i&&l.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(eP(t),n)}else l.forEach((t=>{const n=e.queryToTagMap.get(QT(t));e.listenProvider_.stopListening(eP(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=QT(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return s}function BT(e,t,n,r){const i=YT(e,r);if(null!=i){const r=JT(i),o=r.path,a=r.queryId,s=Ck(o,t);return XT(e,o,new TS(AS(a),s,n))}return[]}function GT(e,t,n,r=!1){const i=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Ck(e,i);o=o||NT(t,n),a=a||DT(t)}));let s,c=e.syncPointTree_.get(i);c?(a=a||DT(c),o=o||NT(c,hk())):(c=new kT,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=o?s=!0:(s=!1,o=tS.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=NT(t,hk());n&&(o=o.updateImmediateChild(e,n))})));const l=RT(c,t);if(!l&&!t._queryParams.loadsAllData()){const n=QT(t);en(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=MT++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=function(e,t,n,r,i,o){const a=TT(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Hk,((e,t)=>{r.push(cS(e,t))})),n.isFullyInitialized()&&r.push(sS(n.getNode())),_T(e,r,n.getNode(),t)}(a,n)}(c,t,n,JS(e.pendingWriteTree_,i),o,s);if(!l&&!a&&!r){const n=OT(c,t);u=u.concat(function(e,t,n){const r=t._path,i=$T(e,t),o=KT(e,n),a=e.listenProvider_.startListening(eP(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)en(!DT(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!wk(e)&&t&&DT(t))return[LT(t).query];{let e=[];return t&&(e=e.concat(PT(t).map((e=>e.query)))),DA(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(eP(r),$T(e,r))}}return a}(e,t,n))}return u}function qT(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=NT(n,Ck(e,t));if(r)return r}));return nT(r,t,i,n,!0)}function ZT(e,t){return WT(t,e.syncPointTree_,null,JS(e.pendingWriteTree_,hk()))}function WT(e,t,n,r){if(wk(e.path))return HT(e,t,n,r);{const i=t.get(hk());null==n&&null!=i&&(n=NT(i,hk()));let o=[];const a=fk(e.path),s=e.operationForChild(a),c=t.children.get(a);if(c&&s){const e=n?n.getImmediateChild(a):null,t=cT(r,a);o=o.concat(WT(s,c,e,t))}return i&&(o=o.concat(ST(i,e,r,n))),o}}function HT(e,t,n,r){const i=t.get(hk());null==n&&null!=i&&(n=NT(i,hk()));let o=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,s=cT(r,t),c=e.operationForChild(t);c&&(o=o.concat(HT(c,i,a,s)))})),i&&(o=o.concat(ST(i,e,r,n))),o}function KT(e,t){const n=t.query,r=$T(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||tS.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=YT(e,n);if(r){const n=JT(r),i=n.path,o=n.queryId,a=Ck(i,t);return XT(e,i,new SS(AS(o),a))}return[]}(e,n._path,r):function(e,t){return ZT(e,new SS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return zT(e,n,null,r)}}}}function $T(e,t){const n=QT(t);return e.queryToTagMap.get(n)}function QT(e){return e._path.toString()+"$"+e._queryIdentifier}function YT(e,t){return e.tagToQueryMap.get(t)}function JT(e){const t=e.indexOf("$");return en(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new dk(e.substr(0,t))}}function XT(e,t,n){const r=e.syncPointTree_.get(t);return en(r,"Missing sync point for query tag that we're tracking"),ST(r,n,JS(e.pendingWriteTree_,t),null)}function eP(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(en(AT,"Reference.ts has not been loaded"),AT)(e._repo,e._path):e}class tP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new tP(t)}node(){return this.node_}}class nP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=bk(this.path_,e);return new nP(this.syncTree_,t)}node(){return qT(this.syncTree_,this.path_)}}const rP=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},iP=function(e,t,n){return e&&"object"==typeof e?(en(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?oP(e[".sv"],t,n):"object"==typeof e[".sv"]?aP(e[".sv"],t):void en(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},oP=function(e,t,n){if("timestamp"===e)return n.timestamp;en(!1,"Unexpected server value: "+e)},aP=function(e,t,n){e.hasOwnProperty("increment")||en(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&en(!1,"Unexpected increment value: "+r);const i=t.node();if(en(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},sP=function(e,t,n,r){return lP(t,new nP(n,e),r)},cP=function(e,t,n){return lP(e,new tP(t),n)};function lP(e,t,n){const r=e.getPriority().val(),i=iP(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=iP(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Wk(o,iS(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Wk(i))),r.forEachChild(Hk,((e,r)=>{const i=lP(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class uP{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function dP(e,t){let n=t instanceof dk?t:new dk(t),r=e,i=fk(n);for(;null!==i;){const e=On(r.node.children,i)||{children:{},childCount:0};r=new uP(i,r,e),n=gk(n),i=fk(n)}return r}function hP(e){return e.node.value}function fP(e,t){e.node.value=t,yP(e)}function pP(e){return e.node.childCount>0}function gP(e,t){DA(e.node.children,((n,r)=>{t(new uP(n,e,r))}))}function mP(e,t,n,r){n&&!r&&t(e),gP(e,(e=>{mP(e,t,!0,r)})),n&&r&&t(e)}function vP(e){return new dk(null===e.parent?e.name:vP(e.parent)+"/"+e.name)}function yP(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===hP(e)&&!pP(e)}(n),i=Nn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,yP(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,yP(e))}(e.parent,e.name,e)}const bP=/[\[\].#$\/\u0000-\u001F\u007F]/,wP=/[\[\].#$\u0000-\u001F\u007F]/,CP=10485760,IP=function(e){return"string"==typeof e&&0!==e.length&&!bP.test(e)},EP=function(e){return"string"==typeof e&&0!==e.length&&!wP.test(e)},_P=function(e,t,n,r){r&&void 0===t||xP(qn(e,"value"),t,n)},xP=function(e,t,n){const r=n instanceof dk?new _k(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ak(r));if("function"==typeof t)throw new Error(e+"contains a function "+Ak(r)+" with contents = "+t.toString());if(AA(t))throw new Error(e+"contains "+t.toString()+" "+Ak(r));if("string"==typeof t&&t.length>CP/3&&Zn(t)>CP)throw new Error(e+"contains a string greater than "+CP+" utf8 bytes "+Ak(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(DA(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!IP(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ak(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Zn(t),xk(e)}(r,t),xP(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=Zn(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Ak(r)+" in addition to actual children.")}},AP=function(e,t,n,r){if(!(r&&void 0===n||EP(n)))throw new Error(qn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kP=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),AP(e,t,n,r)},SP=function(e,t){if(".info"===fk(t))throw new Error(e+" failed = Can't modify data under /.info/")};class TP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function PP(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||Ik(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function NP(e,t,n){PP(e,n),RP(e,(e=>Ik(e,t)))}function OP(e,t,n){PP(e,n),RP(e,(e=>Ek(e,t)||Ek(t,e)))}function RP(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(DP(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function DP(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();bA&&CA("event: "+n.toString()),FA(r)}}}const LP=25;class MP{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bS(),this.transactionQueueTree_=new uP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jP(e,t,n){if(e.stats_=XA(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new vS(e.repoInfo_,((t,n,r,i)=>{UP(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>zP(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tn(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Tk(e.repoInfo_,t,((t,n,r,i)=>{UP(e,t,n,r,i)}),(t=>{zP(e,t)}),(t=>{!function(e,t){DA(t,((t,n)=>{BP(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,n){const r=t.toString();return JA[r]||(JA[r]=new ES(e.stats_,e.server_)),JA[r]}(e.repoInfo_),e.infoData_=new yS,e.infoSyncTree_=new jT({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=UT(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),BP(e,"connected",!1),e.serverSyncTree_=new jT({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);OP(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function FP(e){const t=e.infoData_.getNode(new dk(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function VP(e){return rP({timestamp:FP(e)})}function UP(e,t,n,r,i){e.dataUpdateCount++;const o=new dk(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=Dn(n,(e=>iS(e)));a=function(e,t,n,r){const i=YT(e,r);if(i){const r=JT(i),o=r.path,a=r.queryId,s=Ck(o,t),c=US.fromObject(n);return XT(e,o,new PS(AS(a),s,c))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=iS(n);a=BT(e.serverSyncTree_,o,t,i)}else if(r){const t=Dn(n,(e=>iS(e)));a=function(e,t,n){const r=US.fromObject(n);return ZT(e,new PS({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=iS(n);a=UT(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=$P(e,o)),OP(e.eventQueue_,s,a)}function zP(e,t){BP(e,"connected",t),!1===t&&function(e){WP(e,"onDisconnectEvents");const t=VP(e),n=bS();CS(e.onDisconnect_,hk(),((r,i)=>{const o=sP(r,i,e.serverSyncTree_,t);wS(n,r,o)}));let r=[];CS(n,hk(),((t,n)=>{r=r.concat(UT(e.serverSyncTree_,t,n));const i=eN(e,t);$P(e,i)})),e.onDisconnect_=bS(),OP(e.eventQueue_,hk(),r)}(e)}function BP(e,t,n){const r=new dk("/.info/"+t),i=iS(n);e.infoData_.updateSnapshot(r,i);const o=UT(e.infoSyncTree_,r,i);OP(e.eventQueue_,r,o)}function GP(e){return e.nextWriteId_++}function qP(e,t,n,r,i){WP(e,"set",{path:t.toString(),value:n,priority:r});const o=VP(e),a=iS(n,r),s=qT(e.serverSyncTree_,t),c=cP(a,s,o),l=GP(e),u=FT(e.serverSyncTree_,t,c,l,!0);PP(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const o="ok"===n;o||xA("set at "+t+" failed: "+n);const a=VT(e.serverSyncTree_,l,!o);OP(e.eventQueue_,t,a),function(e,t,n,r){t&&FA((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}(0,i,n,r)}));const d=eN(e,t);$P(e,d),OP(e.eventQueue_,d,[])}function ZP(e,t,n){let r;r=".info"===fk(t._path)?zT(e.infoSyncTree_,t,n):zT(e.serverSyncTree_,t,n),NP(e.eventQueue_,t._path,r)}function WP(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),CA(n,...t)}function HP(e,t,n){return qT(e.serverSyncTree_,t,n)||tS.EMPTY_NODE}function KP(e,t=e.transactionQueueTree_){if(t||XP(e,t),hP(t)){const n=YP(e,t);en(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=HP(e,t,r);let o=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];en(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=Ck(t,r.path);o=o.updateChild(i,r.currentOutputSnapshotRaw)}const s=o.val(!0),c=t;e.server_.put(c.toString(),s,(r=>{WP(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(VT(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();XP(e,dP(e.transactionQueueTree_,t)),KP(e,e.transactionQueueTree_),OP(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)FA(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{xA("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}$P(e,t)}}),a)}(e,vP(t),n)}else pP(t)&&gP(t,(t=>{KP(e,t)}))}function $P(e,t){const n=QP(e,t),r=vP(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),a=o.map((e=>e.currentWriteId));for(let o=0;o<t.length;o++){const c=t[o],l=Ck(n,c.path);let u,d=!1;if(en(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)d=!0,u=c.abortReason,i=i.concat(VT(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=LP)d=!0,u="maxretry",i=i.concat(VT(e.serverSyncTree_,c.currentWriteId,!0));else{const n=HP(e,c.path,a);c.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){xP("transaction failed: Data returned ",r,c.path);let t=iS(r);"object"==typeof r&&null!=r&&Nn(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=c.currentWriteId,s=VP(e),l=cP(t,n,s);c.currentOutputSnapshotRaw=t,c.currentOutputSnapshotResolved=l,c.currentWriteId=GP(e),a.splice(a.indexOf(o),1),i=i.concat(FT(e.serverSyncTree_,c.path,l,c.currentWriteId,c.applyLocally)),i=i.concat(VT(e.serverSyncTree_,o,!0))}else d=!0,u="nodata",i=i.concat(VT(e.serverSyncTree_,c.currentWriteId,!0))}OP(e.eventQueue_,n,i),i=[],d&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===u?r.push((()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot))):r.push((()=>t[o].onComplete(new Error(u),!1,null)))))}var s;XP(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)FA(r[e]);KP(e,e.transactionQueueTree_)}(e,YP(e,n),r),r}function QP(e,t){let n,r=e.transactionQueueTree_;for(n=fk(t);null!==n&&void 0===hP(r);)r=dP(r,n),n=fk(t=gk(t));return r}function YP(e,t){const n=[];return JP(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function JP(e,t,n){const r=hP(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);gP(t,(t=>{JP(e,t,n)}))}function XP(e,t){const n=hP(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,fP(t,n.length>0?n:void 0)}gP(t,(t=>{XP(e,t)}))}function eN(e,t){const n=vP(QP(e,t)),r=dP(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{tN(e,t)})),tN(e,r),mP(r,(t=>{tN(e,t)})),n}function tN(e,t){const n=hP(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(en(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(en(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(VT(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?fP(t,void 0):n.length=o+1,OP(e.eventQueue_,vP(t),i);for(let e=0;e<r.length;e++)FA(r[e])}}const nN=function(e,t){const n=rN(e),r=n.namespace;"firebase.com"===n.domain&&_A(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||_A("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xA("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new KA(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new dk(n.pathString)}},rN=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",c=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xA(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(a="https"===s||"wss"===s,c=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},iN="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oN=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=iN.charAt(n%64),n=Math.floor(n/64);en(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=iN.charAt(t[i]);return en(20===a.length,"nextPushId: Length should be 20."),a}}();class aN{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tn(this.snapshot.exportVal())}}class sN{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class cN{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return en(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class lN{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return wk(this._path)?null:mk(this._path)}get ref(){return new uN(this._repo,this._path)}get _queryIdentifier(){const e=mS(this._queryParams),t=OA(e);return"{}"===t?"default":t}get _queryObject(){return mS(this._queryParams)}isEqual(e){if(!((e=Kn(e))instanceof lN))return!1;const t=this._repo===e._repo,n=Ik(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class uN extends lN{constructor(e,t){super(e,t,new pS,!1)}get parent(){const e=yk(this._path);return null===e?null:new uN(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class dN{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new dk(e),n=fN(this.ref,e);return new dN(this._node.getChild(t),n,Hk)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,n)=>e(new dN(n,fN(this.ref,t),Hk))))}hasChild(e){const t=new dk(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hN(e,t){return(e=Kn(e))._checkNotDeleted("ref"),void 0!==t?fN(e._root,t):e._root}function fN(e,t){return null===fk((e=Kn(e))._path)?kP("child","path",t,!1):AP("child","path",t,!1),new uN(e._repo,bk(e._path,t))}function pN(e,t){e=Kn(e),SP("push",e._path),_P("push",t,e._path,!0);const n=FP(e._repo),r=oN(n),i=fN(e,r),o=fN(e,r);let a;return a=null!=t?mN(o,t).then((()=>o)):Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function gN(e){return SP("remove",e._path),mN(e,null)}function mN(e,t){e=Kn(e),SP("set",e._path),_P("set",t,e._path,!1);const n=new mn;return qP(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function vN(e){e=Kn(e);const t=new cN((()=>{})),n=new yN(t);return function(e,t,n){const r=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=Ck(e,n);r=r||NT(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||NT(i,hk()):(i=new kT,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new NS(r,!0,!1):null;return jS(TT(i,t,JS(e.pendingWriteTree_,t._path),o?a.getNode():tS.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=iS(r).withIndex(t._queryParams.getIndex());let o;if(GT(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=UT(e.serverSyncTree_,t._path,i);else{const n=$T(e.serverSyncTree_,t);o=BT(e.serverSyncTree_,t._path,i,n)}return OP(e.eventQueue_,t._path,o),zT(e.serverSyncTree_,t,n,null,!0),i}),(n=>(WP(e,"get for query "+Tn(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new dN(t,new uN(e._repo,e._path),e._queryParams.getIndex())))}class yN{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new aN("value",this,new dN(e.snapshotNode,new uN(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new sN(this,e,t):null}matches(e){return e instanceof yN&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class bN{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new sN(this,e,t):null}createEvent(e,t){en(null!=e.childName,"Child events should have a childName.");const n=fN(new uN(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new aN(e.type,this,new dN(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof bN&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function wN(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{ZP(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new cN(n,o||void 0),s="value"===t?new yN(a):new bN(t,a);return function(e,t,n){let r;r=".info"===fk(t._path)?GT(e.infoSyncTree_,t,n):GT(e.serverSyncTree_,t,n),NP(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>ZP(e._repo,e,s)}function CN(e,t,n,r){return wN(e,"value",t,n,r)}function IN(e,t,n,r){return wN(e,"child_added",t,n,r)}function EN(e,t,n,r){return wN(e,"child_changed",t,n,r)}!function(e){en(!xT,"__referenceConstructor has already been defined"),xT=e}(uN),function(e){en(!AT,"__referenceConstructor has already been defined"),AT=e}(uN);const _N={};function xN(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||_A("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),CA("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,s,c=nN(o,i),l=c.repoInfo;"undefined"!=typeof process&&process.env&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s?(a=!0,o=`http://${s}?ns=${l.namespace}`,c=nN(o,i),l=c.repoInfo):a=!c.repoInfo.secure;const u=i&&a?new BA(BA.OWNER):new zA(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!IP(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),EP(e)}(n))throw new Error(qn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",c),wk(c.path)||_A("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=_N[t.name];i||(i={},_N[t.name]=i);let o=i[e.toURLString()];return o&&_A("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new MP(e,false,n,r),i[e.toURLString()]=o,o}(l,e,u,new UA(e.name,n));return new AN(d,e)}class AN{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new uN(this._repo,hk())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=_N[t];n&&n[e.key]===e||_A(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&_A("Cannot call "+e+" on a deleted database.")}}function kN(e){return kN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kN(e)}function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SN(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=DN(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PN(){PN=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new P(r||[]);return i(a,"_invoke",{value:A(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var C=Object.getPrototypeOf,I=C&&C(C(N([])));I&&I!==n&&r.call(I,a)&&(w=I);var E=b.prototype=v.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==kN(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function A(t,n,r){var i=h;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?g:f,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(kN(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},_(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function NN(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function ON(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){NN(o,r,i,a,s,"next",e)}function s(e){NN(o,r,i,a,s,"throw",e)}a(void 0)}))}}function RN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DN(r.key),r)}}function DN(e){var t=function(e,t){if("object"!==kN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==kN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===kN(t)?t:String(t)}Tk.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Tk.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},lA=Vr,Rr(new $n("database",((e,{instanceIdentifier:t})=>xN(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),qr(sA,cA,void 0),qr(sA,cA,"esm2017");var LN={apiKey:"AIzaSyATlKKGw99gurKNwHL7BU1-_Llj0hwJy60",authDomain:"crawlear-com.firebaseapp.com",databaseURL:"https://crawlear-com-default-rtdb.europe-west1.firebasedatabase.app",projectId:"crawlear-com",storageBucket:"crawlear-com.appspot.com",messagingSenderId:"879856500816",appId:"1:879856500816:web:4287599cc229d5f4c3d155",measurementId:"G-YD7VLXPTM2"},MN=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=Ur(LN),this.provider=new La,this.auth=Hc(),this.db=function(e,t){const n=Dr(zr(),"firestore").getImmediate({identifier:"(default)"});if(!n._initialized){const e=fn("firestore");e&&JE(n,...e)}return n}(),this.rdb=function(e=zr(),t){const n=Dr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=fn("database");e&&function(e,t,n,r={}){(e=Kn(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&_A("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_A('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new BA(BA.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:vn(r.mockUserToken,e.app.options.projectId);o=new BA(t)}!function(e,t,n,r){e.repoInfo_=new KA(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(),this.initAppCheck()}var t,n,r,i,o,a,s,c,l,u,d,h,f,p,g,m,v,y,b,w,C,I,E,_,x,A,k;return t=e,n=[{key:"userSearch",value:(k=ON(PN().mark((function e(t,n,r){var i,o,a,s;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=n_(this.db,"users"),o=Q_(i,tx("displayName"),ox(t),rx(10)),e.next=5,Ex(o);case 5:a=e.sent,s=[],a.forEach((function(e){var t=e.data();s.push({uid:e.id,displayName:t.displayName,photoURL:t.photoURL})})),n&&n(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r&&r(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e,t,n){return k.apply(this,arguments)})},{key:"getUser",value:(A=ON(PN().mark((function e(t,n,r){var i,o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r_(this.db,"users",t),e.next=3,Cx(i);case 3:(o=e.sent).exists()?((a=o.data()).uid=i.id,n&&n(a)):r&&r();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return A.apply(this,arguments)})},{key:"getUserExtraData",value:(x=ON(PN().mark((function e(t,n,r){var i,o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={},o=Q_(n_(this.db,"games"),J_("uids","array-contains",t)),e.next=5,Ex(o);case 5:return a=e.sent,i.pilotGames=a.docs.length,o=Q_(n_(this.db,"games"),J_("jids","array-contains",t)),e.next=10,Ex(o);case 10:return a=e.sent,i.judgeGames=a.docs.length,o=Q_(n_(this.db,"games"),J_("owner","array-contains",t)),e.next=15,Ex(o);case 15:return a=e.sent,i.ownerGames=a.docs.length,o=Q_(n_(this.db,"follows"),J_("toUid","==",t)),e.next=20,Ex(o);case 20:return a=e.sent,i.followers=a.docs.length,o=Q_(n_(this.db,"follows"),J_("fromUid","==",t)),e.next=25,Ex(o);case 25:a=e.sent,i.following=a.docs.length,n&&n(i),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(0),r&&r();case 33:case"end":return e.stop()}}),e,this,[[0,30]])}))),function(e,t,n){return x.apply(this,arguments)})},{key:"setUser",value:(_=ON(PN().mark((function e(t,n,r){var i,o,a,s,c,l;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.uid,o=t.displayName,a=t.photoURL,s=t.description,c=t.instagram,l={displayName:o,photoURL:a,registrationDate:(new Date).toString(),description:s||"",instagram:c||""},e.prev=2,e.next=5,_x(r_(this.db,"users",i),l);case 5:n&&n(l),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),r&&r();case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t,n){return _.apply(this,arguments)})},{key:"transformGamesIntoData",value:function(e){return{name:e.name,uids:e.uids,jids:e.jids,date:e.date,location:e.location,gameType:e.gameType,players:e.players,judges:e.judges||[],isPublic:e.isPublic,maxTime:e.maxTime,maxPoints:e.maxPoints,zones:e.zones,gates:e.gates,gameStatus:e.gameStatus,owner:e.owner,courtesyTime:e.courtesyTime}}},{key:"transformGamesIntoModel",value:function(e){var t=[];return e.forEach((function(e){var n,r=e.data();r.zones||(r.players.forEach((function(e){e.zones=[{fiascoControlTextValues:[],controlTextValues:[],gateProgression:1,gateProgressionData:[],gatesWithBonification:0,gatesWithFail:0,judgedBy:[],points:e.points,totalPoints:e.points,simpathyPoints:0,time:e.time,handicap:0}],e.totalTime=e.time,e.totalPoints=e.points,e.totalGateProgression=1})),r.gates=[1],r.zones=1),(n=new Xt.lA(r.name,r.date,r.location,r.isPublic,r.gameType,r.players,r.judges||[],r.maxTime,r.maxPoints,r.gates,r.zones,r.gameStatus,r.uids,r.jids,r.owner)).setGameId(e.id),t.push(n)})),t}},{key:"getGame",value:(E=ON(PN().mark((function e(t,n,r){var i,o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r_(this.db,"games",t),e.next=3,Cx(i);case 3:(o=e.sent).exists()?((a=o.data()).gid=i.id,n(a)):r();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return E.apply(this,arguments)})},{key:"getGamesFromUser",value:(I=ON(PN().mark((function e(t,n,r,i){var o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=[],a=Q_(n_(this.db,"games"),J_("uids","array-contains",t)),e.next=5,Ex(a);case 5:e.sent.docs.forEach((function(e){var r=e.data();(!r.jids||r.jids.indexOf(t)<0)&&(n&&r.isPublic||!n)&&o.push(e)})),r&&r(this.transformGamesIntoModel(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i&&i();case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,r){return I.apply(this,arguments)})},{key:"getGamesFromJudge",value:(C=ON(PN().mark((function e(t,n,r,i){var o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=[],a=Q_(n_(this.db,"games"),J_("jids","array-contains",t)),e.next=5,Ex(a);case 5:e.sent.docs.forEach((function(e){var t=e.data();(n&&t.isPublic||!n)&&o.push(e)})),r&&r(this.transformGamesIntoModel(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i&&i();case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,r){return C.apply(this,arguments)})},{key:"getGamesFromDirector",value:(w=ON(PN().mark((function e(t,n,r,i){var o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=[],a=Q_(n_(this.db,"games"),J_("owner","array-contains",t)),e.next=5,Ex(a);case 5:e.sent.docs.forEach((function(e){var r=e.data();(!r.jids||r.jids.indexOf(t)<0)&&(n&&r.isPublic||!n)&&o.push(e)})),r&&r(this.transformGamesIntoModel(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i&&i();case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,r){return w.apply(this,arguments)})},{key:"setGame",value:(b=ON(PN().mark((function e(t,n,r){var i;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kx(n_(this.db,"games"),this.transformGamesIntoData(t));case 3:i=e.sent,t.gid=i.id,n&&n(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r&&r();case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e,t,n){return b.apply(this,arguments)})},{key:"updateGame",value:function(e){xx(r_(this.db,"games",e.gid),this.transformGamesIntoData(e))}},{key:"removeGame",value:(y=ON(PN().mark((function e(t){return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ax(r_(this.db,"games",t));case 2:gN(hN(this.rdb,"gameProgression/".concat(t,"/"))),gN(hN(this.rdb,"presenceRequests/".concat(t,"/")));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"removeIdFromGame",value:(v=ON(PN().mark((function e(t,n,r){var i,o,a,s,c,l;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r_(this.db,"games",t.gid),e.next=3,Cx(i);case 3:if(!(o=e.sent).exists()){e.next=14;break}return a=o.data(),s=a[r].indexOf(n),a.gid=o.id,a[r].splice(s,1),c=this.transformGamesIntoData(a),(l={})[r]=c[r],c[r]=l[r],xx(r_(this.db,"games",t.gid),l),e.abrupt("return",a);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return v.apply(this,arguments)})},{key:"initAppCheck",value:function(){Zi(this.app,{provider:new qi("6LfMPSIiAAAAABUfGLi_j7mnUr1snw9RriT8eBqP"),isTokenAutoRefreshEnabled:!0})}},{key:"isUserLogged",value:function(){return null!=this.auth.currentUser}},{key:"checkIfLogged",value:function(e){var t=this;this.checkIfRedirect(e),this.auth.onAuthStateChanged((function(n){n&&t.getUser(n.uid,(function(r){t.setUserInContext(r,n.uid),e()}),(function(){t.setUser(n,(function(r){t.setUserInContext(r,n.uid),e()}),(function(){}))}))}))}},{key:"checkIfRedirect",value:function(e){var t=this;fc(this.auth).then((function(n){t.getUser(n.user.uid,(function(r){t.setUserInContext(r,n.user.uid),e&&e(r)}),(function(){t.setUser(n.user,e,(function(e){t.setUserInContext(e,n.user.uid)}))}))})).catch((function(e){}))}},{key:"setUserInContext",value:function(e,t){e.instagram=e.instagram||"",window.crawlear=TN(TN({},window.crawlear),{},{user:e}),window.crawlear.user.uid=t}},{key:"signInWithGoogle",value:function(e){var t,n,r=this;(t=this.auth,n=bs,Kn(t).setPersistence(n)).then((function(){!Jt.isMobile()||Jt.isIphone()||Jt.isFirefox()?rc(r.auth,r.provider).then((function(t){r.getUser(t.user.uid,(function(n){r.setUserInContext(n,t.user.uid),e&&e(n)}),(function(){r.setUser(t.user,e,(function(e){r.setUserInContext(e,t.user.uid)}))}))})).catch((function(e){})):hc(r.auth,r.provider)})).catch((function(e){}))}},{key:"logout",value:function(){Hc().signOut(),window.crawlear.user={}}},{key:"getUserGameRequests",value:function(e,t,n,r,i){var o=hN(this.rdb,"gameRequests/".concat(e));IN(o,(function(e){var t={};t[e.key]=e.val(),r(t)})),wN(o,"child_removed",(function(e){i(e.key)}),void 0,void 0)}},{key:"getGameProgressionOnce",value:function(e,t,n){vN(hN(this.rdb,"gameProgression/".concat(e))).then((function(e){t&&t(e.key,e.val())}),n)}},{key:"getGameProgression",value:function(e,t,n,r,i){var o=hN(this.rdb,"gameProgression/".concat(e));IN(o,(function(e){r(e.key,e.val())})),EN(o,(function(e){i(e.key,e.val())}))}},{key:"setGameProgression",value:function(e,t,n,r,i){mN(hN(this.rdb,"gameProgression/".concat(e,"/").concat(n,"/").concat(t,"/").concat(r)),i)}},{key:"removeGameProgression",value:function(e){gN(hN(this.rdb,"gameProgression/".concat(e)))}},{key:"getGameResult",value:function(e,t,n){vN(hN(this.rdb,"gameProgression/".concat(e.gid))).then((function(n){var r=n.val();Object.entries(r).forEach((function(t,n){Object.entries(t[1]).forEach((function(t,r){t[1].data&&(e.players[n].zones[r]=t[1].data)}))})),t&&t(e)}),n)}},{key:"createGameProgression",value:function(e){for(var t=0;t<e.players.length;t++)for(var n=0;n<e.zones;n++)this.setGameProgression(e.gid,e.players[t].id,e.players[t].group,n,{status:"waiting",data:{}})}},{key:"acceptGameRequest",value:function(e,t){mN(hN(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/status/")),"accepted"),gN(hN(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/")))}},{key:"rejectGameRequest",value:function(e,t){mN(hN(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/status/")),"rejected"),gN(hN(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/")))}},{key:"setUserGameRequest",value:function(e,t,n,r,i){CN(pN(hN(this.rdb,"gameRequests/".concat(n,"/")),{fromUid:e,fromName:t,toUid:n,gameName:r,date:(new Date).toLocaleDateString(),status:"pending"}),(function(e){var t=e.val();t&&i(t,t.status)}))}},{key:"setDirectorPresenceRequest",value:function(e,t,n,r,i){CN(pN(hN(this.rdb,"presenceRequests/".concat(e,"/")),{zone:t,playerName:n,fromName:r,date:(new Date).toLocaleDateString(),status:"pending"}),(function(e){var t=e.val();t&&i(t,e.key)}))}},{key:"getDirectorPresenceRequest",value:function(e,t,n){var r=hN(this.rdb,"presenceRequests/".concat(e));IN(r,(function(e){t(e.key,e.val())})),EN(r,(function(e){n(e.key,e.val())}))}},{key:"acceptDirectorPresenceRequest",value:function(e,t){mN(hN(this.rdb,"presenceRequests/".concat(e,"/").concat(t,"/status/")),"accepted")}},{key:"removeDirectorPresenceRequest",value:function(e){gN(hN(this.rdb,"presenceRequests/".concat(e)))}},{key:"setPost",value:(m=ON(PN().mark((function e(t,n,r,i,o,a,s){var c,l;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={uid:t,gid:o,date:r,url:n,text:i},!(i.length>=0&&n.length>=0)){e.next=15;break}return e.prev=2,e.next=5,kx(n_(this.db,"socialPosts"),c);case 5:l=e.sent,c.pid=l.id,a&&a(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),s&&s();case 13:e.next=16;break;case 15:s&&s();case 16:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t,n,r,i,o,a){return m.apply(this,arguments)})},{key:"setFollow",value:(g=ON(PN().mark((function e(t,n,r,i){var o;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kx(n_(this.db,"follows"),{fromUid:t,toUid:n});case 3:o=e.sent,r&&r(o.id),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i&&i();case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t,n,r){return g.apply(this,arguments)})},{key:"removeFollow",value:(p=ON(PN().mark((function e(t,n,r){return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ax(r_(this.db,"follows",t));case 2:n&&n();case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return p.apply(this,arguments)})},{key:"getPost",value:(f=ON(PN().mark((function e(t,n,r){var i,o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r_(this.db,"socialPosts",t),e.next=3,Cx(i);case 3:(o=e.sent).exists()?((a=o.data()).pid=i.id,n(a)):r();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return f.apply(this,arguments)})},{key:"getPosts",value:(h=ON(PN().mark((function e(t,n,r){var i,o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Q_(n_(this.db,"socialPosts"),J_("uid","==",t),tx("date","desc"),rx(10)),e.next=4,Ex(i);case 4:o=e.sent,a=[],o.docs.forEach((function(e){a.push(TN(TN({},e.data()),{},{pid:e.id}))})),n&&n(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r&&r();case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n){return h.apply(this,arguments)})},{key:"getPostsFromFollowFeed",value:(d=ON(PN().mark((function e(t,n,r){var i,o,a,s,c,l=this;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=[],o=Q_(n_(this.db,"follows"),J_("fromUid","==",t)),e.next=5,Ex(o);case 5:a=e.sent,s=a.docs,c=PN().mark((function e(){var t,n;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],s.splice(0,10).forEach((function(e){var n=e.data();t.push(n.toUid)})),n=Q_(n_(l.db,"socialPosts"),J_("uid","in",t),tx("date","desc"),rx(10)),e.next=6,Ex(n);case 6:e.sent.docs.forEach((function(e){var t=e.data();t.pid=e.id,i.push(t)}));case 8:case"end":return e.stop()}}),e)}));case 8:if(!(s.length>0)){e.next=12;break}return e.delegateYield(c(),"t0",10);case 10:e.next=8;break;case 12:n&&n(i),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(0),r&&r();case 18:case"end":return e.stop()}}),e,this,[[0,15]])}))),function(e,t,n){return d.apply(this,arguments)})},{key:"removePost",value:(u=ON(PN().mark((function e(t,n,r){return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ax(r_(this.db,"socialPosts",t));case 2:this.removeLikes(t,10),n&&n();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return u.apply(this,arguments)})},{key:"getPostLikesCount",value:(l=ON(PN().mark((function e(t,n,r){var i,o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Q_(n_(this.db,"likes"),J_("pid","==",t),rx(15)),e.next=4,Ex(i);case 4:o=e.sent,a=o.docs.length,n&&n(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r&&r();case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t,n){return l.apply(this,arguments)})},{key:"getIfPostIsLiked",value:(c=ON(PN().mark((function e(t,n,r,i){var o,a,s;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=Q_(n_(this.db,"likes"),J_("uid","==",n),J_("pid","==",t),rx(1)),e.next=4,Ex(o);case 4:a=e.sent,s=1===a.docs.length,r&&r(s,s?a.docs[0].id:""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i&&i();case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t,n,r){return c.apply(this,arguments)})},{key:"getFidFromFollow",value:(s=ON(PN().mark((function e(t,n,r,i){var o,a,s;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=Q_(n_(this.db,"follows"),J_("fromUid","==",t),J_("toUid","==",n),rx(1)),e.next=4,Ex(o);case 4:a=e.sent,s=1===a.docs.length?a.docs[0].id:-1,r&&r(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i&&i();case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t,n,r){return s.apply(this,arguments)})},{key:"setLike",value:(a=ON(PN().mark((function e(t,n,r,i){var o,a;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pid:t,uid:n},e.prev=1,e.next=4,kx(n_(this.db,"likes"),o);case 4:a=e.sent,r&&r(a.id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i&&i();case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e,t,n,r){return a.apply(this,arguments)})},{key:"removeLike",value:(o=ON(PN().mark((function e(t,n,r){return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ax(r_(this.db,"likes",t));case 2:n&&n();case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return o.apply(this,arguments)})},{key:"removeLikes",value:(i=ON(PN().mark((function e(t,n){var r,i=this;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Q_(n_(this.db,"likes"),J_("pid","==",t),tx("__name__"),rx(n)),e.abrupt("return",new Promise((function(e,t){i.deleteQueryBatch(r,e).catch(t)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"deleteQueryBatch",value:(r=ON(PN().mark((function e(t,n){var r,i=this;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ex(t);case 2:if(0!==(r=e.sent).size){e.next=7;break}return n(),e.abrupt("return");case 7:r.docs.forEach(function(){var e=ON(PN().mark((function e(t){var n;return PN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=Lx(i.db)).delete(t.ref),n.commit();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){i.deleteQueryBatch(t,n)}),100);case 9:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}],n&&RN(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),jN=MN,FN=a(2160),VN=a(83),UN=a(3238),zN=a(1222),BN=a(9206),GN=a(669),qN=a(7525),ZN=a(9114),WN={};WN.styleTagTransform=ke(),WN.setAttributes=Ee(),WN.insert=Ce().bind(null,"head"),WN.domAPI=be(),WN.insertStyleElement=xe(),ve()(ZN.Z,WN),ZN.Z&&ZN.Z.locals&&ZN.Z.locals;var HN=function(e){var t=e.message;return!t||t.length<=0?n.createElement(n.Fragment,null):n.createElement("div",{className:"errorBoxContainer"},t)},KN=a(3803),$N={};$N.styleTagTransform=ke(),$N.setAttributes=Ee(),$N.insert=Ce().bind(null,"head"),$N.domAPI=be(),$N.insertStyleElement=xe(),ve()(KN.Z,$N),KN.Z&&KN.Z.locals&&KN.Z.locals;var QN=function(e){var t=e.controlTextValues,r=e.texts,i=0,o=[];return t&&t.forEach((function(e){0!==e&&o.push(n.createElement("div",{key:i,className:"controlTextValues"},r[i],": ",e)),i++})),o};function YN(e){return YN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YN(e)}var JN=function(e){var t=e.gameType,r=e.gameProgression;if(r.data){var i=r.data.points,o=r.data.totalPoints,a=r.data.time,s=r.data.gatesWithFail,c=r.data.gateProgression,l=r.data.simpathyPoints,u=r.data.handicap,d=r.data.gatesWithBonification,h=Jt.tokenToTexts(FN.AecarGameScores.texts),f=Jt.tokenToTexts(FN.AecarGameScores.fiascoTexts);return t===Xt.UZ&&(h=Jt.tokenToTexts(VN.IsrccGameScores.texts),f=Jt.tokenToTexts(VN.IsrccGameScores.fiascoTexts)),t===Xt.HF&&(h=Jt.tokenToTexts(UN.Levante124GameScores.texts),f=Jt.tokenToTexts(UN.Levante124GameScores.fiascoTexts)),t===Xt.uG&&(h=Jt.tokenToTexts(zN.RegionalZonaRcGameScores.texts),f=Jt.tokenToTexts(zN.RegionalZonaRcGameScores.fiascoTexts)),t===Xt.Jo&&(h=Jt.tokenToTexts(BN.MiniCrawlerPassionGameScores.texts),f=Jt.tokenToTexts(BN.MiniCrawlerPassionGameScores.fiascoTexts)),t===Xt.Oh&&(h=Jt.tokenToTexts(GN.GenericGameScores.texts),f=Jt.tokenToTexts(GN.GenericGameScores.fiascoTexts)),n.createElement(n.Fragment,null,n.createElement("ul",null,n.createElement("li",null,Gt("description.puntos"),": ",n.createElement("span",{className:"bold"},i)),c?n.createElement("li",null,Gt("description.avancepuerta"),": ",n.createElement("span",{className:"bold"},c)):n.createElement(n.Fragment,null),void 0!==YN(s)&&void 0!==YN(d)?n.createElement(n.Fragment,null,n.createElement("li",null,Gt("description.fallospuerta"),": ",n.createElement("span",{className:"bold"},s)),n.createElement("li",null,Gt("description.bonificacion"),": ",n.createElement("span",{className:"bold"},-2*d))):n.createElement(n.Fragment,null),void 0!==YN(l)?n.createElement("li",null,Gt("description.portiempo"),": ",n.createElement("span",{className:"bold"},l)):n.createElement(n.Fragment,null),void 0!==YN(u)?n.createElement("li",null,Gt("description.handicap"),": ",n.createElement("span",{className:"bold"},u)):n.createElement(n.Fragment,null),n.createElement("li",null,Gt("description.total"),": ",n.createElement("span",{className:"bold"},o)),n.createElement("li",null,Gt("description.tiempo"),": ",n.createElement("span",{className:"bold"},Jt.printTime(Jt.millisToTime(a))))),n.createElement(QN,{controlTextValues:r.data.gateProgressionData?Xt.zo.sumControlTextValues(r.data.gateProgressionData):r.data.controlTextValues,texts:h}),r.data.fiascoControlTextValues&&r.data.fiascoControlTextValues.filter((function(e){return e>0})).length>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"fiascosText left bold"},Gt("points.fiascos"),":"),n.createElement(QN,{controlTextValues:r.data.fiascoControlTextValues,texts:f})):n.createElement(n.Fragment,null))}return n.createElement(n.Fragment,null)},XN=n.createContext();function eO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nO="waiting",rO="playing",iO="done",oO=function(e){var t,r=e.game,i=e.jidGroup,o=e.onZoneClick,a=(0,pe.$)().t,s=eO(n.useState(-1),2),c=s[0],l=s[1],u=eO(n.useState(-1),2),d=u[0],h=u[1],f=n.useRef(),p=eO(n.useContext(XN),2),g=p[0],m=(p[1],[]),v=(window.crawlear.fb,0);function y(){o(-1,-1),h(-1),l(-1)}return m.push(n.createElement("div",{key:"eZ",className:""},a("content.estadozona"))),m.push(n.createElement("div",{key:"nAz"},(t=new Array(r.zones).fill(!1),g&&Object.entries(g).forEach((function(e,n){Object.entries(e[1]).forEach((function(e,n){Object.entries(e[1]).forEach((function(e,n){"playing"===e[1].status&&!t[n]&&(t[n]=!0)}))}))})),function(e){var t=[];return e.forEach((function(e,r){var i=[];i.push(n.createElement("span",{key:r},a("description.zona")," ",r+1,": ")),e?i.push(n.createElement("span",{key:"dG".concat(r),className:"directorGroup colorRed"},a("description.ocupado"))):i.push(n.createElement("span",{key:"div".concat(r)},n.createElement("span",{className:"directorGroup"},a("description.libre")),n.createElement("br",null))),t.push(n.createElement("div",{key:"dZ".concat(r),className:"directorZone"},i))})),n.createElement("div",{className:""},t)}(t)))),m.push(n.createElement("p",{key:"header"},a("content.seleccionapilotoyzona"),":")),r.players.forEach((function(e,t){var s,u=[],p=0;(e.group===i||Xt.zo.isCurrentUserIsOwner(r.owner))&&(e.zones.forEach((function(t){s=e.id===d&&p===c?"colorGrey rounded":"rounded",g&&g[e.group]&&g[e.group][e.id]&&(g[e.group][e.id][p].status!==nO?g[e.group][e.id][p].status===rO?s+=" colorOrange":"repair"===g[e.group][e.id][p].status?s+=" colorRed":g[e.group][e.id][p].status===iO&&(s+=" colorGreen"):g[e.group][e.id][p].data&&(s+=" colorClearGrey"),u.push(n.createElement("span",{"data-zone":p,onClick:function(t){!function(e,t){var n=Number(e.target.closest("[data-zone]").getAttribute("data-zone")),r=g[t.group][t.id][n].status;c===n&&d===t.id?y():r===nO||r===iO||r===rO?(h(t.id),l(n),o(t,n)):y()}(t,e)},key:p+1,className:s},n.createElement("div",null,a("description.zona")," ",p+1),n.createElement("br",null),n.createElement("div",null,a("description.estado"),":"),n.createElement("div",null,function(e,t,n){var r;switch(t){case"waiting":r=e(n?"description.reparacionfinalizada":"description.waiting");break;case"done":r=e("description.done");break;case"repair":r=e("description.repair");break;case"playing":r=e("description.playing");break;default:r=e("description.waiting")}return r}(a,g[e.group][e.id][p].status,g[e.group][e.id][p].data))))),p++})),m.push(n.createElement("div",{key:v+p,className:"gameProgressionItem rounded rounded1"},n.createElement("div",null,n.createElement("img",{src:e.avatar,alt:"player avatar"}),e.name," ",n.createElement("br",null),a("description.grupo")," ",e.group+1),n.createElement("div",{className:"horizontalScrollContainer"},u))),d>=0&&c>=0&&e.id===d&&g[e.group][d][c].data&&m.push(n.createElement("div",{key:"".concat(v+p,"Info"),className:"gameProgressionInfoItem smallText rounded rounded2"},n.createElement(JN,{gameType:r.gameType,innerRef:f,gameProgression:g[e.group][d][c]}))),v++)})),m},aO=a(2742),sO=a(5351),cO=a.n(sO),lO=a(1207),uO=a(9090),dO={};function hO(e){return hO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hO(e)}function fO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fO(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==hO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==hO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===hO(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}dO.styleTagTransform=ke(),dO.setAttributes=Ee(),dO.insert=Ce().bind(null,"head"),dO.domAPI=be(),dO.insertStyleElement=xe(),ve()(uO.Z,dO),uO.Z&&uO.Z.locals&&uO.Z.locals;var mO="play",vO="pause",yO="stop",bO=function(e){var t=e.startTime,r=e.forceAction,i=e.label,o=e.onTimerChange,a=e.courtesyTime,s=e.maxTime,c=e.onPointBecauseLastMinute,l=e.onTimeFiasco,u=(0,pe.$)().t,d=n.useRef(null),h=n.useRef(t||0),f=new(cO()),p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gO(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState((function(){return{millis:t||0,timer:null,maxTime:s,state:vO,timeStart:Date.now()}})),2),g=p[0],m=p[1],v=Jt.millisToTime(g.millis);function y(){h.current=0,g.timer&&clearInterval(g.timer),d.current.classList.remove("blink"),m({maxTime:g.maxTime,millis:0,timer:null,state:yO}),o&&o(h.current),d.current.classList.contains("play")&&d.current.classList.toggle("play")}function b(){d.current.classList.toggle("play"),g.state===vO||g.state===yO?(g.state=mO,le.Z.event("play","timePlay",""),d.current.classList.remove("blink")):(g.state=vO,le.Z.event("play","timePause","")),m((function(e){return pO(pO({},e),{},{state:g.state})}))}return n.useEffect((function(){r===yO&&y(),r===vO&&g.state===mO&&b()}),[r]),n.useEffect((function(){var e=pO({},g);e.state===mO?(e.timer&&clearInterval(e.timer),e.millis=h.current,e.timer=setInterval((function(){!function(e){h.current<e.maxTime?(h.current=Date.now()-e.timeStart+e.millis,o&&o(h.current),m((function(e){return pO(pO({},e),{},{millis:h.current})})),Date.now()%2==0&&f.sendMessage(lO.jB,Jt.printTime(Jt.millisToTime(h.current)))):c&&e.maxTime>0&&h.current>=e.maxTime&&h.current<e.maxTime+a||0===e.maxTime?(h.current=Date.now()-e.timeStart,o&&o(h.current),m((function(e){return pO(pO({},e),{},{millis:h.current})})),e.maxTime>0&&!d.current.classList.contains("blink")&&d.current.classList.add("blink"),e.maxTime>0&&(e.maxTime+h.current)%1e4==0&&c()):(d.current.classList.toggle("blink"),d.current.classList.toggle("foreColorRed"),b(),l&&l())}(e)}),10),e.timeStart=Date.now(),f.sendMessage(lO.Ks,{}),m((function(t){return pO(pO({},t),e)}))):e.state===vO?(e.timer&&clearInterval(g.timer),e.timer=null,f.sendMessage(lO.Xb,{}),m((function(t){return pO(pO({},t),e)}))):(e.millis=0,h.current=0,e.timer&&clearInterval(g.timer),e.timer=null,f.sendMessage(lO.Xb,{}),m((function(t){return pO(pO({},t),e)}))),f.sendMessage(lO.jB,Jt.printTime(Jt.millisToTime(h.current)))}),[g.state]),n.createElement("div",{ref:d,className:"timerContainer"},n.createElement("div",{className:"timerLabel"},(i||u("description.tiempo")).toUpperCase(),":"),n.createElement("div",{className:"timer"},Jt.printTime(v)),n.createElement("button",{className:"timerPlayButton",onClick:b}),n.createElement("button",{onClick:y,className:"resetButton"}))},wO=a(5190),CO={};function IO(e){return IO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(e)}function EO(e){return function(e){if(Array.isArray(e))return kO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||AO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==IO(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==IO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===IO(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AO(e,t){if(e){if("string"==typeof e)return kO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kO(e,t):void 0}}function kO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}CO.styleTagTransform=ke(),CO.setAttributes=Ee(),CO.insert=Ce().bind(null,"head"),CO.domAPI=be(),CO.insertStyleElement=xe(),ve()(wO.Z,CO),wO.Z&&wO.Z.locals&&wO.Z.locals;var SO=function(e){var t=e.game,r=e.onGameEnd,i=(0,pe.$)().t,o=n.useState((function(){return qN.KingGameScores.texts=qN.KingGameScores.texts.map((function(e){return i(e)})),function(e){var t={game:e,order:EO(e.players)};Xt.zo.init(t.game,Xt.zo.getGameTypeControlTextValuesInit(t.game.gameType),Xt.zo.getGameTypeFiascoControlTextValuesInit(t.game.gameType),!1);for(var n=0;n<t.game.players.length;n++)t.game.players[n].zones[0].gateProgressionData[0].controlTextValues=new Array(qN.KingGameScores.steps.length).fill(0);return t}(t)})),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||AO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,2),s=a[0],c=a[1];function l(e,t,n){var r,i,o,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_O(Object(n),!0).forEach((function(t){xO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s),l=a.game.players,u=l[n].zones[0],d=u.gateProgressionData[0];d.controlTextValues=EO(d.controlTextValues),d.controlTextValues[t]+=e,u.totalPoints+=e,u.points+=e,a.order=(r=a.order.findIndex((function(e){return e.id===l[n].id})),i=a.order,(o=EO(i)).push(o.splice(r,1)[0]),o),c(a)}n.useEffect((function(){le.Z.pageview("/kinggame/")}),[]);var u=[];u.push(n.createElement(bO,{key:"tmC",courtesyTime:0,startTime:0,label:i("description.tiempo"),maxTime:s.game.maxTime})),u.push(n.createElement("div",{key:0},i("description.ordenruta"),":"));for(var d=0;d<s.game.players.length;d++){var h="";Xt.zo.isPointsFiasco(t,s.order[d].zones[0])&&(h="blink foreColorRed"),u.push(n.createElement("div",{key:d+1},n.createElement("div",{className:"controlTextContainerQueue rounded bold ".concat(h)},s.order[d].name,": ",s.order[d].zones[0].totalPoints," ptos")))}u.push(n.createElement("p",{key:s.game.players.length+1},i("description.puntos").toUpperCase(),":"));for(var f=0;f<s.game.players.length;f++){var p=s.game.players[f],g=p.zones[0];u.push(n.createElement("div",{key:s.game.players.length+f+2,className:"playerInfo"},n.createElement("div",{className:"headerPlayer importantNote rounded2 rounded"},n.createElement("div",{className:"bold"},p.name),i("description.total"),": ",g.totalPoints,void 0),n.createElement("div",{className:"controlTextContainer rounded rounded1"},(0,aO.Z)({controlTextValuesString:"controlTextValues",steps:qN.KingGameScores.steps,maxValues:qN.KingGameScores.maxValues,texts:qN.KingGameScores.texts,zone:0,player:f,onValueChange:l}))))}return u.push(n.createElement("button",{key:2*s.game.players.length+2,className:"importantNote",onClick:function(){r&&r(t)}},i("description.fin"))),n.createElement("div",{key:2*s.game.players.length+3,className:"gameContainer"},u)};function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TO(Object(n),!0).forEach((function(t){(0,Be.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var i=ze(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ue(this,n)}}var OO={},RO=[];function DO(e,t){}function LO(e,t){}function MO(e,t,n){t||OO[n]||(e(!1,n),OO[n]=!0)}function jO(e,t){MO(DO,e,t)}jO.preMessage=function(e){RO.push(e)},jO.resetWarned=function(){OO={}},jO.noteOnce=function(e,t){MO(LO,e,t)};var FO=jO,VO=function(e){var t,r,i=e.className,o=e.included,a=e.vertical,s=e.style,c=e.length,l=e.offset,u=e.reverse;c<0&&(u=!u,c=Math.abs(c),l=100-l);var d=a?(t={},(0,Be.Z)(t,u?"top":"bottom","".concat(l,"%")),(0,Be.Z)(t,u?"bottom":"top","auto"),(0,Be.Z)(t,"height","".concat(c,"%")),t):(r={},(0,Be.Z)(r,u?"right":"left","".concat(l,"%")),(0,Be.Z)(r,u?"left":"right","auto"),(0,Be.Z)(r,"width","".concat(c,"%")),r),h=PO(PO({},s),d);return o?n.createElement("div",{className:i,style:h}):null};function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UO.apply(this,arguments)}function zO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var BO=a(907);function GO(e){return function(e){if(Array.isArray(e))return(0,BO.Z)(e)}(e)||qe(e)||(0,Ze.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qO(){return qO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ze(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},qO.apply(this,arguments)}var ZO=a(3935);function WO(e,t,n,r){var i=ZO.unstable_batchedUpdates?function(e){ZO.unstable_batchedUpdates(n,e)}:n;return null!=e&&e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){null!=e&&e.removeEventListener&&e.removeEventListener(t,i,r)}}}var HO=a(4184),KO=a.n(HO),$O=function(e){var t=e.prefixCls,r=e.vertical,i=e.reverse,o=e.marks,a=e.dots,s=e.step,c=e.included,l=e.lowerBound,u=e.upperBound,d=e.max,h=e.min,f=e.dotStyle,p=e.activeDotStyle,g=d-h,m=function(e,t,n,r,i,o){FO(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&r)for(var s=i;s<=o;s+=r)-1===a.indexOf(s)&&a.push(s);return a}(0,o,a,s,h,d).map((function(e){var o,a="".concat(Math.abs(e-h)/g*100,"%"),s=!c&&e===u||c&&e<=u&&e>=l,d=PO(PO({},f),{},r?(0,Be.Z)({},i?"top":"bottom",a):(0,Be.Z)({},i?"right":"left",a));s&&(d=PO(PO({},d),p));var m=KO()((o={},(0,Be.Z)(o,"".concat(t,"-dot"),!0),(0,Be.Z)(o,"".concat(t,"-dot-active"),s),(0,Be.Z)(o,"".concat(t,"-dot-reverse"),i),o));return n.createElement("span",{className:m,style:d,key:e})}));return n.createElement("div",{className:"".concat(t,"-step")},m)},QO=function(e){var t=e.className,r=e.vertical,i=e.reverse,o=e.marks,a=e.included,s=e.upperBound,c=e.lowerBound,l=e.max,u=e.min,d=e.onClickLabel,h=Object.keys(o),f=l-u,p=h.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var l,h=o[e],p="object"===(0,De.Z)(h)&&!n.isValidElement(h),g=p?h.label:h;if(!g&&0!==g)return null;var m=!a&&e===s||a&&e<=s&&e>=c,v=KO()((l={},(0,Be.Z)(l,"".concat(t,"-text"),!0),(0,Be.Z)(l,"".concat(t,"-text-active"),m),l)),y=(0,Be.Z)({marginBottom:"-50%"},i?"top":"bottom","".concat((e-u)/f*100,"%")),b=(0,Be.Z)({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((e-u)/f*100,"%")),w=r?y:b,C=p?PO(PO({},w),h.style):w;return n.createElement("span",{className:v,style:C,key:e,onMouseDown:function(t){return d(t,e)},onTouchStart:function(t){return d(t,e)}},g)}));return n.createElement("div",{className:t},p)},YO=function(e){Ve(r,e);var t=NO(r);function r(){var e;return(0,Le.Z)(this,r),(e=t.apply(this,arguments)).state={clickFocused:!1},e.setHandleRef=function(t){e.handle=t},e.handleMouseUp=function(){document.activeElement===e.handle&&e.setClickFocus(!0)},e.handleMouseDown=function(t){t.preventDefault(),e.focus()},e.handleBlur=function(){e.setClickFocus(!1)},e.handleKeyDown=function(){e.setClickFocus(!1)},e}return(0,Me.Z)(r,[{key:"componentDidMount",value:function(){this.onMouseUpListener=WO(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,t,r,i=this.props,o=i.prefixCls,a=i.vertical,s=i.reverse,c=i.offset,l=i.style,u=i.disabled,d=i.min,h=i.max,f=i.value,p=i.tabIndex,g=i.ariaLabel,m=i.ariaLabelledBy,v=i.ariaValueTextFormatter,y=zO(i,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),b=KO()(this.props.className,(0,Be.Z)({},"".concat(o,"-handle-click-focused"),this.state.clickFocused)),w=a?(e={},(0,Be.Z)(e,s?"top":"bottom","".concat(c,"%")),(0,Be.Z)(e,s?"bottom":"top","auto"),(0,Be.Z)(e,"transform",s?null:"translateY(+50%)"),e):(t={},(0,Be.Z)(t,s?"right":"left","".concat(c,"%")),(0,Be.Z)(t,s?"left":"right","auto"),(0,Be.Z)(t,"transform","translateX(".concat(s?"+":"-","50%)")),t),C=PO(PO({},l),w),I=p||0;return(u||null===p)&&(I=null),v&&(r=v(f)),n.createElement("div",UO({ref:this.setHandleRef,tabIndex:I},y,{className:b,style:C,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":d,"aria-valuemax":h,"aria-valuenow":f,"aria-disabled":!!u,"aria-label":g,"aria-labelledby":m,"aria-valuetext":r}))}}]),r}(n.Component),JO={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=JO.F1&&t<=JO.F12)return!1;switch(t){case JO.ALT:case JO.CAPS_LOCK:case JO.CONTEXT_MENU:case JO.CTRL:case JO.DOWN:case JO.END:case JO.ESC:case JO.HOME:case JO.INSERT:case JO.LEFT:case JO.MAC_FF_META:case JO.META:case JO.NUMLOCK:case JO.NUM_CENTER:case JO.PAGE_DOWN:case JO.PAGE_UP:case JO.PAUSE:case JO.PRINT_SCREEN:case JO.RIGHT:case JO.SHIFT:case JO.UP:case JO.WIN_KEY:case JO.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=JO.ZERO&&e<=JO.NINE)return!0;if(e>=JO.NUM_ZERO&&e<=JO.NUM_MULTIPLY)return!0;if(e>=JO.A&&e<=JO.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case JO.SPACE:case JO.QUESTION_MARK:case JO.NUM_PLUS:case JO.NUM_MINUS:case JO.NUM_PERIOD:case JO.NUM_DIVISION:case JO.SEMICOLON:case JO.DASH:case JO.EQUALS:case JO.COMMA:case JO.PERIOD:case JO.SLASH:case JO.APOSTROPHE:case JO.SINGLE_QUOTE:case JO.OPEN_SQUARE_BRACKET:case JO.BACKSLASH:case JO.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},XO=JO;function eR(e,t){try{return Object.keys(t).some((function(n){return e.target===(0,ZO.findDOMNode)(t[n])}))}catch(e){return!1}}function tR(e,t){var n=t.min,r=t.max;return e<n||e>r}function nR(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function rR(e,t){var n=t.marks,r=t.step,i=t.min,o=t.max,a=Object.keys(n).map(parseFloat);if(null!==r){var s=Math.pow(10,iR(r)),c=Math.floor((o*s-i*s)/(r*s)),l=Math.min((e-i)/r,c),u=Math.round(l)*r+i;a.push(u)}var d=a.map((function(t){return Math.abs(e-t)}));return a[d.indexOf(Math.min.apply(Math,GO(d)))]}function iR(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}function oR(e,t){return e?t.clientY:t.pageX}function aR(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function sR(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function cR(e,t){var n=t.max,r=t.min;return e<=r?r:e>=n?n:e}function lR(e,t){var n=t.step,r=isFinite(rR(e,t))?rR(e,t):0;return null===n?r:parseFloat(r.toFixed(iR(n)))}function uR(e){e.stopPropagation(),e.preventDefault()}function dR(e,t,n){var r="increase",i="decrease",o=r;switch(e.keyCode){case XO.UP:o=t&&n?i:r;break;case XO.RIGHT:o=!t&&n?i:r;break;case XO.DOWN:o=t&&n?r:i;break;case XO.LEFT:o=!t&&n?r:i;break;case XO.END:return function(e,t){return t.max};case XO.HOME:return function(e,t){return t.min};case XO.PAGE_UP:return function(e,t){return e+2*t.step};case XO.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return function(e,t,n){var r={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},i=r[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(n.marks)[i];return n.step?r[e](t,n.step):Object.keys(n.marks).length&&n.marks[o]?n.marks[o]:t}(o,e,t)}}function hR(){}function fR(e){var t;return t=function(e){Ve(r,e);var t=NO(r);function r(e){var n;(0,Le.Z)(this,r),(n=t.call(this,e)).onDown=function(e,t){var r=t,i=n.props,o=i.draggableTrack,a=i.vertical,s=n.state.bounds,c=o&&n.positionGetValue&&n.positionGetValue(r)||[],l=eR(e,n.handlesRefs);if(n.dragTrack=o&&s.length>=2&&!l&&!c.map((function(e,t){var n=!!t||e>=s[t];return t===c.length-1?e<=s[t]:n})).some((function(e){return!e})),n.dragTrack)n.dragOffset=r,n.startBounds=GO(s);else{if(l){var u=sR(a,e.target);n.dragOffset=r-u,r=u}else n.dragOffset=0;n.onStart(r)}},n.onMouseDown=function(e){if(0===e.button){n.removeDocumentEvents();var t=oR(n.props.vertical,e);n.onDown(e,t),n.addDocumentMouseEvents()}},n.onTouchStart=function(e){if(!nR(e)){var t=aR(n.props.vertical,e);n.onDown(e,t),n.addDocumentTouchEvents(),uR(e)}},n.onFocus=function(e){var t=n.props,r=t.onFocus,i=t.vertical;if(eR(e,n.handlesRefs)&&!n.dragTrack){var o=sR(i,e.target);n.dragOffset=0,n.onStart(o),uR(e),r&&r(e)}},n.onBlur=function(e){var t=n.props.onBlur;n.dragTrack||n.onEnd(),t&&t(e)},n.onMouseUp=function(){n.handlesRefs[n.prevMovedHandleIndex]&&n.handlesRefs[n.prevMovedHandleIndex].clickFocus()},n.onMouseMove=function(e){if(n.sliderRef){var t=oR(n.props.vertical,e);n.onMove(e,t-n.dragOffset,n.dragTrack,n.startBounds)}else n.onEnd()},n.onTouchMove=function(e){if(!nR(e)&&n.sliderRef){var t=aR(n.props.vertical,e);n.onMove(e,t-n.dragOffset,n.dragTrack,n.startBounds)}else n.onEnd()},n.onKeyDown=function(e){n.sliderRef&&eR(e,n.handlesRefs)&&n.onKeyboard(e)},n.onClickMarkLabel=function(e,t){e.stopPropagation(),n.onChange({value:t}),n.setState({value:t},(function(){return n.onEnd(!0)}))},n.saveSlider=function(e){n.sliderRef=e};var i=e.step,o=e.max,a=e.min,s=!isFinite(o-a)||(o-a)%i==0;return FO(!i||Math.floor(i)!==i||s,"Slider[max] - Slider[min] (".concat(o-a,") should be a multiple of Slider[step] (").concat(i,")")),n.handlesRefs={},n}return(0,Me.Z)(r,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){qO(ze(r.prototype),"componentWillUnmount",this)&&qO(ze(r.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,r=t.reverse,i=e.getBoundingClientRect();return n?r?i.bottom:i.top:window.pageXOffset+(r?i.right:i.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=WO(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=WO(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=WO(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=WO(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var e;this.props.disabled||null===(e=this.handlesRefs[0])||void 0===e||e.focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){var n,r;null===(n=e.handlesRefs[t])||void 0===n||null===(r=n.blur)||void 0===r||r.call(n)}))}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,i=t.max,o=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-o)*(i-r)+r:o*(i-r)+r}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min,r=(e-n)/(t.max-n);return Math.max(0,100*r)}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,t=this.props,i=t.prefixCls,o=t.className,a=t.marks,s=t.dots,c=t.step,l=t.included,u=t.disabled,d=t.vertical,h=t.reverse,f=t.min,p=t.max,g=t.children,m=t.maximumTrackStyle,v=t.style,y=t.railStyle,b=t.dotStyle,w=t.activeDotStyle,C=qO(ze(r.prototype),"render",this).call(this),I=C.tracks,E=C.handles,_=KO()(i,(e={},(0,Be.Z)(e,"".concat(i,"-with-marks"),Object.keys(a).length),(0,Be.Z)(e,"".concat(i,"-disabled"),u),(0,Be.Z)(e,"".concat(i,"-vertical"),d),(0,Be.Z)(e,o,o),e));return n.createElement("div",{ref:this.saveSlider,className:_,onTouchStart:u?hR:this.onTouchStart,onMouseDown:u?hR:this.onMouseDown,onMouseUp:u?hR:this.onMouseUp,onKeyDown:u?hR:this.onKeyDown,onFocus:u?hR:this.onFocus,onBlur:u?hR:this.onBlur,style:v},n.createElement("div",{className:"".concat(i,"-rail"),style:PO(PO({},m),y)}),I,n.createElement($O,{prefixCls:i,vertical:d,reverse:h,marks:a,dots:s,step:c,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:f,dotStyle:b,activeDotStyle:w}),E,n.createElement(QO,{className:"".concat(i,"-mark"),onClickLabel:u?hR:this.onClickMarkLabel,vertical:d,marks:a,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:f,reverse:h}),g)}}]),r}(e),t.displayName="ComponentEnhancer(".concat(e.displayName,")"),t.defaultProps=PO(PO({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,r=zO(e,["index"]);return delete r.dragging,null===r.value?null:n.createElement(YO,UO({},r,{key:t}))},onBeforeChange:hR,onChange:hR,onAfterChange:hR,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),t}var pR=function(e){Ve(r,e);var t=NO(r);function r(e){var n;(0,Le.Z)(this,r),(n=t.call(this,e)).positionGetValue=function(e){return[]},n.onEnd=function(e){var t=n.state.dragging;n.removeDocumentEvents(),(t||e)&&n.props.onAfterChange(n.getValue()),n.setState({dragging:!1})};var i=void 0!==e.defaultValue?e.defaultValue:e.min,o=void 0!==e.value?e.value:i;return n.state={value:n.trimAlignValue(o),dragging:!1},FO(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),FO(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),n}return(0,Me.Z)(r,[{key:"calcValueByPos",value:function(e){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.min,i=n.max,o=n.value,a=n.onChange;if("min"in this.props||"max"in this.props){var s=void 0!==o?o:t.value,c=this.trimAlignValue(s,this.props);c!==t.value&&(this.setState({value:c}),r===e.min&&i===e.max||!tR(s,this.props)||a(c))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),r=e.value>this.props.max?PO(PO({},e),{},{value:this.props.max}):e;n&&this.setState(r);var i=r.value;t.onChange(i)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:r}))}},{key:"onMove",value:function(e,t){uR(e);var n=this.state.value,r=this.calcValueByPos(t);r!==n&&this.onChange({value:r})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=dR(e,t.vertical,n);if(r){uR(e);var i=this.state.value,o=r(i,this.props),a=this.trimAlignValue(o);if(a===i)return;this.onChange({value:a}),this.props.onAfterChange(a),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var e=this.props.startPoint||this.props.min;return this.state.value>e?e:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=PO(PO({},this.props),t);return lR(cR(e,n),n)}},{key:"render",value:function(){var e=this,t=this.props,r=t.prefixCls,i=t.vertical,o=t.included,a=t.disabled,s=t.minimumTrackStyle,c=t.trackStyle,l=t.handleStyle,u=t.tabIndex,d=t.ariaLabelForHandle,h=t.ariaLabelledByForHandle,f=t.ariaValueTextFormatterForHandle,p=t.min,g=t.max,m=t.startPoint,v=t.reverse,y=t.handle,b=this.state,w=b.value,C=b.dragging,I=this.calcOffset(w),E=y({className:"".concat(r,"-handle"),prefixCls:r,vertical:i,offset:I,value:w,dragging:C,disabled:a,min:p,max:g,reverse:v,index:0,tabIndex:u,ariaLabel:d,ariaLabelledBy:h,ariaValueTextFormatter:f,style:l[0]||l,ref:function(t){return e.saveHandle(0,t)}}),_=void 0!==m?this.calcOffset(m):0,x=c[0]||c;return{tracks:n.createElement(VO,{className:"".concat(r,"-track"),vertical:i,included:o,offset:_,reverse:v,length:I-_,style:PO(PO({},s),x)}),handles:E}}}]),r}(n.Component),gR=fR(pR),mR=function(e){var t=e.value,n=e.handle,r=e.bounds,i=e.props,o=i.allowCross,a=i.pushable,s=Number(a),c=cR(t,i),l=c;return o||null==n||void 0===r||(n>0&&c<=r[n-1]+s&&(l=r[n-1]+s),n<r.length-1&&c>=r[n+1]-s&&(l=r[n+1]-s)),lR(l,i)},vR=function(e){Ve(r,e);var t=NO(r);function r(e){var n;(0,Le.Z)(this,r),(n=t.call(this,e)).positionGetValue=function(e){var t=n.getValue(),r=n.calcValueByPos(e),i=n.getClosestBound(r),o=n.getBoundNeedMoving(r,i);if(r===t[o])return null;var a=GO(t);return a[o]=r,a},n.onEnd=function(e){var t=n.state.handle;n.removeDocumentEvents(),t||(n.dragTrack=!1),(null!==t||e)&&n.props.onAfterChange(n.getValue()),n.setState({handle:null})};var i=e.count,o=e.min,a=e.max,s=Array.apply(void 0,GO(Array(i+1))).map((function(){return o})),c="defaultValue"in e?e.defaultValue:s,l=(void 0!==e.value?e.value:c).map((function(t,n){return mR({value:t,handle:n,props:e})})),u=l[0]===a?0:l.length-1;return n.state={handle:null,recent:u,bounds:l},n}return(0,Me.Z)(r,[{key:"calcValueByPos",value:function(e){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,i=r.onChange,o=r.value,a=r.min,s=r.max;if(("min"in this.props||"max"in this.props)&&(a!==e.min||s!==e.max)){var c=o||t.bounds;if(c.some((function(e){return tR(e,n.props)}))){var l=c.map((function(e){return cR(e,n.props)}));i(l)}}}},{key:"onChange",value:function(e){var t=this.props;if("value"in t){var n={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),Object.keys(n).length&&this.setState(n)}else this.setState(e);var r=PO(PO({},this.state),e).bounds;t.onChange(r)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e;var o=this.getClosestBound(i);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(i,o),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),i!==r[this.prevMovedHandleIndex]){var a=GO(n.bounds);a[this.prevMovedHandleIndex]=i,this.onChange({bounds:a})}}},{key:"onMove",value:function(e,t,n,r){uR(e);var i=this.state,o=this.props,a=o.max||100,s=o.min||0;if(n){var c=o.vertical?-t:t;c=o.reverse?-c:c;var l=a-Math.max.apply(Math,GO(r)),u=s-Math.min.apply(Math,GO(r)),d=Math.min(Math.max(c/(this.getSliderLength()/(a-s)),u),l),h=r.map((function(e){return Math.floor(Math.max(Math.min(e+d,a),s))}));i.bounds.map((function(e,t){return e===h[t]})).some((function(e){return!e}))&&this.onChange({bounds:h})}else{var f=this.calcValueByPos(t);f!==i.bounds[i.handle]&&this.moveTo(f)}}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=dR(e,t.vertical,n);if(r){uR(e);var i=this.state,o=this.props,a=i.bounds,s=i.handle,c=a[null===s?i.recent:s],l=r(c,o),u=mR({value:l,handle:s,bounds:i.bounds,props:o});if(u===c)return;this.moveTo(u,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;r+=1)e>=t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,r=n.bounds,i=n.recent,o=t,a=r[t+1]===r[t];return a&&r[i]===r[t]&&(o=i),a&&e!==r[t+1]&&(o=e<r[t+1]?t:t+1),o}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,r=e.min,i=e.max,o=this.internalPointsCache;if(!o||o.marks!==t||o.step!==n){var a=PO({},t);if(null!==n)for(var s=r;s<=i;s+=n)a[s]=s;var c=Object.keys(a).map(parseFloat);c.sort((function(e,t){return e-t})),this.internalPointsCache={marks:t,step:n,points:c}}return this.internalPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,r=this.state,i=this.props,o=GO(r.bounds),a=null===r.handle?r.recent:r.handle;o[a]=e;var s=a;!1!==i.pushable?this.pushSurroundingHandles(o,s):i.allowCross&&(o.sort((function(e,t){return e-t})),s=o.indexOf(e)),this.onChange({recent:s,handle:s,bounds:o}),t&&(this.props.onAfterChange(o),this.setState({},(function(){n.handlesRefs[s].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],r=this.props.pushable,i=Number(r),o=0;if(e[t+1]-n<i&&(o=1),n-e[t-1]<i&&(o=-1),0!==o){var a=t+o,s=o*(e[a]-n);this.pushHandle(e,a,o,i-s)||(e[t]=e[a]-o*i)}}},{key:"pushHandle",value:function(e,t,n,r){for(var i=e[t],o=e[t];n*(o-i)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=i,!1;o=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var r=this.getPoints(),i=r.indexOf(e[t])+n;if(i>=r.length||i<0)return!1;var o=t+n,a=r[i],s=this.props.pushable,c=Number(s),l=n*(e[o]-a);return!!this.pushHandle(e,o,n,c-l)&&(e[t]=a,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,n=t.handle,r=t.bounds;return mR({value:e,handle:n,bounds:r,props:this.props})}},{key:"render",value:function(){var e=this,t=this.state,r=t.handle,i=t.bounds,o=this.props,a=o.prefixCls,s=o.vertical,c=o.included,l=o.disabled,u=o.min,d=o.max,h=o.reverse,f=o.handle,p=o.trackStyle,g=o.handleStyle,m=o.tabIndex,v=o.ariaLabelGroupForHandles,y=o.ariaLabelledByGroupForHandles,b=o.ariaValueTextFormatterGroupForHandles,w=i.map((function(t){return e.calcOffset(t)})),C="".concat(a,"-handle"),I=i.map((function(t,n){var i,o=m[n]||0;(l||null===m[n])&&(o=null);var c=r===n;return f({className:KO()((i={},(0,Be.Z)(i,C,!0),(0,Be.Z)(i,"".concat(C,"-").concat(n+1),!0),(0,Be.Z)(i,"".concat(C,"-dragging"),c),i)),prefixCls:a,vertical:s,dragging:c,offset:w[n],value:t,index:n,tabIndex:o,min:u,max:d,reverse:h,disabled:l,style:g[n],ref:function(t){return e.saveHandle(n,t)},ariaLabel:v[n],ariaLabelledBy:y[n],ariaValueTextFormatter:b[n]})}));return{tracks:i.slice(0,-1).map((function(e,t){var r,i=t+1,o=KO()((r={},(0,Be.Z)(r,"".concat(a,"-track"),!0),(0,Be.Z)(r,"".concat(a,"-track-").concat(i),!0),r));return n.createElement(VO,{className:o,vertical:s,reverse:h,included:c,offset:w[i-1],length:w[i]-w[i-1],style:p[t],key:i})})),handles:I}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!("value"in e||"min"in e||"max"in e))return null;var n=e.value||t.bounds,r=n.map((function(n,r){return mR({value:n,handle:r,bounds:t.bounds,props:e})}));if(t.bounds.length===r.length){if(r.every((function(e,n){return e===t.bounds[n]})))return null}else r=n.map((function(t,n){return mR({value:t,handle:n,props:e})}));return PO(PO({},t),{},{bounds:r})}}]),r}(n.Component);vR.displayName="Range",vR.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var yR=fR(vR),bR=function(e){return+setTimeout(e,16)},wR=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(bR=function(e){return window.requestAnimationFrame(e)},wR=function(e){return window.cancelAnimationFrame(e)});var CR=0,IR=new Map;function ER(e){IR.delete(e)}var _R=function(e){var t=CR+=1;return function n(r){if(0===r)ER(t),e();else{var i=bR((function(){n(r-1)}));IR.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};_R.cancel=function(e){var t=IR.get(e);return ER(t),wR(t)};var xR=_R;function AR(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}function kR(e){return function(e){return e instanceof HTMLElement||e instanceof SVGElement}(e)?e:e instanceof n.Component?ZO.findDOMNode(e):null}var SR=a(1805);function TR(e,t){"function"==typeof e?e(t):"object"===(0,De.Z)(e)&&e&&"current"in e&&(e.current=t)}function PR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){TR(t,e)}))}}function NR(e){var t,n,r=(0,SR.isMemo)(e)?e.type.type:e.type;return!!("function"!=typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render)&&!!("function"!=typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render)}function OR(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var RR=(0,n.forwardRef)((function(e,t){var r=e.didUpdate,i=e.getContainer,o=e.children,a=(0,n.useRef)(),s=(0,n.useRef)();(0,n.useImperativeHandle)(t,(function(){return{}}));var c=(0,n.useRef)(!1);return!c.current&&OR()&&(s.current=i(),a.current=s.current.parentNode,c.current=!0),(0,n.useEffect)((function(){null==r||r(e)})),(0,n.useEffect)((function(){return null===s.current.parentNode&&null!==a.current&&a.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?ZO.createPortal(o,s.current):null})),DR=RR;function LR(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var MR=a(9439),jR=n.createContext({}),FR=function(e){Ve(n,e);var t=NO(n);function n(){return(0,Le.Z)(this,n),t.apply(this,arguments)}return(0,Me.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(n.Component),VR=FR;function UR(e){var t=n.useRef(!1),r=n.useState(e),i=(0,MR.Z)(r,2),o=i[0],a=i[1];return n.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,n){n&&t.current||a(e)}]}var zR="none",BR="appear",GR="enter",qR="leave",ZR="none",WR="prepare",HR="start",KR="active",$R="end",QR="prepared";function YR(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var JR,XR,eD,tD=(JR=OR(),XR="undefined"!=typeof window?window:{},eD={animationend:YR("Animation","AnimationEnd"),transitionend:YR("Transition","TransitionEnd")},JR&&("AnimationEvent"in XR||delete eD.animationend.animation,"TransitionEvent"in XR||delete eD.transitionend.transition),eD),nD={};if(OR()){var rD=document.createElement("div");nD=rD.style}var iD={};function oD(e){if(iD[e])return iD[e];var t=tD[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in nD)return iD[e]=t[o],iD[e]}return""}var aD=oD("animationend"),sD=oD("transitionend"),cD=!(!aD||!sD),lD=aD||"animationend",uD=sD||"transitionend";function dD(e,t){return e?"object"===(0,De.Z)(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var hD=OR()?n.useLayoutEffect:n.useEffect,fD=[WR,HR,KR,$R],pD=[WR,QR];function gD(e){return e===KR||e===$R}var mD=function(e){var t=e;"object"===(0,De.Z)(e)&&(t=e.transitionSupport);var r=n.forwardRef((function(e,r){var i=e.visible,o=void 0===i||i,a=e.removeOnLeave,s=void 0===a||a,c=e.forceRender,l=e.children,u=e.motionName,d=e.leavedClassName,h=e.eventProps,f=function(e,n){return!(!e.motionName||!t||!1===n)}(e,n.useContext(jR).motion),p=(0,n.useRef)(),g=(0,n.useRef)(),m=function(e,t,r,i){var o=i.motionEnter,a=void 0===o||o,s=i.motionAppear,c=void 0===s||s,l=i.motionLeave,u=void 0===l||l,d=i.motionDeadline,h=i.motionLeaveImmediately,f=i.onAppearPrepare,p=i.onEnterPrepare,g=i.onLeavePrepare,m=i.onAppearStart,v=i.onEnterStart,y=i.onLeaveStart,b=i.onAppearActive,w=i.onEnterActive,C=i.onLeaveActive,I=i.onAppearEnd,E=i.onEnterEnd,_=i.onLeaveEnd,x=i.onVisibleChanged,A=UR(),k=(0,MR.Z)(A,2),S=k[0],T=k[1],P=UR(zR),N=(0,MR.Z)(P,2),O=N[0],R=N[1],D=UR(null),L=(0,MR.Z)(D,2),M=L[0],j=L[1],F=(0,n.useRef)(!1),V=(0,n.useRef)(null);function U(){return r()}var z=(0,n.useRef)(!1);function B(){R(zR,!0),j(null,!0)}function G(e){var t=U();if(!e||e.deadline||e.target===t){var n,r=z.current;O===BR&&r?n=null==I?void 0:I(t,e):O===GR&&r?n=null==E?void 0:E(t,e):O===qR&&r&&(n=null==_?void 0:_(t,e)),O!==zR&&r&&!1!==n&&B()}}var q=function(e){var t=(0,n.useRef)(),r=(0,n.useRef)(e);r.current=e;var i=n.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener(uD,i),e.removeEventListener(lD,i))}return n.useEffect((function(){return function(){o(t.current)}}),[]),[function(e){t.current&&t.current!==e&&o(t.current),e&&e!==t.current&&(e.addEventListener(uD,i),e.addEventListener(lD,i),t.current=e)},o]}(G),Z=(0,MR.Z)(q,1)[0],W=function(e){var t,n,r;switch(e){case BR:return t={},(0,Be.Z)(t,WR,f),(0,Be.Z)(t,HR,m),(0,Be.Z)(t,KR,b),t;case GR:return n={},(0,Be.Z)(n,WR,p),(0,Be.Z)(n,HR,v),(0,Be.Z)(n,KR,w),n;case qR:return r={},(0,Be.Z)(r,WR,g),(0,Be.Z)(r,HR,y),(0,Be.Z)(r,KR,C),r;default:return{}}},H=n.useMemo((function(){return W(O)}),[O]),K=function(e,t,r){var i=UR(ZR),o=(0,MR.Z)(i,2),a=o[0],s=o[1],c=function(){var e=n.useRef(null);function t(){xR.cancel(e.current)}return n.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=xR((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):n(r,i-1)}));e.current=o},t]}(),l=(0,MR.Z)(c,2),u=l[0],d=l[1],h=t?pD:fD;return hD((function(){if(a!==ZR&&a!==$R){var e=h.indexOf(a),t=h[e+1],n=r(a);!1===n?s(t,!0):t&&u((function(e){function r(){e.isCanceled()||s(t,!0)}!0===n?r():Promise.resolve(n).then(r)}))}}),[e,a]),n.useEffect((function(){return function(){d()}}),[]),[function(){s(WR,!0)},a]}(O,!e,(function(e){if(e===WR){var t=H[WR];return!!t&&t(U())}var n;return Y in H&&j((null===(n=H[Y])||void 0===n?void 0:n.call(H,U(),null))||null),Y===KR&&(Z(U()),d>0&&(clearTimeout(V.current),V.current=setTimeout((function(){G({deadline:!0})}),d))),Y===QR&&B(),true})),$=(0,MR.Z)(K,2),Q=$[0],Y=$[1],J=gD(Y);z.current=J,hD((function(){T(t);var n,r=F.current;F.current=!0,!r&&t&&c&&(n=BR),r&&t&&a&&(n=GR),(r&&!t&&u||!r&&h&&!t&&u)&&(n=qR);var i=W(n);n&&(e||i[WR])?(R(n),Q()):R(zR)}),[t]),(0,n.useEffect)((function(){(O===BR&&!c||O===GR&&!a||O===qR&&!u)&&R(zR)}),[c,a,u]),(0,n.useEffect)((function(){return function(){F.current=!1,clearTimeout(V.current)}}),[]);var X=n.useRef(!1);(0,n.useEffect)((function(){S&&(X.current=!0),void 0!==S&&O===zR&&((X.current||S)&&(null==x||x(S)),X.current=!0)}),[S,O]);var ee=M;return H[WR]&&Y===HR&&(ee=PO({transition:"none"},ee)),[O,Y,ee,null!=S?S:t]}(f,o,(function(){try{return p.current instanceof HTMLElement?p.current:kR(g.current)}catch(e){return null}}),e),v=(0,MR.Z)(m,4),y=v[0],b=v[1],w=v[2],C=v[3],I=n.useRef(C);C&&(I.current=!0);var E,_=n.useCallback((function(e){p.current=e,TR(r,e)}),[r]),x=PO(PO({},h),{},{visible:o});if(l)if(y===zR)E=C?l(PO({},x),_):!s&&I.current&&d?l(PO(PO({},x),{},{className:d}),_):c||!s&&!d?l(PO(PO({},x),{},{style:{display:"none"}}),_):null;else{var A,k;b===WR?k="prepare":gD(b)?k="active":b===HR&&(k="start");var S=dD(u,"".concat(y,"-").concat(k));E=l(PO(PO({},x),{},{className:KO()(dD(u,y),(A={},(0,Be.Z)(A,S,S&&k),(0,Be.Z)(A,u,"string"==typeof u),A)),style:w}),_)}else E=null;return n.isValidElement(E)&&NR(E)&&(E.ref||(E=n.cloneElement(E,{ref:_}))),n.createElement(VR,{ref:g},E)}));return r.displayName="CSSMotion",r}(cD),vD="add",yD="keep",bD="remove",wD="removed";function CD(e){var t;return PO(PO({},t=e&&"object"===(0,De.Z)(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function ID(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(CD)}var ED=["component","children","onVisibleChanged","onAllRemoved"],_D=["status"],xD=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mD,r=function(e){Ve(i,e);var r=NO(i);function i(){var e;(0,Le.Z)(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,Be.Z)(je(e),"state",{keyEntities:[]}),(0,Be.Z)(je(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:PO(PO({},e),{},{status:wD})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==wD})).length})),e}return(0,Me.Z)(i,[{key:"render",value:function(){var e=this,r=this.state.keyEntities,i=this.props,o=i.component,a=i.children,s=i.onVisibleChanged,c=i.onAllRemoved,l=zO(i,ED),u=o||n.Fragment,d={};return xD.forEach((function(e){d[e]=l[e],delete l[e]})),delete l.keys,n.createElement(u,l,r.map((function(r,i){var o=r.status,l=zO(r,_D),u=o===vD||o===yD;return n.createElement(t,UO({},d,{key:l.key,visible:u,eventProps:l,onVisibleChanged:function(t){null==s||s(t,{key:l.key}),t||0===e.removeKey(l.key)&&c&&c()}}),(function(e,t){return a(PO(PO({},e),{},{index:i}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=ID(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=ID(e),a=ID(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return PO(PO({},e),{},{status:vD})}))),r=o),n.push(PO(PO({},s),{},{status:yD})),r+=1,t=!0;break}}t||n.push(PO(PO({},e),{},{status:bD}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return PO(PO({},e),{},{status:vD})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==bD}))).forEach((function(t){t.key===e&&(t.status=yD)}))})),n}(r,i);return{keyEntities:o.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==wD||e.status!==bD}))}}}]),i}(n.Component);(0,Be.Z)(r,"defaultProps",{component:"div"})}(cD);var AD,kD=mD;function SD(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function TD(e){var t=e.prefixCls,r=e.visible,i=e.zIndex,o=e.mask,a=e.maskMotion,s=e.maskAnimation,c=e.maskTransitionName;if(!o)return null;var l={};return(a||c||s)&&(l=PO({motionAppear:!0},SD({motion:a,prefixCls:t,transitionName:c,animation:s}))),n.createElement(kD,UO({},l,{visible:r,removeOnLeave:!0}),(function(e){var r=e.className;return n.createElement("div",{style:{zIndex:i},className:KO()("".concat(t,"-mask"),r)})}))}function PD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ND(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(n),!0).forEach((function(t){RD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OD(e){return OD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OD(e)}function RD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DD={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function LD(){if(void 0!==AD)return AD;AD="";var e=document.createElement("p").style;for(var t in DD)t+"Transform"in e&&(AD=t);return AD}function MD(){return LD()?"".concat(LD(),"TransitionProperty"):"transitionProperty"}function jD(){return LD()?"".concat(LD(),"Transform"):"transform"}function FD(e,t){var n=MD();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function VD(e,t){var n=jD();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var UD,zD=/matrix\((.*)\)/,BD=/matrix3d\((.*)\)/;function GD(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function qD(e,t,n){var r=n;if("object"!==OD(t))return void 0!==r?("number"==typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):UD(e,t);for(var i in t)t.hasOwnProperty(i)&&qD(e,i,t[i])}function ZD(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function WD(e){return ZD(e)}function HD(e){return ZD(e,!0)}function KD(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=WD(r),t.top+=HD(r),t}function $D(e){return null!=e&&e==e.window}function QD(e){return $D(e)?e.document:9===e.nodeType?e:e.ownerDocument}var YD=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),JD=/^(top|right|bottom|left)$/,XD="currentStyle",eL="runtimeStyle",tL="left";function nL(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function rL(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function iL(e,t,n){"static"===qD(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=nL("left",n),a=nL("top",n),s=rL(o),c=rL(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var l,u="",d=KD(e);("left"in t||"top"in t)&&(u=(l=e).style.transitionProperty||l.style[MD()]||"",FD(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[c]="",e.style[a]="".concat(i,"px")),GD(e);var h=KD(e),f={};for(var p in t)if(t.hasOwnProperty(p)){var g=nL(p,n),m="left"===p?r:i,v=d[p]-h[p];f[g]=g===p?m+v:m-v}qD(e,f),GD(e),("left"in t||"top"in t)&&FD(e,u);var y={};for(var b in t)if(t.hasOwnProperty(b)){var w=nL(b,n),C=t[b]-d[b];y[w]=b===w?f[w]+C:f[w]-C}qD(e,y)}function oL(e,t){for(var n=0;n<e.length;n++)t(e[n])}function aL(e){return"border-box"===UD(e,"boxSizing")}"undefined"!=typeof window&&(UD=window.getComputedStyle?function(e,t,n){var r=n,i="",o=QD(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e[XD]&&e[XD][t];if(YD.test(n)&&!JD.test(t)){var r=e.style,i=r[tL],o=e[eL][tL];e[eL][tL]=e[XD][tL],r[tL]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[tL]=i,e[eL][tL]=o}return""===n?"auto":n});var sL=["margin","border","padding"],cL=-1,lL=2,uL=1;function dL(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(UD(e,s))||0}return a}var hL={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function fL(e,t,n){var r=n;if($D(e))return"width"===t?hL.viewportWidth(e):hL.viewportHeight(e);if(9===e.nodeType)return"width"===t?hL.docWidth(e):hL.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=aL(e),s=0;(null==o||o<=0)&&(o=void 0,(null==(s=UD(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=Math.floor(parseFloat(s))||0),void 0===r&&(r=a?uL:cL);var c=void 0!==o||a,l=o||s;return r===cL?c?l-dL(e,["border","padding"],i):s:c?r===uL?l:l+(r===lL?-dL(e,["border"],i):dL(e,["margin"],i)):s+dL(e,sL.slice(r),i)}oL(["Width","Height"],(function(e){hL["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],hL["viewport".concat(e)](n))},hL["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var pL={position:"absolute",visibility:"hidden",display:"block"};function gL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=fL.apply(void 0,t):function(e,n,i){var o,a={},s=e.style;for(o in n)n.hasOwnProperty(o)&&(a[o]=s[o],s[o]=n[o]);for(o in function(){r=fL.apply(void 0,t)}.call(e),n)n.hasOwnProperty(o)&&(s[o]=a[o])}(i,pL),r}function mL(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}oL(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);hL["outer".concat(t)]=function(t,n){return t&&gL(t,e,n?0:uL)};var n="width"===e?["Left","Right"]:["Top","Bottom"];hL[e]=function(t,r){var i=r;return void 0!==i?t?(aL(t)&&(i+=dL(t,["padding","border"],n)),qD(t,e,i)):void 0:t&&gL(t,e,cL)}}));var vL={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:QD,offset:function(e,t,n){if(void 0===t)return KD(e);!function(e,t,n){if(n.ignoreShake){var r=KD(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?iL(e,t,n):n.useCssTransform&&jD()in document.body.style?function(e,t){var n=KD(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(jD());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(jD());if(r&&"none"!==r){var i,o=r.match(zD);o?((i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,VD(e,"matrix(".concat(i.join(","),")"))):((i=r.match(BD)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,VD(e,"matrix3d(".concat(i.join(","),")")))}else VD(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}(e,t):iL(e,t,n)}(e,t,n||{})},isWindow:$D,each:oL,css:qD,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:mL,getWindowScrollLeft:function(e){return WD(e)},getWindowScrollTop:function(e){return HD(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)vL.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};mL(vL,hL);var yL=vL.getParent;function bL(e){if(vL.isWindow(e)||9===e.nodeType)return null;var t,n=vL.getDocument(e).body,r=vL.css(e,"position");if("fixed"!==r&&"absolute"!==r)return"html"===e.nodeName.toLowerCase()?null:yL(e);for(t=yL(e);t&&t!==n&&9!==t.nodeType;t=yL(t))if("static"!==(r=vL.css(t,"position")))return t;return null}var wL=vL.getParent;function CL(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=bL(e),i=vL.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===vL.css(r,"overflow")){if(r===a||r===s)break}else{var c=vL.offset(r);c.left+=r.clientLeft,c.top+=r.clientTop,n.top=Math.max(n.top,c.top),n.right=Math.min(n.right,c.left+r.clientWidth),n.bottom=Math.min(n.bottom,c.top+r.clientHeight),n.left=Math.max(n.left,c.left)}r=bL(r)}var l=null;vL.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===vL.css(e,"position")&&(e.style.position="fixed"));var u=vL.getWindowScrollLeft(o),d=vL.getWindowScrollTop(o),h=vL.viewportWidth(o),f=vL.viewportHeight(o),p=s.scrollWidth,g=s.scrollHeight,m=window.getComputedStyle(a);if("hidden"===m.overflowX&&(p=o.innerWidth),"hidden"===m.overflowY&&(g=o.innerHeight),e.style&&(e.style.position=l),t||function(e){if(vL.isWindow(e)||9===e.nodeType)return!1;var t=vL.getDocument(e),n=t.body,r=null;for(r=wL(e);r&&r!==n&&r!==t;r=wL(r))if("fixed"===vL.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,d),n.right=Math.min(n.right,u+h),n.bottom=Math.min(n.bottom,d+f);else{var v=Math.max(p,u+h);n.right=Math.min(n.right,v);var y=Math.max(g,d+f);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function IL(e){var t,n,r;if(vL.isWindow(e)||9===e.nodeType){var i=vL.getWindow(e);t={left:vL.getWindowScrollLeft(i),top:vL.getWindowScrollTop(i)},n=vL.viewportWidth(i),r=vL.viewportHeight(i)}else t=vL.offset(e),n=vL.outerWidth(e),r=vL.outerHeight(e);return t.width=n,t.height=r,t}function EL(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function _L(e,t,n,r,i){var o=EL(t,n[1]),a=EL(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function xL(e,t,n){return e.left<n.left||e.left+t.width>n.right}function AL(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function kL(e,t,n){var r=[];return vL.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function SL(e,t){return e[t]=-e[t],e}function TL(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function PL(e,t){e[0]=TL(e[0],t.width),e[1]=TL(e[1],t.height)}function NL(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,c=n.source||e;o=[].concat(o),a=[].concat(a);var l={},u=0,d=CL(c,!(!(s=s||{})||!s.alwaysByViewport)),h=IL(c);PL(o,h),PL(a,t);var f=_L(h,t,i,o,a),p=vL.merge(h,f);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&xL(f,h,d)){var g=kL(i,/[lr]/gi,{l:"r",r:"l"}),m=SL(o,0),v=SL(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(_L(h,t,g,m,v),h,d)||(u=1,i=g,o=m,a=v)}if(s.adjustY&&AL(f,h,d)){var y=kL(i,/[tb]/gi,{t:"b",b:"t"}),b=SL(o,1),w=SL(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(_L(h,t,y,b,w),h,d)||(u=1,i=y,o=b,a=w)}u&&(f=_L(h,t,i,o,a),vL.mix(p,f));var C=xL(f,h,d),I=AL(f,h,d);if(C||I){var E=i;C&&(E=kL(i,/[lr]/gi,{l:"r",r:"l"})),I&&(E=kL(i,/[tb]/gi,{t:"b",b:"t"})),i=E,o=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&C,l.adjustY=s.adjustY&&I,(l.adjustX||l.adjustY)&&(p=function(e,t,n,r){var i=vL.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),vL.mix(i,o)}(f,h,d,l))}return p.width!==h.width&&vL.css(c,"width",vL.width(c)+p.width-h.width),p.height!==h.height&&vL.css(c,"height",vL.height(c)+p.height-h.height),vL.offset(c,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function OL(e,t,n){var r=n.target||t,i=IL(r),o=!function(e,t){var n=CL(e,t),r=IL(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return NL(e,i,n,o)}OL.__getOffsetParent=bL,OL.__getVisibleRectForElement=CL;var RL=OR()?n.useLayoutEffect:n.useEffect,DL=function(e,t){var r=n.useRef(!0);RL((function(){return e(r.current)}),t),RL((function(){return r.current=!1,function(){r.current=!0}}),[])},LL=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),ML="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,jL=void 0!==a.g&&a.g.Math===Math?a.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),FL="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(jL):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},VL=["top","right","bottom","left","width","height","size","weight"],UL="undefined"!=typeof MutationObserver,zL=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){FL(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){ML&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),UL?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){ML&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;VL.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),BL=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},GL=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||jL},qL=$L(0,0,0,0);function ZL(e){return parseFloat(e)||0}function WL(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ZL(e["border-"+n+"-width"])}),0)}var HL="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof GL(e).SVGGraphicsElement}:function(e){return e instanceof GL(e).SVGElement&&"function"==typeof e.getBBox};function KL(e){return ML?HL(e)?function(e){var t=e.getBBox();return $L(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return qL;var r=GL(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=ZL(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=ZL(r.width),c=ZL(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=WL(r,"left","right")+o),Math.round(c+a)!==n&&(c-=WL(r,"top","bottom")+a)),!function(e){return e===GL(e).document.documentElement}(e)){var l=Math.round(s+o)-t,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return $L(i.left,i.top,s,c)}(e):qL}function $L(e,t,n,r){return{x:e,y:t,width:n,height:r}}var QL=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=$L(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=KL(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),YL=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return BL(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);BL(this,{target:e,contentRect:n})},JL=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new LL,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof GL(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new QL(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof GL(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new YL(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),XL="undefined"!=typeof WeakMap?new WeakMap:new LL,eM=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=zL.getInstance(),r=new JL(t,n,this);XL.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){eM.prototype[e]=function(){var t;return(t=XL.get(this))[e].apply(t,arguments)}}));var tM=void 0!==jL.ResizeObserver?jL.ResizeObserver:eM;function nM(e,t){var n=null,r=null,i=new tM((function(e){var i=(0,MR.Z)(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,c=Math.floor(a),l=Math.floor(s);n===c&&r===l||Promise.resolve().then((function(){t({width:c,height:l})})),n=c,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function rM(e){return"function"!=typeof e?null:e()}function iM(e){return"object"===(0,De.Z)(e)&&e?e:null}var oM=function(e,t){var r=e.children,i=e.disabled,o=e.target,a=e.align,s=e.onAlign,c=e.monitorWindowResize,l=e.monitorBufferTime,u=void 0===l?0:l,d=n.useRef({}),h=n.useRef(),f=n.Children.only(r),p=n.useRef({});p.current.disabled=i,p.current.target=o,p.current.align=a,p.current.onAlign=s;var g=function(e,t){var r=n.useRef(!1),i=n.useRef(null);function o(){window.clearTimeout(i.current)}return[function e(n){if(o(),r.current&&!0!==n)i.current=window.setTimeout((function(){r.current=!1,e()}),t);else{if(!1===function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign,o=h.current;if(!t&&n&&o){var a,s=rM(n),c=iM(n);d.current.element=s,d.current.point=c,d.current.align=r;var l=document.activeElement;return s&&function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}}return!1}(s)?a=OL(o,s,r):c&&(a=function(e,t,n){var r,i,o=vL.getDocument(e),a=o.defaultView||o.parentWindow,s=vL.getWindowScrollLeft(a),c=vL.getWindowScrollTop(a),l=vL.viewportWidth(a),u=vL.viewportHeight(a),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:c+t.clientY,width:0,height:0},h=r>=0&&r<=s+l&&i>=0&&i<=c+u,f=[n.points[0],"cc"];return NL(e,d,ND(ND({},n),{},{points:f}),h)}(o,c,r)),function(e,t){e!==document.activeElement&&AR(t,e)&&"function"==typeof e.focus&&e.focus()}(l,o),i&&a&&i(o,a),!0}return!1}())return;r.current=!0,i.current=window.setTimeout((function(){r.current=!1}),t)}},function(){r.current=!1,o()}]}(0,u),m=(0,MR.Z)(g,2),v=m[0],y=m[1],b=n.useState(),w=(0,MR.Z)(b,2),C=w[0],I=w[1],E=n.useState(),_=(0,MR.Z)(E,2),x=_[0],A=_[1];return DL((function(){I(rM(o)),A(iM(o))})),n.useEffect((function(){var e,t;d.current.element===C&&((e=d.current.point)===(t=x)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(t);if(FO(!a,"Warning: There may be circular references"),a)return!1;if(t===i)return!0;if(n&&o>1)return!1;r.add(t);var s=o+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var c=0;c<t.length;c++)if(!e(t[c],i[c],s))return!1;return!0}if(t&&i&&"object"===(0,De.Z)(t)&&"object"===(0,De.Z)(i)){var l=Object.keys(t);return l.length===Object.keys(i).length&&l.every((function(n){return e(t[n],i[n],s)}))}return!1}(e,t)}(d.current.align,a)||v()})),n.useEffect((function(){return nM(h.current,v)}),[h.current]),n.useEffect((function(){return nM(C,v)}),[C]),n.useEffect((function(){i?y():v()}),[i]),n.useEffect((function(){if(c)return WO(window,"resize",v).remove}),[c]),n.useEffect((function(){return function(){y()}}),[]),n.useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),n.isValidElement(f)&&(f=n.cloneElement(f,{ref:PR(f.ref,h)})),f},aM=n.forwardRef(oM);aM.displayName="Align";var sM=aM;function cM(){cM=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new P(r||[]);return i(a,"_invoke",{value:A(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};l(w,a,(function(){return this}));var C=Object.getPrototypeOf,I=C&&C(C(N([])));I&&I!==n&&r.call(I,a)&&(w=I);var E=b.prototype=v.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==(0,De.Z)(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function A(t,n,r){var i=h;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=d(t,n,r);if("normal"===l.type){if(i=r.done?g:f,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,De.Z)(t)+" is not iterable")}return y.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},_(x.prototype),l(x.prototype,s,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(E),l(E,c,"Generator"),l(E,a,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function lM(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function uM(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){lM(o,r,i,a,s,"next",e)}function s(e){lM(o,r,i,a,s,"throw",e)}a(void 0)}))}}var dM=["measure","alignPre","align",null,"motion"],hM=n.forwardRef((function(e,t){var r=e.visible,i=e.prefixCls,o=e.className,a=e.style,s=e.children,c=e.zIndex,l=e.stretch,u=e.destroyPopupOnHide,d=e.forceRender,h=e.align,f=e.point,p=e.getRootDomNode,g=e.getClassNameFromAlign,m=e.onAlign,v=e.onMouseEnter,y=e.onMouseLeave,b=e.onMouseDown,w=e.onTouchStart,C=e.onClick,I=(0,n.useRef)(),E=(0,n.useRef)(),_=(0,n.useState)(),x=(0,MR.Z)(_,2),A=x[0],k=x[1],S=function(e){var t=n.useState({width:0,height:0}),r=(0,MR.Z)(t,2),i=r[0],o=r[1];return[n.useMemo((function(){var t={};if(e){var n=i.width,r=i.height;-1!==e.indexOf("height")&&r?t.height=r:-1!==e.indexOf("minHeight")&&r&&(t.minHeight=r),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,i]),function(e){var t=e.offsetWidth,n=e.offsetHeight,r=e.getBoundingClientRect(),i=r.width,a=r.height;Math.abs(t-i)<1&&Math.abs(n-a)<1&&(t=i,n=a),o({width:t,height:n})}]}(l),T=(0,MR.Z)(S,2),P=T[0],N=T[1],O=function(e,t){var r=UR(null),i=(0,MR.Z)(r,2),o=i[0],a=i[1],s=(0,n.useRef)();function c(e){a(e,!0)}function u(){xR.cancel(s.current)}return(0,n.useEffect)((function(){c("measure")}),[e]),(0,n.useEffect)((function(){"measure"===o&&(l&&N(p())),o&&(s.current=xR(uM(cM().mark((function e(){var t,n;return cM().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=dM.indexOf(o),(n=dM[t+1])&&-1!==t&&c(n);case 3:case"end":return e.stop()}}),e)})))))}),[o]),(0,n.useEffect)((function(){return function(){u()}}),[]),[o,function(e){u(),s.current=xR((function(){c((function(e){switch(o){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(r),R=(0,MR.Z)(O,2),D=R[0],L=R[1],M=(0,n.useState)(0),j=(0,MR.Z)(M,2),F=j[0],V=j[1],U=(0,n.useRef)();function z(){var e;null===(e=I.current)||void 0===e||e.forceAlign()}function B(e,t){var n=g(t);A!==n&&k(n),V((function(e){return e+1})),"align"===D&&(null==m||m(e,t))}DL((function(){"alignPre"===D&&V(0)}),[D]),DL((function(){"align"===D&&(F<3?z():L((function(){var e;null===(e=U.current)||void 0===e||e.call(U)})))}),[F]);var G=PO({},SD(e));function q(){return new Promise((function(e){U.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=G[e];G[e]=function(e,n){return L(),null==t?void 0:t(e,n)}})),n.useEffect((function(){G.motionName||"motion"!==D||L()}),[G.motionName,D]),n.useImperativeHandle(t,(function(){return{forceAlign:z,getElement:function(){return E.current}}}));var Z=PO(PO({},P),{},{zIndex:c,opacity:"motion"!==D&&"stable"!==D&&r?0:void 0,pointerEvents:r||"stable"===D?void 0:"none"},a),W=!0;null==h||!h.points||"align"!==D&&"stable"!==D||(W=!1);var H=s;return n.Children.count(s)>1&&(H=n.createElement("div",{className:"".concat(i,"-content")},s)),n.createElement(kD,UO({visible:r,ref:E,leavedClassName:"".concat(i,"-hidden")},G,{onAppearPrepare:q,onEnterPrepare:q,removeOnLeave:u,forceRender:d}),(function(e,t){var r=e.className,a=e.style,s=KO()(i,o,A,r);return n.createElement(sM,{target:f||p,key:"popup",ref:I,monitorWindowResize:!0,disabled:W,align:h,onAlign:B},n.createElement("div",{ref:t,className:s,onMouseEnter:v,onMouseLeave:y,onMouseDownCapture:b,onTouchStartCapture:w,onClick:C,style:PO(PO({},a),Z)},H))}))}));hM.displayName="PopupInner";var fM=hM,pM=n.forwardRef((function(e,t){var r=e.prefixCls,i=e.visible,o=e.zIndex,a=e.children,s=e.mobile,c=(s=void 0===s?{}:s).popupClassName,l=s.popupStyle,u=s.popupMotion,d=void 0===u?{}:u,h=s.popupRender,f=e.onClick,p=n.useRef();n.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return p.current}}}));var g=PO({zIndex:o},l),m=a;return n.Children.count(a)>1&&(m=n.createElement("div",{className:"".concat(r,"-content")},a)),h&&(m=h(m)),n.createElement(kD,UO({visible:i,ref:p,removeOnLeave:!0},d),(function(e,t){var i=e.className,o=e.style,a=KO()(r,c,i);return n.createElement("div",{ref:t,className:a,onClick:f,style:PO(PO({},o),g)},m)}))}));pM.displayName="MobilePopupInner";var gM=pM,mM=["visible","mobile"],vM=n.forwardRef((function(e,t){var r=e.visible,i=e.mobile,o=zO(e,mM),a=(0,n.useState)(r),s=(0,MR.Z)(a,2),c=s[0],l=s[1],u=(0,n.useState)(!1),d=(0,MR.Z)(u,2),h=d[0],f=d[1],p=PO(PO({},o),{},{visible:c});(0,n.useEffect)((function(){l(r),r&&i&&f(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4))}())}),[r,i]);var g=h?n.createElement(gM,UO({},p,{mobile:i,ref:t})):n.createElement(fM,UO({},p,{ref:t}));return n.createElement("div",null,n.createElement(TD,p),g)}));vM.displayName="Popup";var yM=vM,bM=n.createContext(null);function wM(){}var CM,IM,EM=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],_M=(CM=DR,IM=function(e){Ve(r,e);var t=NO(r);function r(e){var i,o;return(0,Le.Z)(this,r),i=t.call(this,e),(0,Be.Z)(je(i),"popupRef",n.createRef()),(0,Be.Z)(je(i),"triggerRef",n.createRef()),(0,Be.Z)(je(i),"portalContainer",void 0),(0,Be.Z)(je(i),"attachId",void 0),(0,Be.Z)(je(i),"clickOutsideHandler",void 0),(0,Be.Z)(je(i),"touchOutsideHandler",void 0),(0,Be.Z)(je(i),"contextMenuOutsideHandler1",void 0),(0,Be.Z)(je(i),"contextMenuOutsideHandler2",void 0),(0,Be.Z)(je(i),"mouseDownTimeout",void 0),(0,Be.Z)(je(i),"focusTime",void 0),(0,Be.Z)(je(i),"preClickTime",void 0),(0,Be.Z)(je(i),"preTouchTime",void 0),(0,Be.Z)(je(i),"delayTimer",void 0),(0,Be.Z)(je(i),"hasPopupMouseDown",void 0),(0,Be.Z)(je(i),"onMouseEnter",(function(e){var t=i.props.mouseEnterDelay;i.fireEvents("onMouseEnter",e),i.delaySetPopupVisible(!0,t,t?null:e)})),(0,Be.Z)(je(i),"onMouseMove",(function(e){i.fireEvents("onMouseMove",e),i.setPoint(e)})),(0,Be.Z)(je(i),"onMouseLeave",(function(e){i.fireEvents("onMouseLeave",e),i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)})),(0,Be.Z)(je(i),"onPopupMouseEnter",(function(){i.clearDelayTimer()})),(0,Be.Z)(je(i),"onPopupMouseLeave",(function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&AR(null===(t=i.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)})),(0,Be.Z)(je(i),"onFocus",(function(e){i.fireEvents("onFocus",e),i.clearDelayTimer(),i.isFocusToShow()&&(i.focusTime=Date.now(),i.delaySetPopupVisible(!0,i.props.focusDelay))})),(0,Be.Z)(je(i),"onMouseDown",(function(e){i.fireEvents("onMouseDown",e),i.preClickTime=Date.now()})),(0,Be.Z)(je(i),"onTouchStart",(function(e){i.fireEvents("onTouchStart",e),i.preTouchTime=Date.now()})),(0,Be.Z)(je(i),"onBlur",(function(e){i.fireEvents("onBlur",e),i.clearDelayTimer(),i.isBlurToHide()&&i.delaySetPopupVisible(!1,i.props.blurDelay)})),(0,Be.Z)(je(i),"onContextMenu",(function(e){e.preventDefault(),i.fireEvents("onContextMenu",e),i.setPopupVisible(!0,e)})),(0,Be.Z)(je(i),"onContextMenuClose",(function(){i.isContextMenuToShow()&&i.close()})),(0,Be.Z)(je(i),"onClick",(function(e){if(i.fireEvents("onClick",e),i.focusTime){var t;if(i.preClickTime&&i.preTouchTime?t=Math.min(i.preClickTime,i.preTouchTime):i.preClickTime?t=i.preClickTime:i.preTouchTime&&(t=i.preTouchTime),Math.abs(t-i.focusTime)<20)return;i.focusTime=0}i.preClickTime=0,i.preTouchTime=0,i.isClickToShow()&&(i.isClickToHide()||i.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!i.state.popupVisible;(i.isClickToHide()&&!n||n&&i.isClickToShow())&&i.setPopupVisible(!i.state.popupVisible,e)})),(0,Be.Z)(je(i),"onPopupMouseDown",(function(){var e;i.hasPopupMouseDown=!0,clearTimeout(i.mouseDownTimeout),i.mouseDownTimeout=window.setTimeout((function(){i.hasPopupMouseDown=!1}),0),i.context&&(e=i.context).onPopupMouseDown.apply(e,arguments)})),(0,Be.Z)(je(i),"onDocumentClick",(function(e){if(!i.props.mask||i.props.maskClosable){var t=e.target,n=i.getRootDomNode(),r=i.getPopupDomNode();AR(n,t)&&!i.isContextMenuOnly()||AR(r,t)||i.hasPopupMouseDown||i.close()}})),(0,Be.Z)(je(i),"getRootDomNode",(function(){var e=i.props.getTriggerDOMNode;if(e)return e(i.triggerRef.current);try{var t=kR(i.triggerRef.current);if(t)return t}catch(e){}return ZO.findDOMNode(je(i))})),(0,Be.Z)(je(i),"getPopupClassNameFromAlign",(function(e){var t=[],n=i.props,r=n.popupPlacement,o=n.builtinPlacements,a=n.prefixCls,s=n.alignPoint,c=n.getPopupClassNameFromAlign;return r&&o&&t.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(LR(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),c&&t.push(c(e)),t.join(" ")})),(0,Be.Z)(je(i),"getComponent",(function(){var e=i.props,t=e.prefixCls,r=e.destroyPopupOnHide,o=e.popupClassName,a=e.onPopupAlign,s=e.popupMotion,c=e.popupAnimation,l=e.popupTransitionName,u=e.popupStyle,d=e.mask,h=e.maskAnimation,f=e.maskTransitionName,p=e.maskMotion,g=e.zIndex,m=e.popup,v=e.stretch,y=e.alignPoint,b=e.mobile,w=e.forceRender,C=e.onPopupClick,I=i.state,E=I.popupVisible,_=I.point,x=i.getPopupAlign(),A={};return i.isMouseEnterToShow()&&(A.onMouseEnter=i.onPopupMouseEnter),i.isMouseLeaveToHide()&&(A.onMouseLeave=i.onPopupMouseLeave),A.onMouseDown=i.onPopupMouseDown,A.onTouchStart=i.onPopupMouseDown,n.createElement(yM,UO({prefixCls:t,destroyPopupOnHide:r,visible:E,point:y&&_,className:o,align:x,onAlign:a,animation:c,getClassNameFromAlign:i.getPopupClassNameFromAlign},A,{stretch:v,getRootDomNode:i.getRootDomNode,style:u,mask:d,zIndex:g,transitionName:l,maskAnimation:h,maskTransitionName:f,maskMotion:p,ref:i.popupRef,motion:s,mobile:b,forceRender:w,onClick:C}),"function"==typeof m?m():m)})),(0,Be.Z)(je(i),"attachParent",(function(e){xR.cancel(i.attachId);var t,n=i.props,r=n.getPopupContainer,o=n.getDocument,a=i.getRootDomNode();r?(a||0===r.length)&&(t=r(a)):t=o(i.getRootDomNode()).body,t?t.appendChild(e):i.attachId=xR((function(){i.attachParent(e)}))})),(0,Be.Z)(je(i),"getContainer",(function(){if(!i.portalContainer){var e=(0,i.props.getDocument)(i.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",i.portalContainer=e}return i.attachParent(i.portalContainer),i.portalContainer})),(0,Be.Z)(je(i),"setPoint",(function(e){i.props.alignPoint&&e&&i.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),(0,Be.Z)(je(i),"handlePortalUpdate",(function(){i.state.prevPopupVisible!==i.state.popupVisible&&i.props.afterPopupVisibleChange(i.state.popupVisible)})),(0,Be.Z)(je(i),"triggerContextValue",{onPopupMouseDown:i.onPopupMouseDown}),o="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,i.state={prevPopupVisible:o,popupVisible:o},EM.forEach((function(e){i["fire".concat(e)]=function(t){i.fireEvents(e,t)}})),i}return(0,Me.Z)(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=WO(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=WO(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=WO(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=WO(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),xR.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return PO(PO({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,t=this.props,r=t.children,i=t.forceRender,o=t.alignPoint,a=t.className,s=t.autoDestroy,c=n.Children.only(r),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var u=KO()(c&&c.props&&c.props.className,a);u&&(l.className=u);var d=PO({},l);NR(c)&&(d.ref=PR(this.triggerRef,c.ref));var h,f=n.cloneElement(c,d);return(e||this.popupRef.current||i)&&(h=n.createElement(CM,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&s&&(h=null),n.createElement(bM.Provider,{value:this.triggerContextValue},f,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),r}(n.Component),(0,Be.Z)(IM,"contextType",bM),(0,Be.Z)(IM,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(e){return e?e.ownerDocument:window.document},onPopupVisibleChange:wM,afterPopupVisibleChange:wM,onPopupAlign:wM,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),IM),xM={adjustX:1,adjustY:1},AM=[0,0],kM={left:{points:["cr","cl"],overflow:xM,offset:[-4,0],targetOffset:AM},right:{points:["cl","cr"],overflow:xM,offset:[4,0],targetOffset:AM},top:{points:["bc","tc"],overflow:xM,offset:[0,-4],targetOffset:AM},bottom:{points:["tc","bc"],overflow:xM,offset:[0,4],targetOffset:AM},topLeft:{points:["bl","tl"],overflow:xM,offset:[0,-4],targetOffset:AM},leftTop:{points:["tr","tl"],overflow:xM,offset:[-4,0],targetOffset:AM},topRight:{points:["br","tr"],overflow:xM,offset:[0,-4],targetOffset:AM},rightTop:{points:["tl","tr"],overflow:xM,offset:[4,0],targetOffset:AM},bottomRight:{points:["tr","br"],overflow:xM,offset:[0,4],targetOffset:AM},rightBottom:{points:["bl","br"],overflow:xM,offset:[4,0],targetOffset:AM},bottomLeft:{points:["tl","bl"],overflow:xM,offset:[0,4],targetOffset:AM},leftBottom:{points:["br","bl"],overflow:xM,offset:[-4,0],targetOffset:AM}};function SM(e){var t=e.showArrow,r=e.arrowContent,i=e.children,o=e.prefixCls,a=e.id,s=e.overlayInnerStyle,c=e.className,l=e.style;return n.createElement("div",{className:KO()("".concat(o,"-content"),c),style:l},!1!==t&&n.createElement("div",{className:"".concat(o,"-arrow"),key:"arrow"},r),n.createElement("div",{className:"".concat(o,"-inner"),id:a,role:"tooltip",style:s},"function"==typeof i?i():i))}var TM=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],PM=function(e,t){var r=e.overlayClassName,i=e.trigger,o=void 0===i?["hover"]:i,a=e.mouseEnterDelay,s=void 0===a?0:a,c=e.mouseLeaveDelay,l=void 0===c?.1:c,u=e.overlayStyle,d=e.prefixCls,h=void 0===d?"rc-tooltip":d,f=e.children,p=e.onVisibleChange,g=e.afterVisibleChange,m=e.transitionName,v=e.animation,y=e.motion,b=e.placement,w=void 0===b?"right":b,C=e.align,I=void 0===C?{}:C,E=e.destroyTooltipOnHide,_=void 0!==E&&E,x=e.defaultVisible,A=e.getTooltipContainer,k=e.overlayInnerStyle,S=e.arrowContent,T=e.overlay,P=e.id,N=e.showArrow,O=void 0===N||N,R=zO(e,TM),D=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,(function(){return D.current}));var L=PO({},R);"visible"in e&&(L.popupVisible=e.visible);var M=!1,j=!1;if("boolean"==typeof _)M=_;else if(_&&"object"===(0,De.Z)(_)){var F=_.keepParent;M=!0===F,j=!1===F}return n.createElement(_M,UO({popupClassName:r,prefixCls:h,popup:function(){return n.createElement(SM,{showArrow:O,arrowContent:S,key:"content",prefixCls:h,id:P,overlayInnerStyle:k},T)},action:o,builtinPlacements:kM,popupPlacement:w,ref:D,popupAlign:I,getPopupContainer:A,onPopupVisibleChange:p,afterPopupVisibleChange:g,popupTransitionName:m,popupAnimation:v,popupMotion:y,defaultPopupVisible:x,destroyPopupOnHide:M,autoDestroy:j,mouseLeaveDelay:l,popupStyle:u,mouseEnterDelay:s},L),f)},NM=(0,n.forwardRef)(PM),OM=n.forwardRef((function(e,t){var r=e.visible,i=e.overlay,o=n.useRef(null),a=PR(t,o),s=n.useRef(null);function c(){xR.cancel(s.current)}return n.useEffect((function(){return r?s.current=xR((function(){var e;null===(e=o.current)||void 0===e||e.forcePopupAlign()})):c(),c}),[r,i]),n.createElement(NM,UO({ref:a},e))})),RM=OM;function DM(e){var t;return t=function(t){Ve(i,t);var r=NO(i);function i(){var e;return(0,Le.Z)(this,i),(e=r.apply(this,arguments)).state={visibles:{}},e.handleTooltipVisibleChange=function(t,n){e.setState((function(e){return{visibles:PO(PO({},e.visibles),{},(0,Be.Z)({},t,n))}}))},e.handleWithTooltip=function(t){var r,i=t.value,o=t.dragging,a=t.index,s=t.disabled,c=zO(t,["value","dragging","index","disabled"]),l=e.props,u=l.tipFormatter,d=l.tipProps,h=l.handleStyle,f=l.getTooltipContainer,p=d.prefixCls,g=void 0===p?"rc-slider-tooltip":p,m=d.overlay,v=void 0===m?u(i):m,y=d.placement,b=void 0===y?"top":y,w=d.visible,C=void 0!==w&&w,I=zO(d,["prefixCls","overlay","placement","visible"]);return r=Array.isArray(h)?h[a]||h[0]:h,n.createElement(RM,UO({},I,{getTooltipContainer:f,prefixCls:g,overlay:v,placement:b,visible:!s&&(e.state.visibles[a]||o)||C,key:a}),n.createElement(YO,UO({},c,{style:PO({},r),value:i,onMouseEnter:function(){return e.handleTooltipVisibleChange(a,!0)},onMouseLeave:function(){return e.handleTooltipVisibleChange(a,!1)}})))},e}return(0,Me.Z)(i,[{key:"render",value:function(){return n.createElement(e,UO({},this.props,{handle:this.handleWithTooltip}))}}]),i}(n.Component),t.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{},getTooltipContainer:function(e){return e.parentNode}},t}var LM=gR;LM.Range=yR,LM.Handle=YO,LM.createSliderWithTooltip=DM;var MM=LM;function jM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return FM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var VM=function(){var e=jM(n.useState(0),2),t=e[0],r=e[1],i=jM(n.useState({}),2),o=i[0],a=i[1],s=new(cO()),c=new lO.ZP;function l(e){a(e),r(1),s.listenMessages(lO.Ks,u),s.listenMessages(lO.Xb,d),s.listenMessages(lO.jB,h),s.listenMessages(lO.x8,f),s.listenMessages(lO.TL,p)}function u(){c.sendStart()}function d(){c.sendStop()}function h(e){c.sendTime(e.detail)}function f(e){c.sendPoints(e.detail)}function p(e){c.sendGates(e.detail)}return 0===t?n.createElement("div",{className:"controlText",onClick:function(){c.discoverDevice(l)}},"Discover Bluetooth Device"):n.createElement("div",{className:"controlText"},o.name)},UM=a(8),zM={};zM.styleTagTransform=ke(),zM.setAttributes=Ee(),zM.insert=Ce().bind(null,"head"),zM.domAPI=be(),zM.insertStyleElement=xe(),ve()(UM.Z,zM),UM.Z&&UM.Z.locals&&UM.Z.locals;var BM=a(7243),GM={};GM.styleTagTransform=ke(),GM.setAttributes=Ee(),GM.insert=Ce().bind(null,"head"),GM.domAPI=be(),GM.insertStyleElement=xe(),ve()(BM.Z,GM),BM.Z&&BM.Z.locals&&BM.Z.locals;var qM=a(8458),ZM={};function WM(e){return WM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WM(e)}function HM(e){return function(e){if(Array.isArray(e))return YM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||QM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KM(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==WM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==WM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===WM(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QM(e,t){if(e){if("string"==typeof e)return YM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YM(e,t):void 0}}function YM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JM(e,t){var n={tickTime:0,forceAction:"",game:e};return Xt.zo.init(n.game,Xt.zo.getGameTypeControlTextValuesInit(e.gameType),Xt.zo.getGameTypeFiascoControlTextValuesInit(e.gameType),t),n}ZM.styleTagTransform=ke(),ZM.setAttributes=Ee(),ZM.insert=Ce().bind(null,"head"),ZM.domAPI=be(),ZM.insertStyleElement=xe(),ve()(qM.Z,ZM),qM.Z&&qM.Z.locals&&qM.Z.locals;var XM=function(e){var t=e.children,r=e.game,i=e.onGameEnd,o=e.onRepair,a=e.playerIndex,s=e.zoneIndex,c=e.gameExtras,l=(0,pe.$)().t,u=DM(MM),d=new(cO()),h=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||QM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState((function(){return window.scrollTo(0,0),JM(r)})),2),f=h[0],p=h[1],g=[];function m(e){var t=$M({},f),n=t.game.players[a].zones[s];n.gateProgression=e,d.sendMessage(lO.TL,n.gateProgression),e===t.game.gates[s]&&(t.forceAction="pause"),c.onGateProgressionChange(n),p(t)}function v(e){var t="gatesPlusButton"===e.target.id,n=f.game.players[a].zones[s],r=f.game.gates[s];t?n.gateProgression<r&&m(n.gateProgression+1):n.gateProgression>0&&m(n.gateProgression-1)}t.length&&(g.push(n.cloneElement(t[0],{onValueChange:function(e,t){var n=$M({},f),r=n.game,i=r.players[a].zones[s],o=i.gateProgressionData[i.gateProgression];(!(r.maxPoints<=i.points&&r.maxPoints>0)&&!(r.maxTime<=f.tickTime&&r.maxTime>0)||i.points+e<=r.maxPoints&&0===i.fiascoControlTextValues.filter((function(e){return e>0})).length)&&(o.controlTextValues=HM(o.controlTextValues),o.controlTextValues[t]+=e,i.points+=e,i.gateProgression<r.gates[s]&&(o.gatePoints+=e),d.sendMessage(lO.x8,i.points),c.onChangeScore(i),p(n),Xt.zo.isFiasco(n.game,a,s)&&p($M($M({},f),{},{forceAction:"pause"})))}})),t[2]?(g.push(n.cloneElement(t[1],{onValueChange:function(e,t){var n=$M({},f),r=n.game.players[a].zones[s];r.fiascoControlTextValues=HM(r.fiascoControlTextValues),r.fiascoControlTextValues[t]+=e,r.fiascoControlTextValues[t]>0&&(n.forceAction="pause"),c.onFiascoChangeScore(),p(n)}})),g.push(n.cloneElement(t[2]))):g.push(n.cloneElement(t[1])),t[3]&&g.push(n.cloneElement(t[3]))),n.useEffect((function(){var e=f.game.players[a].zones[s];p($M($M({},f),{},{tickTime:e.time,forceAction:"play"})),document.body.classList.add(Xt.zo.getGameTypeBodyClassName(r.gameType))}),[]);var y=n.createElement(n.Fragment,null),b=f.game,w=b.maxTime,C=b.players[a],I=C.zones[s];return Xt.zo.isFiasco(f.game,a,s)&&(le.Z.event("play","fiasco",C.name),y=n.createElement("div",{className:"fiascoBox rounded importantNote"},"FiASCO!")),n.createElement("div",{className:"gameContainer"},n.createElement("div",{className:"playersList"},n.createElement("div",{className:"playerListItem importantNote rounded"},n.createElement("img",{src:C.avatar,alt:"avatar"}),C.name)),n.createElement("div",{className:"controlTextContainer rounded rounded2"},n.createElement("div",{className:"smallText"},l("description.zona"),": ",s+1),n.createElement("div",{className:"smallText"},l("description.puertas"),": ",b.gates[s]),n.createElement("div",{className:"smallText"},"max ",l("description.tiempo"),": ",Jt.printTime(Jt.millisToTime(r.maxTime))),n.createElement("div",{className:"smallText"},"max ",l("description.puntos"),": ",r.maxPoints),n.createElement("div",{className:"bold pointsText"},l("description.total"),": ",I.totalPoints),y),n.createElement("div",{className:"controlTextContainer rounded rounded2"},Jt.isIphone()?n.createElement(n.Fragment,null):n.createElement(VM,null),r.courtesyTime>0?n.createElement("div",{className:"pointsText"},l("description.puntos")," ",l("description.portiempo"),": ",I.simpathyPoints):n.createElement(n.Fragment,null),n.createElement("button",{className:"repairButton importantNote",onClick:function(){var e=$M({},f);e.game.players[a].zones[s].time=f.tickTime,e.forceAction="stop",p(e),o&&o(a,s)}},l("description.iniciarreparacion")),n.createElement(bO,{courtesyTime:r.courtesyTime,startTime:I.time,label:l("description.tiempo"),forceAction:f.forceAction,onTimerChange:function(e){var t=$M({},f);if(!e){var n=t.game.players[a].zones[s];n.simpathyPoints=0,c.onTimerChange(n)}I.time=e,p($M($M({},t),{},{tickTime:e,forceAction:"play"}))},onTimeFiasco:function(){var e=$M({},f);p($M($M({},e),{},{tickTime:r.maxTime+r.courtesyTime,forceAction:"pause"}))},onPointBecauseLastMinute:function(){var e=$M({},f),t=e.game.players[a].zones[s];t.simpathyPoints++,c.onPointBecauseLastMinute(t),p(e)},maxTime:w})),n.createElement("div",{className:"gateProgressionContainer controlTextContainer info rounded rounded2"},l("description.avancepuerta"),": ",I.gateProgression,n.createElement("button",{id:"gatesPlusButton",onClick:v,className:"buttonControlTextPlus"},"+"),n.createElement("button",{id:"gatesMinusButton",onClick:v,className:"buttonControlTextMinus"},"-"),n.createElement(u,{step:1,min:0,max:b.gates[s],dots:!0,vertical:r.gameType===Xt.Oh,value:I.gateProgression,onChange:m,marks:c.generateSliderMarksFromGates(I.gateProgressionData,I.gateProgression),tipFormatter:function(e){return I.gateProgression<b.gates[s]?String(e).concat("-").concat(I.gateProgressionData[I.gateProgression].gatePoints):"-"}})),n.createElement("div",{className:"controlTextContainer rounded rounded2"},g[2],I.gateProgression<r.gates[s]?g[0]:n.createElement(n.Fragment,null),I.gateProgression<r.gates[s]?g[1]:n.createElement(n.Fragment,null)),g[3],n.createElement("button",{onClick:function(){var e=$M({},f);window.scrollTo(0,0),le.Z.event("play","reset",e.game.players[a].name),(e=JM(e.game,!0)).forceAction="stop",p((function(t){return $M($M({},t),e)}))},className:"resetButton"},l("description.reset")),n.createElement("button",{className:"importantNote",onClick:function(){!function(){var e=$M({},f),t=e.game,n=t.players;window.scrollTo(0,0),c.onEndPlayer(t,f.tickTime,a,s),e.forceAction="stop",p(e),le.Z.event("play","endPlayer",n[a].name),document.body.classList.remove(Xt.zo.getGameTypeBodyClassName(r.gameType)),i(e.game)}()}},l("description.finjugador")," (",C.name,")"),n.createElement("p",null))},ej=a(9789);function tj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nj=function(e){var t=e.game,r=e.player,i=e.zone,o=e.onGameEnd,a=e.onRepair,s=e.gameExtras,c=e.children,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState(t),2),u=l[0],d=l[1],h=[];return n.useEffect((function(){s.doPageView()}),[]),1!==u.gameType?h.push(n.createElement(XM,{key:1,game:u,onGameEnd:function(e){o(e)},onRepair:a,playerIndex:r,gameExtras:s,zoneIndex:i},c)):h.push(n.createElement(SO,{key:0,game:u,onGameEnd:function(e){o(e)},onRepair:a})),n.createElement(ej.G.Provider,{value:{game:u,setGame:d}},h)},rj=a(7169),ij={};ij.styleTagTransform=ke(),ij.setAttributes=Ee(),ij.insert=Ce().bind(null,"head"),ij.domAPI=be(),ij.insertStyleElement=xe(),ve()(rj.Z,ij),rj.Z&&rj.Z.locals&&rj.Z.locals;var oj=function(e){var t=e.onTimeFiasco,r=e.onRepairTimerChange,i=(0,pe.$)().t;return n.createElement("div",{className:"repairTimeContainer"},n.createElement(bO,{courtesyTime:0,label:i("points.reparacion"),onTimeFiasco:t,onTimerChange:r,maxTime:18e5}))},aj=a(8874),sj={};sj.styleTagTransform=ke(),sj.setAttributes=Ee(),sj.insert=Ce().bind(null,"head"),sj.domAPI=be(),sj.insertStyleElement=xe(),ve()(aj.Z,sj),aj.Z&&aj.Z.locals&&aj.Z.locals;var cj=function(e){var t=e.gameProgression,r=e.game,i=e.onRepairEnd,o=(0,pe.$)().t,a=[];return t&&Object.entries(t).forEach((function(e,t){Object.entries(e[1]).forEach((function(s,c){Object.entries(s[1]).forEach((function(c,l){if("repair"===c[1].status){var u=new Date(c[1].repairData.setTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});a.push(n.createElement("div",{key:l+t,className:"repairProgressionItem rounded rounded2"},n.createElement("div",{className:"repairProgressionItemHead"},n.createElement("img",{src:r.players[s[0]].avatar,alt:"player avatar"}),n.createElement("span",{className:"repairProgressionItemZone"},o("description.zona"),": ",l+1),n.createElement("span",{className:"gameProgressionItemHour"},o("description.enreparaciondesde")," ",u)),n.createElement(oj,null),n.createElement("button",{onClick:function(){!function(e,t,n,r){window.confirm(o("content.finalizarreparacion"))&&i&&i(e,t,n,r)}(r.players[[s[0]]].id,e[0],l,c[1])},className:"importantNote"},o("description.fin"))))}}))}))})),n.createElement("div",{className:"repairProgressionContainer"},a.length?a:o("description.nohayreparaciones"))},lj=a(6783),uj={};function dj(e){return dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dj(e)}function hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hj(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==dj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==dj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===dj(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}uj.styleTagTransform=ke(),uj.setAttributes=Ee(),uj.insert=Ce().bind(null,"head"),uj.domAPI=be(),uj.insertStyleElement=xe(),ve()(lj.Z,uj),lj.Z&&lj.Z.locals&&lj.Z.locals;var gj=function(e){var t=e.game,r=e.gameProgression,i=(0,pe.$)().t,o=window.crawlear.fb,a=n.useRef(),s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState({}),2),c=(s[0],s[1]),l=[];function u(e,t){if("pending"===t.status){var n={};n[e]=t,a.current=fj(fj({},a.current),n),c(a.current)}}function d(e,t){if("pending"===t.status){var n={};n[e]=t,a.current=fj(fj({},a.current),n),c(a.current)}}l.push(n.createElement("div",{key:"zC",className:""},i("content.zonascompletadas"))),n.useEffect((function(){o.getDirectorPresenceRequest(t.gid,u,d)}),[]);for(var h=function(e){var t=[];Object.entries(r).forEach((function(r,o){var a=0;Object.entries(r[1]).forEach((function(t,n){t[1]&&t[1][e]&&"done"===t[1][e].status&&t[1][e].data&&a++})),a===Object.entries(r[1]).length&&t.push(n.createElement("span",{key:"dG".concat(e),className:"directorGroup"},i("description.grupo")," ",o+1))})),l.push(n.createElement("div",{key:"dZ".concat(e),className:"directorZone horizontalScrolling"},i("description.zona")," ",e+1,": ",t))},f=0;f<t.zones;f++)h(f);return l.push(n.createElement("p",{key:"pdp",className:"bold"},i("description.peticionesdepresencia"),":")),a.current||l.push(n.createElement("p",{key:"npsp",className:""},i("description.nopeticionespresencia"))),a.current&&Object.keys(a.current).forEach((function(e,r){var s=a.current[e];l.push(n.createElement("div",{key:"dR".concat(r),className:"directorRequestContainer blink"},n.createElement("div",null,n.createElement("div",null,i("description.de")," ",s.fromName),n.createElement("div",null,i("description.zona"),": ",s.zone+1),n.createElement("div",null,i("description.jugador"),": ",s.playerName),n.createElement("div",null,i("description.estado"),": ",s.status)),n.createElement("div",null,n.createElement("button",{onClick:function(){!function(e){if(window.confirm(i("content.aceptarpresencia"))){var n=fj({},a.current);delete n[e],c(n),a.current=n,o.acceptDirectorPresenceRequest(t.gid,e)}}(e)}},i("description.aceptar")))))})),l};function mj(e){return mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mj(e)}function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vj(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==mj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==mj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===mj(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wj=function(e){var t=e.game,r=e.playerName,i=e.fromName,o=e.zone,a=(0,pe.$)().t,s=window.crawlear.fb,c=[],l=t.gid,u=[],d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState({}),2),h=d[0],f=d[1];function p(e,t){if("pending"===e.status){var n=yj({},h);n[t]=e,f(n)}else if("accepted"===e.status){var r=yj({},h);delete r[t],f(r)}}return l&&r&&i&&o>=0&&!Xt.zo.isCurrentUserIsOwner(t.owner)&&0===Object.entries(h).length&&c.push(n.createElement("button",{onClick:function(){window.confirm(a("content.quieresenviarpeticiondepresencia"))&&s.setDirectorPresenceRequest(l,o,r,i,p)}},a("description.reclamarpresencia"))),Object.keys(h).forEach((function(e,t){u.push(n.createElement("div",null,h[e].status))})),n.createElement("div",{className:"presenceButtonContainer"},c,u)},Cj=a(2432),Ij={};Ij.styleTagTransform=ke(),Ij.setAttributes=Ee(),Ij.insert=Ce().bind(null,"head"),Ij.domAPI=be(),Ij.insertStyleElement=xe(),ve()(Cj.Z,Ij),Cj.Z&&Cj.Z.locals&&Cj.Z.locals;var Ej=function(e){var t=e.game,r=e.onTrainingEnd,i=(0,pe.$)().t,o=(Xt.zo.getMaxGroupNumber(t),[]),a=[],s=0,c=new Array(4).fill(new Array(8).fill(!1));a.push(n.createElement("td",null,"hora"));for(var l=0;l<8;l++)a.push(n.createElement("td",null,"zona ",l));o.push(n.createElement("tr",null,a)),a=[];for(var u=0;u<4;u++){a.push(n.createElement("td",null,"10:00"));for(var d=0;d<Math.min(8,4);d++)c[u][d]||(a.push(n.createElement("td",null,"grupo ",s)),s=(s+1)%4,c[u][d]=!0);o.push(n.createElement("tr",null,a)),a=[]}return n.createElement("div",{className:"TainingContainer"},i("description.grupos"),": ",4,i("description.zonas"),": ",t.zones,n.createElement("table",null,o),n.createElement("button",{onClick:function(){r&&r()},className:""},i("description.atras")))},_j=a(2202),xj={};function Aj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}xj.styleTagTransform=ke(),xj.setAttributes=Ee(),xj.insert=Ce().bind(null,"head"),xj.domAPI=be(),xj.insertStyleElement=xe(),ve()(_j.Z,xj),_j.Z&&_j.Z.locals&&_j.Z.locals;var kj=function(e){var t=e.onGameTypeChange,r=e.selectedGameType,i=void 0===r?0:r,o=(e.selectedPointsType,(0,pe.$)().t),a=[o("gametype.aecar"),o("gametype.rey"),o("gametype.isrcc"),o("gametype.levante124"),o("gametype.copaespana"),o("gametype.minicrawlerpassion"),o("gametype.generic")],s=[n.createElement("div",null,o("gametype.modojuegoarcar")),n.createElement("div",null,o("gametype.modojuegorey")),n.createElement("div",null,o("gametype.modojuegoisrcc")),n.createElement("div",null,o("gametype.modojuegolevante124")),n.createElement("div",null,o("gametype.modojuegocopaespana")),n.createElement("div",null,o("gametype.modojuegominicrawlerpassion")),n.createElement("div",null,o("gametype.modojuegogeneric"))],c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Aj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Aj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState({gameType:i}),2),l=c[0],u=c[1],d=[];return a.forEach((function(e,t){d.push(n.createElement("option",{key:t,value:t},a[t]))})),n.createElement(n.Fragment,null,n.createElement("div",{className:"gameType rounded1 rounded"},n.createElement("label",{htmlFor:"gameTypeSelect",className:"headerText bold"},o("gametype.modojuego"),n.createElement("select",{id:"gameTypeSelect",defaultValue:i,onChange:function(e){var n=e.target.selectedIndex;t&&t(n),u({gameType:n})}},d)),n.createElement("div",{className:"gameSelectText smallText"},s[l.gameType])))},Sj=a(4374),Tj={};Tj.styleTagTransform=ke(),Tj.setAttributes=Ee(),Tj.insert=Ce().bind(null,"head"),Tj.domAPI=be(),Tj.insertStyleElement=xe(),ve()(Sj.Z,Tj),Sj.Z&&Sj.Z.locals&&Sj.Z.locals;var Pj=function(e){var t=e.player,r=e.i,i=e.onRemovePlayer,o=e.onClickPlayer,a=e.onGroupChange,s=e.maxGroups,c=e.editMode,l=e.isForJudge,u=e.onGameDirectorChange,d=(0,pe.$)().t,h=[];if(c){for(var f=[],p=0;p<s;p++)f.push(n.createElement("option",{value:p},d("description.grupo")," ",p+1));h.push(n.createElement("button",{className:"buttonControlTextMinus",id:r,onClick:function(e){e.stopPropagation(),i&&i(e)}},"-")),h.push(n.createElement("div",null,n.createElement("select",{value:t.group,onChange:function(e){var n=e.target.selectedIndex;a&&a(t.id,n)}},f))),l&&h.push(n.createElement(n.Fragment,null,n.createElement("input",{type:"checkbox",onChange:function(e){u&&u(t.id,e.target.checked)}}),n.createElement("span",{className:"PlayerItemGameDirector"},d("description.directordepartida"))))}return n.createElement("li",{key:r,onClick:function(){o&&o(t.id)},className:"closed importantNote rounded playerListItem",value:t.name},n.createElement("div",{className:"playerBox"},n.createElement("img",{referrerPolicy:"no-referrer",src:t.avatar,alt:"avatar"}),n.createElement("div",{className:"textOverflow"},t.name),h))},Nj=a(6401),Oj={};Oj.styleTagTransform=ke(),Oj.setAttributes=Ee(),Oj.insert=Ce().bind(null,"head"),Oj.domAPI=be(),Oj.insertStyleElement=xe(),ve()(Nj.Z,Oj),Nj.Z&&Nj.Z.locals&&Nj.Z.locals;var Rj=a.p+"78b7bb4a554381a9ba80.png";function Dj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mj=function(e){var t=e.onUserSeachPlayerAdd,r=e.onUserClick,i=e.onPlusAddUserClick,o=e.mainText,a=e.secondaryText,s=e.iconSend,c=e.children,l=window.crawlear.fb,u=((0,pe.$)().t,Dj(n.useState(""),2)),d=u[0],h=u[1],f=Dj(n.useState([]),2),p=f[0],g=f[1],m=n.useRef(),v=n.useRef();function y(e){var n=e.target,r=n.getAttribute("data-uid"),i=n.getAttribute("data-displayname"),o=n.getAttribute("data-photourl");g([]),h(""),t&&t({uid:r,displayName:i,photoURL:o})}function b(e){var t=e.target.nextElementSibling.getAttribute("data-uid");r&&r(t)}var w,C=[],I=0;return p.length>0&&(C.push(n.createElement("div",{key:I,className:"userSearchResultsText smallText"},a)),I++),p.forEach((function(e){var r=s;t&&e.uid===window.crawlear.user.uid&&(r=Rj),C.push(n.createElement("div",{className:"bold userSearchItem",key:I},n.createElement("span",{onClick:b,className:"userSearchResult textOverflow"},e.displayName),n.createElement("img",{src:r,alt:"send icon","data-uid":e.uid,"data-displayname":e.displayName,"data-photourl":e.photoURL,onClick:y}))),I++})),i&&(w=n.createElement("button",{className:"buttonControlTextPlus",onClick:function(){var e=v.current.value;g([]),h(""),i({uid:"",displayName:e})}},"+")),n.createElement("div",{className:"userSearchContainer rounded rounded3"},!EF||i?n.createElement(n.Fragment,null,n.createElement("div",{className:"userSearchText smallText"},o),n.createElement("input",{id:Date.now(),ref:v,className:"userSearchName",onChange:function(e){var t=e.target.value;h(t),!EF&&l.isUserLogged()&&(t.length>0?l.userSearch(t,(function(e){g(e)}),(function(){})):g([]))},value:d})):n.createElement(n.Fragment,null),w,c,n.createElement("div",{ref:m,className:"resultsContainer"},C))},jj=a.p+"9f5743cc8ab0daaa6f24.png";function Fj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vj=function(e){var t=e.onUserSeachPlayerAdd,r=e.gameName,i=e.isForJudge,o=window.crawlear.fb,a=(0,pe.$)().t,s=n.useRef(0),c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState(0),2),l=c[0],u=c[1],d=[];return s.current>0&&d.push(n.createElement("div",{key:0},s.current," ",a("description.peticionespendientes"))),n.createElement(Mj,{onUserSeachPlayerAdd:function(e){var n=e.uid,i=e.displayName,c=e.photoURL;if(n&&(n===window.crawlear.user.uid||window.confirm(a("content.peticionjuegoconfirmacion"))))if(n===window.crawlear.user.uid){var d=window.crawlear.user;t({uid:d.uid,displayName:d.displayName,photoURL:d.photoURL,group:0})}else o.setUserGameRequest(window.crawlear.user.uid,window.crawlear.user.displayName,n,r,(function(e,r){"pending"===r?(s.current+=1,u(l+1)):"accepted"===r?(t({uid:n,displayName:i,photoURL:c,group:0}),s.current-=1,u(l-1)):(s.current-=1,u(l-1))}))},onPlusAddUserClick:i?void 0:t,mainText:o.isUserLogged()?a("content.usuariodesistema"):a("content.usuarionosistema"),secondaryText:"".concat(a("content.enviorequest"),". ").concat(a("content.enviorequest2")),iconSend:jj},d)},Uj=a(2672),zj={};function Bj(e,t){if(e){if("string"==typeof e)return Gj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gj(e,t):void 0}}function Gj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}zj.styleTagTransform=ke(),zj.setAttributes=Ee(),zj.insert=Ce().bind(null,"head"),zj.domAPI=be(),zj.insertStyleElement=xe(),ve()(Uj.Z,zj),Uj.Z&&Uj.Z.locals&&Uj.Z.locals;var qj=function(e){var t=e.inPlayers,r=e.onPlayerNumerChange,i=e.onGameDirectorChange,o=e.gameName,a=e.isForJudge,s=e.maxGroups,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||Bj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState(t||[]),2),l=c[0],u=c[1],d=(0,pe.$)().t;function h(e){le.Z.event("menu","removePlayer",l[e.target.id].name),delete l[e.target.id];var t=l.filter((function(e){return e}));u(t),r&&r(t)}function f(e,t){var n=function(e){return function(e){if(Array.isArray(e))return Gj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(l);n[e].group=t,u(n)}function p(e,t){i&&i(e,t)}n.useEffect((function(){r&&r(l)}),[l]);var g=l.length?d("description.jugadores"):d("description.nojugadores");return a&&(g=l.length?d("description.jueces"):d("description.nojueces")),n.createElement(n.Fragment,null,n.createElement("div",{className:"players rounded rounded1"},n.createElement("div",{className:"headerText bold"},d(a?"description.jueces":"description.jugadores")),n.createElement(Vj,{isForJudge:a,onUserSeachPlayerAdd:function(e){var t=e.displayName;!t||0===t.trim().length||l.find((function(t){return t.uid===e.uid&&e.uid.length>0}))||a&&!e.uid||(l.push({id:l.length,uid:e.uid||"",name:t,avatar:e.photoURL||"".concat("https://eu.ui-avatars.com/api/?background=345B63&color=FFFFFF&name=").concat(t),group:0,time:0,points:0,battery:!1}),le.Z.event("menu","addPlayer",t),r&&r(l))},gameName:o}),n.createElement("div",{className:"headerText"},d(a?"description.juecesenpartida":"description.usuariosenpartida")),n.createElement("ul",{className:"playersList"},0===l.length?g:l.map((function(e,t){return n.createElement(Pj,{key:t,player:e,i:t,onGameDirectorChange:p,maxGroups:s,onGroupChange:f,editMode:!0,isForJudge:a,onRemovePlayer:h})})))))},Zj=a(8146),Wj=a(9747),Hj={};Hj.styleTagTransform=ke(),Hj.setAttributes=Ee(),Hj.insert=Ce().bind(null,"head"),Hj.domAPI=be(),Hj.insertStyleElement=xe(),ve()(Wj.Z,Hj),Wj.Z&&Wj.Z.locals&&Wj.Z.locals;var Kj=function(e){var t=e.onMaxTimeChange,r=[e.minutes,e.seconds];function i(e,n){var i=[].concat(r);i[n]=e,e=function(e){var t=Number(e[0])||0;return 1e3*(Number(e[1])||0)+60*t*1e3}(i),t&&t(e)}return n.createElement("div",{className:"pickerContainer rounded rounded2"},n.createElement(Zj.Z,{value:r[0],initialValue:0,minValue:0,maxValue:60,callback:function(e){i(e,0)}}),n.createElement("div",{className:"maxTimePickerContainer--separator"},"m"),n.createElement(Zj.Z,{value:r[1],initialValue:0,minValue:0,maxValue:60,callback:function(e){i(e,1)}}),n.createElement("div",{className:"maxTimePickerContainer--separator"},"s"))},$j=function(e){var t=e.onMaxTimeChange,r=e.onMaxPointsChange,i=e.showTimePicker,o=e.time,a=e.points,s=(0,pe.$)().t,c=Jt.millisToTime(o),l=n.createElement(n.Fragment,null);return i&&(l=n.createElement(n.Fragment,null,n.createElement("p",null,s("content.maxTimeText1")),n.createElement(Kj,{onMaxTimeChange:t,onMaxPointsChange:r,minutes:c.m,seconds:c.s,millis:c.mm}))),n.createElement("div",null,l,n.createElement("p",null,s("content.maxTimeText2")),n.createElement("div",{className:"pickerContainer rounded rounded2"},n.createElement(Zj.Z,{value:a,minValue:0,initialValue:0,callback:function(e){r(e)}})))},Qj=function(e){var t=e.onZonesChange,r=e.value,i=void 0===r?1:r,o=(0,pe.$)().t;return n.createElement("div",null,n.createElement("p",null,o("content.seleccionZonas"),":"),n.createElement("div",{className:"pickerContainer rounded rounded2"},n.createElement(Zj.Z,{value:i,minValue:1,maxValue:40,callback:function(e){t(e)},initialValue:1})))},Yj=function(e){var t=e.onGroupsChange,r=e.value,i=e.minValue,o=e.maxValue,a=(0,pe.$)().t;return EF?n.createElement(n.Fragment,null):n.createElement("div",null,n.createElement("p",null,a("content.selecciongrupos"),":"),n.createElement("div",{className:"pickerContainer horizontalScrollContainer rounded rounded2"},n.createElement(Zj.Z,{minValue:i||1,maxValue:o||10,value:r,callback:function(e){t(e)},initialValue:1})))},Jj=function(e){for(var t=e.onGatesChange,r=e.zones,i=e.value,o=e.minValue,a=e.maxValue,s=(0,pe.$)().t,c=[],l=function(e){c.push(n.createElement(n.Fragment,null,n.createElement("div",{key:e,className:"zoneName"},s("description.zona")," ",e+1,":"),n.createElement("br",{key:"br".concat(e)}),n.createElement(Zj.Z,{key:"picker".concat(e),minValue:o||1,maxValue:a||40,value:i,callback:function(n){t(n,e)},initialValue:1})))},u=0;u<r;u++)l(u);return n.createElement("div",null,n.createElement("p",null,s("content.seleccionPuertas"),":"),n.createElement("div",{className:"gatesPickerContainer pickerContainer horizontalScrollContainer rounded rounded2"},c))},Xj=a(9195),eF={};eF.styleTagTransform=ke(),eF.setAttributes=Ee(),eF.insert=Ce().bind(null,"head"),eF.domAPI=be(),eF.insertStyleElement=xe(),ve()(Xj.Z,eF),Xj.Z&&Xj.Z.locals&&Xj.Z.locals;var tF=function(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"spinner"},n.createElement("div",null),n.createElement("div",null),n.createElement("div",null),n.createElement("div",null)))},nF=n.createContext(),rF=a(5062),iF={};function oF(e){return oF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oF(e)}function aF(e){return function(e){if(Array.isArray(e))return dF(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||uF(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sF(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==oF(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==oF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===oF(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||uF(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uF(e,t){if(e){if("string"==typeof e)return dF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dF(e,t):void 0}}function dF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}iF.styleTagTransform=ke(),iF.setAttributes=Ee(),iF.insert=Ce().bind(null,"head"),iF.domAPI=be(),iF.insertStyleElement=xe(),ve()(rF.Z,iF),rF.Z&&rF.Z.locals&&rF.Z.locals;var hF=function(e){var t,r=e.preconfiguredGame,i=e.onGameCreated,o=lF(n.useState((function(){var e=r||new Xt.lA("",(new Date).toLocaleDateString(),{latitude:0,longitude:0},!1,Xt.HF,[],[],6e5,40,new Array(1).fill(10),1,0,[],[],[]);return e.date=(new Date).toLocaleDateString(),e})),2),a=o[0],s=o[1],c=$(),l=lF(n.useState(""),2),u=l[0],d=l[1],h=lF(n.useState(0),2),f=h[0],p=h[1],g=lF(n.useState(!1),2),m=g[0],v=g[1],y=lF(n.useState(1),2),b=y[0],w=y[1],C=(0,pe.$)().t,I=[],E=n.useContext(nF).isUserLoged,_=window.crawlear.fb;function x(e){var t=cF({},a),n="addJudge";a.judges.length>e.length&&(n="removeJudge"),le.Z.event("menu",n,e.length),t.judges=aF(e),EF&&!t.owner.length&&t.owner.push(Xt.UU),s(t),d("")}function A(e){var t=cF({},a),n="addPlayer";a.players.length>e.length&&(n="removePlayer"),le.Z.event("menu",n,e.length),t.players=aF(e),s(t),d("")}function k(e){le.Z.event("menu","maxPointsSet",e);var t=cF({},a);t.maxPoints=e,s(t)}function S(e){var t=cF({},a);t.maxTime=e,le.Z.event("menu","maxTimeSet",e),s(t)}function T(e,t){var n=cF({},a);n.gates[t]=e,le.Z.event("menu","gateSet",e),s(n)}return n.useEffect((function(){window.scrollTo(0,0),EF&&x([Xt.vf])}),[]),navigator.geolocation?0===f?t=n.createElement("a",{className:"bold",href:"https://crawlear.com",onClick:function(e){e.preventDefault(),navigator.geolocation?(p(2),navigator.geolocation.getCurrentPosition((function(e){var t=cF({},a);p(1),t.location={latitude:e.coords.latitude,longitude:e.coords.longitude},s(t)}),(function(){p(0),d(C("error.nogeolocation"))}))):p(0)}},C("description.obtener")):2===f?t=n.createElement(tF,null):1===f&&(t=n.createElement(n.Fragment,null,n.createElement("span",null,"(","".concat(a.location.latitude,",").concat(a.location.longitude),")"),n.createElement("a",{href:Jt.getMapsURL(a.location.latitude,a.location.longitude),rel:"noreferrer",target:"_blank"},C("description.vergooglemaps")))):t=n.createElement("div",{className:""},C("content.nogeolocation")),I.push(n.createElement($j,{key:0,mode:a.pointsType,onMaxPointsChange:k,onMaxTimeChange:S,time:a.maxTime,points:a.maxPoints,showTimePicker:!0})),a.gameType!==Xt.te&&(I.push(n.createElement(Qj,{key:1,game:a,value:a.zones,onZonesChange:function(e){var t=cF({},a);a.zones<e?t.gates.push(10):t.gates.pop(),t.zones=e,le.Z.event("menu","zonesSet",e),s(t)},onGatesChange:T,onMaxPointsChange:k,onMaxTimeChange:S})),I.push(n.createElement(Jj,{key:2,zones:a.zones,value:10,onGatesChange:T})),I.push(n.createElement(Yj,{key:3,onGroupsChange:function(e){w(e)},value:1,minValue:1,maxValue:10})),EF||I.push(n.createElement(qj,{key:4,isForJudge:!0,maxGroups:b,inPlayers:a.judges,gameName:a.name,onGameDirectorChange:function(e,t){var n=a.judges[e].uid,r=cF({},a);if(t&&!r.owner.find((function(e){return e===n})))r.owner.push(n),s(r);else if(!t&&r.owner.find((function(e){return e===n}))){var i=r.owner.indexOf(n);r.owner.splice(i,1),s(r)}},onPlayerNumerChange:x}))),E||EF?n.createElement(n.Fragment,null,n.createElement(HN,{message:u}),n.createElement("div",{className:"newGameContainer rounded rounded1"},n.createElement("div",{className:"newGame"},n.createElement("div",{className:"headerText bold"},C("description.nuevaPartida")),n.createElement("div",{className:"newGameRow"},n.createElement("span",{className:""},C("description.nombre")),": ",n.createElement("input",{value:a.name,className:"newGameNameInput",type:"text",onChange:function(e){var t=cF({},a),n=e.target.value;n&&(t.name=n,s(t),d(""))}})),n.createElement("div",{className:"newGameRow"},n.createElement("span",{className:""},C("description.fecha")),": ",a.date),n.createElement("div",{className:"newGameRow"},n.createElement("span",{className:""},C("description.esPublica")),": ",n.createElement("input",{type:"checkbox",checked:a.isPublic,onChange:function(e){var t=cF({},a);t.isPublic=e.target.value,s(t)}})),n.createElement("div",{className:"newGameRow"},n.createElement("span",{className:""},C("description.localizacion")),":",t))),n.createElement(kj,{selectedGameType:a.gameType,selectedPointsType:a.pointsType,onGameTypeChange:function(e){!function(e){var t=cF({},a),n=0,r=0;switch(le.Z.event("menu","playModeChange",e),t.gameType=e,t.gameType){case Xt.oP:r=FN.AecarGameScores.maxPoints,n=FN.AecarGameScores.maxTime;break;case Xt.te:r=qN.KingGameScores.maxPoints,n=qN.KingGameScores.maxTime;break;case Xt.UZ:r=VN.IsrccGameScores.maxPoints,n=VN.IsrccGameScores.maxTime;break;case Xt.HF:r=UN.Levante124GameScores.maxPoints,n=UN.Levante124GameScores.maxTime;break;case Xt.uG:r=zN.RegionalZonaRcGameScores.maxPoints,n=zN.RegionalZonaRcGameScores.maxTime;break;case Xt.Jo:r=BN.MiniCrawlerPassionGameScores.maxPoints,n=BN.MiniCrawlerPassionGameScores.maxTime;break;case Xt.Oh:r=GN.GenericGameScores.maxPoints,n=GN.GenericGameScores.maxTime;break;default:r=0,n=0}t.maxPoints=r,t.maxTime=n,s(t)}(e)}}),I,n.createElement(qj,{gameName:a.name,isForJudge:!1,inPlayers:a.players,maxGroups:b,onPlayerNumerChange:function(e){A&&A(e)}}),n.createElement("input",{type:"checkbox",onChange:function(e){var t=e.target.checked;v(t)}}),C("description.ordenRamdomJugadores"),n.createElement("p",null,n.createElement("button",{className:"importantNote",onClick:function(){!function(){var e=function(){for(var e=new Array(b).fill(0),t=0;t<a.players.length;t++)e[a.players[t].group]++;return void 0===e.find((function(e){return 0===e}))}();if(window.scrollTo(0,0),a.name&&a.name.length)if(a.gameType!==Xt.te&&e&&a.name&&a.players.length&&a.judges.length&&a.owner.length||a.gameType===Xt.te&&a.name&&a.players.length){var t=cF({},a);a.gameType===Xt.te&&(t.judges.push(cF({},window.crawlear.user)),t.zones=1,t.gates=new Array(1).fill(1)),t.uids=Jt.getUidsFromUsers(t.players),t.jids=Jt.getUidsFromUsers(t.judges),m&&function(e){if(e.players.length){var t=aF(e.players);t=t.sort((function(e,t){return Math.random()-.5})),e.players=t,Xt.zo.redoPlayersIds(e)}}(t),Xt.zo.init(t,Xt.zo.getGameTypeControlTextValuesInit(t.gameType),Xt.zo.getGameTypeFiascoControlTextValuesInit(t.gameType),!0),EF&&i?i(t):_.setGame(t,(function(e){t.gid=e.gid,_.createGameProgression(t),s(t),window.location.href.indexOf("completegame")<0?c("/completegame"):window.location.reload()}),(function(){}))}else e?a.judges.length||1===a.gameType?a.players.length?a.owner.length?a.judges.length||a.gameType===Xt.te?a.players.length||d(C("error.nojugadores")):d(C("error.nojueces")):d(C("error.nodirectordepartida")):d(C("error.nojugadores")):d(C("error.nojueces")):d(C("error.rellenargrupos"));else d(C("error.nonombre"))}()}},C("description.crear")),n.createElement("button",{onClick:function(){window.location.reload()}},C("description.atras")))):n.createElement(n.Fragment,null,"Not logged! go to ",n.createElement("a",{href:"https://crawlear.com"},"crawlear.com"))},fF=a.p+"b8cd4b8a8d6dc6abfb82.png",pF=a(8052),gF={};gF.styleTagTransform=ke(),gF.setAttributes=Ee(),gF.insert=Ce().bind(null,"head"),gF.domAPI=be(),gF.insertStyleElement=xe(),ve()(pF.Z,gF),pF.Z&&pF.Z.locals&&pF.Z.locals;var mF=function(){var e=(0,pe.$)().t;return n.createElement("div",{className:"aboutUsContent"},n.createElement("figure",{className:"logoImg"},n.createElement("img",{alt:"crawlear logo",src:fF})),n.createElement("b",null,"crawlear.com")," ",e("content.welcomeMessage"))},vF=a(5128),yF={};function bF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wF(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}yF.styleTagTransform=ke(),yF.setAttributes=Ee(),yF.insert=Ce().bind(null,"head"),yF.domAPI=be(),yF.insertStyleElement=xe(),ve()(vF.Z,yF),vF.Z&&vF.Z.locals&&vF.Z.locals;var CF=window.document.body;function IF(){var e=(0,pe.$)().t,t=bF(n.useState(3),2),r=t[0],i=t[1],o=bF(n.useState(null),2),a=o[0],s=o[1];return n.useEffect((function(){CF.classList.add("offline"),window.crawlear=window.crawlear||{},window.crawlear.user={uid:Xt.UU}}),[]),0===r?n.createElement(hF,{onGameCreated:function(e){s(e),i(1)}}):1===r?n.createElement(HF,{inGame:a,onBackButtonClick:function(){i(3)}}):n.createElement(n.Fragment,null,n.createElement(mF,null),n.createElement("div",{className:"errorBoxContainer offlineContainer"},e("content.offlineMainText")),n.createElement("button",{onClick:function(){i(0)},className:"importantNote"},e("description.crearoffline")))}var EF=!navigator.onLine,_F=a(7332),xF={};xF.styleTagTransform=ke(),xF.setAttributes=Ee(),xF.insert=Ce().bind(null,"head"),xF.domAPI=be(),xF.insertStyleElement=xe(),ve()(_F.Z,xF),_F.Z&&_F.Z.locals&&_F.Z.locals;var AF=a.p+"99d032ea73dcde64f5dc.png",kF=a.p+"0bc852df265dd5f2d503.png",SF=a.p+"fd12d494b254065b7749.png",TF=a(7050),PF=function(e){var t=e.game,r=e.isDraw,i=(0,pe.$)().t,o=[],a=Jt.tokenToTexts(FN.AecarGameScores.texts),s=0,c=0;switch(t.gameType){case Xt.UZ:a=Jt.tokenToTexts(VN.IsrccGameScores.texts);break;case Xt.HF:a=Jt.tokenToTexts(UN.Levante124GameScores.texts);break;case Xt.uG:a=Jt.tokenToTexts(zN.RegionalZonaRcGameScores.texts);break;case Xt.Jo:a=Jt.tokenToTexts(BN.MiniCrawlerPassionGameScores.texts);break;case Xt.Oh:a=Jt.tokenToTexts(GN.GenericGameScores.texts);break;default:a=Jt.tokenToTexts(FN.AecarGameScores.texts)}function l(e){var t=e.target;(t="IMG"===t.tagName?t.parentElement:t).parentElement.nextElementSibling.classList.toggle("closed")}return o.push(n.createElement("tr",{key:"game".concat((new Date).getMilliseconds())},n.createElement("td",null),n.createElement("td",{className:""}),n.createElement("td",null,i("description.puntos")),n.createElement("td",null,i("description.puertas")),n.createElement("td",null,i("description.bonificacion")),n.createElement("td",null,i("description.puntos")," ",i("description.portiempo")),n.createElement("td",null))),t.players.forEach((function(e){o.push(n.createElement("tr",{key:"header".concat(c+s)},r?n.createElement("td",null):n.createElement("td",{className:"bold gameListPosition"},0===s?n.createElement("img",{src:kF,alt:"winner"}):s+1),1===t.gameType?n.createElement("td",{className:"bold gameListPlayerName gameListPoints bold textOverflow"},e.name):n.createElement("td",{className:"bold gameListPlayerName gameListPoints bold withTime textOverflow"},e.name),n.createElement("td",{className:"bold gameListPoints"},e.totalPoints),n.createElement("td",{className:"gameListPoints"},"."),n.createElement("td",{className:"gameListPoints"},"."),n.createElement("td",{className:"gameListPoints"},"."),1!==t.gameType?n.createElement("td",{className:"bold gameListPoints gameListTime"},e.totalTime?Jt.printTime(Jt.millisToTime(e.totalTime)):n.createElement(n.Fragment,null,"00:00:000")):n.createElement(n.Fragment,null))),e.zones.forEach((function(r){var u;u=r.fiascoControlTextValues?r.fiascoControlTextValues[4]?n.createElement("img",{src:SF,alt:"battery"}):t.maxTime&&r.time===t.maxTime+t.courtesyTime||t.maxPoints&&r.totalPoints===t.maxPoints||r.fiascoControlTextValues.filter((function(e){return e>0})).length>0?n.createElement("img",{src:AF,alt:"fiasco"}):n.createElement(n.Fragment,null):r.battery?n.createElement("img",{src:SF,alt:"fiasco"}):t.maxTime&&r.time===t.maxTime+t.courtesyTime||t.maxPoints&&r.totalPoints===t.maxPoints?n.createElement("img",{src:AF,alt:"battery"}):n.createElement(n.Fragment,null),o.push(n.createElement("tr",{key:"row0".concat(c+s+1)},n.createElement("td",null,u),n.createElement("td",{onClick:l},"".concat(i("description.zona")," ").concat(c%e.zones.length+1),n.createElement("img",{className:"iconArrowDown",src:TF,alt:"click open"})),n.createElement("td",{className:"gameListPoints"},r.totalPoints),n.createElement("td",{className:"gameListPoints"},r.gateProgression),n.createElement("td",{className:"gameListPoints"},r.gatesWithBonification?-2*r.gatesWithBonification:"0"),n.createElement("td",{className:"gameListPoints"},r.simpathyPoints?r.simpathyPoints:"0"),1!==t.gameType?n.createElement("td",{className:"gameListTime"},Jt.printTime(Jt.millisToTime(r.time))):n.createElement(n.Fragment,null))),o.push(n.createElement("tr",{key:"row1".concat(c+s+2),className:"closed"},n.createElement("td",{colSpan:7},0!==r.handicap?n.createElement("div",{className:"controlTextValues"},i("description.bonificacionaccesorios"),": ",r.handicap):n.createElement(n.Fragment,null),n.createElement(QN,{controlTextValues:Xt.zo.sumControlTextValues(r.gateProgressionData),texts:a}),r.fiascoControlTextValues&&r.fiascoControlTextValues.filter((function(e){return e>0})).length?n.createElement(n.Fragment,null,n.createElement("div",{className:"left bold"},i("points.fiascos"),":"),n.createElement(QN,{controlTextValues:r.fiascoControlTextValues,texts:Jt.tokenToTexts(VN.IsrccGameScores.fiascoTexts)})):n.createElement(n.Fragment,null)))),c++})),s++})),n.createElement("div",{className:"gameParticipants"},n.createElement("table",null,n.createElement("tbody",null,o)))},NF=function(e){var t=e.location;return n.createElement("div",{className:"mapouter"},n.createElement("div",{className:"gmap_canvas"},n.createElement("iframe",{id:"gmap_canvas",src:"https://maps.google.com/maps?q=".concat(t.latitude,",").concat(t.longitude,"&t=&z=13&ie=UTF8&iwloc=&output=embed"),frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0"}),n.createElement("style",null,".mapouter{position:relative;text-align:right;}"),n.createElement("style",null,".gmap_canvas {overflow:hidden;background:none!important;}")))},OF=a(5523),RF={};RF.styleTagTransform=ke(),RF.setAttributes=Ee(),RF.insert=Ce().bind(null,"head"),RF.domAPI=be(),RF.insertStyleElement=xe(),ve()(OF.Z,RF),OF.Z&&OF.Z.locals&&OF.Z.locals;var DF=function(e){var t=e.game,r=(0,pe.$)().t;return n.createElement("div",{className:"gameHeaderInfo rounded"},n.createElement("div",{className:"gameGameType"},r("gametype.modojuego"),": ",n.createElement("span",{className:"bold"},function(e){switch(e){case Xt.oP:return r("gametype.aecar");case Xt.te:return r("gametype.rey");case Xt.UZ:return r("gametype.isrcc");case Xt.HF:return r("gametype.levante124");case Xt.uG:return r("gametype.copaespana");case Xt.Jo:return r("gametype.minicrawlerpassion");case Xt.Oh:return r("gametype.generic");default:return r("gametype.isrcc")}}(t.gameType))),n.createElement("div",{className:"gamePointsType"},r("description.zonas"),": ",n.createElement("span",{className:"bold"},t.zones)),n.createElement("div",{className:"gameIsPublic"},n.createElement("span",{className:"bold"},t.isPublic?r("description.esPublica"):"")),t.location&&t.location.longitude&&t.location.longitude?n.createElement(n.Fragment,null,n.createElement("div",{className:"gameName"},r("description.localizacion")," :"),n.createElement(NF,{location:t.location})):n.createElement(n.Fragment,null),n.createElement("div",{className:"gamePointsType"},t.maxPoints>0?"".concat(r("description.puntosmaximo"),": ").concat(t.maxPoints):""),n.createElement("div",{className:"gamePointsType"},t.maxTime>0?"".concat(r("description.tiempomaximo"),": ").concat(Jt.printTime(Jt.millisToTime(t.maxTime))):""))},LF=a(8992),MF={};MF.styleTagTransform=ke(),MF.setAttributes=Ee(),MF.insert=Ce().bind(null,"head"),MF.domAPI=be(),MF.insertStyleElement=xe(),ve()(LF.Z,MF),LF.Z&&LF.Z.locals&&LF.Z.locals;var jF=function(e){var t=e.game,r=(0,pe.$)().t,i=!1,o=n.createElement(n.Fragment,null);return t.players.length>1&&t.players[0].totalPoints===t.players[1].totalPoints&&t.players[0].totalTime===t.players[1].totalTime&&(!t.players[0].totalGateProgression||t.players[0].totalGateProgression===t.players[1].totalGateProgression)?(i=!0,o=n.createElement("div",{className:""},r("description.empate"))):o=n.createElement(n.Fragment,null,r("description.ganador"),": ",n.createElement("b",null,t.players[0].name)),n.createElement("div",{className:"gameContainer"},n.createElement("div",{className:"winnerBox importantNote rounded"},o),n.createElement("div",{className:"gameList rounded rounded2"},n.createElement(DF,{game:t}),n.createElement(PF,{game:t,isDraw:i})))};function FF(e){return FF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FF(e)}function VF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VF(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==FF(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==FF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===FF(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return BF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BF(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var GF="waiting",qF="playing",ZF="repair",WF="done",HF=function(e){var t,r,i=e.inGame,o=e.onBackButtonClick,a=window.crawlear.fb,s=zF(n.useState(0),2),c=s[0],l=s[1],u=zF(n.useState(i),2),d=u[0],h=u[1],f=zF(n.useState(""),2),p=f[0],g=f[1],m=zF(n.useState(-1),2),v=m[0],y=m[1],b=zF(n.useState(-1),2),w=b[0],C=b[1],I=zF(n.useState((function(){return Jt.getGroupFromJid(d,window.crawlear.user.uid)})),2),E=I[0],_=(I[1],zF(n.useState({}),2)),x=_[0],A=_[1],k=n.useRef({}),S=(0,pe.$)().t,T=n.createElement(n.Fragment,null),P=n.createElement(n.Fragment,null),N=n.createElement(n.Fragment,null);function O(e){var t=UF({},d);Object.entries(e).forEach((function(e,n){Object.entries(e[1]).forEach((function(n,r){n[1].data&&(t.players[e[0]].zones[n[0]]=n[1].data)}))})),h(t)}function R(){var e=!0;return!!D()||(Object.entries(x).forEach((function(t){Number(t[0])===E&&Object.entries(t[1]).forEach((function(t){Object.entries(t[1]).forEach((function(t){t[1].status!==GF&&t[1].status!==ZF&&t[1].status!==qF||(e=!1)}))}))})),e)}function D(){return 1===d.gameType}function L(e){if(D()){t.onGameEnd(d);var n=Jt.getOrderedGameResult(d);n.gameStatus=2,a.updateGame(n),a.removeGameProgression(n.gid),a.removeDirectorPresenceRequest(n.gid),l(2),h(n)}else{var r=v.id,i=v.group,o=UF({},x),s=UF({},d);o[i][r][w].status=WF,o[i][r][w].data=e.players[r].zones[w],!o[i][r][w].data.judgedBy&&(o[i][r][w].data.judgedBy=[]),o[i][r][w].data.judgedBy.push(window.crawlear.user.uid),A(o),s.players[r].zones[w]=o[i][r][w].data,a.setGameProgression(s.gid,r,i,w,o[i][r][w]),l(0),h(s)}}if(d.gameType===Xt.oP?(-1!=v&&-1!=w&&(r=FN.getGameContent),t=FN.gameExtras):d.gameType===Xt.UZ?(-1!=v&&-1!=w&&(r=VN.getGameContent),t=VN.gameExtras):d.gameType===Xt.HF?(-1!=v&&-1!=w&&(r=UN.getGameContent),t=UN.gameExtras):d.gameType===Xt.uG?(-1!=v&&-1!=w&&(r=zN.getGameContent),t=zN.gameExtras):d.gameType===Xt.te?t=qN.gameExtras:d.gameType===Xt.Jo?(-1!=v&&-1!=w&&(r=BN.getGameContent),t=BN.gameExtras):d.gameType===Xt.Oh&&(-1!=v&&-1!=w&&(r=GN.getGameContent),t=GN.gameExtras),r&&(N=r(S,v.id,w,d.players[v.id].zones[w].points)),n.useEffect((function(){EF?A(Xt.zo.createGameProgression(d.zones,d.players.length)):a.getGameProgression(d.gid,(function(){}),(function(){}),(function(e,t){var n={};n[e]=t,O(t),k.current=UF(UF({},k.current),n),A(UF(UF({},k.current),n))}),(function(e,t){var n={};n[e]=t,O(t),k.current=UF(UF({},k.current),n),A(UF(UF({},k.current),n))}))}),[]),d.gameType!==Xt.te)if(0===c){var M=[],j=Xt.zo.isCurrentUserIsOwner(d.owner);if(j&&M.push(n.createElement("div",{key:"dP",className:"directorContainer rounded rounded3"},n.createElement("div",{className:"bold"},S("description.directordepartida")),n.createElement("br",null),n.createElement(gj,{game:d,gameProgression:x}))),d.jids.find((function(e){return e===window.crawlear.user.uid}))){var F=n.createElement(n.Fragment,null);(v.group===E||j)&&(F=n.createElement("button",{onClick:function(){if(-1===v||-1===w)g(S("content.seleccionapilotoyzona"));else{var e=v.id,t=v.group,n=x[t][e][w];n.status===GF&&window.confirm(S("content.quieresempezarzona"))||n.status===WF&&window.confirm(S("content.quiereseditarpartida"))||n.status===qF&&window.confirm(S("content.seguroeditarpartidaenjuego"))?(g(""),l(1),x[t][e][w].status=qF,A(x),a.setGameProgression(d.gid,e,t,w,x[t][e][w])):n.status===qF?g(S("error.juegoencurso")):n.status===ZF&&g(S("error.reparacionencurso"))}},className:"playButton importantNote"},S("description.empezar"))),P=n.createElement(n.Fragment,null,S("description.jugadorseleccionado"),": ",-1!==v?v.name:""," ",n.createElement("br",null),S("description.zonaseleccionada"),": ",-1!==w?w+1:"",n.createElement("br",null),F,n.createElement(wj,{fromUid:window.crawlear.user.uid,game:d,zone:w,playerName:v.name,fromName:window.crawlear.user.displayName}))}T=n.createElement(XN.Provider,{value:[x,A]},M,n.createElement("div",{className:"trackJudgeContainer rounded rounded3"},n.createElement("div",{className:"bold"},S("description.juezdepista")),n.createElement(oO,{onZoneClick:function(e,t){C(t),y(e),g("")},game:d,jidGroup:E}),n.createElement(HN,{message:p}),P),n.createElement("div",{className:"tendJudgeContainer rounded rounded3"},n.createElement("div",{className:"bold"},S("description.juezdecarpa")),n.createElement(cj,{gameProgression:x,game:d,onRepairEnd:function(e,t,n,r){r.status=GF,delete r.repairData,a.setGameProgression(d.gid,e,t,n,r)}})),n.createElement("button",{className:"backButton",onClick:o},S("description.atras")),Xt.zo.isCurrentUserIsOwner(d.owner)&&R()?n.createElement("button",{className:"closeButton importantNote",onClick:function(){if(R()&&window.confirm(S("content.cerrarpartida"))&&!EF)a.getGameResult(d,(function(e){var n=UF({},e);n.gameStatus=2,t.onGameEnd(n),n=Jt.getOrderedGameResult(n),a.updateGame(n),a.removeGameProgression(n.gid),h(n),l(2)}),(function(){}));else if(EF){var e=Jt.getOrderedGameResult(d);h(Xt.zo.getGameResult(e,x)),l(2)}}},S("description.cerrarpartida")):n.createElement(n.Fragment,null))}else 1===c?T=n.createElement(nj,{player:v.id,zone:w,game:d,gameExtras:t,onGameEnd:L,onRepair:function(e,t){var n=UF({},x),r=d.players[e],i=r.group,o=r.id;n[i][e][t].status=ZF,n[i][e][t].repairData={setTime:(new Date).getTime()},n[i][e][t].data=r.zones[t],A(n),a.setGameProgression(d.gid,o,i,t,n[i][o][t]),l(0)}},N):2===c?T=n.createElement("div",{className:"gameList"},n.createElement(jF,{game:d}),n.createElement("button",{className:"backButton",onClick:o},S("description.atras"))):3===c&&(T=n.createElement(Ej,{game:d,onTrainingEnd:function(){l(0)}}));else T=0===c||1===T?n.createElement(nj,{game:d,onGameEnd:L,gameExtras:t}):n.createElement("div",{className:"gameList"},n.createElement(jF,{game:d}),n.createElement("button",{className:"backButton",onClick:o},S("description.atras")));return T},KF=a(2300),$F={};$F.styleTagTransform=ke(),$F.setAttributes=Ee(),$F.insert=Ce().bind(null,"head"),$F.domAPI=be(),$F.insertStyleElement=xe(),ve()(KF.Z,$F),KF.Z&&KF.Z.locals&&KF.Z.locals;var QF=function(e){var t=e.gamePosition,r=e.onClickFunction,i=e.text;return n.createElement("div",{"data-gameposition":t,onClick:function(e){e.stopPropagation(),r(e)},className:"gameListMenuItem"},i)},YF=function(e){var t=e.gamePosition,r=e.onRemoveClick,i=e.onRegenerateClick,o=(0,pe.$)().t,a=n.useRef(null);function s(){a.current.classList.toggle("closed")}return n.createElement("span",{ref:a,className:"gameListItemMenu rounded closed"},n.createElement("div",{onClick:s},n.createElement("div",{className:"burguerMenuBar"}),n.createElement("div",{className:"burguerMenuBar"}),n.createElement("div",{className:"burguerMenuBar"})),n.createElement(QF,{text:o("description.eliminarpartida"),gamePosition:t,onClickFunction:function(e){s(),r(e)}}),n.createElement(QF,{text:o("description.regenerarpartida"),gamePosition:t,onClickFunction:i}))},JF=function(e){var t=e.game,r=e.gameProgression,i=[],o=0;return t&&(i.push(n.createElement(DF,{key:"header",game:t})),t.players.forEach((function(e){var a,s=[],c=0;e.zones.forEach((function(i,o){var l=e.group;if(r&&r[l]&&r[l][e.id]&&r[l][e.id][c]&&r[l][e.id][c].data){var u=[],d=r[l][e.id][c];"done"===d.status?u.push(n.createElement(JN,{gameType:t.gameType,key:"progressRow".concat(c),gameProgression:d})):"repair"===d.status&&u.push(Gt("points.reparacion").toUpperCase()),Xt.zo.isFiasco(t,e.id,o)&&(a=n.createElement("img",{src:AF,alt:"fiasco"})),s.push(n.createElement("div",{key:c,className:"gameProgressionInfoItem"},n.createElement("div",{className:"bold"},Gt("description.zona")," ",c+1," ",a),u))}c++})),s.length>0&&i.push(n.createElement("div",{key:o+c,className:"gameProgressionItem rounded rounded1"},n.createElement("img",{src:e.avatar,alt:"player avatar"}),n.createElement("div",null,s))),o++}))),i},XF=a(4293),eV={};function tV(e){return tV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tV(e)}function nV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}eV.styleTagTransform=ke(),eV.setAttributes=Ee(),eV.insert=Ce().bind(null,"head"),eV.domAPI=be(),eV.insertStyleElement=xe(),ve()(XF.Z,eV),XF.Z&&XF.Z.locals&&XF.Z.locals;var iV=function(e){var t,r=e.game,i=e.gamePosition,o=e.onGamePlay,a=e.readOnly,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState(null),2),c=s[0],l=s[1],u=window.crawlear.fb,d=n.createElement(n.Fragment,null);return 0===r.gameStatus||1===r.gameStatus?(c&&(t=n.createElement(JF,{game:r,gameProgression:c})),!r.jids.find((function(e){return window.crawlear.user.uid===e}))&&!Xt.zo.isCurrentUserIsOwner(r.owner)||a||(t=n.createElement(n.Fragment,null,n.createElement("button",{className:"importantNote playGameButton","data-gameposition":i,onClick:o}),t))):t=n.createElement(jF,{game:r}),Xt.zo.isCurrentUserIsOwner(r.owner)&&(d="(D) "),n.createElement("div",{key:i,className:"gameContainer rounded rounded1 closed"},n.createElement("span",{onClick:function(e){var t=e.target.parentElement;t.classList.toggle("closed"),t.classList.contains("closed")||c||u.getGameProgressionOnce(r.gid,(function(e,t){l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nV(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==tV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==tV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===tV(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}),(function(){}))},className:"textOverflow gameName bold"},d,r.name," - ",r.date),t)},oV=a(9393),aV={};function sV(e){return sV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sV(e)}function cV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}aV.styleTagTransform=ke(),aV.setAttributes=Ee(),aV.insert=Ce().bind(null,"head"),aV.domAPI=be(),aV.insertStyleElement=xe(),ve()(oV.Z,aV),oV.Z&&oV.Z.locals&&oV.Z.locals;var lV=function(e){var t=e.games,r=e.gameProgressions,i=e.readOnly,o=e.onRemoveGame,a=e.onConfigureGame,s=e.title,c=e.onGamePlay,l=(0,pe.$)().t,u=(window.crawlear.fb,0),d=[];function h(e){var n=e.target.getAttribute("data-gameposition"),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cV(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==sV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==sV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sV(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t[n]);Xt.zo.init(r,Xt.zo.getGameTypeControlTextValuesInit(r.gameType),Xt.zo.getGameTypeFiascoControlTextValuesInit(r.gameType),!0),a(n)}return t&&t.forEach((function(e){d.push(n.createElement("div",{key:u},n.createElement(YF,{key:"menu".concat(u),gamePosition:u,onRegenerateClick:h,onRemoveClick:function(e){!function(e){var t=e.target.getAttribute("data-gameposition");window.confirm(l("content.seguroborrarjuego"))&&o&&o(Number(t))}(e)}}),n.createElement(iV,{key:"item".concat(u),game:e,onGamePlay:c,gamePosition:u,gameProgression:r&&r[e.gid],readOnly:i}))),u++})),t&&0!==t.length||d.push(n.createElement("div",{key:u,className:"centerText smallText"},l("description.nopartidas"))),n.createElement("div",{className:"gameList rounded rounded3"},n.createElement("div",{className:"headerText bold"},s),d)},uV=a(4649),dV={};dV.styleTagTransform=ke(),dV.setAttributes=Ee(),dV.insert=Ce().bind(null,"head"),dV.domAPI=be(),dV.insertStyleElement=xe(),ve()(uV.Z,dV),uV.Z&&uV.Z.locals&&uV.Z.locals;var hV=a.p+"151dfdbca9628136ddd6.png",fV=a.p+"d334398033a12c43b910.png";function pV(e){return pV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pV(e)}function gV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gV(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==pV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==pV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pV(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yV=function(e){var t=e.user,r=(0,pe.$)().t,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState({}),2),o=i[0],a=i[1],s=window.crawlear.fb,c=n.useRef({}),l=[];function u(e){a(e)}function d(e){c.current=mV(mV({},c.current),e),a(mV({},c.current))}function h(e){delete c.current[e],a(mV({},c.current))}return n.useEffect((function(){s.getUserGameRequests(t.uid,u,(function(){}),d,h)}),[]),o&&Object.keys(o).forEach((function(e){l.push(n.createElement("div",{className:"gameRequestsItem smallText"},n.createElement("span",{className:"gameRequestsFrom"},r("description.peticionde"),": ",n.createElement("span",{className:"bold"},o[e].fromName)),n.createElement("div",{className:"gameRequestGameName"},r("description.parajuego"),": ",n.createElement("span",{className:"bold"},o[e].gameName)),n.createElement("span",{className:"acceptButton",onClick:function(){s.acceptGameRequest(t.uid,e)}},n.createElement("img",{src:hV,alt:"like icon"})),n.createElement("span",{className:"rejectButton",onClick:function(){s.rejectGameRequest(t.uid,e)}},n.createElement("img",{src:fV,alt:"dislike icon"}))))})),l.length>0?n.createElement("div",{className:"gameRequestsContainer rounded rounded1"},n.createElement("div",{className:"headerText bold"},r("description.peticionesdejuego")),l):n.createElement(n.Fragment,null)},bV=a(9105),wV=a.n(bV),CV=a(8103),IV={};function EV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}IV.styleTagTransform=ke(),IV.setAttributes=Ee(),IV.insert=Ce().bind(null,"head"),IV.domAPI=be(),IV.insertStyleElement=xe(),ve()(CV.Z,IV),CV.Z&&CV.Z.locals&&CV.Z.locals;var _V=function(e){var t=e.onConfigureGames,r=e.onGamePlay,i=(0,pe.$)().t,o=$(),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return EV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(wV()(),6),s=a[0],c=a[1],l=a[2],u=a[3],d=a[4],h=a[5];return n.createElement(n.Fragment,null,n.createElement("div",{className:"headerText bold sectionTitle"},i("description.secciondejuego")),n.createElement(yV,{user:window.crawlear.user}),n.createElement(lV,{title:i("description.partidascomopiloto"),games:s,readOnly:!0,onRemoveGame:function(e){c(e)},onConfigureGame:function(e){t(s,e)}}),n.createElement(lV,{title:i("description.partidasdejuez"),games:l,readOnly:!1,onGamePlay:function(e){r(l,e.target.getAttribute("data-gameposition"))},onConfigureGame:function(e){t(l,e)},onRemoveGame:function(e){u(e)}}),n.createElement("button",{className:"newGameButton importantNote",onClick:function(){o("/gameconfigurator")}},i("description.crear")),n.createElement(lV,{title:i("description.partidasprevias"),games:d,readOnly:!1,onRemoveGame:function(e){h(e)},onConfigureGame:function(e){t(d,e)}}))};function xV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return AV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kV=function(e){e.onLogout;var t=window.crawlear.fb,r=xV(n.useState(0),2),i=r[0],o=r[1],a=xV(n.useState({}),2),s=a[0],c=a[1];return n.useEffect((function(){le.Z.pageview("/completegame/")}),[]),t.isUserLogged()?n.createElement(n.Fragment,null,0===i?n.createElement(_V,{onConfigureGames:function(e,t){window.scrollTo(0,0),o(2),c(e[t])},onGamePlay:function(e,t){window.scrollTo(0,0),o(1),c(e[t])}}):1===i?n.createElement(HF,{inGame:s,onBackButtonClick:function(){window.scrollTo(0,0),o(0),c({})}}):2===i?n.createElement(hF,{preconfiguredGame:s}):n.createElement(n.Fragment,null)):n.createElement(ie,{to:{pathname:"/",state:{from:"/gameconfigurator"}}})},SV=a.p+"a47ac3a0afbc6c631e1b.png",TV=function(e,t,r){(0,n.useEffect)((function(){var n=document.getElementById(t),i=document.createElement("script");return n||(i.id=t,i.src=e,i.async=!0,r&&(i.onload=r),document.body.appendChild(i)),function(){i.parentElement&&document.body.removeChild(i)}}),[e])},PV=a.p+"87d4b537e673cf1c6f63.svg",NV=a(4516),OV={};function RV(e){return RV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RV(e)}function DV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==RV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==RV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===RV(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}OV.styleTagTransform=ke(),OV.setAttributes=Ee(),OV.insert=Ce().bind(null,"head"),OV.domAPI=be(),OV.insertStyleElement=xe(),ve()(NV.Z,OV),NV.Z&&NV.Z.locals&&NV.Z.locals;var LV=function(e){var t,r=e.url;return TV("https://www.instagram.com/embed.js","instagram-embed-loader",(function(){window.instgrm&&window.instgrm.Embeds.process()})),n.createElement("div",{className:"instagram"},n.createElement("blockquote",{className:"instagram-media","data-instgrm-captioned":!0,"data-instgrm-permalink":"".concat(r,"?utm_source=ig_embed&amp;utm_campaign=loading"),"data-instgrm-version":"14",style:(t={background:"#FFF",border:"0",borderRadius:"3px",boxShadow:"0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15)",margin:"1px",maxWidth:"540px",minWidth:"326px",padding:"0",width:"99.375%"},DV(t,"width","-webkit-calc(100% - 2px)"),DV(t,"width","calc(100% - 2px)"),t)},n.createElement("div",{style:{padding:"16px"}},n.createElement("a",{href:"".concat(r,"?utm_source=ig_embed&amp;utm_campaign=loading"),style:{background:"#FFFFFF",lineHeight:"0",padding:"0 0",textAlign:"center",textDecoration:"none",width:"100%"},target:"_blank"},n.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},n.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",flexGrow:"0",height:"40px",marginRight:"14px",width:"40px"}}),n.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"center"}},n.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",marginBottom:"6px",width:"100px"}}),n.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"60px"}}))),n.createElement("div",{style:{padding:"19% 0"}}),n.createElement("div",{style:{display:"block",height:"50px",margin:"0 auto 12px",width:"50px"}},n.createElement("img",{src:PV,alt:"instagram logo"})),n.createElement("div",{style:{paddingTop:"8px"}},n.createElement("div",{style:{color:"#3897f0",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:"550",lineHeight:"18px"}},"View this post on Instagram")),n.createElement("div",{style:{padding:"12.5% 0"}}),n.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"14px"}},n.createElement("div",null,n.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(0px) translateY(7px)"}}),n.createElement("div",{style:{backgroundColor:"#F4F4F4",height:"12.5px",transform:"rotate(-45deg) translateX(3px) translateY(1px)",width:"12.5px",flexGrow:"0",marginRight:"14px",marginLeft:"2px"}}),n.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(9px) translateY(-18px)"}})),n.createElement("div",{style:{marginLeft:"8px"}},n.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",flexGrow:"0",height:"20px",width:"20px"}}),n.createElement("div",{style:{width:"0",height:"0",borderTop:"2px solid transparent",borderLeft:"6px solid #f4f4f4",borderBottom:"2px solid transparent",transform:"translateX(16px) translateY(-4px) rotate(30deg)"}})),n.createElement("div",{style:{marginLeft:"auto"}},n.createElement("div",{style:{width:"0px",borderTop:"8px solid #F4F4F4",right:"8px solid transparent",transform:"translateY(16px)"}}),n.createElement("div",{style:{backgroundColor:"#F4F4F4",flexGrow:"0",height:"12px",width:"16px",transform:"translateY(-4px)"}}),n.createElement("div",{style:{width:"0",height:"0",borderTop:"8px solid #F4F4F4",borderLeft:"8px solid transparent",transform:"translateY(-4px) translateX(8px)"}}))),n.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"center",marginBottom:"24px"}},n.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"224px",marginBottom:"6px"}}),n.createElement("div",{style:DV({backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"224px",marginBottom:"6px"},"width","144px")}))),n.createElement("p",{style:{color:"#c9c8cd",fontFamily:"Arial,sans-serif",fontSize:"14px",lineHeight:"17px",marginBottom:"0",marginTop:"8px",overflow:"hidden",padding:"8px 0 7px",textAlign:"center",textOverflow:"ellipsis",whiteSpace:"nowrap"}},n.createElement("a",{href:"".concat(r,"?utm_source=ig_embed&amp;utm_campaign=loading"),style:{color:"#c9c8cd",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",lineHeight:"17px",textDecoration:"none"},target:"_blank"},"A post shared by TakeZoRC (@takezorc)")))))},MV=a(9872),jV={};jV.styleTagTransform=ke(),jV.setAttributes=Ee(),jV.insert=Ce().bind(null,"head"),jV.domAPI=be(),jV.insertStyleElement=xe(),ve()(MV.Z,jV),MV.Z&&MV.Z.locals&&MV.Z.locals;var FV=function(e){var t,r,i=(t=e.url,(r=t.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))&&11==r[2].length?r[2]:void 0);return i?n.createElement("div",{className:"youtube video-responsive"},n.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(i),title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",frameBorder:"0",allowFullScreen:!0})):n.createElement(n.Fragment,null)},VV=a(9117),UV={};UV.styleTagTransform=ke(),UV.setAttributes=Ee(),UV.insert=Ce().bind(null,"head"),UV.domAPI=be(),UV.insertStyleElement=xe(),ve()(VV.Z,UV),VV.Z&&VV.Z.locals&&VV.Z.locals;var zV=function(e){var t=e.url,r=(new Date).getMilliseconds();return TV("https://www.tiktok.com/embed.js?t=".concat(r),"tiktok-embed-loader".concat(r)),n.createElement("blockquote",{className:"tiktok-embed",cite:t,"data-video-id":Jt.getTiktokVideoId(t),style:{maxWidth:"605px",minWidth:"325px"}},n.createElement("section",null))},BV=a(910),GV={};GV.styleTagTransform=ke(),GV.setAttributes=Ee(),GV.insert=Ce().bind(null,"head"),GV.domAPI=be(),GV.insertStyleElement=xe(),ve()(BV.Z,GV),BV.Z&&BV.Z.locals&&BV.Z.locals;var qV=function(e){var t=e.url;return n.useEffect((function(){document.getElementById("fb-root")?FB&&FB.XFBML&&FB.XFBML.parse():document.createElement("DIV").id="fb-root"}),[]),TV("https://connect.facebook.net/es_ES/sdk.js","fbjdk",(function(){window.fbAsyncInit=function(){FB.init({appId:"",autoLogAppEvents:!0,xfbml:!0,version:"v14.0"})}})),n.createElement(n.Fragment,null,n.createElement("div",{className:"fb-post","data-show-text":"true","data-href":t,"data-width":"350"}))},ZV=a(2409),WV={};function HV(e){return HV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HV(e)}function KV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KV(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==HV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==HV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===HV(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YV(e){return window.crawlear.fb.isUserLogged()&&window.crawlear&&window.crawlear.user&&window.crawlear.user.uid===e}WV.styleTagTransform=ke(),WV.setAttributes=Ee(),WV.insert=Ce().bind(null,"head"),WV.domAPI=be(),WV.insertStyleElement=xe(),ve()(ZV.Z,WV),ZV.Z&&ZV.Z.locals&&ZV.Z.locals;var JV=function(e){var t=e.post,r=e.onLikePost,i=e.onRemoveLikePost,o=((0,pe.$)().t,[]),a=window.crawlear.fb,s=n.useContext(nF).isUserLoged,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return QV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QV(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState({status:-1,likes:0,lid:0}),2),l=c[0],u=c[1];return n.useEffect((function(){s&&a.getIfPostIsLiked(t.pid,window.crawlear.user.uid,(function(e,t){u($V($V({},l),{},e?{state:1,lid:t}:{state:0,lid:0}))}),(function(){})),!YV(t.uid)&&s||a.getPostLikesCount(t.pid,(function(e){u($V($V({},l),{},{likes:e}))}),(function(){}))}),[]),l.likes>10?o.push(n.createElement("div",{key:"likes+++",className:"bold"},"Likes 🔥🔥🔥")):l.likes>5?o.push(n.createElement("div",{key:"likes++",className:"bold"},"Likes 🔥🔥")):l.likes>0?o.push(n.createElement("div",{key:"likes+",className:"bold"},"Likes 🔥")):o.push(n.createElement("div",{key:"likes",className:"bold"},"Likes 🧊")),s?YV(t.uid)?n.createElement("div",{className:"likeContainer"},o):n.createElement("div",{className:"likeContainer"},n.createElement("span",{className:1===l.state?"press":""},n.createElement("img",{src:hV,onClick:function(e){-1!==l.state&&(1===l.state?a.removeLike(l.lid,(function(){u($V($V({},l),{},{state:0,lid:0})),i&&i()}),(function(){})):a.setLike(t.pid,window.crawlear.user.uid,(function(e){u($V($V({},l),{},{state:1,lid:e})),r&&r()})))},alt:"like button"}))):n.createElement("div",{className:"likeContainer"},o)};function XV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eU(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tU=function(e){var t=e.post,r=e.readOnly,i=e.onRemovePost,o=e.children,a=(0,pe.$)().t,s=window.crawlear.fb,c=XV(n.useState({}),2),l=c[0],u=c[1],d=XV(n.useState({}),2),h=d[0],f=d[1],p=$();return n.useEffect((function(){r&&s.getUser(t.uid,(function(e){f(e)}),(function(){}))}),[]),n.createElement(n.Fragment,null,r?n.createElement(n.Fragment,null):n.createElement("button",{"data-id":t.pid,onClick:i,className:"removePostButton"},"-"),h.uid?n.createElement("a",{href:"https://crawlear.com/profile?uid=".concat(h.uid),className:"userProfileContainer",alt:"user profile name and link"},n.createElement("div",{className:"userProfilePhotoContainer"},n.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:h.photoURL,alt:"user avatar"})),n.createElement("div",{className:"userProfileInlineContainer"},n.createElement("div",{className:"name"},n.createElement("input",{type:"text",className:"bold textOverflow hidenInput",readOnly:!0,value:h.displayName})))):n.createElement(n.Fragment,null),n.createElement("div",{className:"postDate"},t.date.toDate().toLocaleDateString()),n.createElement("div",{className:"postText bold",onClick:function(e){le.Z.event("navigation","post",t.uid),p("/post?pid=".concat(t.pid))}},t.text),o,n.createElement(JV,{post:t,isReadOnly:r}),n.createElement("div",{className:"postGameContainer"},l.gid?n.createElement("div",{className:"postGame bold"},l.gid?n.createElement(n.Fragment,null,n.createElement("div",{className:"gameAssigned bold"},a("description.juegoasignado"),":"),a("description.nombre"),":",n.createElement("span",{className:"gameName"},l.name," "),n.createElement(jF,{game:l})):n.createElement(n.Fragment,null),l.location&&l.location.longitude&&l.location.longitude&&l.isPublic?n.createElement(n.Fragment,null,n.createElement("div",{className:"gameName"},a("description.localizacion"),":"),n.createElement(NF,{location:l.location})):n.createElement(n.Fragment,null)):t.gid&&t.gid.length>2?n.createElement(n.Fragment,null,n.createElement("div",{className:"gameAssigned bold"},a("description.juegoasignado"),":"),n.createElement("button",{className:"getGameName importantNote",onClick:function(){var e;e=t.gid,s.getGame(e,(function(e){u(e)}),(function(){}))}},a("description.resolverjuego"))):n.createElement("div",{className:"getGameName bold"},a("description.sinjuego"))))},nU=a(8113),rU={};rU.styleTagTransform=ke(),rU.setAttributes=Ee(),rU.insert=Ce().bind(null,"head"),rU.domAPI=be(),rU.insertStyleElement=xe(),ve()(nU.Z,rU),nU.Z&&nU.Z.locals&&nU.Z.locals;var iU=function(e){var t=e.url,r=e.text;return n.useEffect((function(){if(document.getElementById("fb-root"))FB&&FB.XFBML&&FB.XFBML.parse();else{var e=document.createElement(e);e.id="fb-root"}}),[]),TV("https://connect.facebook.net/es_ES/sdk.js#xfbml=1&version=v14.0","fb-root-script"),n.createElement("div",{className:"fb-share-button","data-href":t,"data-layout":"button","data-size":"small"},n.createElement("a",{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t),"&amp;src=sdkpreparse"),className:"fb-xfbml-parse-ignore"},r))},oU=a(5516),aU={};aU.styleTagTransform=ke(),aU.setAttributes=Ee(),aU.insert=Ce().bind(null,"head"),aU.domAPI=be(),aU.insertStyleElement=xe(),ve()(oU.Z,aU),oU.Z&&oU.Z.locals&&oU.Z.locals;var sU=function(e){var t=e.url,r=e.text;return n.useEffect((function(){window.twttr=function(e,t,n){var r,i=e.getElementsByTagName(t)[0],o=window.twttr||{};return e.getElementById(n)?(twttr&&twttr.widgets&&twttr.widgets.load(),o):((r=e.createElement(t)).id=n,r.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(r,i),o._e=[],o.ready=function(e){o._e.push(e)},o)}(document,"script","twitter-wjs")}),[]),n.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURI(r)),"data-size":"large"},"Tweet")},cU=a.p+"98fe34f5072c9c5d8082.png",lU=a(8174),uU={};uU.styleTagTransform=ke(),uU.setAttributes=Ee(),uU.insert=Ce().bind(null,"head"),uU.domAPI=be(),uU.insertStyleElement=xe(),ve()(lU.Z,uU),lU.Z&&lU.Z.locals&&lU.Z.locals;var dU=function(e){var t=e.url,r=e.text,i="https://telegram.me/share/url?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURI(r));return n.createElement("a",{onClick:function(){le.Z.event("share","telegram",i)},href:i,target:"_blank","data-action":"share/whatsapp/share"},n.createElement("img",{className:"telegramLogo",src:cU,alt:"whatsapp logo"}))},hU=a.p+"cca3a79bf4e6827f07de.svg",fU=a(4661),pU={};pU.styleTagTransform=ke(),pU.setAttributes=Ee(),pU.insert=Ce().bind(null,"head"),pU.domAPI=be(),pU.insertStyleElement=xe(),ve()(fU.Z,pU),fU.Z&&fU.Z.locals&&fU.Z.locals;var gU=function(e){var t=e.url,r=e.text,i="https://api.whatsapp.com/send?text=".concat(encodeURI(r)," ").concat(encodeURIComponent(t));return n.createElement("a",{onClick:function(){le.Z.event("share","whatsapp",i)},href:i,target:"_blank","data-action":"share/whatsapp/share"},n.createElement("img",{className:"whatsappLogo",src:hU,alt:"whatsapp logo"}))},mU=function(e){var t=e.url,r=e.text,i=e.headerText;return(0,pe.$)().t,n.createElement("div",{className:"sharerContainer"},n.createElement("div",{className:"bold shareProfileText"},i),n.createElement("div",{className:"sharers"},n.createElement(iU,{url:"https://crawlear.com/".concat(t),text:r}),n.createElement(sU,{url:"https://crawlear.com/".concat(t),text:r}),n.createElement(gU,{url:"https://crawlear.com/".concat(t),text:r}),n.createElement(dU,{url:"https://crawlear.com/".concat(t),text:r})))},vU=function(e,t){(0,n.useEffect)((function(){if(e){var n=new IntersectionObserver((function(e){t(e[0].isIntersecting)}),{});return n.observe(e),function(){e&&n.unobserve(e)}}}),[e])},yU=a(5687),bU={};function wU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return CU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?CU(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}bU.styleTagTransform=ke(),bU.setAttributes=Ee(),bU.insert=Ce().bind(null,"head"),bU.domAPI=be(),bU.insertStyleElement=xe(),ve()(yU.Z,bU),yU.Z&&yU.Z.locals&&yU.Z.locals;var IU=function(e){var t=e.post,r=e.readOnly,i=e.onRemovePost,o=(0,pe.$)().t,a=n.useRef(null),s=wU(n.useState(!1),2),c=s[0],l=s[1],u=wU(n.useState(!1),2),d=(u[0],u[1]),h=n.createElement(n.Fragment,null);return n.useEffect((function(){d(!0)}),[]),vU(a.current,(function(e){!c&&e&&(l(!0),t.url.indexOf("instagram")>=0&&window.instgrm&&window.instgrm.Embeds.process())})),t.url.indexOf("instagram")>=0?h=n.createElement(LV,{className:"postUrlContent",url:t.url}):t.url.indexOf("youtu")>=0?h=n.createElement(FV,{className:"postUrlContent",url:t.url}):t.url.indexOf("tiktok")>=0?h=n.createElement(zV,{className:"postUrlContent",url:t.url}):t.url.indexOf("facebook")>=0&&(h=n.createElement(qV,{className:"postUrlContent",url:t.url})),c?n.createElement("div",{key:t.pid,className:"post rounded "},n.createElement(tU,{post:t,onRemovePost:i,readOnly:r},h),n.createElement(mU,{url:"post?pid=".concat(t.pid),headerText:o("content.comparteenredespost"),text:o("content.sharePostText")})):n.createElement("div",{className:"embedLoadingContainer",ref:a},n.createElement(tF,null))},EU=a(1124),_U={};_U.styleTagTransform=ke(),_U.setAttributes=Ee(),_U.insert=Ce().bind(null,"head"),_U.domAPI=be(),_U.insertStyleElement=xe(),ve()(EU.Z,_U),EU.Z&&EU.Z.locals&&EU.Z.locals;var xU=function(e){var t=e.posts,r=e.removePostClick,i=e.readOnly,o=(0,pe.$)().t,a=window.crawlear.fb;function s(e){var t=e.target.getAttribute("data-id");t&&window.confirm(o("content.seguroborrarpost"))&&r&&r(t)}if(n.useEffect((function(){window.instgrm&&window.instgrm.Embeds.process()}),[t]),t&&t.length){var c=[];return t.forEach((function(e,t){c.push(n.createElement(IU,{key:t,post:e,onRemovePost:s,readOnly:i}))})),n.createElement("div",{className:"feedViewer"},a.isUserLogged()?n.createElement(n.Fragment,null):n.createElement("a",{href:"https://crawlear.com",target:"_blank"},n.createElement("img",{src:ge,className:"userViewerLogo",alt:"web logo"})),n.createElement("div",{className:"posts"},c))}return n.createElement("div",{className:"posts"},n.createElement("div",{className:"rounded rounded3"},o("content.nofeedpost")))},AU=a(9110),kU={};function SU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return TU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TU(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}kU.styleTagTransform=ke(),kU.setAttributes=Ee(),kU.insert=Ce().bind(null,"head"),kU.domAPI=be(),kU.insertStyleElement=xe(),ve()(AU.Z,kU),AU.Z&&AU.Z.locals&&AU.Z.locals;var PU=function(e){var t=e.onVisible,r=n.useRef(null),i=SU(n.useState(!1),2),o=(i[0],i[1]),a=SU(n.useState(!1),2),s=a[0],c=a[1];return n.useEffect((function(){o(!0)}),[]),vU(r.current,(function(e){!s&&e&&(c(!0),t(!0))})),n.createElement("div",{className:"loadingLogo"},n.createElement("a",{href:"https://crawlear.com",target:"_blank",rel:"noreferrer"},n.createElement("img",{ref:r,src:ge,className:"userViewerLogo",alt:"web logo"})),n.createElement("br",null),n.createElement(tF,null))},NU=a.p+"4b9dd7a3a51aba87a810.png";function OU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||RU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RU(e,t){if(e){if("string"==typeof e)return DU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DU(e,t):void 0}}function DU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var LU=function(e){var t=e.uid,r=(0,pe.$)().t,i=window.crawlear.fb,o=OU(n.useState([]),2),a=o[0],s=o[1],c=OU(n.useState(0),2),l=c[0],u=c[1],d=OU(n.useState(!1),2),h=d[0],f=d[1],p=n.useContext(nF).isUserLoged,g=$();function m(){h&&p&&i.getPostsFromFollowFeed(t,(function(e){s(function(e){return function(e){if(Array.isArray(e))return DU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||RU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e)),u(1)}),(function(){}))}function v(e){g("/profile?uid=".concat(e))}return n.useEffect((function(){m(),h&&le.Z.pageview("/feedviewer/")}),[h,p,t]),1===l&&a.length&&h?n.createElement("div",{className:"feedViewer"},i.isUserLogged()?n.createElement(n.Fragment,null,n.createElement("div",{className:"headerText bold"},r("description.buscarusuario")),n.createElement(Mj,{onUserClick:v,mainText:r("content.puedesbuscarusuarios"),secondaryText:r("content.clickenusuariooseguir"),iconSend:NU})):n.createElement("a",{href:"https://crawlear.com",target:"_blank"},n.createElement("img",{src:ge,className:"userViewerLogo",alt:"web logo"})),n.createElement("div",{className:"posts"},n.createElement("div",{className:"headerText bold sectionTitle"},r("description.murodefollows")),n.createElement("div",{className:"refreshButton",onClick:function(){u(0),m()}},n.createElement("img",{src:SV,alt:"refresh icon"})),n.createElement(xU,{posts:a,readOnly:!0,removePostClick:function(e){e&&i.removePost(e,(function(){var t=a.filter((function(t){return t.pid!==e}));s(t),le.Z.event("post","removed")}),(function(){}))}}))):1===l&&h?n.createElement("div",{className:"posts"},n.createElement("div",{className:"headerText bold sectionTitle"},r("description.murodefollows")),n.createElement(Mj,{onUserClick:v,mainText:r("content.puedesbuscarusuarios"),secondaryText:r("content.clickenusuariooseguir"),iconSend:NU}),n.createElement("br",null),n.createElement("div",{className:"rounded rounded3"},r("content.nofeedpost"))):n.createElement(PU,{onVisible:function(e){e&&f(e)}})},MU=a.p+"c02f061a017d59f5bb86.svg",jU=a.p+"b0c484b364dc559b8644.svg",FU=a.p+"5aa9dd97f0c1a5039ca6.svg",VU=function(){var e=(0,pe.$)().t,t=window.crawlear.fb;return n.createElement("div",{className:"Footer"},"[©",n.createElement("a",{href:"https://crawlear.com"},"crawlear.com")," 2023",t.isUserLogged()?n.createElement(n.Fragment,null,"]"):n.createElement(n.Fragment,null,"- ",n.createElement("a",{href:"https://crawlear.com/aboutus"},e("description.aboutus"))," - ",n.createElement("a",{href:"https://crawlear.com/privacypolicy"},e("description.politicaprivacidad")),"]"),n.createElement("p",null,n.createElement("a",{href:"https://www.youtube.com/channel/UCNwhl3Mflf-hpTSI1Xo8dSg",target:"_blank"},n.createElement("img",{className:"youtubeLogo",src:MU,alt:"youtube logo"})),n.createElement("a",{href:"https://www.instagram.com/crawlearcom/",target:"_blank"},n.createElement("img",{className:"instagramLogo",src:jU,alt:"instagram logo"})),n.createElement("a",{href:"https://www.facebook.com/Crawlearcom-106005795418134",target:"_blank"},n.createElement("img",{className:"facebookLogo",src:FU,alt:"facebook logo"}))))},UU=window.document.body,zU=function(){var e=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid,t=n.useContext(nF).isUserLoged;return n.useEffect((function(){UU.classList.add("feed")}),[]),t?n.createElement(n.Fragment,null,n.createElement(LU,{uid:e}),n.createElement(VU,null)):n.createElement(n.Fragment,null,Gt("content.userprofilenotlogged")," ",n.createElement("a",{href:"https://crawlear.com"},"crawlear.com"))},BU=a(614),GU={};function qU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ZU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZU(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WU(e){return window.crawlear.fb.isUserLogged()&&window.crawlear&&window.crawlear.user&&window.crawlear.user.uid===e}GU.styleTagTransform=ke(),GU.setAttributes=Ee(),GU.insert=Ce().bind(null,"head"),GU.domAPI=be(),GU.insertStyleElement=xe(),ve()(BU.Z,GU),BU.Z&&BU.Z.locals&&BU.Z.locals;var HU=function(e){var t=e.user,r=e.onLogout,i=(0,pe.$)().t,o=window.crawlear.fb,a=$(),s=qU(n.useState(t.displayName),2),c=s[0],l=s[1],u=qU(n.useState(t.description),2),d=u[0],h=u[1],f=qU(n.useState(t.instagram),2),p=f[0],g=f[1],m=n.useContext(nF).isUserLoged,v=qU(n.useState(-1),2),y=v[0],b=v[1],w=[];return n.useEffect((function(){m&&!WU(t.uid)&&o.getFidFromFollow(window.crawlear.user.uid,t.uid,(function(e){b(e)}),(function(){}))}),[m]),m&&!WU(t.uid)&&(-1!==y?w.push(n.createElement("div",{key:"followAction",className:"follow",onClick:function(){o.removeFollow(y,(function(){b(-1)}),(function(){}))}},i("description.unfollow"))):w.push(n.createElement("div",{key:"followAction",className:"follow",onClick:function(){o.setFollow(window.crawlear.user.uid,t.uid,(function(e){e&&b(e)}),(function(){}))}},i("description.follow")))),n.createElement("div",{className:"userProfileContainer rounded rounded2"},n.createElement("div",{className:"userProfilePhotoContainer"},m&&WU(t.uid)?n.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:t.photoURL,alt:"user avatar"}):n.createElement("a",{href:"https://crawlear.com/profile?uid=".concat(t.uid)},n.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:t.photoURL,alt:"user avatar"})),n.createElement("div",{className:"sharerContainer"},WU(t.uid)?n.createElement("div",{className:"logout",onClick:function(){window.crawlear.fb.logout(),r&&r(),a("/")}},"Logout"):n.createElement(n.Fragment,null),w)),n.createElement("div",{className:"userProfileInlineContainer"},n.createElement("div",{className:"name"},n.createElement("input",{type:"text",className:"bold textOverflow hidenInput",readOnly:!m||!WU(t.uid),value:c,onChange:function(e){var n=e.target.value;WU(t.uid)&&n!==c&&n.length>0&&l(n)},onBlur:function(e){var n=e.target.value;WU(t.uid)&&t.displayName!==n&&n.length>0&&(t.displayName=n,l(n),o.setUser(t,(function(){}),(function(){})))}})),WU(t.uid)?n.createElement("div",{className:"registrationDate"},n.createElement("span",{className:"bold"},i("description.registro")),": ",new Date(t.registrationDate).toLocaleDateString()):n.createElement(n.Fragment,null),n.createElement("div",{className:"description"},WU(t.uid)?n.createElement("span",{className:"bold"},i("description.descripcion"),":"):n.createElement(n.Fragment,null),n.createElement("textarea",{type:"text",readOnly:!m||!WU(t.uid),className:"hidenInput textOverflow",value:d,onChange:function(e){var n=e.target.value;WU(t.uid)&&n!==d&&h(n)},onBlur:function(e){var n=e.target.value;WU(t.uid)&&t.description!==n&&(t.description=n,h(n),o.setUser(t,(function(){}),(function(){})))}})),(!m||!WU(t.uid))&&p||WU(t.uid)?n.createElement("div",{className:"instagram"},n.createElement("div",{className:"bold"},"Instagram: "),WU(t.uid)?n.createElement("input",{type:"text",className:"textOverflow hidenInput",readOnly:!m||!WU(t.uid),value:p,onChange:function(e){var n=e.target.value;WU(t.uid)&&n!==p&&g(n)},onBlur:function(e){var n=e.target.value;WU(t.uid)&&t.instagram!==n&&(t.instagram=n,g(n),o.setUser(t,(function(){}),(function(){})))}}):p?n.createElement("a",{href:"https://www.instagram.com/".concat(p,"/"),target:"_blank"},"@",p):n.createElement(n.Fragment,null)):n.createElement(n.Fragment,null),n.createElement(mU,{url:"profile?uid=".concat(t.uid),headerText:i("content.comparteenredespiloto"),text:i("content.shareProfileText")}),WU(t.uid)?n.createElement("div",{className:"userProfileHelper"},n.createElement("p",null,n.createElement("span",{className:"bold"},i("description.ayuda"),":")," ",i("content.editprofile"))):n.createElement(n.Fragment,null)))},KU=a(6901),$U={};function QU(e){return QU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QU(e)}function YU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YU(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==QU(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==QU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===QU(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ez(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ez(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ez(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}$U.styleTagTransform=ke(),$U.setAttributes=Ee(),$U.insert=Ce().bind(null,"head"),$U.domAPI=be(),$U.insertStyleElement=xe(),ve()(KU.Z,$U),KU.Z&&KU.Z.locals&&KU.Z.locals;var tz=function(e){var t=e.onPostEntry,r=e.isOpened,i=(0,pe.$)().t,o=[],a=window.crawlear.fb,s=XU(n.useState(""),2),c=s[0],l=s[1],u=XU(n.useState(0),2),d=u[0],h=u[1],f=n.useRef([]),p=XU(n.useState({url:"",text:"",gid:-1,gameName:"",date:_p.fromDate(new Date)}),2),g=p[0],m=p[1];function v(){m({url:"",text:"",gid:-1,gameName:"",date:_p.fromDate(new Date)})}return n.useEffect((function(){var e=window.crawlear.user.uid;a.getGamesFromUser(e,!0,(function(e){e.length&&(f.current=e.concat(f.current))}),(function(){})),a.getGamesFromJudge(e,!0,(function(e){e.length&&(f.current=e.concat(f.current))}),(function(){})),a.getGamesFromDirector(e,!0,(function(e){e.length&&(f.current=e.concat(f.current))}),(function(){}))}),[]),o.push(n.createElement("option",{key:"initialValue",value:-1},i("description.noasignarjuego"))),f.current&&f.current.forEach((function(e,t){o.push(n.createElement("option",{key:t,value:e.gid},e.name))})),n.createElement("div",{className:"postForm rounded rounded3 ".concat(r?"":"closed")},n.createElement("div",{className:"headerText bold",onClick:function(e){e.target.parentElement.classList.toggle("closed")}},i("description.publicar")),n.createElement("form",{className:"postForm-form",onSubmit:function(e){e.preventDefault(),e.stopPropagation(),window.crawlear&&window.crawlear.user&&window.crawlear.user.uid&&(g.text.length<=0?l(i("error.noposttext")):g.url.length<=0||g.url.length>0&&(Jt.isYoutubeUrl(g.url)||Jt.isInstagramUrl(g.url)||Jt.isTiktokUrl(g.url))?(h(1),a.setPost(window.crawlear.user.uid,g.url,g.date,g.text,g.gid,(function(e){h(0),l(""),v(),t&&t(e)}),(function(){h(0),v()}))):g.url.length>0&&l(i("error.nosocialurl")))}},n.createElement("label",{className:"postForm-label"},"URL: ",n.createElement("input",{type:"text",name:"url",onChange:function(e){m(JU(JU({},g),{},{url:e.target.value}))},value:g.url})),n.createElement("br",null),n.createElement("span",{className:"postForm-help bold"},i("description.ayuda"),":")," ",n.createElement("span",{className:"postForm-help"},i("content.urlEmbed")),n.createElement("br",null),n.createElement("label",{className:"postForm-label"},i("description.texto"),": ",n.createElement("textarea",{value:g.text,onChange:function(e){m(JU(JU({},g),{},{text:e.target.value}))},type:"text",name:"text"})),n.createElement("br",null),n.createElement("span",{className:"postForm-help bold"},i("description.ayuda"),":")," ",n.createElement("span",{className:"postForm-help"},i("content.textEmbed")),n.createElement("br",null),n.createElement("br",null),n.createElement("label",{className:"postForm-label"},i("description.juegopublico"),": ",n.createElement("select",{onChange:function(e){m(JU(JU({},g),{},{gameName:e.target[e.target.selectedIndex].text,gid:e.target[e.target.selectedIndex].value}))}},o)),n.createElement("br",null),n.createElement("span",{className:"postForm-help bold"},i("description.ayuda"),":")," ",n.createElement("span",{className:"postForm-help"},i("content.gameEmbed")),n.createElement("br",null),n.createElement("br",null),n.createElement(HN,{message:c}),0===d?n.createElement("input",{type:"submit",value:i("description.publicar"),className:"submit importantNote"}):n.createElement(tF,null)))},nz=a(8108),rz={};function iz(e){return iz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iz(e)}function oz(e){return function(e){if(Array.isArray(e))return lz(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||cz(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function az(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||cz(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cz(e,t){if(e){if("string"==typeof e)return lz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lz(e,t):void 0}}function lz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}rz.styleTagTransform=ke(),rz.setAttributes=Ee(),rz.insert=Ce().bind(null,"head"),rz.domAPI=be(),rz.insertStyleElement=xe(),ve()(nz.Z,rz),nz.Z&&nz.Z.locals&&nz.Z.locals;var uz=function(e){var t,r=e.uid,i=e.onLogout,o=e.onLogin,a=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid===r,s=(0,pe.$)().t,c=window.crawlear.fb,l=sz(n.useState({}),2),u=l[0],d=l[1],h=sz(n.useState({}),2),f=h[0],p=h[1],g=sz(n.useState([]),2),m=g[0],v=g[1],y=sz(n.useState(!1),2),b=y[0],w=y[1];return n.useEffect((function(){c.checkIfLogged((function(){o(!1)}))}),[]),n.useEffect((function(){r&&(c.getUser(r,(function(e){d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?az(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==iz(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==iz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===iz(t)?t:String(t)}(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):az(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),c.getUserExtraData(r,(function(e){p(e)}))})),c.getPosts(r,(function(e){v([].concat(oz(m),oz(e)))}),(function(){})),b&&le.Z.pageview("".concat(document.location.pathname).concat(document.location.search)))}),[b,r]),u.registrationDate&&m&&b?(t=f.judgeGames-f.pilotGames>0?1:f.judgeGames-f.pilotGames==0?2:0,n.createElement("div",{className:"userViewer"},c.isUserLogged()?n.createElement(n.Fragment,null,n.createElement("div",{className:"headerText bold sectionTitle"},s("description.perfilsocial"))):n.createElement("a",{href:"https://crawlear.com",target:"_blank"},n.createElement("img",{src:ge,className:"userViewerLogo",alt:"web logo"})),n.createElement(n.Fragment,null,n.createElement(HU,{onLogout:i,user:u}),n.createElement("div",{className:"statistics rounded rounded3"},n.createElement("div",{className:"headerText bold"},s("description.estadisticas")),n.createElement("div",null,s("description.partidascreadas"),": ",f.ownerGames||0),n.createElement("div",null,s("description.partidasdejuez"),": ",f.judgeGames||0),n.createElement("div",null,s("description.partidascomopiloto"),": ",f.pilotGames||0),n.createElement("p",{className:"bold"},s(1===t?"description.tendenciajuez":0===t?"description.tendenciapiloto":"description.tendencianeutral")),n.createElement("div",null,"".concat(s("description.siguiendo"),": ").concat(f.following)),n.createElement("div",null,"".concat(s("description.seguidores"),": ").concat(f.followers)))),n.createElement("div",{className:"posts"},n.createElement("div",{className:"sectionTitle headerText bold"},s("description.murodepiloto")),a?n.createElement(tz,{isOpened:!m.length,onPostEntry:function(e){var t=oz(m);t.unshift(e),v(t),le.Z.event("post","added",function(e){return e.url?Jt.isInstagramUrl(e.url)?"instagram":"youtube":"text"}(e))}}):n.createElement(n.Fragment,null),n.createElement(xU,{posts:m,readOnly:!a,removePostClick:function(e){e&&c.removePost(e,(function(){var t=m.filter((function(t){return t.pid!==e}));v(t),le.Z.event("post","removed")}),(function(){}))}})))):n.createElement(PU,{onVisible:function(e){e&&w(e)}})},dz=window.document.body,hz=function(e){var t=e.onLogin,r=e.onLogout,i=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid,o=n.useContext(nF).isUserLoged;return n.useEffect((function(){dz.classList.add("profile")}),[]),o?n.createElement(n.Fragment,null,n.createElement(uz,{onLogin:function(){t(!1)},onLogout:r,uid:i}),n.createElement(VU,null)):n.createElement(n.Fragment,null,Gt("content.userprofilenotlogged")," ",n.createElement("a",{href:"https://crawlear.com"},"crawlear.com"))},fz=a.p+"de8050057e44a7a2a984.png",pz=a.p+"1d4f369967075e00a2dc.png",gz=a.p+"f66fba6c19d4938b484d.png",mz=a(3024),vz={};vz.styleTagTransform=ke(),vz.setAttributes=Ee(),vz.insert=Ce().bind(null,"head"),vz.domAPI=be(),vz.insertStyleElement=xe(),ve()(mz.Z,vz),mz.Z&&mz.Z.locals&&mz.Z.locals;var yz=function(){var e=(0,pe.$)().t;return n.useEffect((function(){le.Z.pageview("/aboutus/")}),[]),n.createElement("div",{className:"aboutUsContent"},n.createElement("b",null,"crawlear.com")," ",e("content.aboutus"),n.createElement("img",{src:fz,alt:"crawler en accion"}),n.createElement("p",null,e("content.aboutus1")),n.createElement("img",{src:pz,alt:"crawler en accion2"}),n.createElement("p",null,e("content.aboutus2")),n.createElement("img",{src:gz,alt:"crawler en accion3"}),n.createElement("p",null,n.createElement("a",{href:"/"},">"," Volver")))},bz=a(2762),wz={};wz.styleTagTransform=ke(),wz.setAttributes=Ee(),wz.insert=Ce().bind(null,"head"),wz.domAPI=be(),wz.insertStyleElement=xe(),ve()(bz.Z,wz),bz.Z&&bz.Z.locals&&bz.Z.locals;var Cz=function(){var e=[];return n.useEffect((function(){le.Z.pageview("/privacypolicy/")}),[]),qt.language.indexOf("es")>=0?e.push(n.createElement("div",{className:"privacyPolicy"},n.createElement("b",null,"Politica de privacidad"),":",n.createElement("ul",null,n.createElement("li",null,"crawlear.com"),n.createElement("li",null,"contacto: Jose Angel Anguita en crawlear.com@gmail.com")),n.createElement("ul",null,n.createElement("li",null,"La información personal guardada y usada por crawlear.com es guardada simplemente para ofrecer una experiencia de usuario más completa."),n.createElement("li",null,"La información utilizada de la cuenta de google.com es tan sólo el displayName y photoURL"),n.createElement("li",null,"Cuando un juego es público, la localización y otras propiedades del juego serán usadas para enriquecer la experiencia de usuario")),"Publicidad:",n.createElement("ul",null,n.createElement("li",null,"Los proveedores de publicidad (google) usa cookies para mostrar anuncios relevantes basado en las visitas previas a su página web u otras páginas web."),n.createElement("li",null,"El uso de las cookies de publicidad permnite a los proveedores (google) y sus partners para mostrar anuncios basados en las visitas realizadas a sus páginas web u otras páginas de Internet."),n.createElement("li",null,"Usuarios pueden deshabilitar la publicidad personalizada. Para hacerlo, es necesario acceder a las preferencias de publicidad.")),"Cookies de otros proveedores o redes de publicidad  pueden también ser usadas para publicar publicidad en el sitio web:",n.createElement("ul",null,n.createElement("li",null,"Publicidad de otros proveedores o redes de publicidad se muestran."),n.createElement("li",null,"Puedes visitar las páginas web de dichos proveedores para deshabilitar el uso de cookies para la publicidad personalizada (en caso de que el proveedore de publicidad lo permita)."),n.createElement("li",null,"Tambien puedes visistar www.aboutads.info para deshabilitar el uso de cookies para la personalización de publicidad por otros proveedores.")))):e.push(n.createElement("div",{className:"privacyPolicy"},n.createElement("b",null,"Privacy Policy"),":",n.createElement("ul",null,n.createElement("li",null,"crawlear.com"),n.createElement("li",null,"contact: crawlear.com@gmail.com")),n.createElement("ul",null,n.createElement("li",null,"The personal information stored and used by crawlear.com are just stored to get a full user experience, game progresion and scores."),n.createElement("li",null,"Information used from google profile account is the displayName and photoURL"),n.createElement("li",null,"when a game is public, the location and other game information will be used to enrich the user experience")),"Advertising:",n.createElement("ul",null,n.createElement("li",null,"Advertising providers (google) use cookies to display relevant ads based on a user's previous visits to their website or other websites."),n.createElement("li",null,"The use of advertising cookies allows providers (google) and their partners to display advertisements based on the visits made by users to their websites or to other websites on the Internet."),n.createElement("li",null,"Users can disable personalized advertising. To do this, they will need to access Ads Preferences.")),"Cookies from other providers or advertising networks can also be used to publish advertisements on the site:",n.createElement("ul",null,n.createElement("li",null,"Advertisements from other providers and ad networks are displayed."),n.createElement("li",null,"You can visit the providers' websites to disable the use of cookies for personalized advertising (in case the provider or the ad network offers this option)."),n.createElement("li",null,"You can also access www.aboutads.info to disable the use of cookies for personalized advertising by other providers.")))),e.push(n.createElement("a",{href:"/"},"> Back")),e},Iz=a.p+"25f77727ed6da92a1cfb.png",Ez=a.p+"630f3e1e30bbbf36a209.jpeg",_z=a.p+"0e8411388912e8090839.png",xz=a.p+"616535897b5598e00b94.png",Az=a(1242),kz={};kz.styleTagTransform=ke(),kz.setAttributes=Ee(),kz.insert=Ce().bind(null,"head"),kz.domAPI=be(),kz.insertStyleElement=xe(),ve()(Az.Z,kz),Az.Z&&Az.Z.locals&&Az.Z.locals;var Sz=function(e){var t=e.onLogin,r=(0,pe.$)().t,i=$(),o=window.crawlear.fb;function a(){t(!0),i("/completegame")}return n.useEffect((function(){o.checkIfLogged(t),le.Z.pageview("/landing/")}),[]),EF?n.createElement(n.Fragment,null,n.createElement(IF,null)):n.createElement(n.Fragment,null,n.createElement(mF,null),n.createElement("div",{className:"loginAndContent aboutUsContent"},n.createElement("p",null,r("content.landingMainText"),":"),n.createElement("img",{className:"crawlerImageSignIn",src:Iz,alt:"t2 crawler",onClick:function(){o.signInWithGoogle(a)}}),n.createElement("p",null,r("content.licenseText")),n.createElement("p",null,r("content.colaboraciones"),n.createElement("br",null),n.createElement("img",{className:"collaborateLogo",src:Ez,alt:"Levante 1/24 Logo"}),n.createElement("a",{href:"https://www.clubzonarc.es/",alt:"Club ZonaRc website",rel:"noreferrer",target:"_blank"},n.createElement("img",{className:"collaborateLogo",src:_z,alt:"ZonaRc Logo"})),n.createElement("img",{className:"collaborateLogo",src:xz,alt:"Mini Crawler Passion Logo"}))),n.createElement(VU,null))};function Tz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pz(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nz=function(e){var t=e.pid,r=e.onLogin,i=(0,pe.$)().t,o=window.crawlear.fb,a=Tz(n.useState({}),2),s=a[0],c=a[1],l=Tz(n.useState({}),2),u=l[0],d=l[1],h=[];return n.useEffect((function(){return o.checkIfLogged((function(){r(!1)})),o.getPost(t,(function(e){c(e),o.getUser(e.uid,(function(e){d(e)}),(function(){}))}),(function(){})),le.Z.pageview("".concat(document.location.pathname).concat(document.location.search)),window.document.body.classList.add("postview"),function(){window.document.body.classList.remove("postview")}}),[]),o.isUserLogged()&&h.push(n.createElement("button",{key:"backButton",onClick:function(){window.history&&window.history.back()}},i("description.atras"))),n.createElement("div",{className:"userViewer"},o.isUserLogged()?n.createElement(n.Fragment,null):n.createElement("a",{href:"https://crawlear.com",target:"_blank"},n.createElement("img",{src:ge,className:"userViewerLogo",alt:"web logo"})),s.pid?n.createElement(n.Fragment,null,u.displayName?n.createElement(HU,{user:u}):n.createElement(n.Fragment,null),n.createElement(IU,{post:s,readOnly:!1})):n.createElement(n.Fragment,null,n.createElement("br",null),n.createElement(tF,null),n.createElement("br",null)),h)};window.onerror=function(e,t,n,r,i){console.error(e),le.Z.event("error","js","".concat(e," ").concat(i.stack," ").concat(t))};var Oz=a(3084),Rz={};Rz.styleTagTransform=ke(),Rz.setAttributes=Ee(),Rz.insert=Ce().bind(null,"head"),Rz.domAPI=be(),Rz.insertStyleElement=xe(),ve()(Oz.Z,Rz),Oz.Z&&Oz.Z.locals&&Oz.Z.locals;var Dz=a(1740),Lz={};Lz.styleTagTransform=ke(),Lz.setAttributes=Ee(),Lz.insert=Ce().bind(null,"head"),Lz.domAPI=be(),Lz.insertStyleElement=xe(),ve()(Dz.Z,Lz),Dz.Z&&Dz.Z.locals&&Dz.Z.locals;var Mz=a(8130),jz={};function Fz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}jz.styleTagTransform=ke(),jz.setAttributes=Ee(),jz.insert=Ce().bind(null,"head"),jz.domAPI=be(),jz.insertStyleElement=xe(),ve()(Mz.Z,jz),Mz.Z&&Mz.Z.locals&&Mz.Z.locals;var Vz=function(){var e=new jN,t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fz(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState(!1),2),r=t[0],i=t[1],o=$(),a=H(),s=new URLSearchParams(a.search);function c(e){i(!0),e&&o("/completegame")}function l(){i(!1)}return window.crawlear=window.crawlear||{},window.crawlear.fb=window.crawlear.fb||e,n.useEffect((function(){le.Z.event("App","init","".concat(navigator.userAgent))}),[]),n.createElement(nF.Provider,{value:{isUserLoged:r}},n.createElement("div",{className:"App"},r?n.createElement(Re,null):n.createElement(n.Fragment,null),n.createElement("div",{className:"AppMainContainer"},n.createElement(se,null,n.createElement(oe,{path:"/",element:n.createElement(Sz,{onLogin:function(){c(!0)}})}),n.createElement(oe,{path:"/completegame",element:n.createElement(kV,{onLogin:function(){c(!1)},onLogout:l})}),n.createElement(oe,{path:"/social",element:n.createElement(hz,{onLogin:function(){c(!1)},onLogout:l})}),n.createElement(oe,{path:"/follows",element:n.createElement(zU,null)}),n.createElement(oe,{path:"/gameconfigurator",element:n.createElement(hF,null)}),n.createElement(oe,{path:"/profile",element:n.createElement(uz,{onLogin:function(){c(!1)},onLogout:l,uid:s.get&&s.get("uid")})}),n.createElement(oe,{path:"/post",element:n.createElement(Nz,{onLogin:function(){c(!1)},pid:s.get&&s.get("pid")})}),n.createElement(oe,{path:"/aboutus",element:n.createElement(yz,null)}),n.createElement(oe,{path:"/privacypolicy",element:n.createElement(Cz,null)}),n.createElement(oe,{path:"/sitemap.xml",element:n.createElement(fe,{filePath:"/sitemap.xml"})}))),n.createElement("div",{className:"adsContainer"})))};new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Uz=r.startTransition;function zz(e){let{basename:r,children:i,future:a,window:l}=e,f=n.useRef();null==f.current&&(f.current=function(e){return void 0===e&&(e={}),function(e,n,r,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:l=!1}=i,f=a.history,p=t.Pop,g=null,m=v();function v(){return(f.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),n=null==e?null:e-m;m=e,g&&g({action:p,location:w.location,delta:n})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"==typeof e?e:h(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,f.replaceState(o({},f.state,{idx:m}),""));let w={get action(){return p},get location(){return e(a,f)},listen(e){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(s,y),g=e,()=>{a.removeEventListener(s,y),g=null}},createHref(e){return n(a,e)},createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=d(w.location,e,n);r&&r(i,e),m=v()+1;let o=u(i,m),s=w.createHref(i);try{f.pushState(o,"",s)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;a.location.assign(s)}l&&g&&g({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=d(w.location,e,n);r&&r(i,e),m=v();let o=u(i,m),a=w.createHref(i);f.replaceState(o,"",a),l&&g&&g({action:p,location:w.location,delta:0})},go(e){return f.go(e)}};return w}((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:h(t)}),null,e)}({window:l,v5Compat:!0}));let p=f.current,[g,m]=n.useState({action:p.action,location:p.location}),{v7_startTransition:v}=a||{},y=n.useCallback((e=>{v&&Uz?Uz((()=>m(e))):m(e)}),[m,v]);return n.useLayoutEffect((()=>p.listen(y)),[p,y]),n.createElement(ae,{basename:r,children:i,location:g.location,navigationType:g.action,navigator:p})}var Bz,Gz;"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"}(Bz||(Bz={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Gz||(Gz={}));var qz,Zz=a(7031),Wz=[],Hz=Wz.forEach,Kz=Wz.slice,$z=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Qz={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=encodeURIComponent(t),o="".concat(e,"=").concat(i);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!$z.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!$z.test(r.path))throw new TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}(e,encodeURIComponent(t),i)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},Yz={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");o>0&&r[i].substring(0,o)===e.lookupQuerystring&&(t=r[i].substring(o+1))}}return t}},Jz=null,Xz=function(){if(null!==Jz)return Jz;try{Jz="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Jz=!1}return Jz},eB={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&Xz()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&Xz()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},tB=null,nB=function(){if(null!==tB)return tB;try{tB="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){tB=!1}return tB},rB={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&nB()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&nB()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},iB={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},oB={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},aB={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},sB={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}},cB=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Le.Z)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,Me.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return Hz.call(Kz.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Qz),this.addDetector(Yz),this.addDetector(eB),this.addDetector(rB),this.addDetector(iB),this.addDetector(oB),this.addDetector(aB),this.addDetector(sB)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();cB.type="languageDetector",qt.use(cB).use(Zz.Db).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:{content:{aboutus:"arises from the hobby of a group of friends after discovering the world of the rc crawler, entering the 1/24 scale.",aboutus1:"After going out on the field a couple of times, we realized that it would be a good idea to have a scoreboard for the matches, where we can manage the points in the different game modes that we practice.",aboutus2:"If you have any questions, comments or suggestions, do not hesitate to contact us at crawlear.com@gmail.com",aboutus3:"Barcelona (Spain) 2021",welcomeMessage:"is a professional and social score board for your 1/10 or 1/24 crawler AECAR, ISRCC, Levante 1/24, Mini Crawler Passion and ZonaRc regional Championship compatible events or competitions.",instrucciones:"First add the players, select the game mode, the points type and push the Begin button.",instrucciones1:"By clicking on the player you can define a positive (initial advantage) or negative (initial disadvantage) handicap. At the end of the game, the handicap will be added to the player's points to calculate the total points.",maxTimeText1:"Select the maximum time (0 if you do not want to apply maximum time):",maxTimeText2:"Select the maximum points (0 if you do not want to apply a maximum score):",usuariodesistema:"You can search and add a crawlear registered user, or add a non-registered one:",usuarionosistema:"You can search users:",puedesbuscarusuarios:"You can search for users:",clickenusuariooseguir:"Click on user to view his pilot profile and click on follow/unfollow tol fill your pilot's wall",enviorequest:"To add a registered player, send him play request",enviorequest2:"The player must accept the request to be added to the game",peticionjuegoconfirmacion:"Do you want to send a game request?",seguroborrarjuego:"Do you want to delete the game?",seguroborrarpost:"Do you want to delete the post?",nogeolocation:"Your browser does not support geolocation",landingMainText:"Sign In with your Google.com account to get all the functionality",landingSecondText:"Or just play a",seleccionZonas:"Select the number of zones",seleccionPuertas:"Select the number of progression gates for each zone",seleccionapilotoyzona:"Select a player and a zone to continue",pulsafinjugador:"Push End Player to finish the zone",quiereseditarpartida:"Do you want to edit the previous saved play?",cerrarpartida:"Do you want to close the play? you will not be abe to edit it again",finalizarreparacion:"Do you wanna finish the repair status?",marcarfiascoreparacion:"Do you want to set the repair fiasco?",quieresempezarzona:"Do you want to begin the play?",seguroeditarpartidaenjuego:"If you edit a zone and player and they are still going on, you can lose play data. ¿Are you sure that you want to edit the game?",licenseText:"Contact us if you are interested in license the crawlear tool for an official event or competition at crawlear.com@gmail.com",zonascompletadas:"Completed zones by group:",estadozona:"Zone status:",quieresenviarpeticiondepresencia:"Do you want to send a presence request?",aceptarpresencia:"Do you want to clean the presence request?",selecciongrupos:"Select the number of groups",colaboraciones:"Collaborates:",editprofile:"You can edit the user profile clicking on name, description or instagram username",userprofilenotlogged:"You must be logged with a google account to see the user profile",urlEmbed:"(optional) url to an instagram, youtube or tiktok post",textEmbed:"text message of the post",gameEmbed:"if the post is related with one of your public games, select it to asociate it to the post and the users will see the results and location (if available).",nopost:"There is no posts at youy profile. Fill the profile with your lastest photos and videos from instagram, tiktok and youtube",nofeedpost:"There is no posts at your pilot feed. Follow to your friends or favorite pilots to get their posts.",shareProfileText:"Hey! Check this crawlear.com pilot profile ",sharePostText:"Hey! Check this crawlear.com post ",comparteenredespiloto:"Share this pilot profile in social networks:",comparteenredespost:"Share this post in social networks:",ayudasocialprofile:"Are you looking to view or edit your pilot profile? Open the lateral menu and go to Social Profile or click this help",offlineMainText:"Your browser is offline, check again in minutes or create an offline game (it will be not be saved!)"},error:{nojugadores:"Add the players",nojueces:"Add the judges",nonombre:"Fill in at least the name of the game to continue",nogeolocation:"Cant get geolocation or there is a permission error",juegoencurso:"Player is already playing the zone",reparacionencurso:"Player is currently repairing",rellenargrupos:"Check the configuration, there is a group with no pilots",nodirectordepartida:"Check at least one judge as Game director",noposttext:"The post text is empty",noposturl:"The post url is empty",nosocialurl:"The url must be a youtube, instagram or tiktok public post"},description:{juego:"game",juegopublico:"public game",nojugadores:"No players",nojueces:"No judges",nopartidas:"No current games",norequests:"No current game requests",jugadores:"Players",juezdepista:"Track Judge",juezdecarpa:"Tent Judge",iniciarreparacion:"Start repair",enreparaciondesde:"Since:",jueces:"Judges",nuevojugador:"New player",ordenaleatorio:"Random order",empezar:"Begin",crear:"New game",crearoffline:"New offline game",atras:"Back",ganador:"WINNER",empate:"TIE GAME",tiempo:"TIME",puntos:"POINTS",finjugador:"end player",total:"TOTAL",ordenruta:"Rute ORDER",fin:"End",reset:"Reset",continuar:"Continue",tiempomaximo:"MAX TIME",zonas:"Zones",zona:"Zone",puntosmaximo:"MAX POINTS",handicap:"handicap",instrucciones:"Instructions",paginaprincipal:"Main page",aboutus:"About us",politicaprivacidad:"Privacy policy",registro:"Registration",descripcion:"Description",partidascomopiloto:"Pilot games",partidasenjuego:"Current Games",partidasdejuez:"Judge Games",partidascreadas:"Created Games",partidasprevias:"Previous Games",jugador:"Player",nuevaPartida:"New Game",nombre:"Name",fecha:"Date",esPublica:"Is public",localizacion:"Location",obtener:"Get",obteniendo:"Getting",buscarusuario:"User search",resultado:"Result",vergooglemaps:"View in Google Maps",verperfil:"View social profile",ver:"View",usuariosenpartida:"Players in game",juecesenpartida:"Judges in game",peticionesdejuego:"Game requests",peticionde:"Request from",parajuego:"para el juego",peticionespendientes:"pending requests",enviar:"send",resumen:"Brief",detalle:"Detail",penalizaciones:"Penalties",penalizacionesadicionales:"Additional penalties",avancepuerta:"Gate",fallospuerta:"gate fails",puertas:"gates",bonificacion:"bonification",jugadorseleccionado:"Selected player",zonaseleccionada:"Selected zone",nohayreparaciones:"There is no repairs",cerrarpartida:"Cerrar partida",waiting:"waiting",repair:"repair",done:"done",playing:"playing",estado:"Status",reparacionfinalizada:"repair end",portiempo:"by time",grupo:"Group",grupos:"Groups",directordepartida:"Game director",ocupado:"Busy",libre:"Free",peticionesdepresencia:"Presence requests",nopeticionespresencia:"No presence requests",de:"De:",aceptar:"Accept",reclamarpresencia:"Claim presence",entrenamientos:"Mange trainings",bonificacionaccesorios:"Accessory bonification",ayuda:"Help",estadisticas:"Statistics",posts:"Posts",texto:"Text",publicar:"Post an entry",compartir:"Share",noasignarjuego:"don't assign a game",sinjuego:"no game assigned",juegoasignado:"Game assigned",murodepiloto:"Pilot Wall",murodefollows:"Follows Wall",secciondejuego:"Game tool",resolverjuego:"get game result",herramientajuego:"Game Tool",volverherramientajuego:"go back to the game tool",tendenciapiloto:"Profile trend: PiLOT",tendenciajuez:"Profile trend: JUDGE",tendencianeutral:"Profile trend: PiLOT and JUDGE",perfilsocial:"Social profile",follow:"Follow",unfollow:"Unfollow",logout:"Logout",refrescar:"Reload",seguidores:"Followers",siguiendo:"Following",eliminarpartida:"Remove game",jugarpartida:"Play game",regenerarpartida:"Regenerate play",ordenRamdomJugadores:"Random players order"},points:{vuelco:"overturn",tocar:"touch",puerta:"gate",saltoobstaculo:"obstacle jump",reparacion:"repair",winch:"winch",puertaprogresion:"progression gate",distancia:"distance",equipaje:"baggage",anclajeindebido:"improper anchor",juez:"judge",saltopelota:"ball jump",nocomunicarcambio:"change not comunicated",bateria:"battery load",conductaincivica:"unsportsmanlike conduct",perdidacarnet:"loss of road license",modificarpista:"modify track conditions",perdidadorsal:"loss of bib",modificarcoche:"car manipulation",sacarcoche:"take the car out of the compound",nodorsal:"no dorsal",incumplimientotecnico:"Non-compliance with Technical Regulations",recolocacionbateria:"car body/battery relocation",puertamarchaatras:"reverse gate",retroceso:"backward",direcciondelcurso:"direction way",limite:"límite",fueraespecificacion:"out of specification",usodispositivo:"device used",noempezado:"not started",fiascos:"Fiascos",fiasco:"fiasco",noterminado:"not finished",tocarcochenoavanzar:"car touch",tocarcochepuerta:"car touch (passing gate)","empujarcocheacompañar":"Push car when accompanying",reparacion30mins:"Repair in Pits maximum 30min",conectarentiempoajuste:"Connect transmitter and receiver at time of adjustment",nococheparquecerrado:"Do not have the car in a closed park at the beginning of the zone","acaompañarcoche":"Accompany car (car and a half)",saltarsepuerta:"Skip gate",reparacionherramientasinsitu:"Repair with tools in situ",manipulacionvehiculocarpa:"Vehicle handling on the way to the tent",saltarzona:"Skip tricky zone (car + medium)",tocarcocheiniciovuelco:"Touch car when turning over",vuelcoasistidotoque:"Assisted rollover with a touch on the door or pilot",vuelcoasistido:"Assisted rollover",caidapuente:"Bridge fall",recolocarpuente:"Relocate on bridge",utilizacionextrawinch:"EXTRA use of the WINCH",vuelcotoquepuertapiloto:"Rollover touching door or pilot",terminarzonasinobjeto:"Zone end without an object",tocarcoche:"Touch the car",tocarpuerta:"Touch the door",vuelconoasistido:"Non-assisted rollover",interferiraccionjuez:"Interfere in the action of a Judge",moverwinch:"Move the vehicle >2cm when using the WINCH",tiemposentrenamiento:"Not respecting the training times",unaruedaejetrasero:"Pass only one wheel of the rear axle through the door",tocarpuertaunarueda:"To knock on a door and pass only 1 rear wheel through it",puertabonificada:"gate bonification",masuno:"+1",masdos:"+2",mastres:"+3",mascuatro:"+4",mascinco:"+5",bonificacion:"bonus"},gametype:{partidarapida:"Partida rápida",modojuego:"Game mode",tipopuntuacion:"Points type",modojuegotiempo:"A section is chosen and all participants will run it one by one and in the pre-established order. You run to points with time and maximum score and the possibility of making a fiasco. The winner will be the player with less points with a time tiebreaker.",modojuegopuntos:"A section is chosen and all participants will run it one by one and in the pre-established order. Points are run and the winner will be the player with the lowest score.",modojuegorey:"There is no pre-established route and the first participant, the King, chooses the path when playing. All participants run at the same time in line following the same route as the King. If a player scores he goes to the end of the queue. The winner will be the player with the lowest score.",modojuegoarcar:"By points game using the AECAR rules and scores",modojuegoisrcc:"By points game using the ISRCC rules and scores",modojuegolevante124:"By points game using the Levante 1/24 rules and scores",modojuegominicrawlerpassion:"By points game with basic but effective rules and scores",modojuegogeneric:"By pointa using generic rules and scores",simple:"Simple",completa:"Complete",descripcionPuntosSimple:"Score: Winch, touch, obstacle jump, repair, door, overturn and progression door. There is no time or maximum points. There is no max time or max points",descripcionPuntosCompleta:"Score: Winch, touch, distance, obstacle jump, repair, door, overturn, progression door, improper anchor, baggage, judge, ball jump, change not comunicated, battery load, unsportsmanlike conduct,loss of road license,modify track conditions, loss of bib, car manipulation, car out of the compound,no dorsal,non-compliance with Technical Regulations,car body/battery relocation, reverse gate. Variable number of zones, progression gates, optional time and maximum points. In this mode it is possible to apply maximum time and / or maximum score and make a fiasco in case of exceeding it. In the event of a fiasco, the player will score the maximum between the defined times / points and the current score.",tiempo:"Time",puntos:"Points",rey:"The King",isrcc:"ISRCC Rules",aecar:"AECAR Rules",levante124:"1/24 Levante Rules",generic:"Generic Rules",copaespana:"Regional ZonaRc",minicrawlerpassion:"Mini Crawler Passion",modojuegocopaespana:"By points game with full ZonaRc Regional Championship rules and scores"}}},es:{translation:{content:{aboutus:"surge a partir de la afición de un grupo de amigos después de descubrir el mundo del crawler rc, entrando por la escala 1/24.",aboutus1:"Después de salir al terreno de juego un par de veces nos dimos cuenta que sería una buena idea tener un marcador para las partidas, donde poder gestionar los puntos en los diferentes modos de juegos que practicamos.",aboutus2:"Si tienes alguna duda, comentario o sugerencia no dudes en contactar con nosotros en crawlear.com@gmail.com",aboutus3:"takezoRc, Barcelona 2022",welcomeMessage:"es un tablero profesional y social de puntuación para tus eventos o competiciones de Crawler 1/10 o 1/24 compatible con las reglas de AECAR, ISRCC, Levante 1/24, Mini Crawler Passion y el Campeonato Regional de ZonaRc.",instrucciones:"Primero añade los jugadores, selecciona el modo de juego, el tipo de puntuación y pulsa Empezar.",instrucciones1:"Pulsando en el jugador podrás definir un handicap positivo (ventaja inicial) o negativo (desventaja inicial). A final de partida el handicap se sumará a los puntos del jugador para calcular el total de puntos.",maxTimeText1:"Selecciona el tiempo máximo (0 si no quieres aplicar tiempo máximo):",maxTimeText2:"Selecciona el máximo de puntos (0 si no quieres aplicar puntuación máxima):",usuariodesistema:"Puedes buscar y añadir un usuario registrado en crawlear, o añadir un usuario no registrado:",usuarionosistema:"Puedes añadir usuarios:",puedesbuscarusuarios:"Puedes buscar usuarios:",clickenusuariooseguir:"Pulsa un usuario para ir a su perfil de piloto y pulsa seguir/dejar de seguir para rellenar tu muro de pilotos",enviorequest:"Para agregar un usuario registrado, envía una petición de juego",enviorequest2:"El usuario deberá aceptar la petición para poder ser agregado a la partida",peticionjuegoconfirmacion:"¿Quieres enviar una petición de juego?",seguroborrarjuego:"¿Quieres ELIMINAR el juego?",seguroborrarpost:"¿Quieres ELIMINAR la entrada?",nogeolocation:"Tu navegador no soporta geolocalizacíon",landingMainText:"Ingresa con tu cuenta de Google.com para acceder a las funcionalidades completas",landingSecondText:"O si lo prefieres, puedes jugar simplemente una",seleccionZonas:"Selecciona el número de zonas o sectores",seleccionPuertas:"Selecciona el número de puertas de progresión por cada zona",seleccionapilotoyzona:"Selecciona un piloto y una zona para continuar",pulsafinjugador:"Pulsa Fin Jugador para acabar la zona",quiereseditarpartida:"¿Quieres editar las puntuaciones previamente guardadas?",cerrarpartida:"¿Quieres cerrar la partida? No será posible volver a editar las puntuaciones",finalizarreparacion:"¿Quieres finalizar la reparación?",marcarfiascoreparacion:"¿Quieres marcar fiasco de reparación?",quieresempezarzona:"¿Quieres empezar el juego?",seguroeditarpartidaenjuego:"Si editas un juego en marcha podrás perder datos de la partida. ¿Estás seguro que quieres editar una zona en curso?",licenseText:"Contacta con nosotros en crawlear.com@gmail.com si estás interesado en licenciar la herramienta crawlear para un evento o competición oficial",zonascompletadas:"Zonas completadas por grupo:",estadozona:"Estado de zonas:",quieresenviarpeticiondepresencia:"¿Quieres enviar una petición de presencia al director del juego?",aceptarpresencia:"¿Quieres limpiar la petición de presencia?",selecciongrupos:"Selecciona el número de grupos en la partida",colaboraciones:"Colabora:",editprofile:"Puedes editar los datos haciendo click en el nombre, descripción o nombre de usuario en instagram",userprofilenotlogged:"Haz Sign In en crawlear.com con una cuenta de google para poder ver la información del perfil de usuario",urlEmbed:"(opcional) url a un post de insagram, youtube o tiktok",textEmbed:"mensaje de la entrada",gameEmbed:"si está relacionado con la entrada puedes seleccionar unos de tus juegos marcados como PÚBLICO y los usuarios podrán ver el resultado y la localización (si hubiese)",nopost:"No hay ninguna entrada en tu perfil. Rellénalo con tus últimas fotografías y videos de instagram. Tiktok, Facebook y Youtube",nofeedpost:"No hay ninguna entrada en tu muro de pilotos seguidos. Sigue a tus amigos o pilotos favoritos para ver aquí sus entradas.",shareProfileText:"Hey! Echa un ojo a éste perfil de piloto en crawlear.com ",sharePostText:"Hey! Echa un ojo a ésta entrada en crawlear.com ",comparteenredespost:"Comparte ésta entrada en redes sociales:",comparteenredespiloto:"Comparte éste perfil de piloto en redes sociales:",ayudasocialprofile:"Nuevo Perfil de Piloto Social en Crawlear.com! Accede desde el menú lateral > Perfil Social o haciendo click aqui.",offlineMainText:"Tu navegador no tiene conexión, comprueba de nuevo en unos minutos  o crea un juego sin conexión (no será guardado!)"},error:{nojugadores:"Añade a los jugadores",nojueces:"Añade a los jueces",nonombre:"Rellena al menos el nombre de la partida para continuar",nogeolocation:"No se puede obtener la geolocalización o no hay permisos",juegoencurso:"El jugador y la zona ya está en juego",reparacionencurso:"El jugador está en estado de reparación",rellenargrupos:"Repasa la configuración, existe algun grupo sin pilotos",nodirectordepartida:"Marca al menos un juez como director de partida",noposttext:"El texto de la entrada está vacío",noposturl:"La url de la entrada está vacía",nosocialurl:"La url debe apuntar a una entrada de youtube, tiktok o instagram"},description:{juego:"juego",juegopublico:"juego público",nojugadores:"No hay jugadores",nojueces:"No hay jueces",nopartidas:"No hay partidas en curso",norequests:"No hay peticiones de juego en curso",jugadores:"Jugadores",jueces:"Jueces",enreparaciondesde:"Desde:",iniciarreparacion:"Iniciar reparación",juezdepista:"Juez de Pista",juezdecarpa:"Juez de Carpa",nuevojugador:"Nuevo jugador",ordenaleatorio:"Orden aleatorio",empezar:"Empezar",crear:"Crear juego",crearoffline:"Crear juego offline",atras:"Atrás",ganador:"GANADOR",empate:"EMPATE",tiempo:"TIEMPO",puntos:"PUNTOS",finjugador:"fin jugador",total:"TOTAL",ordenruta:"ORDEN de Ruta",fin:"Fin",reset:"Reiniciar",continuar:"Continuar",tiempomaximo:"TIEMPO MAX",zonas:"Zonas",zona:"Zona",puntosmaximo:"MAX PUNTOS",handicap:"handicap",instrucciones:"Instrucciones",paginaprincipal:"Página principal",aboutus:"Sobre nosotros",politicaprivacidad:"Política de privacidad",registro:"Registro",descripcion:"Descripción",partidascomopiloto:"Partidas como Piloto",partidasenjuego:"Partidas en proceso",partidasdejuez:"Partidas como Juez",partidascreadas:"Partidas creadas",partidasprevias:"Partidas previas",jugador:"Jugador",nuevaPartida:"Nuevo juego",nombre:"Nombre",fecha:"Fecha",esPublica:"Es pública",localizacion:"Localización",obtener:"Obtener",obteniendo:"Obteniendo",buscarusuario:"Buscar usuario",resultado:"Resultado",vergooglemaps:"Ver en Google Maps",verperfil:"Ver perfil social",ver:"Ver",usuariosenpartida:"Jugadores en partida",juecesenpartida:"Jueces en partida",peticionesdejuego:"Peticiones de Juego",peticionde:"Petición de",parajuego:"para el juego",peticionespendientes:"peticiones pendientes",enviar:"enviar",resumen:"Resumen",detalle:"Detalle",penalizaciones:"Penalizaciones",penalizacionesadicionales:"Penalizaciones adicionales",avancepuerta:"Puertas",fallospuerta:"puertas fallidas",puertas:"puertas",bonificacion:"bonificación",jugadorseleccionado:"Piloto seleccionado",zonaseleccionada:"Zona seleccionada",nohayreparaciones:"No hay reparaciones",cerrarpartida:"Cerrar partida",waiting:"espera",repair:"reparación",done:"hecho",playing:"en juego",estado:"Estado",reparacionfinalizada:"reparación finalizada",portiempo:"por tiempo",grupo:"Grupo",grupos:"Grupos",directordepartida:"Director de juego",ocupado:"Ocupado",libre:"Libre",peticionesdepresencia:"Peticiones de presencia",nopeticionespresencia:"Sin peticiones de presencia",de:"de:",aceptar:"Aceptar",reclamarpresencia:"Reclamar presencia",entrenamientos:"Gestionar entrenamientos",bonificacionaccesorios:"Bonificación de accesorios",ayuda:"Ayuda",estadisticas:"Estadísticas",posts:"Entradas",texto:"Texto",publicar:"Publicar entrada",compartir:"Compartir",noasignarjuego:"no asignar juego",sinjuego:"sin juego asignado",juegoasignado:"Juego asignado",murodepiloto:"Muro de Piloto",murodefollows:"Muro de Pilotos",secciondejuego:"Herramienta de juego",resolverjuego:"ver resultado del juego",herramientajuego:"Herramienta de juego",volverherramientajuego:"volver a la herramienta de juego",tendenciapiloto:"Tendencia del perfil: PiLOTO",tendenciajuez:"Tendencia del perfil: JUEZ",tendencianeutral:"Tendencia del perfil: JUEZ y PiLOTO",perfilsocial:"Perfil social",follow:"Seguir",unfollow:"Dejar de serguir",logout:"Salir",refrescar:"Recargar",seguidores:"Seguidores",siguiendo:"Siguiendo",eliminarpartida:"Eliminar partida",jugarpartida:"Jugar partida",regenerarpartida:"Regenerar partida",ordenRamdomJugadores:"Orden aleatorio de salida"},points:{vuelco:"vuelco",tocar:"tocar",puerta:"puerta",saltoobstaculo:"salto obstaculo",reparacion:"reparación",winch:"winch",puertaprogresion:"puerta de progresion",distancia:"distancia",equipaje:"equipaje",anclajeindebido:"anclaje indebido",juez:"juez",saltopelota:"salto de pelota",nocomunicarcambio:"cambio no comunicado",bateria:"carga de bateria",conductaincivica:"conducta incívica",perdidacarnet:"pérdida de carnet",modificarpista:"modificar condición de pista",perdidadorsal:"perdida de dorsal",modificarcoche:"manipulación del coche",sacarcoche:"coche fuera del recinto",nodorsal:"no dorsal",incumplimientotecnico:"no cumplir reglamento técnico",recolocacionbateria:"recolocación bateria/carrocería",puertamarchaatras:"puerta marcha atrás",retroceso:"retroceso",direcciondelcurso:"dirección del curso",limite:"límite",fueraespecificacion:"fuera especificación",usodispositivo:"uso de dispositivo",noempezado:"no empezado",fiascos:"Fiascos",fiasco:"fiasco",noterminado:"no terminado",tocarcochenoavanzar:"tocar coche (sin avanzar)",tocarcochepuerta:"tocar coche (pasando puerta)","empujarcocheacompañar":"Empujar coche al acompañar",reparacion30mins:"Reparación en Boxes máximo 30min",conectarentiempoajuste:"Conectar emisora y receptor en tiempo de Ajuste",nococheparquecerrado:"No tener el coche en parque cerrado al inicio de la zona",manipulacionvehiculocarpa:"Manipulación Vehículo en trayecto a carpa",tiemposentrenamiento:"No respetar los tiempos de entrenamiento","acaompañarcoche":"Acompañar coche (coche y medio)",saltarsepuerta:"Saltarse Puerta",reparacionherramientasinsitu:"Reparación con herramientas in situ",saltarzona:"Saltar zona complicada (coche + medio)",tocarcocheiniciovuelco:"Tocar coche al iniciar vuelco",vuelcoasistidotoque:"Vuelco Asistido con toque en puerta o piloto",vuelcoasistido:"Vuelco Asistido ",caidapuente:"Caída de puente",recolocarpuente:"Recolocar en puente",utilizacionextrawinch:"Utilización EXTRA del WINCH",vuelcotoquepuertapiloto:"Vuelco con toque en puerta o piloto",terminarzonasinobjeto:"Terminar la zona sin algún objeto",tocarcoche:"Tocar el coche",tocarpuerta:"Tocar puerta",vuelconoasistido:"Vuelco no asistido",interferiraccionjuez:"Interferir en la acción de un Juez",moverwinch:"Mover el vehículo >2cm al sacar el WINCH",unaruedaejetrasero:"Pasar solo una rueda del eje trasero por la puerta",tocarpuertaunarueda:"Tocar puerta y pasar solo 1 rueda trasera por ella",puertabonificada:"Puerta bonificada",masuno:"+1",masdos:"+2",mastres:"+3",mascuatro:"+4",mascinco:"+5",bonificacion:"bonus"},gametype:{partidarapida:"Partida rápida",modojuego:"Modo de juego",tipopuntuacion:"Tipo de puntuacion",modojuegotiempo:"Se escoge un tramo y todos los participantes lo correrán uno por uno y en el orden preestablecido. Se corre a puntos con tiempo y puntuación máxima y la posibilidad de hacer fiasco. El ganador será el jugador con menor puntos con desempate de tiempo.",modojuegopuntos:"Se escoge un tramo y todos los participantes lo correrán uno por uno y en el orden preestablecido. Se corre a puntos y el ganador será el jugador con menor puntuación.",modojuegorey:"No hay ruta preestablecida y el primer participante, el Rey, escoge el camino al jugar. Todos los participantes corren a la vez en línea siguiendo la misma ruta que el Rey. Si un jugador puntúa pasa al final de la cola. El ganador será el jugador con menor puntuación.",modojuegoarcar:"Por puntos usando el reglamento y puntuaciones del reglamento ARCAR",modojuegoisrcc:"Por puntos usando el reglamento y puntuaciones del reglamento ISRCC",modojuegolevante124:"Por puntos usando reglas y puntuaciones del regalmento Levante 1/24",modojuegocopaespana:"Por puntos usando reglas y puntuaciones completas del Campeonato Regional de ZonaRc",modojuegominicrawlerpassion:"Por puntos usando reglas y puntuaciones básicas pero efectivas",modojuegogeneric:"Por puntos usando reglas y puntuaciones genéricas",simple:"Simple",completa:"Completa",descripcionPuntosSimple:"Puntuación: Winch, tocar, salto obstaculo, reparacion, puerta, vuelco y puerta progresion. No hay tiempo ni puntos máximos. No se aplica tiempo ni puntuación máxima.",descripcionPuntosCompleta:"Puntuación: Winch, tocar, distancia, salto obstaculo, reparacion, puerta, vuelco, puerta progresion, anclaje indebido, equipaje, juez, salto de pelota ,cambio no comunicado, carga de bateria, conducta incívica, pérdida de carnet, modificar condición de pista, perdida de dorsal, manipulación del coche, coche fuera del recinto, no dorsal, no cumplir reglamento técnico, recolocación bateria/carrocería y puerta marcha atrás. Número de zonas variables, puertas de progresión, Tiempo y puntos máximos opcionales. En éste modo es posible aplicar tiempo máximo y/o puntuación máxima y realizar un fiasco en caso de superarla. En caso de fiasco el jugador puntuará el máximo entre los tiempos / puntos definidos y la puntuación actual.",tiempo:"Tiempo",puntos:"Puntos",rey:"El Rey",isrcc:"Reglas ISRCC",aecar:"Reglas AECAR",levante124:"1/24 Levante",generic:"Reglas genéricas",copaespana:"Regional ZonaRc",minicrawlerpassion:"Mini Crawler Passion"}}}}}),le.Z.init("G-J1NH6FT6E3"),(0,i.s)(document.getElementById("root")).render(n.createElement(zz,null,n.createElement(Vz,null))),qz&&qz instanceof Function&&a.e(131).then(a.bind(a,2131)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;t(qz),n(qz),r(qz),i(qz),o(qz)})),"serviceWorker"in navigator?window.addEventListener("load",(function(){var e=document.location.href.indexOf("localhost")>=0?"service-worker-dev.js":"service-worker.js";navigator.serviceWorker.register(e).then((function(e){le.Z.event("App","pwa","registered")}),(function(e){le.Z.event("App","pwa","registration error"),console.log("ServiceWorker registration failed: ",e)})).catch((function(e){console.log(e)}))})):(le.Z.event("App","pwa","service worker not supported"),console.log("service worker is not supported"))}()}();