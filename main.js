/*! For license information please see main.js.LICENSE.txt */
!function(){var e,t,n={87757:function(e,t,n){e.exports=n(35666)},76124:function(e,t,n){"use strict";if(n(81934),n(95654),n(7694),n.g._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");function r(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}n.g._babelPolyfill=!0,r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(e){[][e]&&r(Array,e,Function.call.bind([][e]))}))},95654:function(e,t,n){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",l=t.regeneratorRuntime;if(l)e.exports=l;else{(l=t.regeneratorRuntime=e.exports).wrap=b;var u="suspendedStart",d="suspendedYield",h="executing",f="completed",p={},g={};g[a]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(P([])));v&&v!==r&&i.call(v,a)&&(g=v);var y=_.prototype=C.prototype=Object.create(g);I.prototype=y.constructor=_,_.constructor=I,_[c]=I.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===I||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(y),e},l.awrap=function(e){return{__await:e}},E(x.prototype),x.prototype[s]=function(){return this},l.AsyncIterator=x,l.async=function(e,t,n,r){var i=new x(b(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(y),y[c]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),p}}}function b(e,t,n,r){var i=t&&t.prototype instanceof C?t:C,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r=u;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=w(e,t,n);if("normal"===c.type){if(r=n.done?f:d,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function C(){}function I(){}function _(){}function E(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function x(e){function n(t,r,o,a){var s=w(e[t],e,r);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):Promise.resolve(l).then((function(e){c.value=e,o(c)}),a)}a(s.arg)}var r;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function i(){return new Promise((function(r,i){n(e,t,r,i)}))}return r=r?r.then(i,i):i()}}function A(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,A(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=w(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:n,done:!0}}}("object"==typeof n.g?n.g:"object"==typeof window?window:"object"==typeof self?self:this)},94184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7694:function(e,t,n){n(61761),e.exports=n(25645).RegExp.escape},24963:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},83365:function(e,t,n){var r=n(92032);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},17722:function(e,t,n){var r=n(86314)("unscopables"),i=Array.prototype;null==i[r]&&n(87728)(i,r,{}),e.exports=function(e){i[r][e]=!0}},76793:function(e,t,n){"use strict";var r=n(24496)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},83328:function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},27007:function(e,t,n){var r=n(55286);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},5216:function(e,t,n){"use strict";var r=n(20508),i=n(92337),o=n(10875);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),c=i(t,a),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?a:i(l,a))-c,a-s),d=1;for(c<s&&s<c+u&&(d=-1,c+=u-1,s+=u-1);u-- >0;)c in n?n[s]=n[c]:delete n[s],s+=d,c+=d;return n}},46852:function(e,t,n){"use strict";var r=n(20508),i=n(92337),o=n(10875);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>s;)t[s++]=e;return t}},9490:function(e,t,n){var r=n(3531);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},79315:function(e,t,n){var r=n(22110),i=n(10875),o=n(92337);e.exports=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},10050:function(e,t,n){var r=n(741),i=n(49797),o=n(20508),a=n(10875),s=n(16886);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,h=5==e||d,f=t||s;return function(t,s,p){for(var g,m,v=o(t),y=i(v),b=r(s,p,3),w=a(y.length),C=0,I=n?f(t,w):c?f(t,0):void 0;w>C;C++)if((h||C in y)&&(m=b(g=y[C],C,v),e))if(n)I[C]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return C;case 2:I.push(g)}else if(u)return!1;return d?-1:l||u?u:I}}},37628:function(e,t,n){var r=n(24963),i=n(20508),o=n(49797),a=n(10875);e.exports=function(e,t,n,s,c){r(t);var l=i(e),u=o(l),d=a(l.length),h=c?d-1:0,f=c?-1:1;if(n<2)for(;;){if(h in u){s=u[h],h+=f;break}if(h+=f,c?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:d>h;h+=f)h in u&&(s=t(s,u[h],h,l));return s}},42736:function(e,t,n){var r=n(55286),i=n(4302),o=n(86314)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},16886:function(e,t,n){var r=n(42736);e.exports=function(e,t){return new(r(e))(t)}},34398:function(e,t,n){"use strict";var r=n(24963),i=n(55286),o=n(97242),a=[].slice,s={},c=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?c(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},41488:function(e,t,n){var r=n(92032),i=n(86314)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},92032:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9824:function(e,t,n){"use strict";var r=n(99275).f,i=n(42503),o=n(24408),a=n(741),s=n(83328),c=n(3531),l=n(42923),u=n(15436),d=n(2974),h=n(67057),f=n(84728).fastKey,p=n(1616),g=h?"_s":"size",m=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[g]=0,null!=r&&c(r,n,e[l],e)}));return o(u.prototype,{clear:function(){for(var e=p(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var n=p(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(e){p(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(p(this,t),e)}}),h&&r(u.prototype,"size",{get:function(){return p(this,t)[g]}}),u},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){l(e,t,(function(e,n){this._t=p(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),d(t)}}},86132:function(e,t,n){var r=n(41488),i=n(9490);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},23657:function(e,t,n){"use strict";var r=n(24408),i=n(84728).getWeak,o=n(27007),a=n(55286),s=n(83328),c=n(3531),l=n(10050),u=n(79181),d=n(1616),h=l(5),f=l(6),p=0,g=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},v=function(e,t){return h(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var l=e((function(e,r){s(e,l,t,"_i"),e._t=t,e._i=p++,e._l=void 0,null!=r&&c(r,n,e[o],e)}));return r(l.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?g(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?g(d(this,t)).has(e):n&&u(n,this._i)}}),l},def:function(e,t,n){var r=i(o(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},45795:function(e,t,n){"use strict";var r=n(3816),i=n(42985),o=n(77234),a=n(24408),s=n(84728),c=n(3531),l=n(83328),u=n(55286),d=n(74253),h=n(7462),f=n(22943),p=n(40266);e.exports=function(e,t,n,g,m,v){var y=r[e],b=y,w=m?"set":"add",C=b&&b.prototype,I={},_=function(e){var t=C[e];o(C,e,"delete"==e||"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||C.forEach&&!d((function(){(new b).entries().next()})))){var E=new b,x=E[w](v?{}:-0,1)!=E,A=d((function(){E.has(1)})),k=h((function(e){new b(e)})),T=!v&&d((function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)}));k||((b=t((function(t,n){l(t,b,e);var r=p(new y,t,b);return null!=n&&c(n,m,r[w],r),r}))).prototype=C,C.constructor=b),(A||T)&&(_("delete"),_("has"),m&&_("get")),(T||x)&&_(w),v&&C.clear&&delete C.clear}else b=g.getConstructor(t,e,m,w),a(b.prototype,n),s.NEED=!0;return f(b,e),I[e]=b,i(i.G+i.W+i.F*(b!=y),I),v||g.setStrong(b,e,m),b}},25645:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},92811:function(e,t,n){"use strict";var r=n(99275),i=n(90681);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},741:function(e,t,n){var r=n(24963);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},53537:function(e,t,n){"use strict";var r=n(74253),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},870:function(e,t,n){"use strict";var r=n(27007),i=n(21689),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},91355:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},67057:function(e,t,n){e.exports=!n(74253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},62457:function(e,t,n){var r=n(55286),i=n(3816).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},74430:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:function(e,t,n){var r=n(47184),i=n(64548),o=n(14682);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),c=o.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},42985:function(e,t,n){var r=n(3816),i=n(25645),o=n(87728),a=n(77234),s=n(741),c=function(e,t,n){var l,u,d,h,f=e&c.F,p=e&c.G,g=e&c.S,m=e&c.P,v=e&c.B,y=p?r:g?r[t]||(r[t]={}):(r[t]||{}).prototype,b=p?i:i[t]||(i[t]={}),w=b.prototype||(b.prototype={});for(l in p&&(n=t),n)d=((u=!f&&y&&void 0!==y[l])?y:n)[l],h=v&&u?s(d,r):m&&"function"==typeof d?s(Function.call,d):d,y&&a(y,l,d,e&c.U),b[l]!=d&&o(b,l,h),m&&w[l]!=d&&(w[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},8852:function(e,t,n){var r=n(86314)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},74253:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},28082:function(e,t,n){"use strict";n(18269);var r=n(77234),i=n(87728),o=n(74253),a=n(91355),s=n(86314),c=n(21165),l=s("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var h=s(e),f=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=f?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[h](""),!t})):void 0;if(!f||!p||"replace"===e&&!u||"split"===e&&!d){var g=/./[h],m=n(a,h,""[e],(function(e,t,n,r,i){return t.exec===c?f&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,e,v),i(RegExp.prototype,h,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},53218:function(e,t,n){"use strict";var r=n(27007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},13325:function(e,t,n){"use strict";var r=n(4302),i=n(55286),o=n(10875),a=n(741),s=n(86314)("isConcatSpreadable");e.exports=function e(t,n,c,l,u,d,h,f){for(var p,g,m=u,v=0,y=!!h&&a(h,f,3);v<l;){if(v in c){if(p=y?y(c[v],v,n):c[v],g=!1,i(p)&&(g=void 0!==(g=p[s])?!!g:r(p)),g&&d>0)m=e(t,n,p,o(p.length),m,d-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=p}m++}v++}return m}},3531:function(e,t,n){var r=n(741),i=n(28851),o=n(86555),a=n(27007),s=n(10875),c=n(69002),l={},u={},d=e.exports=function(e,t,n,d,h){var f,p,g,m,v=h?function(){return e}:c(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(o(v)){for(f=s(e.length);f>b;b++)if((m=t?y(a(p=e[b])[0],p[1]):y(e[b]))===l||m===u)return m}else for(g=v.call(e);!(p=g.next()).done;)if((m=i(g,y,p.value,t))===l||m===u)return m};d.BREAK=l,d.RETURN=u},40018:function(e,t,n){e.exports=n(3825)("native-function-to-string",Function.toString)},3816:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},79181:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},87728:function(e,t,n){var r=n(99275),i=n(90681);e.exports=n(67057)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},40639:function(e,t,n){var r=n(3816).document;e.exports=r&&r.documentElement},1734:function(e,t,n){e.exports=!n(67057)&&!n(74253)((function(){return 7!=Object.defineProperty(n(62457)("div"),"a",{get:function(){return 7}}).a}))},40266:function(e,t,n){var r=n(55286),i=n(27375).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},97242:function(e){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},49797:function(e,t,n){var r=n(92032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},86555:function(e,t,n){var r=n(87234),i=n(86314)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},4302:function(e,t,n){var r=n(92032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},18367:function(e,t,n){var r=n(55286),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},55286:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},55364:function(e,t,n){var r=n(55286),i=n(92032),o=n(86314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},28851:function(e,t,n){var r=n(27007);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},49988:function(e,t,n){"use strict";var r=n(42503),i=n(90681),o=n(22943),a={};n(87728)(a,n(86314)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},42923:function(e,t,n){"use strict";var r=n(4461),i=n(42985),o=n(77234),a=n(87728),s=n(87234),c=n(49988),l=n(22943),u=n(468),d=n(86314)("iterator"),h=!([].keys&&"next"in[].keys()),f="keys",p="values",g=function(){return this};e.exports=function(e,t,n,m,v,y,b){c(n,t,m);var w,C,I,_=function(e){if(!h&&e in k)return k[e];switch(e){case f:case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",x=v==p,A=!1,k=e.prototype,T=k[d]||k["@@iterator"]||v&&k[v],S=T||_(v),P=v?x?_("entries"):S:void 0,N="Array"==t&&k.entries||T;if(N&&(I=u(N.call(new e)))!==Object.prototype&&I.next&&(l(I,E,!0),r||"function"==typeof I[d]||a(I,d,g)),x&&T&&T.name!==p&&(A=!0,S=function(){return T.call(this)}),r&&!b||!h&&!A&&k[d]||a(k,d,S),s[t]=S,s[E]=g,v)if(w={values:x?S:_(p),keys:y?S:_(f),entries:P},b)for(C in w)C in k||o(k,C,w[C]);else i(i.P+i.F*(h||A),t,w);return w}},7462:function(e,t,n){var r=n(86314)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},15436:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},87234:function(e){e.exports={}},4461:function(e){e.exports=!1},13086:function(e){var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},34934:function(e,t,n){var r=n(61801),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),c=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),l=r(e);return i<c?l*(i/c/a+1/o-1/o)*c*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?l*(1/0):l*n}},46206:function(e){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},68757:function(e){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},61801:function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},84728:function(e,t,n){var r=n(93953)("meta"),i=n(55286),o=n(79181),a=n(99275).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(74253)((function(){return c(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!o(e,r)&&u(e),e}}},50133:function(e,t,n){var r=n(88416),i=n(42985),o=n(3825)("metadata"),a=o.store||(o.store=new(n(30147))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o};e.exports={store:a,map:s,has:function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){s(n,r,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach((function(e,t){r.push(t)})),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},14351:function(e,t,n){var r=n(3816),i=n(74193).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(92032)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var d=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},43499:function(e,t,n){"use strict";var r=n(24963);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},35345:function(e,t,n){"use strict";var r=n(67057),i=n(47184),o=n(64548),a=n(14682),s=n(20508),c=n(49797),l=Object.assign;e.exports=!l||n(74253)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,u=1,d=o.f,h=a.f;l>u;)for(var f,p=c(arguments[u++]),g=d?i(p).concat(d(p)):i(p),m=g.length,v=0;m>v;)f=g[v++],r&&!h.call(p,f)||(n[f]=p[f]);return n}:l},42503:function(e,t,n){var r=n(27007),i=n(35588),o=n(74430),a=n(69335)("IE_PROTO"),s=function(){},c=function(){var e,t=n(62457)("iframe"),r=o.length;for(t.style.display="none",n(40639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},99275:function(e,t,n){var r=n(27007),i=n(1734),o=n(21689),a=Object.defineProperty;t.f=n(67057)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},35588:function(e,t,n){var r=n(99275),i=n(27007),o=n(47184);e.exports=n(67057)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},91670:function(e,t,n){"use strict";e.exports=n(4461)||!n(74253)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete n(3816)[e]}))},18693:function(e,t,n){var r=n(14682),i=n(90681),o=n(22110),a=n(21689),s=n(79181),c=n(1734),l=Object.getOwnPropertyDescriptor;t.f=n(67057)?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},39327:function(e,t,n){var r=n(22110),i=n(20616).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},20616:function(e,t,n){var r=n(60189),i=n(74430).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},64548:function(e,t){t.f=Object.getOwnPropertySymbols},468:function(e,t,n){var r=n(79181),i=n(20508),o=n(69335)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},60189:function(e,t,n){var r=n(79181),i=n(22110),o=n(79315)(!1),a=n(69335)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},47184:function(e,t,n){var r=n(60189),i=n(74430);e.exports=Object.keys||function(e){return r(e,i)}},14682:function(e,t){t.f={}.propertyIsEnumerable},33160:function(e,t,n){var r=n(42985),i=n(25645),o=n(74253);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},51131:function(e,t,n){var r=n(67057),i=n(47184),o=n(22110),a=n(14682).f;e.exports=function(e){return function(t){for(var n,s=o(t),c=i(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},57643:function(e,t,n){var r=n(20616),i=n(64548),o=n(27007),a=n(3816).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},47743:function(e,t,n){var r=n(3816).parseFloat,i=n(29599).trim;e.exports=1/r(n(84644)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},55960:function(e,t,n){var r=n(3816).parseInt,i=n(29599).trim,o=n(84644),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},10188:function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},50094:function(e,t,n){var r=n(27007),i=n(55286),o=n(43499);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},90681:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},24408:function(e,t,n){var r=n(77234);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},77234:function(e,t,n){var r=n(3816),i=n(87728),o=n(79181),a=n(93953)("src"),s=n(40018),c="toString",l=(""+s).split(c);n(25645).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},27787:function(e,t,n){"use strict";var r=n(41488),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},21165:function(e,t,n){"use strict";var r,i,o=n(53218),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(e){var t,n,r,i,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),l&&(t=c.lastIndex),r=a.call(c,e),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},74398:function(e){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},27195:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},31024:function(e,t,n){"use strict";var r=n(42985),i=n(24963),o=n(741),a=n(3531);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,c=arguments[1];return i(this),(t=void 0!==c)&&i(c),null==e?new this:(n=[],t?(r=0,s=o(c,arguments[2],2),a(e,!1,(function(e){n.push(s(e,r++))}))):a(e,!1,n.push,n),new this(n))}})}},94881:function(e,t,n){"use strict";var r=n(42985);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},27375:function(e,t,n){var r=n(55286),i=n(27007),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(741)(Function.call,n(18693).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},2974:function(e,t,n){"use strict";var r=n(3816),i=n(99275),o=n(67057),a=n(86314)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},22943:function(e,t,n){var r=n(99275).f,i=n(79181),o=n(86314)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},69335:function(e,t,n){var r=n(3825)("keys"),i=n(93953);e.exports=function(e){return r[e]||(r[e]=i(e))}},3825:function(e,t,n){var r=n(25645),i=n(3816),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},58364:function(e,t,n){var r=n(27007),i=n(24963),o=n(86314)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},77717:function(e,t,n){"use strict";var r=n(74253);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},24496:function(e,t,n){var r=n(81467),i=n(91355);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},42094:function(e,t,n){var r=n(55364),i=n(91355);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},29395:function(e,t,n){var r=n(42985),i=n(74253),o=n(91355),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},75442:function(e,t,n){var r=n(10875),i=n(68595),o=n(91355);e.exports=function(e,t,n,a){var s=String(o(e)),c=s.length,l=void 0===n?" ":String(n),u=r(t);if(u<=c||""==l)return s;var d=u-c,h=i.call(l,Math.ceil(d/l.length));return h.length>d&&(h=h.slice(0,d)),a?h+s:s+h}},68595:function(e,t,n){"use strict";var r=n(81467),i=n(91355);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},29599:function(e,t,n){var r=n(42985),i=n(91355),o=n(74253),a=n(84644),s="["+a+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),c=i[e]=s?t(d):a[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},d=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},84644:function(e){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},74193:function(e,t,n){var r,i,o,a=n(741),s=n(97242),c=n(40639),l=n(62457),u=n(3816),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,m=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},f=function(e){delete v[e]},"process"==n(92032)(d)?r=function(e){d.nextTick(a(y,e,1))}:g&&g.now?r=function(e){g.now(a(y,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:h,clear:f}},92337:function(e,t,n){var r=n(81467),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},94843:function(e,t,n){var r=n(81467),i=n(10875);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},81467:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},22110:function(e,t,n){var r=n(49797),i=n(91355);e.exports=function(e){return r(i(e))}},10875:function(e,t,n){var r=n(81467),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},20508:function(e,t,n){var r=n(91355);e.exports=function(e){return Object(r(e))}},21689:function(e,t,n){var r=n(55286);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},78440:function(e,t,n){"use strict";if(n(67057)){var r=n(4461),i=n(3816),o=n(74253),a=n(42985),s=n(89383),c=n(91125),l=n(741),u=n(83328),d=n(90681),h=n(87728),f=n(24408),p=n(81467),g=n(10875),m=n(94843),v=n(92337),y=n(21689),b=n(79181),w=n(41488),C=n(55286),I=n(20508),_=n(86555),E=n(42503),x=n(468),A=n(20616).f,k=n(69002),T=n(93953),S=n(86314),P=n(10050),N=n(79315),O=n(58364),R=n(56997),D=n(87234),L=n(7462),M=n(2974),j=n(46852),F=n(5216),U=n(99275),V=n(18693),z=U.f,B=V.f,q=i.RangeError,G=i.TypeError,W=i.Uint8Array,H="ArrayBuffer",K="SharedArrayBuffer",Z="BYTES_PER_ELEMENT",Y=Array.prototype,Q=c.ArrayBuffer,$=c.DataView,J=P(0),X=P(2),ee=P(3),te=P(4),ne=P(5),re=P(6),ie=N(!0),oe=N(!1),ae=R.values,se=R.keys,ce=R.entries,le=Y.lastIndexOf,ue=Y.reduce,de=Y.reduceRight,he=Y.join,fe=Y.sort,pe=Y.slice,ge=Y.toString,me=Y.toLocaleString,ve=S("iterator"),ye=S("toStringTag"),be=T("typed_constructor"),we=T("def_constructor"),Ce=s.CONSTR,Ie=s.TYPED,_e=s.VIEW,Ee="Wrong length!",xe=P(1,(function(e,t){return Pe(O(e,e[we]),t)})),Ae=o((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),ke=!!W&&!!W.prototype.set&&o((function(){new W(1).set({})})),Te=function(e,t){var n=p(e);if(n<0||n%t)throw q("Wrong offset!");return n},Se=function(e){if(C(e)&&Ie in e)return e;throw G(e+" is not a typed array!")},Pe=function(e,t){if(!C(e)||!(be in e))throw G("It is not a typed array constructor!");return new e(t)},Ne=function(e,t){return Oe(O(e,e[we]),t)},Oe=function(e,t){for(var n=0,r=t.length,i=Pe(e,r);r>n;)i[n]=t[n++];return i},Re=function(e,t,n){z(e,t,{get:function(){return this._d[n]}})},De=function(e){var t,n,r,i,o,a,s=I(e),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,h=k(s);if(null!=h&&!_(h)){for(a=h.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(d&&c>2&&(u=l(u,arguments[2],2)),t=0,n=g(s.length),i=Pe(this,n);n>t;t++)i[t]=d?u(s[t],t):s[t];return i},Le=function(){for(var e=0,t=arguments.length,n=Pe(this,t);t>e;)n[e]=arguments[e++];return n},Me=!!W&&o((function(){me.call(new W(1))})),je=function(){return me.apply(Me?pe.call(Se(this)):Se(this),arguments)},Fe={copyWithin:function(e,t){return F.call(Se(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return te(Se(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return j.apply(Se(this),arguments)},filter:function(e){return Ne(this,X(Se(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ne(Se(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return re(Se(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(Se(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return oe(Se(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ie(Se(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return he.apply(Se(this),arguments)},lastIndexOf:function(e){return le.apply(Se(this),arguments)},map:function(e){return xe(Se(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(Se(this),arguments)},reduceRight:function(e){return de.apply(Se(this),arguments)},reverse:function(){for(var e,t=this,n=Se(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return ee(Se(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return fe.call(Se(this),e)},subarray:function(e,t){var n=Se(this),r=n.length,i=v(e,r);return new(O(n,n[we]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===t?r:v(t,r))-i))}},Ue=function(e,t){return Ne(this,pe.call(Se(this),e,t))},Ve=function(e){Se(this);var t=Te(arguments[1],1),n=this.length,r=I(e),i=g(r.length),o=0;if(i+t>n)throw q(Ee);for(;o<i;)this[t+o]=r[o++]},ze={entries:function(){return ce.call(Se(this))},keys:function(){return se.call(Se(this))},values:function(){return ae.call(Se(this))}},Be=function(e,t){return C(e)&&e[Ie]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return Be(e,t=y(t,!0))?d(2,e[t]):B(e,t)},Ge=function(e,t,n){return!(Be(e,t=y(t,!0))&&C(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?z(e,t,n):(e[t]=n.value,e)};Ce||(V.f=qe,U.f=Ge),a(a.S+a.F*!Ce,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Ge}),o((function(){ge.call({})}))&&(ge=me=function(){return he.call(this)});var We=f({},Fe);f(We,ze),h(We,ve,ze.values),f(We,{slice:Ue,set:Ve,constructor:function(){},toString:ge,toLocaleString:je}),Re(We,"buffer","b"),Re(We,"byteOffset","o"),Re(We,"byteLength","l"),Re(We,"length","e"),z(We,ye,{get:function(){return this[Ie]}}),e.exports=function(e,t,n,c){var l=e+((c=!!c)?"Clamped":"")+"Array",d="get"+e,f="set"+e,p=i[l],v=p||{},y=p&&x(p),b=!p||!s.ABV,I={},_=p&&p.prototype,k=function(e,n){z(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,Ae)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[f](n*t+i.o,r,Ae)}(this,n,e)},enumerable:!0})};b?(p=n((function(e,n,r,i){u(e,p,l,"_d");var o,a,s,c,d=0,f=0;if(C(n)){if(!(n instanceof Q||(c=w(n))==H||c==K))return Ie in n?Oe(p,n):De.call(p,n);o=n,f=Te(r,t);var v=n.byteLength;if(void 0===i){if(v%t)throw q(Ee);if((a=v-f)<0)throw q(Ee)}else if((a=g(i)*t)+f>v)throw q(Ee);s=a/t}else s=m(n),o=new Q(a=s*t);for(h(e,"_d",{b:o,o:f,l:a,e:s,v:new $(o)});d<s;)k(e,d++)})),_=p.prototype=E(We),h(_,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&L((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,r,i){var o;return u(e,p,l),C(n)?n instanceof Q||(o=w(n))==H||o==K?void 0!==i?new v(n,Te(r,t),i):void 0!==r?new v(n,Te(r,t)):new v(n):Ie in n?Oe(p,n):De.call(p,n):new v(m(n))})),J(y!==Function.prototype?A(v).concat(A(y)):A(v),(function(e){e in p||h(p,e,v[e])})),p.prototype=_,r||(_.constructor=p));var T=_[ve],S=!!T&&("values"==T.name||null==T.name),P=ze.values;h(p,be,!0),h(_,Ie,l),h(_,_e,!0),h(_,we,p),(c?new p(1)[ye]==l:ye in _)||z(_,ye,{get:function(){return l}}),I[l]=p,a(a.G+a.W+a.F*(p!=v),I),a(a.S,l,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){v.of.call(p,1)})),l,{from:De,of:Le}),Z in _||h(_,Z,t),a(a.P,l,Fe),M(l),a(a.P+a.F*ke,l,{set:Ve}),a(a.P+a.F*!S,l,ze),r||_.toString==ge||(_.toString=ge),a(a.P+a.F*o((function(){new p(1).slice()})),l,{slice:Ue}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){_.toLocaleString.call([1,2])}))),l,{toLocaleString:je}),D[l]=S?T:P,r||S||h(_,ve,P)}}else e.exports=function(){}},91125:function(e,t,n){"use strict";var r=n(3816),i=n(67057),o=n(4461),a=n(89383),s=n(87728),c=n(24408),l=n(74253),u=n(83328),d=n(81467),h=n(10875),f=n(94843),p=n(20616).f,g=n(99275).f,m=n(46852),v=n(22943),y="ArrayBuffer",b="DataView",w="Wrong index!",C=r.ArrayBuffer,I=r.DataView,_=r.Math,E=r.RangeError,x=r.Infinity,A=C,k=_.abs,T=_.pow,S=_.floor,P=_.log,N=_.LN2,O="buffer",R="byteLength",D="byteOffset",L=i?"_b":O,M=i?"_l":R,j=i?"_o":D;function F(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,l=c>>1,u=23===t?T(2,-24)-T(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for((e=k(e))!=e||e===x?(i=e!=e?1:0,r=c):(r=S(P(e)/N),e*(o=T(2,-r))<1&&(r--,o*=2),(e+=r+l>=1?u/o:u*T(2,1-l))*o>=2&&(r++,o/=2),r+l>=c?(i=0,r=c):r+l>=1?(i=(e*o-1)*T(2,t),r+=l):(i=e*T(2,l-1)*T(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*h,a}function U(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=n-1,l=e[c--],u=127&l;for(l>>=7;s>0;u=256*u+e[c],c--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===u)u=1-a;else{if(u===o)return r?NaN:l?-x:x;r+=T(2,t),u-=a}return(l?-1:1)*r*T(2,u-t)}function V(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function z(e){return[255&e]}function B(e){return[255&e,e>>8&255]}function q(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function G(e){return F(e,52,8)}function W(e){return F(e,23,4)}function H(e,t,n){g(e.prototype,t,{get:function(){return this[n]}})}function K(e,t,n,r){var i=f(+n);if(i+t>e[M])throw E(w);var o=e[L]._b,a=i+e[j],s=o.slice(a,a+t);return r?s:s.reverse()}function Z(e,t,n,r,i,o){var a=f(+n);if(a+t>e[M])throw E(w);for(var s=e[L]._b,c=a+e[j],l=r(+i),u=0;u<t;u++)s[c+u]=l[o?u:t-u-1]}if(a.ABV){if(!l((function(){C(1)}))||!l((function(){new C(-1)}))||l((function(){return new C,new C(1.5),new C(NaN),C.name!=y}))){for(var Y,Q=(C=function(e){return u(this,C),new A(f(e))}).prototype=A.prototype,$=p(A),J=0;$.length>J;)(Y=$[J++])in C||s(C,Y,A[Y]);o||(Q.constructor=C)}var X=new I(new C(2)),ee=I.prototype.setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||c(I.prototype,{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else C=function(e){u(this,C,y);var t=f(e);this._b=m.call(new Array(t),0),this[M]=t},I=function(e,t,n){u(this,I,b),u(e,C,b);var r=e[M],i=d(t);if(i<0||i>r)throw E("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw E("Wrong length!");this[L]=e,this[j]=i,this[M]=n},i&&(H(C,R,"_l"),H(I,O,"_b"),H(I,R,"_l"),H(I,D,"_o")),c(I.prototype,{getInt8:function(e){return K(this,1,e)[0]<<24>>24},getUint8:function(e){return K(this,1,e)[0]},getInt16:function(e){var t=K(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=K(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return V(K(this,4,e,arguments[1]))},getUint32:function(e){return V(K(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return U(K(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return U(K(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Z(this,1,e,z,t)},setUint8:function(e,t){Z(this,1,e,z,t)},setInt16:function(e,t){Z(this,2,e,B,t,arguments[2])},setUint16:function(e,t){Z(this,2,e,B,t,arguments[2])},setInt32:function(e,t){Z(this,4,e,q,t,arguments[2])},setUint32:function(e,t){Z(this,4,e,q,t,arguments[2])},setFloat32:function(e,t){Z(this,4,e,W,t,arguments[2])},setFloat64:function(e,t){Z(this,8,e,G,t,arguments[2])}});v(C,y),v(I,b),s(I.prototype,a.VIEW,!0),t.ArrayBuffer=C,t.DataView=I},89383:function(e,t,n){for(var r,i=n(3816),o=n(87728),a=n(93953),s=a("typed_array"),c=a("view"),l=!(!i.ArrayBuffer||!i.DataView),u=l,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=i[h[d++]])?(o(r.prototype,s,!0),o(r.prototype,c,!0)):u=!1;e.exports={ABV:l,CONSTR:u,TYPED:s,VIEW:c}},93953:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},30575:function(e,t,n){var r=n(3816).navigator;e.exports=r&&r.userAgent||""},1616:function(e,t,n){var r=n(55286);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},36074:function(e,t,n){var r=n(3816),i=n(25645),o=n(4461),a=n(28787),s=n(99275).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},28787:function(e,t,n){t.f=n(86314)},86314:function(e,t,n){var r=n(3825)("wks"),i=n(93953),o=n(3816).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},69002:function(e,t,n){var r=n(41488),i=n(86314)("iterator"),o=n(87234);e.exports=n(25645).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},61761:function(e,t,n){var r=n(42985),i=n(74398)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},32e3:function(e,t,n){var r=n(42985);r(r.P,"Array",{copyWithin:n(5216)}),n(17722)("copyWithin")},15745:function(e,t,n){"use strict";var r=n(42985),i=n(10050)(4);r(r.P+r.F*!n(77717)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},48977:function(e,t,n){var r=n(42985);r(r.P,"Array",{fill:n(46852)}),n(17722)("fill")},98837:function(e,t,n){"use strict";var r=n(42985),i=n(10050)(2);r(r.P+r.F*!n(77717)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},94899:function(e,t,n){"use strict";var r=n(42985),i=n(10050)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(17722)(o)},52310:function(e,t,n){"use strict";var r=n(42985),i=n(10050)(5),o="find",a=!0;o in[]&&Array(1).find((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(17722)(o)},24336:function(e,t,n){"use strict";var r=n(42985),i=n(10050)(0),o=n(77717)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},30522:function(e,t,n){"use strict";var r=n(741),i=n(42985),o=n(20508),a=n(28851),s=n(86555),c=n(10875),l=n(92811),u=n(69002);i(i.S+i.F*!n(7462)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,d,h=o(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(h);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(t=c(h.length));t>v;v++)l(n,v,m?g(h[v],v):h[v]);else for(d=y.call(h),n=new f;!(i=d.next()).done;v++)l(n,v,m?a(d,g,[i.value,v],!0):i.value);return n.length=v,n}})},23369:function(e,t,n){"use strict";var r=n(42985),i=n(79315)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(77717)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},20774:function(e,t,n){var r=n(42985);r(r.S,"Array",{isArray:n(4302)})},56997:function(e,t,n){"use strict";var r=n(17722),i=n(15436),o=n(87234),a=n(22110);e.exports=n(42923)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},87842:function(e,t,n){"use strict";var r=n(42985),i=n(22110),o=[].join;r(r.P+r.F*(n(49797)!=Object||!n(77717)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},99564:function(e,t,n){"use strict";var r=n(42985),i=n(22110),o=n(81467),a=n(10875),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(77717)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},19371:function(e,t,n){"use strict";var r=n(42985),i=n(10050)(1);r(r.P+r.F*!n(77717)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},58295:function(e,t,n){"use strict";var r=n(42985),i=n(92811);r(r.S+r.F*n(74253)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},3750:function(e,t,n){"use strict";var r=n(42985),i=n(37628);r(r.P+r.F*!n(77717)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},33057:function(e,t,n){"use strict";var r=n(42985),i=n(37628);r(r.P+r.F*!n(77717)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},50110:function(e,t,n){"use strict";var r=n(42985),i=n(40639),o=n(92032),a=n(92337),s=n(10875),c=[].slice;r(r.P+r.F*n(74253)((function(){i&&c.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return c.call(this,e,t);for(var i=a(e,n),l=a(t,n),u=s(l-i),d=new Array(u),h=0;h<u;h++)d[h]="String"==r?this.charAt(i+h):this[i+h];return d}})},26773:function(e,t,n){"use strict";var r=n(42985),i=n(10050)(3);r(r.P+r.F*!n(77717)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},20075:function(e,t,n){"use strict";var r=n(42985),i=n(24963),o=n(20508),a=n(74253),s=[].sort,c=[1,2,3];r(r.P+r.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!n(77717)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},31842:function(e,t,n){n(2974)("Array")},81822:function(e,t,n){var r=n(42985);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},91031:function(e,t,n){var r=n(42985),i=n(53537);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},19977:function(e,t,n){"use strict";var r=n(42985),i=n(20508),o=n(21689);r(r.P+r.F*n(74253)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},41560:function(e,t,n){var r=n(86314)("toPrimitive"),i=Date.prototype;r in i||n(87728)(i,r,n(870))},46331:function(e,t,n){var r=Date.prototype,i="Invalid Date",o=r.toString,a=r.getTime;new Date(NaN)+""!=i&&n(77234)(r,"toString",(function(){var e=a.call(this);return e==e?o.call(this):i}))},39730:function(e,t,n){var r=n(42985);r(r.P,"Function",{bind:n(34398)})},48377:function(e,t,n){"use strict";var r=n(55286),i=n(468),o=n(86314)("hasInstance"),a=Function.prototype;o in a||n(99275).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},6059:function(e,t,n){var r=n(99275).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(67057)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},88416:function(e,t,n){"use strict";var r=n(9824),i=n(1616),o="Map";e.exports=n(45795)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},76503:function(e,t,n){var r=n(42985),i=n(46206),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},66786:function(e,t,n){var r=n(42985),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},50932:function(e,t,n){var r=n(42985),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},57526:function(e,t,n){var r=n(42985),i=n(61801);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},21591:function(e,t,n){var r=n(42985);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},9073:function(e,t,n){var r=n(42985),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},80347:function(e,t,n){var r=n(42985),i=n(13086);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},30579:function(e,t,n){var r=n(42985);r(r.S,"Math",{fround:n(34934)})},4669:function(e,t,n){var r=n(42985),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,c=0;a<s;)c<(n=i(arguments[a++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(o)}})},67710:function(e,t,n){var r=n(42985),i=Math.imul;r(r.S+r.F*n(74253)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},45789:function(e,t,n){var r=n(42985);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},33514:function(e,t,n){var r=n(42985);r(r.S,"Math",{log1p:n(46206)})},99978:function(e,t,n){var r=n(42985);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},58472:function(e,t,n){var r=n(42985);r(r.S,"Math",{sign:n(61801)})},86946:function(e,t,n){var r=n(42985),i=n(13086),o=Math.exp;r(r.S+r.F*n(74253)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},35068:function(e,t,n){var r=n(42985),i=n(13086),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},413:function(e,t,n){var r=n(42985);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},11246:function(e,t,n){"use strict";var r=n(3816),i=n(79181),o=n(92032),a=n(40266),s=n(21689),c=n(74253),l=n(20616).f,u=n(18693).f,d=n(99275).f,h=n(29599).trim,f="Number",p=r.Number,g=p,m=p.prototype,v=o(n(42503)(m))==f,y="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=y?t.trim():h(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,c=t.slice(2),l=0,u=c.length;l<u;l++)if((a=c.charCodeAt(l))<48||a>i)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?c((function(){m.valueOf.call(n)})):o(n)!=f)?a(new g(b(t)),n,p):b(t)};for(var w,C=n(67057)?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;C.length>I;I++)i(g,w=C[I])&&!i(p,w)&&d(p,w,u(g,w));p.prototype=m,m.constructor=p,n(77234)(r,f,p)}},75972:function(e,t,n){var r=n(42985);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},53403:function(e,t,n){var r=n(42985),i=n(3816).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},92516:function(e,t,n){var r=n(42985);r(r.S,"Number",{isInteger:n(18367)})},49371:function(e,t,n){var r=n(42985);r(r.S,"Number",{isNaN:function(e){return e!=e}})},86479:function(e,t,n){var r=n(42985),i=n(18367),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},91736:function(e,t,n){var r=n(42985);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},51889:function(e,t,n){var r=n(42985);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},65177:function(e,t,n){var r=n(42985),i=n(47743);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},81246:function(e,t,n){var r=n(42985),i=n(55960);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},30726:function(e,t,n){"use strict";var r=n(42985),i=n(81467),o=n(83365),a=n(68595),s=1..toFixed,c=Math.floor,l=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d="0",h=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*l[n],l[n]=r%1e7,r=c(r/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=c(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+a.call(d,7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(74253)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,c=o(this,u),l=i(e),m="",v=d;if(l<0||l>20)throw RangeError(u);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*g(2,69,1))-69,n=t<0?c*g(2,-t,1):c/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(h(0,n),r=l;r>=7;)h(1e7,0),r-=7;for(h(g(10,r,1),0),r=t-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),v=p()}else h(0,n),h(1<<-t,0),v=p()+a.call(d,l);return l>0?m+((s=v.length)<=l?"0."+a.call(d,l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l)):m+v}})},1901:function(e,t,n){"use strict";var r=n(42985),i=n(74253),o=n(83365),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},75115:function(e,t,n){var r=n(42985);r(r.S+r.F,"Object",{assign:n(35345)})},68132:function(e,t,n){var r=n(42985);r(r.S,"Object",{create:n(42503)})},37470:function(e,t,n){var r=n(42985);r(r.S+r.F*!n(67057),"Object",{defineProperties:n(35588)})},48388:function(e,t,n){var r=n(42985);r(r.S+r.F*!n(67057),"Object",{defineProperty:n(99275).f})},89375:function(e,t,n){var r=n(55286),i=n(84728).onFreeze;n(33160)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},94882:function(e,t,n){var r=n(22110),i=n(18693).f;n(33160)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},79622:function(e,t,n){n(33160)("getOwnPropertyNames",(function(){return n(39327).f}))},41520:function(e,t,n){var r=n(20508),i=n(468);n(33160)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},49892:function(e,t,n){var r=n(55286);n(33160)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},64157:function(e,t,n){var r=n(55286);n(33160)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},35095:function(e,t,n){var r=n(55286);n(33160)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},99176:function(e,t,n){var r=n(42985);r(r.S,"Object",{is:n(27195)})},27476:function(e,t,n){var r=n(20508),i=n(47184);n(33160)("keys",(function(){return function(e){return i(r(e))}}))},84672:function(e,t,n){var r=n(55286),i=n(84728).onFreeze;n(33160)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},43533:function(e,t,n){var r=n(55286),i=n(84728).onFreeze;n(33160)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},68838:function(e,t,n){var r=n(42985);r(r.S,"Object",{setPrototypeOf:n(27375).set})},96253:function(e,t,n){"use strict";var r=n(41488),i={};i[n(86314)("toStringTag")]="z",i+""!="[object z]"&&n(77234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},64299:function(e,t,n){var r=n(42985),i=n(47743);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},71084:function(e,t,n){var r=n(42985),i=n(55960);r(r.G+r.F*(parseInt!=i),{parseInt:i})},40851:function(e,t,n){"use strict";var r,i,o,a,s=n(4461),c=n(3816),l=n(741),u=n(41488),d=n(42985),h=n(55286),f=n(24963),p=n(83328),g=n(3531),m=n(58364),v=n(74193).set,y=n(14351)(),b=n(43499),w=n(10188),C=n(30575),I=n(50094),_="Promise",E=c.TypeError,x=c.process,A=x&&x.versions,k=A&&A.v8||"",T=c.Promise,S="process"==u(x),P=function(){},N=i=b.f,O=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(86314)("species")]=function(e){e(P,P)};return(S||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==k.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(e){}}(),R=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(i||(2==e._h&&j(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?l(E("Promise-chain cycle")):(o=R(n))?o.call(n,c,l):c(n)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)}))}},L=function(e){v.call(c,(function(){var t,n,r,i=e._v,o=M(e);if(o&&(t=w((function(){S?x.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=S||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){v.call(c,(function(){var t;S?x.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=R(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,l(U,r,1),l(F,r,1))}catch(e){F.call(r,e)}})):(n._v=e,n._s=1,D(n,!1))}catch(e){F.call({_w:n,_d:!1},e)}}};O||(T=function(e){p(this,T,_,"_h"),f(e),r.call(this);try{e(l(U,this,1),l(F,this,1))}catch(e){F.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(24408)(T.prototype,{then:function(e,t){var n=N(m(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=S?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(U,e,1),this.reject=l(F,e,1)},b.f=N=function(e){return e===T||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!O,{Promise:T}),n(22943)(T,_),n(2974)(_),a=n(25645).Promise,d(d.S+d.F*!O,_,{reject:function(e){var t=N(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!O),_,{resolve:function(e){return I(s&&this===a?T:this,e)}}),d(d.S+d.F*!(O&&n(7462)((function(e){T.all(e).catch(P)}))),_,{all:function(e){var t=this,n=N(t),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,a=1;g(e,!1,(function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=N(t),r=n.reject,i=w((function(){g(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},21572:function(e,t,n){var r=n(42985),i=n(24963),o=n(27007),a=(n(3816).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(74253)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),c=o(n);return a?a(r,t,c):s.call(r,t,c)}})},82139:function(e,t,n){var r=n(42985),i=n(42503),o=n(24963),a=n(27007),s=n(55286),c=n(74253),l=n(34398),u=(n(3816).Reflect||{}).construct,d=c((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),h=!c((function(){u((function(){}))}));r(r.S+r.F*(d||h),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var c=n.prototype,f=i(s(c)?c:Object.prototype),p=Function.apply.call(e,f,t);return s(p)?p:f}})},10685:function(e,t,n){var r=n(99275),i=n(42985),o=n(27007),a=n(21689);i(i.S+i.F*n(74253)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},85535:function(e,t,n){var r=n(42985),i=n(18693).f,o=n(27007);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},17347:function(e,t,n){"use strict";var r=n(42985),i=n(27007),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(49988)(o,"Object",(function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},96633:function(e,t,n){var r=n(18693),i=n(42985),o=n(27007);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},68989:function(e,t,n){var r=n(42985),i=n(468),o=n(27007);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},83049:function(e,t,n){var r=n(18693),i=n(468),o=n(79181),a=n(42985),s=n(55286),c=n(27007);a(a.S,"Reflect",{get:function e(t,n){var a,l,u=arguments.length<3?t:arguments[2];return c(t)===u?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(l=i(t))?e(l,n,u):void 0}})},78270:function(e,t,n){var r=n(42985);r(r.S,"Reflect",{has:function(e,t){return t in e}})},64510:function(e,t,n){var r=n(42985),i=n(27007),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},73984:function(e,t,n){var r=n(42985);r(r.S,"Reflect",{ownKeys:n(57643)})},75769:function(e,t,n){var r=n(42985),i=n(27007),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},96014:function(e,t,n){var r=n(42985),i=n(27375);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},50055:function(e,t,n){var r=n(99275),i=n(18693),o=n(468),a=n(79181),s=n(42985),c=n(90681),l=n(27007),u=n(55286);s(s.S,"Reflect",{set:function e(t,n,s){var d,h,f=arguments.length<4?t:arguments[3],p=i.f(l(t),n);if(!p){if(u(h=o(t)))return e(h,n,s,f);p=c(0)}if(a(p,"value")){if(!1===p.writable||!u(f))return!1;if(d=i.f(f,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(f,n,d)}else r.f(f,n,c(0,s));return!0}return void 0!==p.set&&(p.set.call(f,s),!0)}})},83946:function(e,t,n){var r=n(3816),i=n(40266),o=n(99275).f,a=n(20616).f,s=n(55364),c=n(53218),l=r.RegExp,u=l,d=l.prototype,h=/a/g,f=/a/g,p=new l(h)!==h;if(n(67057)&&(!p||n(74253)((function(){return f[n(86314)("match")]=!1,l(h)!=h||l(f)==f||"/a/i"!=l(h,"i")})))){l=function(e,t){var n=this instanceof l,r=s(e),o=void 0===t;return!n&&r&&e.constructor===l&&o?e:i(p?new u(r&&!o?e.source:e,t):u((r=e instanceof l)?e.source:e,r&&o?c.call(e):t),n?this:d,l)};for(var g=function(e){e in l||o(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=a(u),v=0;m.length>v;)g(m[v++]);d.constructor=l,l.prototype=d,n(77234)(r,"RegExp",l)}n(2974)("RegExp")},18269:function(e,t,n){"use strict";var r=n(21165);n(42985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},76774:function(e,t,n){n(67057)&&"g"!=/./g.flags&&n(99275).f(RegExp.prototype,"flags",{configurable:!0,get:n(53218)})},21466:function(e,t,n){"use strict";var r=n(27007),i=n(10875),o=n(76793),a=n(27787);n(28082)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;for(var d,h=[],f=0;null!==(d=a(c,l));){var p=String(d[0]);h[f]=p,""===p&&(c.lastIndex=o(l,i(c.lastIndex),u)),f++}return 0===f?null:h}]}))},59357:function(e,t,n){"use strict";var r=n(27007),i=n(20508),o=n(10875),a=n(81467),s=n(76793),c=n(27787),l=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(28082)("replace",2,(function(e,t,n,p){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=p(n,e,this,t);if(i.done)return i.value;var d=r(e),h=String(this),f="function"==typeof t;f||(t=String(t));var m=d.global;if(m){var v=d.unicode;d.lastIndex=0}for(var y=[];;){var b=c(d,h);if(null===b)break;if(y.push(b),!m)break;""===String(b[0])&&(d.lastIndex=s(h,o(d.lastIndex),v))}for(var w,C="",I=0,_=0;_<y.length;_++){b=y[_];for(var E=String(b[0]),x=l(u(a(b.index),h.length),0),A=[],k=1;k<b.length;k++)A.push(void 0===(w=b[k])?w:String(w));var T=b.groups;if(f){var S=[E].concat(A,x,h);void 0!==T&&S.push(T);var P=String(t.apply(void 0,S))}else P=g(E,h,x,A,T,t);x>=I&&(C+=h.slice(I,x)+P,I=x+E.length)}return C+h.slice(I)}];function g(e,t,r,o,a,s){var c=r+e.length,l=o.length,u=f;return void 0!==a&&(a=i(a),u=h),n.call(s,u,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var h=d(u/10);return 0===h?n:h<=l?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},76142:function(e,t,n){"use strict";var r=n(27007),i=n(27195),o=n(27787);n(28082)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),c=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var u=o(s,c);return i(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},51876:function(e,t,n){"use strict";var r=n(55364),i=n(27007),o=n(58364),a=n(76793),s=n(10875),c=n(27787),l=n(21165),u=n(74253),d=Math.min,h=[].push,f=4294967295,p=!u((function(){RegExp(f,"y")}));n(28082)("split",2,(function(e,t,n,u){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?f:t>>>0,g=new RegExp(e.source,u+"g");(o=l.call(g,i))&&!((a=g.lastIndex)>d&&(c.push(i.slice(d,o.index)),o.length>1&&o.index<i.length&&h.apply(c,o.slice(1)),s=o[0].length,d=a,c.length>=p));)g.lastIndex===o.index&&g.lastIndex++;return d===i.length?!s&&g.test("")||c.push(""):c.push(i.slice(d)),c.length>p?c.slice(0,p):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(e,t){var r=u(g,e,this,t,g!==n);if(r.done)return r.value;var l=i(e),h=String(this),m=o(l,RegExp),v=l.unicode,y=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),b=new m(p?l:"^(?:"+l.source+")",y),w=void 0===t?f:t>>>0;if(0===w)return[];if(0===h.length)return null===c(b,h)?[h]:[];for(var C=0,I=0,_=[];I<h.length;){b.lastIndex=p?I:0;var E,x=c(b,p?h:h.slice(I));if(null===x||(E=d(s(b.lastIndex+(p?0:I)),h.length))===C)I=a(h,I,v);else{if(_.push(h.slice(C,I)),_.length===w)return _;for(var A=1;A<=x.length-1;A++)if(_.push(x[A]),_.length===w)return _;I=C=E}}return _.push(h.slice(C)),_}]}))},66108:function(e,t,n){"use strict";n(76774);var r=n(27007),i=n(53218),o=n(67057),a="toString",s=/./.toString,c=function(e){n(77234)(RegExp.prototype,a,e,!0)};n(74253)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?c((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):s.name!=a&&c((function(){return s.call(this)}))},98184:function(e,t,n){"use strict";var r=n(9824),i=n(1616);e.exports=n(45795)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},40856:function(e,t,n){"use strict";n(29395)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},80703:function(e,t,n){"use strict";n(29395)("big",(function(e){return function(){return e(this,"big","","")}}))},91539:function(e,t,n){"use strict";n(29395)("blink",(function(e){return function(){return e(this,"blink","","")}}))},5292:function(e,t,n){"use strict";n(29395)("bold",(function(e){return function(){return e(this,"b","","")}}))},29539:function(e,t,n){"use strict";var r=n(42985),i=n(24496)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},96620:function(e,t,n){"use strict";var r=n(42985),i=n(10875),o=n(42094),a="endsWith",s="".endsWith;r(r.P+r.F*n(8852)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),c=void 0===n?r:Math.min(i(n),r),l=String(e);return s?s.call(t,l,c):t.slice(c-l.length,c)===l}})},45177:function(e,t,n){"use strict";n(29395)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},73694:function(e,t,n){"use strict";n(29395)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},37648:function(e,t,n){"use strict";n(29395)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},50191:function(e,t,n){var r=n(42985),i=n(92337),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},62850:function(e,t,n){"use strict";var r=n(42985),i=n(42094),o="includes";r(r.P+r.F*n(8852)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},27795:function(e,t,n){"use strict";n(29395)("italics",(function(e){return function(){return e(this,"i","","")}}))},39115:function(e,t,n){"use strict";var r=n(24496)(!0);n(42923)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},4531:function(e,t,n){"use strict";n(29395)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},98306:function(e,t,n){var r=n(42985),i=n(22110),o=n(10875);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},10823:function(e,t,n){var r=n(42985);r(r.P,"String",{repeat:n(68595)})},23605:function(e,t,n){"use strict";n(29395)("small",(function(e){return function(){return e(this,"small","","")}}))},17732:function(e,t,n){"use strict";var r=n(42985),i=n(10875),o=n(42094),a="startsWith",s="".startsWith;r(r.P+r.F*n(8852)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},6780:function(e,t,n){"use strict";n(29395)("strike",(function(e){return function(){return e(this,"strike","","")}}))},69937:function(e,t,n){"use strict";n(29395)("sub",(function(e){return function(){return e(this,"sub","","")}}))},10511:function(e,t,n){"use strict";n(29395)("sup",(function(e){return function(){return e(this,"sup","","")}}))},64564:function(e,t,n){"use strict";n(29599)("trim",(function(e){return function(){return e(this,3)}}))},95767:function(e,t,n){"use strict";var r=n(3816),i=n(79181),o=n(67057),a=n(42985),s=n(77234),c=n(84728).KEY,l=n(74253),u=n(3825),d=n(22943),h=n(93953),f=n(86314),p=n(28787),g=n(36074),m=n(5541),v=n(4302),y=n(27007),b=n(55286),w=n(20508),C=n(22110),I=n(21689),_=n(90681),E=n(42503),x=n(39327),A=n(18693),k=n(64548),T=n(99275),S=n(47184),P=A.f,N=T.f,O=x.f,R=r.Symbol,D=r.JSON,L=D&&D.stringify,M=f("_hidden"),j=f("toPrimitive"),F={}.propertyIsEnumerable,U=u("symbol-registry"),V=u("symbols"),z=u("op-symbols"),B=Object.prototype,q="function"==typeof R&&!!k.f,G=r.QObject,W=!G||!G.prototype||!G.prototype.findChild,H=o&&l((function(){return 7!=E(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(B,t);r&&delete B[t],N(e,t,n),r&&e!==B&&N(B,t,r)}:N,K=function(e){var t=V[e]=E(R.prototype);return t._k=e,t},Z=q&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Y=function(e,t,n){return e===B&&Y(z,t,n),y(e),t=I(t,!0),y(n),i(V,t)?(n.enumerable?(i(e,M)&&e[M][t]&&(e[M][t]=!1),n=E(n,{enumerable:_(0,!1)})):(i(e,M)||N(e,M,_(1,{})),e[M][t]=!0),H(e,t,n)):N(e,t,n)},Q=function(e,t){y(e);for(var n,r=m(t=C(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},$=function(e){var t=F.call(this,e=I(e,!0));return!(this===B&&i(V,e)&&!i(z,e))&&(!(t||!i(this,e)||!i(V,e)||i(this,M)&&this[M][e])||t)},J=function(e,t){if(e=C(e),t=I(t,!0),e!==B||!i(V,t)||i(z,t)){var n=P(e,t);return!n||!i(V,t)||i(e,M)&&e[M][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=O(C(e)),r=[],o=0;n.length>o;)i(V,t=n[o++])||t==M||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===B,r=O(n?z:C(e)),o=[],a=0;r.length>a;)!i(V,t=r[a++])||n&&!i(B,t)||o.push(V[t]);return o};q||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(z,n),i(this,M)&&i(this[M],e)&&(this[M][e]=!1),H(this,e,_(1,n))};return o&&W&&H(B,e,{configurable:!0,set:t}),K(e)},s(R.prototype,"toString",(function(){return this._k})),A.f=J,T.f=Y,n(20616).f=x.f=X,n(14682).f=$,k.f=ee,o&&!n(4461)&&s(B,"propertyIsEnumerable",$,!0),p.f=function(e){return K(f(e))}),a(a.G+a.W+a.F*!q,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var re=S(f.store),ie=0;re.length>ie;)g(re[ie++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return i(U,e+="")?U[e]:U[e]=R(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?E(e):Q(E(e),t)},defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:ee});var oe=l((function(){k.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return k.f(w(e))}}),D&&a(a.S+a.F*(!q||l((function(){var e=R();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Z(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),r[1]=t,L.apply(D,r)}}),R.prototype[j]||n(87728)(R.prototype,j,R.prototype.valueOf),d(R,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},30142:function(e,t,n){"use strict";var r=n(42985),i=n(89383),o=n(91125),a=n(27007),s=n(92337),c=n(10875),l=n(55286),u=n(3816).ArrayBuffer,d=n(58364),h=o.ArrayBuffer,f=o.DataView,p=i.ABV&&u.isView,g=h.prototype.slice,m=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(u!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,v,{isView:function(e){return p&&p(e)||l(e)&&m in e}}),r(r.P+r.U+r.F*n(74253)((function(){return!new h(2).slice(1,void 0).byteLength})),v,{slice:function(e,t){if(void 0!==g&&void 0===t)return g.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(d(this,h))(c(i-r)),l=new f(this),u=new f(o),p=0;r<i;)u.setUint8(p++,l.getUint8(r++));return o}}),n(2974)(v)},1786:function(e,t,n){var r=n(42985);r(r.G+r.W+r.F*!n(89383).ABV,{DataView:n(91125).DataView})},70162:function(e,t,n){n(78440)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},33834:function(e,t,n){n(78440)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},74821:function(e,t,n){n(78440)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},81303:function(e,t,n){n(78440)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},75368:function(e,t,n){n(78440)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},79103:function(e,t,n){n(78440)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},83318:function(e,t,n){n(78440)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},46964:function(e,t,n){n(78440)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},62152:function(e,t,n){n(78440)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},30147:function(e,t,n){"use strict";var r,i=n(3816),o=n(10050)(0),a=n(77234),s=n(84728),c=n(35345),l=n(23657),u=n(55286),d=n(1616),h=n(1616),f=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",g=s.getWeak,m=Object.isExtensible,v=l.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(u(e)){var t=g(e);return!0===t?v(d(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,p),e,t)}},w=e.exports=n(45795)(p,y,b,l,!0,!0);h&&f&&(c((r=l.getConstructor(y,p)).prototype,b),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=w.prototype,n=t[e];a(t,e,(function(t,i){if(u(t)&&!m(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},59192:function(e,t,n){"use strict";var r=n(23657),i=n(1616),o="WeakSet";n(45795)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},1268:function(e,t,n){"use strict";var r=n(42985),i=n(13325),o=n(20508),a=n(10875),s=n(24963),c=n(16886);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=c(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(17722)("flatMap")},94692:function(e,t,n){"use strict";var r=n(42985),i=n(13325),o=n(20508),a=n(10875),s=n(81467),c=n(16886);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=c(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(17722)("flatten")},62773:function(e,t,n){"use strict";var r=n(42985),i=n(79315)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(17722)("includes")},18267:function(e,t,n){var r=n(42985),i=n(14351)(),o=n(3816).process,a="process"==n(92032)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},22559:function(e,t,n){var r=n(42985),i=n(92032);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},95575:function(e,t,n){var r=n(42985);r(r.G,{global:n(3816)})},60525:function(e,t,n){n(31024)("Map")},98211:function(e,t,n){n(94881)("Map")},97698:function(e,t,n){var r=n(42985);r(r.P+r.R,"Map",{toJSON:n(86132)("Map")})},98865:function(e,t,n){var r=n(42985);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},60368:function(e,t,n){var r=n(42985);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},26427:function(e,t,n){var r=n(42985),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},30286:function(e,t,n){var r=n(42985),i=n(68757),o=n(34934);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},52816:function(e,t,n){var r=n(42985);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},22082:function(e,t,n){var r=n(42985);r(r.S,"Math",{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,c=i>>16,l=(s*a>>>0)+(o*a>>>16);return s*c+(l>>16)+((o*c>>>0)+(l&n)>>16)}})},35986:function(e,t,n){var r=n(42985);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},76308:function(e,t,n){var r=n(42985);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},89221:function(e,t,n){var r=n(42985),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},83570:function(e,t,n){var r=n(42985);r(r.S,"Math",{scale:n(68757)})},3776:function(e,t,n){var r=n(42985);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},37787:function(e,t,n){var r=n(42985);r(r.S,"Math",{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,c=i>>>16,l=(s*a>>>0)+(o*a>>>16);return s*c+(l>>>16)+((o*c>>>0)+(l&n)>>>16)}})},48646:function(e,t,n){"use strict";var r=n(42985),i=n(20508),o=n(24963),a=n(99275);n(67057)&&r(r.P+n(91670),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},22658:function(e,t,n){"use strict";var r=n(42985),i=n(20508),o=n(24963),a=n(99275);n(67057)&&r(r.P+n(91670),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},83276:function(e,t,n){var r=n(42985),i=n(51131)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},98351:function(e,t,n){var r=n(42985),i=n(57643),o=n(22110),a=n(18693),s=n(92811);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),c=a.f,l=i(r),u={},d=0;l.length>d;)void 0!==(n=c(r,t=l[d++]))&&s(u,t,n);return u}})},16917:function(e,t,n){"use strict";var r=n(42985),i=n(20508),o=n(21689),a=n(468),s=n(18693).f;n(67057)&&r(r.P+n(91670),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},30372:function(e,t,n){"use strict";var r=n(42985),i=n(20508),o=n(21689),a=n(468),s=n(18693).f;n(67057)&&r(r.P+n(91670),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},96409:function(e,t,n){var r=n(42985),i=n(51131)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},86534:function(e,t,n){"use strict";var r=n(42985),i=n(3816),o=n(25645),a=n(14351)(),s=n(86314)("observable"),c=n(24963),l=n(27007),u=n(83328),d=n(24408),h=n(87728),f=n(3531),p=f.RETURN,g=function(e){return null==e?void 0:c(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},y=function(e){v(e)||(e._o=void 0,m(e))},b=function(e,t){l(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:c(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&m(this)};b.prototype=d({},{unsubscribe:function(){y(this)}});var w=function(e){this._s=e};w.prototype=d({},{next:function(e){var t=this._s;if(!v(t)){var n=t._o;try{var r=g(n.next);if(r)return r.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var r=g(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var r=g(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var C=function(e){u(this,C,"Observable","_f")._f=c(e)};d(C.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)((function(n,r){c(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})}))}}),d(C,{from:function(e){var t="function"==typeof this?this:C,n=g(l(e)[s]);if(n){var r=l(n.call(e));return r.constructor===t?r:new t((function(e){return r.subscribe(e)}))}return new t((function(t){var n=!1;return a((function(){if(!n){try{if(f(e,!1,(function(e){if(t.next(e),n)return p}))===p)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}})),function(){n=!0}}))},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:C)((function(e){var t=!1;return a((function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}})),function(){t=!0}}))}}),h(C.prototype,s,(function(){return this})),r(r.G,{Observable:C}),n(2974)("Observable")},9865:function(e,t,n){"use strict";var r=n(42985),i=n(25645),o=n(3816),a=n(58364),s=n(50094);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},31898:function(e,t,n){"use strict";var r=n(42985),i=n(43499),o=n(10188);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},53364:function(e,t,n){var r=n(50133),i=n(27007),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},51432:function(e,t,n){var r=n(50133),i=n(27007),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var c=s.get(t);return c.delete(n),!!c.size||s.delete(t)}})},84416:function(e,t,n){var r=n(98184),i=n(9490),o=n(50133),a=n(27007),s=n(468),c=o.keys,l=o.key,u=function(e,t){var n=c(e,t),o=s(e);if(null===o)return n;var a=u(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return u(a(e),arguments.length<2?void 0:l(arguments[1]))}})},26562:function(e,t,n){var r=n(50133),i=n(27007),o=n(468),a=r.has,s=r.get,c=r.key,l=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?l(e,r,n):void 0};r.exp({getMetadata:function(e,t){return l(e,i(t),arguments.length<3?void 0:c(arguments[2]))}})},32213:function(e,t,n){var r=n(50133),i=n(27007),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},98681:function(e,t,n){var r=n(50133),i=n(27007),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},63471:function(e,t,n){var r=n(50133),i=n(27007),o=n(468),a=r.has,s=r.key,c=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&c(e,r,n)};r.exp({hasMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},4329:function(e,t,n){var r=n(50133),i=n(27007),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},25159:function(e,t,n){var r=n(50133),i=n(27007),o=n(24963),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},99467:function(e,t,n){n(31024)("Set")},50579:function(e,t,n){n(94881)("Set")},48739:function(e,t,n){var r=n(42985);r(r.P+r.R,"Set",{toJSON:n(86132)("Set")})},17220:function(e,t,n){"use strict";var r=n(42985),i=n(24496)(!0),o=n(74253)((function(){return"𠮷"!=="𠮷".at(0)}));r(r.P+r.F*o,"String",{at:function(e){return i(this,e)}})},74208:function(e,t,n){"use strict";var r=n(42985),i=n(91355),o=n(10875),a=n(55364),s=n(53218),c=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(49988)(l,"RegExp String",(function(){var e=this._r.exec(this._s);return{value:e,done:null===e}})),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in c?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new l(r,t)}})},92770:function(e,t,n){"use strict";var r=n(42985),i=n(75442),o=n(30575),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},41784:function(e,t,n){"use strict";var r=n(42985),i=n(75442),o=n(30575),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},65869:function(e,t,n){"use strict";n(29599)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},94325:function(e,t,n){"use strict";n(29599)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},79665:function(e,t,n){n(36074)("asyncIterator")},59593:function(e,t,n){n(36074)("observable")},88967:function(e,t,n){var r=n(42985);r(r.S,"System",{global:n(3816)})},44188:function(e,t,n){n(31024)("WeakMap")},44208:function(e,t,n){n(94881)("WeakMap")},73495:function(e,t,n){n(31024)("WeakSet")},39550:function(e,t,n){n(94881)("WeakSet")},91181:function(e,t,n){for(var r=n(56997),i=n(47184),o=n(77234),a=n(3816),s=n(87728),c=n(87234),l=n(86314),u=l("iterator"),d=l("toStringTag"),h=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(f),g=0;g<p.length;g++){var m,v=p[g],y=f[v],b=a[v],w=b&&b.prototype;if(w&&(w[u]||s(w,u,h),w[d]||s(w,d,v),c[v]=h,y))for(m in r)w[m]||o(w,m,r[m],!0)}},84633:function(e,t,n){var r=n(42985),i=n(74193);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},32564:function(e,t,n){var r=n(3816),i=n(42985),o=n(30575),a=[].slice,s=/MSIE .\./.test(o),c=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},81934:function(e,t,n){n(95767),n(68132),n(48388),n(37470),n(94882),n(41520),n(27476),n(79622),n(89375),n(43533),n(84672),n(64157),n(35095),n(49892),n(75115),n(99176),n(68838),n(96253),n(39730),n(6059),n(48377),n(71084),n(64299),n(11246),n(30726),n(1901),n(75972),n(53403),n(92516),n(49371),n(86479),n(91736),n(51889),n(65177),n(81246),n(76503),n(66786),n(50932),n(57526),n(21591),n(9073),n(80347),n(30579),n(4669),n(67710),n(45789),n(33514),n(99978),n(58472),n(86946),n(35068),n(413),n(50191),n(98306),n(64564),n(39115),n(29539),n(96620),n(62850),n(10823),n(17732),n(40856),n(80703),n(91539),n(5292),n(45177),n(73694),n(37648),n(27795),n(4531),n(23605),n(6780),n(69937),n(10511),n(81822),n(19977),n(91031),n(46331),n(41560),n(20774),n(30522),n(58295),n(87842),n(50110),n(20075),n(24336),n(19371),n(98837),n(26773),n(15745),n(33057),n(3750),n(23369),n(99564),n(32e3),n(48977),n(52310),n(94899),n(31842),n(56997),n(83946),n(18269),n(66108),n(76774),n(21466),n(59357),n(76142),n(51876),n(40851),n(88416),n(98184),n(30147),n(59192),n(30142),n(1786),n(75368),n(46964),n(62152),n(74821),n(79103),n(81303),n(83318),n(70162),n(33834),n(21572),n(82139),n(10685),n(85535),n(17347),n(83049),n(96633),n(68989),n(78270),n(64510),n(73984),n(75769),n(50055),n(96014),n(62773),n(1268),n(94692),n(17220),n(41784),n(92770),n(65869),n(94325),n(74208),n(79665),n(59593),n(98351),n(96409),n(83276),n(48646),n(22658),n(16917),n(30372),n(97698),n(48739),n(98211),n(50579),n(44208),n(39550),n(60525),n(99467),n(44188),n(73495),n(95575),n(88967),n(22559),n(98865),n(60368),n(26427),n(30286),n(52816),n(35986),n(22082),n(76308),n(89221),n(83570),n(37787),n(3776),n(9865),n(31898),n(53364),n(51432),n(26562),n(84416),n(98681),n(32213),n(63471),n(4329),n(25159),n(18267),n(86534),n(32564),n(84633),n(91181),e.exports=n(25645)},80008:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".rc-slider{position:relative;height:14px;padding:5px 0;width:100%;border-radius:6px;touch-action:none;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-rail{position:absolute;width:100%;background-color:#e9e9e9;height:4px;border-radius:6px}.rc-slider-track{position:absolute;left:0;height:4px;border-radius:6px;background-color:#abe2fb}.rc-slider-handle{position:absolute;width:14px;height:14px;cursor:pointer;cursor:-webkit-grab;margin-top:-5px;cursor:grab;border-radius:50%;border:solid 2px #96dbfa;background-color:#fff;touch-action:pan-x}.rc-slider-handle-dragging.rc-slider-handle-dragging.rc-slider-handle-dragging{border-color:#57c5f7;box-shadow:0 0 0 5px #96dbfa}.rc-slider-handle:focus{outline:none}.rc-slider-handle-click-focused:focus{border-color:#96dbfa;box-shadow:unset}.rc-slider-handle:hover{border-color:#57c5f7}.rc-slider-handle:active{border-color:#57c5f7;box-shadow:0 0 5px #57c5f7;cursor:-webkit-grabbing;cursor:grabbing}.rc-slider-mark{position:absolute;top:18px;left:0;width:100%;font-size:12px}.rc-slider-mark-text{position:absolute;display:inline-block;vertical-align:middle;text-align:center;cursor:pointer;color:#999}.rc-slider-mark-text-active{color:#666}.rc-slider-step{position:absolute;width:100%;height:4px;background:transparent}.rc-slider-dot{position:absolute;bottom:-2px;margin-left:-4px;width:8px;height:8px;border:2px solid #e9e9e9;background-color:#fff;cursor:pointer;border-radius:50%;vertical-align:middle}.rc-slider-dot-active{border-color:#96dbfa}.rc-slider-dot-reverse{margin-right:-4px}.rc-slider-disabled{background-color:#e9e9e9}.rc-slider-disabled .rc-slider-track{background-color:#ccc}.rc-slider-disabled .rc-slider-handle,.rc-slider-disabled .rc-slider-dot{border-color:#ccc;box-shadow:none;background-color:#fff;cursor:not-allowed}.rc-slider-disabled .rc-slider-mark-text,.rc-slider-disabled .rc-slider-dot{cursor:not-allowed !important}.rc-slider-vertical{width:14px;height:100%;padding:0 5px}.rc-slider-vertical .rc-slider-rail{height:100%;width:4px}.rc-slider-vertical .rc-slider-track{left:5px;bottom:0;width:4px}.rc-slider-vertical .rc-slider-handle{margin-left:-5px;touch-action:pan-y}.rc-slider-vertical .rc-slider-mark{top:0;left:18px;height:100%}.rc-slider-vertical .rc-slider-step{height:100%;width:4px}.rc-slider-vertical .rc-slider-dot{left:2px;margin-bottom:-4px}.rc-slider-vertical .rc-slider-dot:first-child{margin-bottom:-4px}.rc-slider-vertical .rc-slider-dot:last-child{margin-bottom:-4px}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear{animation-duration:.3s;animation-fill-mode:both;display:block !important;animation-play-state:paused}.rc-slider-tooltip-zoom-down-leave{animation-duration:.3s;animation-fill-mode:both;display:block !important;animation-play-state:paused}.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active{animation-name:rcSliderTooltipZoomDownIn;animation-play-state:running}.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active{animation-name:rcSliderTooltipZoomDownOut;animation-play-state:running}.rc-slider-tooltip-zoom-down-enter,.rc-slider-tooltip-zoom-down-appear{transform:scale(0, 0);animation-timing-function:cubic-bezier(0.23, 1, 0.32, 1)}.rc-slider-tooltip-zoom-down-leave{animation-timing-function:cubic-bezier(0.755, 0.05, 0.855, 0.06)}@keyframes rcSliderTooltipZoomDownIn{0%{opacity:0;transform-origin:50% 100%;transform:scale(0, 0)}100%{transform-origin:50% 100%;transform:scale(1, 1)}}@keyframes rcSliderTooltipZoomDownOut{0%{transform-origin:50% 100%;transform:scale(1, 1)}100%{opacity:0;transform-origin:50% 100%;transform:scale(0, 0)}}.rc-slider-tooltip{position:absolute;left:-9999px;top:-9999px;visibility:visible;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-tooltip *{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.rc-slider-tooltip-hidden{display:none}.rc-slider-tooltip-placement-top{padding:4px 0 8px 0}.rc-slider-tooltip-inner{padding:6px 2px;min-width:24px;height:24px;font-size:12px;line-height:1;color:#fff;text-align:center;text-decoration:none;background-color:#6c6c6c;border-radius:6px;box-shadow:0 0 4px #d9d9d9}.rc-slider-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.rc-slider-tooltip-placement-top .rc-slider-tooltip-arrow{bottom:4px;left:50%;margin-left:-4px;border-width:4px 4px 0;border-top-color:#6c6c6c}",""]),t.Z=a},33024:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".aboutUsContent{font-size:18px;margin-bottom:35px;font-size:18px;margin-bottom:35px;text-align:left}.aboutUsContent img{width:100%;margin-top:15px}",""]),t.Z=a},71740:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"#root{width:100%;height:100%}.App{text-align:center;width:100%;height:100%}.AppMainContainer{width:95%;margin:0px auto;height:100%;max-width:430px;min-width:277px;padding-top:65px}.smallText{line-height:1.5;font-size:16px;text-align:justify}.centerText{text-align:center}.headerText{padding:6px;height:40px;line-height:40px;text-align:center}.sectionTitle{text-shadow:5px 5px 5px #222}.App-link{color:#61dafb}.rounded{border-radius:8px;padding:10px}.rounded button{background-color:transparent}body.lightMode input.hidenInput,body.lightMode textarea.hidenInput,body.lightMode .bold,body.lightMode select{color:#000}body.lightMode .controlTextValues:nth-of-type(odd){background-color:#a0bcc2}body.lightMode .gameList .gameContainer .playGameButton{background-position-y:3px;position:relative;top:-3px;background-size:1.1em}body.lightMode .resultsContainer{background-image:linear-gradient(#b6ac91, #8c8a7f)}body.lightMode .rounded.colorGrey{color:#fff}body.lightMode .gameList .gameListPoints,body.lightMode .gameList .gameListPosition{background-color:#a0bcc2}body.lightMode .rounded{color:#000}body.lightMode .rounded.controlTextTitle{background-image:linear-gradient(#FEFBE7, #405662)}body.lightMode .rounded1{background-image:linear-gradient(#F9EBC8, #FEFBE7)}body.lightMode .rounded2{background-image:linear-gradient(#FEFBE7, #FEFBE7)}body.lightMode .rounded3{background-image:linear-gradient(#FEFBE7, #A0BCC2)}body.lightMode .rounded button{background-color:#405662}.rounded1{background-image:linear-gradient(#112031, #152D35)}.rounded2{background-image:linear-gradient(#345B63, #112031)}.rounded3{background-color:#345b63}.headerPlayer{padding:10px}.importantNote{background-image:linear-gradient(#ffa602, #ea7402)}.importantNote img{width:32px;vertical-align:middle;border-radius:8px;padding:5px 0px;float:left}.controlTextContainer{margin:10px auto;padding:10px}.controlTextText{margin:0 5px}.winnerBox{padding:15px;margin-bottom:8px}.winnerBox .headerPlayer{margin-bottom:15px}.closed{height:26px;box-shadow:none}.horizontalScrollContainer{overflow-x:scroll;overflow-y:hidden;display:flex}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#888;border-radius:14px;border:solid 1px #444}::-webkit-scrollbar-thumb:hover{background:transparent}::-webkit-scrollbar{background:transparent}",""]),t.Z=a},23084:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),c=n.n(s),l=new URL(n(28666),n.b),u=new URL(n(84162),n.b),d=new URL(n(57552),n.b),h=new URL(n(92308),n.b),f=a()(i()),p=c()(l),g=c()(u),m=c()(d),v=c()(h);f.push([e.id,"html{height:100%;width:100%}body{background-color:#333;color:#fcf7ff;font-family:Montserrat,Roboto,sans-serif;font-size:21px;margin:0px;height:100%;-webkit-font-smoothing:antialiased;background-image:url("+p+");background-attachment:fixed;background-position:center;background-position-y:top;background-position-x:right;background-repeat:no-repeat;background-size:cover}body.completegame{background-image:url("+g+")}body.profile{background-image:url("+m+")}body.feed{background-image:url("+v+')}.blink{animation:blinker 1s linear infinite}@keyframes blinker{50%{opacity:0}}.bold{font-weight:bold}.left{text-align:left}.inline{display:inline}button,select,input,textarea{margin:5px;border-radius:15px;font-size:21px;background-color:transparent;border:1px solid #fff;color:#fff}input,textarea{color:#000}select{padding:10px;width:85%}button{padding:10px;margin:5px;align-items:center;background-color:initial;background-image:linear-gradient(#464d55, #25292e);border-radius:8px;border-width:0;box-shadow:0 10px 20px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.05);box-sizing:border-box;color:#fff;cursor:pointer;font-size:18px;justify-content:center;line-height:.5;outline:none;text-align:center;text-decoration:none;transform:translate3d(0, 0, 0);transition:all 150ms;transition-duration:.4s;-webkit-transition-duration:.4s;vertical-align:baseline;white-space:nowrap;user-select:none}button *:hover{transition-duration:.1s;background-color:#3a3a3a}button *:after{content:"";display:block;position:absolute;border-radius:8px;left:0;top:0;width:100%;height:100%;opacity:0;transition:all .2s;box-shadow:0 0 10px 15px #fff}button *:active:after{box-shadow:0 0 0 0 #fff;position:absolute;border-radius:8px;left:0;top:0;opacity:1;transition:0s}input,textarea{background-color:#fff;max-width:195px;font-size:17px;padding:5px}a{color:#fff;text-decoration:none}li{list-style-type:none;text-align:right}figure{margin:0;padding:0;width:100%}figcaption{text-align:center;font-size:16px}.colorGreen{background-color:green}.colorGrey{background-color:#333}.colorClearGrey{background-color:#666}.colorRed{background-color:red}.colorOrange{background-color:orange}.foreColorRed{color:red}',""]),t.Z=f},87291:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".controlText{font-size:14px;display:flex;line-height:20px;text-align:left;background-color:rgba(30,30,30,.32);margin-bottom:5px;border-radius:15px}.controlTextValue{background-color:inherit;padding:10px;font-weight:bold;font-size:1.1em;border-radius:15px}.controlTextText{min-width:168px;padding:10px 0;width:100%}.controlTextTitle{margin:0px 0px 10px 0px;font-size:.8em}.controlTextContainer{overflow:hidden}.controlTextContainer .dropdown{width:20px;margin:0;float:right}.controlTextContainer .closed{height:35px}.buttonControlTextPlus,.buttonControlTextMinus{text-shadow:2px 2px 4px #333;font-size:12px}.generic .controlText{font-size:14px;display:flex;line-height:20px;text-align:left;background-color:rgba(30,30,30,.32);margin-bottom:5px;border-radius:15px;font-size:.7em}.generic .controlTextValue{background-color:inherit;padding:10px;font-weight:bold;font-size:1.1em;border-radius:15px;width:100%;text-align:right}.generic .controlTextText{min-width:30px;padding:10px 0;width:100%}.generic .controlTextTitle{margin:0px 0px 10px 0px;font-size:.7em}.generic .controlTextContainer{overflow:hidden}.generic .controlTextContainer .dropdown{width:20px;margin:0;float:right}.generic .controlTextContainer .closed{height:35px}.generic .buttonTextPlus,.generic .buttonTextMinus{text-shadow:2px 2px 4px #333;font-weight:bold}",""]),t.Z=a},53803:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".controlTextValues{text-align:left;font-size:.9em}.controlTextValues:first-of-type{margin-top:15px}.controlTextValues:nth-of-type(odd){background-color:#345c62}",""]),t.Z=a},19114:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".errorBoxContainer{margin-bottom:25px;padding:5px;color:red;font-size:19px;border:1px solid;border-radius:15px;font-weight:bold;border-style:dotted}",""]),t.Z=a},31124:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".feedViewer .userSearchContainer{margin:0 auto 25px auto;max-width:470px}.feedViewer .userSearchContainer .resultsContainer .userSearchItem .userSearchResult{max-width:97%}.feedViewer .post{font-size:.8em;margin-bottom:25px;width:95%;overflow:hidden;background-color:#eee;color:#000;text-align:left}.feedViewer .post .userProfilePhotoContainer img{width:30px;height:30px;border-radius:7px;float:left}.feedViewer .refreshButton{position:fixed;top:19px;right:8px;margin-bottom:15px;padding:0}.feedViewer .refreshButton img{width:20px}.feedViewer .postText{margin:25px 0}.feedViewer .postDate{margin:10px 0 15px 0;font-size:.8em}.feedViewer .postGame{margin-bottom:15px}.feedViewer .postText,.feedViewer .postDate,.feedViewer .postGame{padding:0 10px;text-align:justify}.feedViewer .postUrlContent{margin-bottom:15px}",""]),t.Z=a},98130:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".Footer{font-size:14px;margin-top:100px}",""]),t.Z=a},15062:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gatesPickerContainer .picker,.gatesPickerContainer .zoneName{margin:0 15px}",""]),t.Z=a},5523:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameHeaderInfo{margin-bottom:15px}",""]),t.Z=a},9393:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),c=n.n(s),l=new URL(n(84101),n.b),u=a()(i()),d=c()(l);u.push([e.id,".gameList{margin-bottom:15px;width:95%;text-align:right;display:inline-block;position:relative}.gameList .gameContainer{font-size:.9em;margin-bottom:15px;text-align:right;padding-top:0px;overflow:hidden}.gameList .gameContainer .playGameButton{background-image:url("+d+");background-repeat:no-repeat;background-size:contain;background-position-y:1px;margin:9px 0 0px 5px;display:inline-block}.gameList .gameContainer button{height:45px}.gameList .gameName{display:inline-block;width:70%;padding:10px 0;vertical-align:top;font-size:.8em}.gameList .gameDate{padding-top:15px;padding-bottom:20px}.gameList .removeButton{width:25px;height:25px}.gameList .gameParticipants{font-size:.8em;max-width:305px;margin:0 auto}.gameList .gameParticipants .closed{display:none}.gameList .gameParticipants .iconArrowDown{height:10px;margin-left:3px}.gameList .gameParticipants img{max-height:15px}.gameList .gameParticipants table{margin:auto}.gameList .gameParticipants table td:nth-of-type(2),.gameList .gameParticipants table td:nth-of-type(7){writing-mode:unset !important}.gameList .gameParticipants table tr:first-of-type td{writing-mode:vertical-lr;word-break:break-all;font-size:.8em}.gameList .gameParticipants .controlTextValues{background-color:transparent}.gameList .gameParticipants .controlTextValues:first-of-type{margin-top:0}.gameList .gameListPosition{overflow:hidden;background-color:#345c62}.gameList .gameListPlayerName{display:block;width:120px;padding:0 5px}.gameList .gameListPoints{overflow:hidden;min-width:25px;background-color:#345c62;max-width:80px}.gameList .gameListTime{overflow:hidden;min-width:45px;padding:0 5px}.gameList .gameListTextArray{margin-top:15px}.gameList .winnerBox .headerPlayer img{position:relative;top:5px;margin-right:5px}.gameList .gameProgressionInfoItem{margin:10px;text-align:left}.gameList .gameProgressionInfoItem .fiascosText{margin-top:10px}.gameList .gameProgressionItem img{margin-right:10px;border-radius:15px;display:inline-block}.gameList .gameProgressionItem ul{padding-left:0px}.gameList .gameProgressionItem li{list-style-type:circle;text-align:left}",""]),t.Z=u},14293:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameList .gameListItemMenu{background-color:#222;position:absolute;padding-top:3px;left:14px;width:170px;height:81px;text-align:right;margin:5px 0 0 0;overflow:hidden;z-index:10}.gameList .gameListItemMenu .burguerMenuBar{width:15px;height:2px;margin:4px 0}.gameListItemMenu.closed{width:15px;height:15px;background-color:#333;z-index:1}.gameContainer .gameListItemMenu{padding:5px}",""]),t.Z=a},92300:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameListMenuItem{font-size:.8em;padding:5px}",""]),t.Z=a},48103:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".newGameContainer{margin-top:25px;width:95%}.newGameContainer .newGame{margin-bottom:25px;text-align:left;padding:15px 26px}.newGameContainer .newGame a{font-size:16px;margin-left:10px}.newGameContainer .newGameRow{padding:5px;font-size:.9em}.newGameContainer .newGameNameInput{max-width:164px}.newGameButton{margin:0 0 45px 0}.viewProfileLink{font-size:.8em;margin:0 auto 25px auto;border-radius:15px;padding:5px;width:70%}.profileHelper{margin-top:0;padding:15px;border:1px dotted #fff;font-size:.8em}",""]),t.Z=a},27332:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameProgressionItem{padding:15px;font-size:.7em;display:flex;margin-bottom:10px}.gameProgressionItem img{display:block;max-width:90px;max-height:45px;width:auto;height:auto;border-radius:15px}.gameProgressionItem .rounded{background-image:none;margin:8px;box-shadow:none}.tendJudgeContainer{margin-top:15px}.directorContainer{margin-bottom:15px}.directorGroup{background-color:green;color:#fff;border-radius:8px;padding:3px;font-size:.8em;margin-right:5px}.directorZone{margin:5px 0}.gatePoints{padding:5px;border-radius:15px;color:#fff}",""]),t.Z=a},56783:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".directorRequestContainer{margin-top:15px;border:1px solid red;border-radius:15px}",""]),t.Z=a},32202:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameType{margin:25px 0}.gameSelectText{line-height:1.5;font-size:16px;padding:25px;text-align:left;margin-bottom:15px;text-align:justify}",""]),t.Z=a},41242:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".aboutUsContent{width:85%;margin:0 auto}.loginAndContent{padding-bottom:140px}.loginAndContent .googleSignInButton{margin:auto;padding:15px;width:50%}.loginAndContent .googleSignInButton button{width:100%}img.collaborateLogo{width:100px}img.crawlerImageSignIn{width:50%;margin:0px auto 15px auto;display:block;cursor:pointer;padding:15px}img.youtubeLogo,img.instagramLogo,img.facebookLogo{width:35px;margin-right:15px;border-radius:15px}img.facebookLogo{background-color:#fff}",""]),t.Z=a},69110:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".loadingLogo{margin-top:25px}",""]),t.Z=a},38052:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".contentImg{margin:0;padding:0;width:100%}.logoImg{margin:auto;padding:15px;width:50%}.video-responsive{overflow:hidden;padding-bottom:56.25%;position:relative;height:0}.video-responsive iframe{left:0;top:0;height:100%;width:100%;position:absolute}",""]),t.Z=a},9747:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".pickerContainer{display:flex;font-size:18px;padding:15px;margin:15px}.maxTimePickerContainer--separator{max-width:40px;height:112px;line-height:112px}",""]),t.Z=a},71735:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".App-header{position:fixed;top:0px;left:0;width:100%;z-index:10;height:56px;font-weight:bold;background-color:#241e1f;min-height:40px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:calc(10px + 2vmin);color:#fff;margin-bottom:10px}.App-header img{position:fixed;top:0px;right:0px;width:60px;margin:11px 8px 10px 0}.menuContainer{position:fixed;top:1px;left:0px;margin:2px;padding:5px;z-index:10;border-radius:7px;overflow:hidden;transition:width .2s;min-height:420px}.burguerMenuBar:first-of-type{margin-top:3px}.burguerMenuBar:last-of-type{margin-bottom:15px}.burguerMenuBar{width:25px;height:4px;background-color:#fff;margin:4px}.open{width:90%;padding-bottom:25px;background-color:#333}.menuContainer.closed{width:35px;min-height:40px}.box:hover{background-color:#fcc;width:200px;height:200px;transform:rotate(180deg)}.closed .linksContainer{visibility:hidden;opacity:0}.linksContainer{width:100%;height:90%;background-color:#333;visibility:visible;opacity:1;transition:visibility 0s,opacity 10s linear}.linksContainer ul{margin:0 25px}.linksContainer ul li{overflow:hidden}.lightModeSwitch{position:absolute;bottom:15px;right:32px}",""]),t.Z=a},95128:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"body.offline .offlineContainer{width:95%;margin:10px auto;padding:15px;text-decoration:underline}",""]),t.Z=a},17925:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),c=n.n(s),l=new URL(n(61826),n.b),u=new URL(n(56111),n.b),d=a()(i()),h=c()(l),f=c()(u);d.push([e.id,".picker--value{background-color:#fff;border:1px solid #000;color:#333;border-radius:5px;font-size:19px;padding:5px}.picker{max-width:34px;width:50%;margin:0 auto;text-align:center;display:grid}.picker--arrowUp,.picker--arrowDown{display:inline-block;background-size:cover;width:35px;height:25px;background-repeat:no-repeat;background-position:center;margin:0px 0 5px 0}.picker--arrowUp{background-image:url("+h+")}.picker--arrowDown{top:8px;position:relative;background-image:url("+f+")}",""]),t.Z=d},42672:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".players{margin-bottom:25px;padding-bottom:15px}.playersList{margin:10px;padding:0}.playerListItem{margin-bottom:10px;line-height:42px;text-align:right;padding-right:10px}",""]),t.Z=a},39468:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".handicapContainer{width:100%;margin:15px auto}",""]),t.Z=a},24374:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".playerListItem.closed{width:auto;height:155px;overflow:hidden}.pickerContainer.handicapBox{margin:5px;padding:25px}.playerBox .textOverflow{max-width:190px;display:inline-block}.playerBox button{float:right}.handicapBox .handicapLabel{width:50%;text-align:center;line-height:6}.textOverflow{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}",""]),t.Z=a},5687:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"body .posts{max-width:470px;margin:0 auto 25px auto}body .posts .embedLoadingContainer{width:300px;height:300px;margin:0 auto}body .post{max-width:546px;margin:0 auto 25px auto}body .post .gameContainer{color:#fff;margin-top:15px}body .post .sharerContainer{width:80%;margin:0 auto;float:right}body .post .sharerContainer .shareProfileText{width:90%;margin:0 auto;text-align:center}body .post .sharerContainer .sharers{width:95%;margin:0 auto}body .post .postGameContainer{text-align:center}body .post .postGameContainer .getGameName,body .post .postGameContainer .gameName{margin:15px 0}body .post .postGameContainer .gameName{width:70%}body .post .postGameContainer .gameAssigned{margin-top:15px}body .post .postGameContainer .postGame{margin:15px 0}body .post .postGameContainer .gameName{margin-left:10px;margin-bottom:10px}body .post .postGameContainer .mapouter{text-align:center}.post .userProfileContainer{margin:0px}.post .postDate{margin:10px 0 0 0}.post .postText{margin:15px 0}.post .name input{color:#000}",""]),t.Z=a},2409:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".likeContainer{height:50px;margin:10px auto 0 auto;float:left}.likeContainer span{cursor:pointer;padding:10px 12px 8px;background:#fff;border-radius:50%;display:inline-block;margin:0 0 15px;color:#aaa;transition:.2s}.likeContainer span img{width:15px;height:15px}.likeContainer span.press{animation:size .4s;background-color:green}@keyframes fade{0%{color:transparent}50%{color:green}100%{color:transparent}}@keyframes size{0%{padding:10px 12px 8px}50%{padding:14px 16px 12px;margin-top:-4px}100%{padding:10px 12px 8px}}",""]),t.Z=a},92762:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".privacyPolicy{text-align:left}.privacyPolicy li{text-align:left;list-style-type:circle;margin:15px 0}",""]),t.Z=a},38874:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".repairProgressionContainer{margin:25px}.repairProgressionItem{margin:10px}.repairProgressionItem .repairProgressionItemHead{font-size:.8em}.repairProgressionItem .repairProgressionItemHead{text-align:left}.repairProgressionItem img{border-radius:15px;margin-right:15px;display:inline-block;max-width:40px}.repairProgressionItem .timerContainer{margin:0 auto;width:100%}.gameProgressionItemHour{margin:0 10px}",""]),t.Z=a},7169:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".repairTimerContainer .timerContainer{padding:0}",""]),t.Z=a},89195:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".spinner{display:inline-block;position:relative;width:20px;height:20px;top:-2px}.spinner div{box-sizing:border-box;display:block;position:absolute;width:14px;height:14px;margin:8px;border:3px solid #fff;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:#fff transparent transparent transparent}.spinner div:nth-child(1){animation-delay:-0.45s}.spinner div:nth-child(2){animation-delay:-0.3s}.spinner div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}",""]),t.Z=a},49090:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),c=n.n(s),l=new URL(n(84101),n.b),u=new URL(n(73361),n.b),d=new URL(n(78432),n.b),h=a()(i()),f=c()(l),p=c()(u),g=c()(d);h.push([e.id,".timerContainer{font-size:.8em;width:43%;margin:0 auto}.timerContainer button{width:36px;height:48px;background-repeat:no-repeat;background-size:25px;background-position:center;margin:5px 11px}.timerContainer .timer{border:1px solid;border-radius:15px;max-width:163px;margin:0 auto}.timerContainer .timerPlayButton{background-image:url("+f+")}.timerContainer .resetButton{background-image:url("+p+")}.timerContainer.play .timerPlayButton{background-image:url("+g+")}",""]),t.Z=h},6901:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),c=n.n(s),l=new URL(n(78297),n.b),u=new URL(n(13750),n.b),d=a()(i()),h=c()(l),f=c()(u);d.push([e.id,'.postForm{margin-bottom:25px}.postForm .headerText:after{display:inline-block;content:"";width:15px;height:15px;margin-left:5px;background:url('+h+");background-size:contain;background-repeat:no-repeat}.postForm.closed .headerText:after{background:url("+f+");background-size:contain;background-repeat:no-repeat}.postForm.closed{padding-bottom:30px;overflow:hidden}.postForm-help{font-size:.6em}.postForm-label{font-size:.8em}.postForm-label input{height:15px}.postForm-label textarea{height:50px;max-width:250px}.postForm-label input,.postForm-label textarea{margin-left:15px}",""]),t.Z=d},90614:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".userViewer .post input{color:#000}.userProfileContainer{text-align:right;display:inline-block;margin-bottom:15px;width:95%;font-size:.8em}.userProfileContainer .headerText{text-align:center}.userProfileContainer .userProfilePhotoContainer{float:left;width:25%}.userProfileContainer .userProfilePhotoContainer img{margin:0 auto;width:100%;border-radius:15px}.userProfileContainer .userProfileInlineContainer{float:right;width:73%}.userProfileContainer .userProfileInlineContainer .name{margin:5px 0}.userProfileContainer .userProfileInlineContainer textarea{font-size:.8em}.userProfileContainer .userProfileInlineContainer input,.userProfileContainer .userProfileInlineContainer textarea{border-radius:0;text-align:right;width:100%;margin:0;padding:0;resize:none}.userProfileContainer .description{margin-top:5px}.userProfileContainer .hidenInput{font-family:Montserrat,Roboto,sans-serif;color:#fcf7ff;background-color:transparent;border:none}.userProfileContainer .userProfileHelper{font-size:.7em}",""]),t.Z=a},26401:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".userSearchContainer img{margin:5px 0 5px 5px}.userSearchContainer .userSearchResultsText{margin-bottom:15px}.userSearchContainer .userSearchText{padding:25px}.userSearchContainer .resultsContainer{border:1px solid;width:85%;border-radius:14px;padding:15px;margin-top:15px}.userSearchContainer .resultsContainer .userSearchItem{text-align:right}.userSearchContainer .resultsContainer .userSearchItem .userSearchResult{max-width:230px;display:block;float:left}.userSearchContainer .resultsContainer .userSearchItem button{float:left;margin:0 0 0 5px}.userSearchContainer .resultsContainer:empty{border:0px solid}",""]),t.Z=a},98108:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o),s=n(61667),c=n.n(s),l=new URL(n(92329),n.b),u=a()(i()),d=c()(l);u.push([e.id,".userViewer{max-width:470px;margin:0 auto 25px auto}.userViewer .statistics,.userViewer .posts{margin-bottom:25px;margin:0 auto 25px auto}.userViewer .statistics{width:96%;background-image:url("+d+"),linear-gradient(#345B63, #112031);background-position-x:center;background-repeat:no-repeat;padding-bottom:25px;font-size:.8em}.userViewer .removePostButton{float:right}.userViewer .post{font-size:.8em;margin-bottom:25px;width:95%;overflow:hidden;background-color:#eee;color:#000;text-align:left}.userViewer .submit{border:0px;color:#fff;padding:10px}.userViewerLogo{width:125px;margin-bottom:52px}.sharerContainer{margin-bottom:14px}.sharerContainer .shareProfileText{margin:15px 0 15px 0;font-size:.8em}",""]),t.Z=u},38992:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".winnerBox .fiasco{margin-bottom:4px}.winnerBox .fiasco img{width:auto;padding:0 5px}.winnerBox .pointsTable{margin-bottom:25px;text-align:right}",""]),t.Z=a},80910:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".fb_iframe_widget{max-width:345px !important}.fb_iframe_widget span{max-width:345px !important}.fb_iframe_widget span iframe{max-width:345px !important}",""]),t.Z=a},78113:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"body .post .fb-share-button{margin:0 0 10px 15px}.fb-share-button{height:100%;margin:0 0 10px 0px;display:block;padding-bottom:10px}.fb-share-button span{padding:8px 0}",""]),t.Z=a},34516:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"iframe.instagram-media{max-width:350px;margin:0 auto}.post .instagram{padding:0px;width:100%;margin:0 auto}",""]),t.Z=a},28174:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".telegramLogo{margin-left:5px;width:25px;padding-bottom:2px}",""]),t.Z=a},9117:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"",""]),t.Z=a},25516:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".twitter-share-button{height:100%;margin-left:5px}",""]),t.Z=a},34661:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".whatsappLogo{width:25px;margin-left:5px;padding-bottom:2px}",""]),t.Z=a},9872:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".youtube>iframe{padding:0px;width:104%;position:relative;left:-2%}.video-responsive{height:0;overflow:hidden;padding-bottom:56.25%;padding-top:30px;position:relative}.video-responsive iframe,.video-responsive object,.video-responsive embed{height:100%;left:0;position:absolute;top:0;width:100%}",""]),t.Z=a},94649:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".gameRequestsContainer{margin-bottom:25px;width:95%;display:inline-block}.gameRequestsContainer .gameRequestGameName{margin-bottom:15px}.gameRequestsContainer .gameRequestsItem{text-align:center;margin-bottom:15px}.gameRequestsContainer .acceptButton{margin:10px}.gameRequestsContainer .acceptButton img{width:25px}.gameRequestsContainer .rejectButton{margin:10px}.gameRequestsContainer .rejectButton img{width:25px}",""]),t.Z=a},17243:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".totalValue{font-size:26px}.totalTimeContainer{margin:10px;padding:10px;font-size:.8em}.repairButton{display:block;margin:10px auto}.generic .gateProgressionContainer{width:26%;float:left;margin:0 10px 0 10px}.generic .gatePoints{padding:0px;width:18px}.generic .controlTextText{width:auto}.gateProgressionContainer .buttonControlTextPlus,.gateProgressionContainer .buttonControlTextMinus{width:35px;height:35px}.gatesContainer{margin:10px;padding:10px;font-size:.8em}.player{padding-bottom:10px}.pointsText{display:inline-block}.fiascoBox{font-size:17px;width:65px;padding:10px;float:left;margin:10px}.fiascoBox .importantNote{margin-bottom:15px}.info{font-size:.8em}.controlTextContainer .timerContainer{float:none;margin:0 auto}",""]),t.Z=a},25190:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".controlTextContainerQueue{background-color:#ffa602;border-radius:15px;margin:10px;font-size:15px;padding:5px}",""]),t.Z=a},56725:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".regionalzonarc .controlText:nth-of-type(1){background-color:#ccc;color:#000;margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(2),.regionalzonarc .controlText:nth-of-type(3),.regionalzonarc .controlText:nth-of-type(4){background-color:#aaa;color:#000}.regionalzonarc .controlText:nth-of-type(4){margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(5),.regionalzonarc .controlText:nth-of-type(6),.regionalzonarc .controlText:nth-of-type(7),.regionalzonarc .controlText:nth-of-type(8),.regionalzonarc .controlText:nth-of-type(9),.regionalzonarc .controlText:nth-of-type(10){background-color:#888}.regionalzonarc .controlText:nth-of-type(10){margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(11),.regionalzonarc .controlText:nth-of-type(12),.regionalzonarc .controlText:nth-of-type(13),.regionalzonarc .controlText:nth-of-type(14){background-color:#666}.regionalzonarc .controlText:nth-of-type(14){margin-bottom:30px}.regionalzonarc .controlText:nth-of-type(15),.regionalzonarc .controlText:nth-of-type(16){background-color:#444}.regionalzonarc .controlText:nth-of-type(16){margin-bottom:45px}",""]),t.Z=a},92432:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,"",""]),t.Z=a},58458:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".rc-slider{width:80%;height:47px;margin:15px auto}.generic .rc-slider{height:61px;width:61%;min-height:325px;margin:15px auto}.rc-slider-rail{background-color:#333}.rc-slider-track{background-color:#aaa}.rc-slider-dot{border-color:#666}.rc-slider-handle,.rc-slider-dot.rc-slider-dot-active{border-color:#fff;border-top-left-radius:0px;border-bottom-left-radius:0px;border-top-right-radius:75px;border-bottom-right-radius:75px}.rc-slider-mark-text{color:#000;padding-bottom:50%}body.lightMode .rc-slider-handle{background-color:#333}body.lightMode .rc-slider-rail{background-color:#333}body.lightMode .rc-slider-track{background-color:#aaa}body.lightMode .rc-slider-dot{border-color:#666}",""]),t.Z=a},23645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},61667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},18552:function(e,t,n){var r=n(10852)(n(55639),"DataView");e.exports=r},1989:function(e,t,n){var r=n(51789),i=n(80401),o=n(57667),a=n(21327),s=n(81866);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},38407:function(e,t,n){var r=n(27040),i=n(14125),o=n(82117),a=n(67518),s=n(54705);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},57071:function(e,t,n){var r=n(10852)(n(55639),"Map");e.exports=r},83369:function(e,t,n){var r=n(24785),i=n(11285),o=n(96e3),a=n(49916),s=n(95265);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},53818:function(e,t,n){var r=n(10852)(n(55639),"Promise");e.exports=r},58525:function(e,t,n){var r=n(10852)(n(55639),"Set");e.exports=r},88668:function(e,t,n){var r=n(83369),i=n(90619),o=n(72385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},46384:function(e,t,n){var r=n(38407),i=n(37465),o=n(63779),a=n(67599),s=n(44758),c=n(34309);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=c,e.exports=l},62705:function(e,t,n){var r=n(55639).Symbol;e.exports=r},11149:function(e,t,n){var r=n(55639).Uint8Array;e.exports=r},70577:function(e,t,n){var r=n(10852)(n(55639),"WeakMap");e.exports=r},34963:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},14636:function(e,t,n){var r=n(22545),i=n(35694),o=n(1469),a=n(44144),s=n(65776),c=n(36719),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&c(e),f=n||u||d||h,p=f?r(e.length,String):[],g=p.length;for(var m in e)!t&&!l.call(e,m)||f&&("length"==m||d&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},62488:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},82908:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},18470:function(e,t,n){var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},68866:function(e,t,n){var r=n(62488),i=n(1469);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},44239:function(e,t,n){var r=n(62705),i=n(89607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},9454:function(e,t,n){var r=n(44239),i=n(37005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},90939:function(e,t,n){var r=n(2492),i=n(37005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},2492:function(e,t,n){var r=n(46384),i=n(67114),o=n(18351),a=n(16096),s=n(64160),c=n(1469),l=n(44144),u=n(36719),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var y=c(e),b=c(t),w=y?h:s(e),C=b?h:s(t),I=(w=w==d?f:w)==f,_=(C=C==d?f:C)==f,E=w==C;if(E&&l(e)){if(!l(t))return!1;y=!0,I=!1}if(E&&!I)return v||(v=new r),y||u(e)?i(e,t,n,g,m,v):o(e,t,w,n,g,m,v);if(!(1&n)){var x=I&&p.call(e,"__wrapped__"),A=_&&p.call(t,"__wrapped__");if(x||A){var k=x?e.value():e,T=A?t.value():t;return v||(v=new r),m(k,T,n,g,v)}}return!!E&&(v||(v=new r),a(e,t,n,g,m,v))}},28458:function(e,t,n){var r=n(23560),i=n(15346),o=n(13218),a=n(80346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},38749:function(e,t,n){var r=n(44239),i=n(41780),o=n(37005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},280:function(e,t,n){var r=n(25726),i=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},22545:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7518:function(e){e.exports=function(e){return function(t){return e(t)}}},74757:function(e){e.exports=function(e,t){return e.has(t)}},14429:function(e,t,n){var r=n(55639)["__core-js_shared__"];e.exports=r},67114:function(e,t,n){var r=n(88668),i=n(82908),o=n(74757);e.exports=function(e,t,n,a,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var h=c.get(e),f=c.get(t);if(h&&f)return h==t&&f==e;var p=-1,g=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var v=e[p],y=t[p];if(a)var b=l?a(y,v,p,t,e,c):a(v,y,p,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(v===e||s(v,e,n,a,c)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},18351:function(e,t,n){var r=n(62705),i=n(11149),o=n(77813),a=n(67114),s=n(68776),c=n(21814),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=c),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;r|=2,h.set(e,t);var m=a(f(e),f(t),r,l,d,h);return h.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},16096:function(e,t,n){var r=n(58234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var h=l[d];if(!(c?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=c;++d<u;){var v=e[h=l[d]],y=t[h];if(o)var b=c?o(y,v,h,t,e,s):o(v,y,h,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var w=e.constructor,C=t.constructor;w==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof C&&C instanceof C||(g=!1)}return s.delete(e),s.delete(t),g}},31957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},58234:function(e,t,n){var r=n(68866),i=n(99551),o=n(3674);e.exports=function(e){return r(e,o,i)}},45050:function(e,t,n){var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},10852:function(e,t,n){var r=n(28458),i=n(47801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},89607:function(e,t,n){var r=n(62705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},99551:function(e,t,n){var r=n(34963),i=n(70479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},64160:function(e,t,n){var r=n(18552),i=n(57071),o=n(53818),a=n(58525),s=n(70577),c=n(44239),l=n(80346),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",g=l(r),m=l(i),v=l(o),y=l(a),b=l(s),w=c;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=d||a&&w(new a)!=h||s&&w(new s)!=f)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case m:return u;case v:return d;case y:return h;case b:return f}return t}),e.exports=w},47801:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},51789:function(e,t,n){var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:function(e,t,n){var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},21327:function(e,t,n){var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},81866:function(e,t,n){var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},65776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},37019:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:function(e,t,n){var r,i=n(14429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},25726:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},27040:function(e){e.exports=function(){this.__data__=[],this.size=0}},14125:function(e,t,n){var r=n(18470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},82117:function(e,t,n){var r=n(18470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},67518:function(e,t,n){var r=n(18470);e.exports=function(e){return r(this.__data__,e)>-1}},54705:function(e,t,n){var r=n(18470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},24785:function(e,t,n){var r=n(1989),i=n(38407),o=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},11285:function(e,t,n){var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},96e3:function(e,t,n){var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:function(e,t,n){var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:function(e,t,n){var r=n(45050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},68776:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},94536:function(e,t,n){var r=n(10852)(Object,"create");e.exports=r},86916:function(e,t,n){var r=n(5569)(Object.keys,Object);e.exports=r},31167:function(e,t,n){e=n.nmd(e);var r=n(31957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},55639:function(e,t,n){var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},90619:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:function(e){e.exports=function(e){return this.__data__.has(e)}},21814:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},37465:function(e,t,n){var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:function(e){e.exports=function(e){return this.__data__.get(e)}},44758:function(e){e.exports=function(e){return this.__data__.has(e)}},34309:function(e,t,n){var r=n(38407),i=n(57071),o=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},80346:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},77813:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},35694:function(e,t,n){var r=n(9454),i=n(37005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1469:function(e){var t=Array.isArray;e.exports=t},98612:function(e,t,n){var r=n(23560),i=n(41780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},44144:function(e,t,n){e=n.nmd(e);var r=n(55639),i=n(95062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},18446:function(e,t,n){var r=n(90939);e.exports=function(e,t){return r(e,t)}},23560:function(e,t,n){var r=n(44239),i=n(13218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},36719:function(e,t,n){var r=n(38749),i=n(7518),o=n(31167),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},3674:function(e,t,n){var r=n(14636),i=n(280),o=n(98612);e.exports=function(e){return o(e)?r(e):i(e)}},70479:function(e){e.exports=function(){return[]}},95062:function(e){e.exports=function(){return!1}},27418:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,c=i(e),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))n.call(a,u)&&(c[u]=a[u]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(c[s[d]]=a[s[d]])}}return c}},51162:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=(n&&Symbol.for("react.suspense_list"),n?Symbol.for("react.memo"):60115),g=n?Symbol.for("react.lazy"):60116;n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope");function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case l:case h:case g:case p:case c:return e;default:return t}}case i:return t}}}t.isMemo=function(e){return m(e)===p}},11805:function(e,t,n){"use strict";e.exports=n(51162)},64448:function(e,t,n){"use strict";var r=n(67294),i=n(27418),o=n(63840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},g={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(g,e)||!f.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=60103,_=60106,E=60107,x=60108,A=60114,k=60109,T=60110,S=60112,P=60113,N=60120,O=60115,R=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;I=U("react.element"),_=U("react.portal"),E=U("react.fragment"),x=U("react.strict_mode"),A=U("react.profiler"),k=U("react.provider"),T=U("react.context"),S=U("react.forward_ref"),P=U("react.suspense"),N=U("react.suspense_list"),O=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var G=!1;function W(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 22:return W(e.type._render,!1);case 1:return W(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case A:return"Profiler";case x:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return K(e.type);case D:return K(e._render);case R:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function le(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ge,me=(ge=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ce(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ie=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ie[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,ke=null,Te=null;function Se(e){if(e=ni(e)){if("function"!=typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Ae(e.stateNode,e.type,t))}}function Pe(e){ke?Te?Te.push(e):Te=[e]:ke=e}function Ne(){if(ke){var e=ke,t=Te;if(Te=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Oe,Me=!1,je=!1;function Fe(){null===ke&&null===Te||(De(),Ne())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(d)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ge){Ve=!1}function Be(e,t,n,r,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var qe=!1,Ge=null,We=!1,He=null,Ke={onError:function(e){qe=!0,Ge=e}};function Ze(e,t,n,r,i,o,a,s,c){qe=!1,Ge=null,Be.apply(Ke,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function $e(e){if(Ye(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ct=null,lt=new Map,ut=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&vt(at)&&(at=null),null!==st&&vt(st)&&(st=null),null!==ct&&vt(ct)&&(ct=null),lt.forEach(yt),ut.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function Ct(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ut.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)mt(n),null===n.blockedOn&&dt.shift()}function It(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:It("Animation","AnimationEnd"),animationiteration:It("Animation","AnimationIteration"),animationstart:It("Animation","AnimationStart"),transitionend:It("Transition","TransitionEnd")},Et={},xt={};function At(e){if(Et[e])return Et[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return Et[e]=n[t];return e}d&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var kt=At("animationend"),Tt=At("animationiteration"),St=At("animationstart"),Pt=At("transitionend"),Nt=new Map,Ot=new Map,Rt=["abort","abort",kt,"animationEnd",Tt,"animationIteration",St,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Nt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var c=o&~a;0!==c?(r=Mt(c),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&0===(e=Vt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Wt|0)|0},Gt=Math.log,Wt=Math.LN2,Ht=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Zt=!0;function Yt(e,t,n,r){Me||De();var i=$t,o=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=o)||Fe()}}function Qt(e,t,n,r){Kt(Ht,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Zt)if((i=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=gt(at,e,t,n,r,i),!0;case"dragenter":return st=gt(st,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,gt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=xe(r);if(null!==(i=ti(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Xt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,un,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),fn=i({},dn,{view:0,detail:0}),pn=sn(fn),gn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(gn),vn=sn(i({},gn,{dataTransfer:0})),yn=sn(i({},fn,{relatedTarget:0})),bn=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=sn(wn),In=sn(i({},dn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function kn(){return An}var Tn=i({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=sn(Tn),Pn=sn(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),On=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),Ln=[9,13,27,32],Mn=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Fn=d&&"TextEvent"in window&&!jn,Un=d&&(!Mn||jn&&8<jn&&11>=jn),Vn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){Pe(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zn=null,Yn=null;function Qn(e){Tr(e,0)}function $n(e){if($(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Xn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Zn&&(Zn.detachEvent("onpropertychange",ir),Yn=Zn=null)}function ir(e){if("value"===e.propertyName&&$n(Yn)){var t=[];if(Kn(t,Yn,e,xe(e)),e=Qn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(rr(),Yn=n,(Zn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function sr(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=d&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,Cr=!1;function Ir(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==yr||yr!==J(r)||(r="selectionStart"in(r=yr)&&mr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<_r.length;Er++)Ot.set(_r[Er],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,c,l){if(Ze.apply(this,arguments),qe){if(!qe)throw Error(a(198));var u=Ge;qe=!1,Ge=null,We||(We=!0,He=u)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;kr(i,s,l),o=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;kr(i,s,l),o=c}}}if(We)throw e=He,We=!1,He=null,e}function Sr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Ar.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Rr(o,e,i,t),a.add(s))}function Rr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Qt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(c=a.tag)||6===c){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e();je=!0;try{Le(e,t,n)}finally{je=!1,Fe()}}((function(){var r=o,i=xe(n),a=[];e:{var s=Nt.get(e);if(void 0!==s){var c=hn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":c=Sn;break;case"focusin":l="focus",c=yn;break;case"focusout":l="blur",c=yn;break;case"beforeblur":case"afterblur":c=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case kt:case Tt:case St:c=bn;break;case Pt:c=On;break;case"scroll":c=pn;break;case"wheel":c=Dn;break;case"copy":case"cut":case"paste":c=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Pn}var u=0!=(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&null!=(g=Ue(p,h))&&u.push(Lr(p,g,f))),d)break;p=p.return}0<u.length&&(s=new c(s,l,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!ti(l)&&!l[Xr])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?ti(l):null)&&(l!==(d=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=mn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?s:ri(c),f=null==l?s:ri(l),(s=new u(g,p+"leave",c,n,i)).target=d,s.relatedTarget=f,g=null,ti(i)===r&&((u=new u(h,p+"enter",l,n,i)).target=f,u.relatedTarget=d,g=u),d=g,c&&l)e:{for(h=l,p=0,f=u=c;f;f=jr(f))p++;for(f=0,g=h;g;g=jr(g))f++;for(;0<p-f;)u=jr(u),p--;for(;0<f-p;)h=jr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=jr(u),h=jr(h)}u=null}else u=null;null!==c&&Fr(a,s,c,u,!1),null!==l&&null!==d&&Fr(a,d,l,u,!0)}if("select"===(c=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Jn;else if(Hn(s))if(Xn)m=cr;else{m=ar;var v=or}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=sr);switch(m&&(m=m(e,r))?Kn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ri(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(yr=v,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Ir(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Ir(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=nn()):(en="value"in(Xt=i)?Xt.value:Xt.textContent,Gn=!0)),0<(v=Mr(r,b)).length&&(b=new In(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=qn(n)))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Vn);case"textInput":return(e=t.data)===Vn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=nn(),tn=en=Xt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new In("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Tr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(c=Ue(n,o))&&a.unshift(Lr(n,c,s)):i||null!=(c=Ue(n,o))&&a.push(Lr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var Vr=null,zr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Zr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0,Qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Qr,Jr="__reactProps$"+Qr,Xr="__reactContainer$"+Qr,ei="__reactEvents$"+Qr;function ti(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Zr(e);null!==e;){if(n=e[$r])return n;e=Zr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[$r]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Jr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var di={},hi=ci(di),fi=ci(!1),pi=di;function gi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=e.childContextTypes}function vi(){li(fi),li(hi)}function yi(e,t,n){if(hi.current!==di)throw Error(a(168));ui(hi,t),ui(fi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,pi=hi.current,ui(hi,e),ui(fi,fi.current),!0}function Ci(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(hi),ui(hi,e)):li(fi),ui(fi,n)}var Ii=null,_i=null,Ei=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,ki=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Si=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},ji=void 0!==Ti?Ti:function(){},Fi=null,Ui=null,Vi=!1,zi=Si(),Bi=1e4>zi?Si:function(){return Si()-zi};function qi(){switch(Pi()){case Ni:return 99;case Oi:return 98;case Ri:return 97;case Di:return 96;case Li:return 95;default:throw Error(a(332))}}function Gi(e){switch(e){case 99:return Ni;case 98:return Oi;case 97:return Ri;case 96:return Di;case 95:return Li;default:throw Error(a(332))}}function Wi(e,t){return e=Gi(e),Ei(e,t)}function Hi(e,t,n){return e=Gi(e),xi(e,t,n)}function Ki(){if(null!==Ui){var e=Ui;Ui=null,Ai(e)}Zi()}function Zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),xi(Ni,Ki),t}finally{Vi=!1}}}var Yi=C.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Ji=null,Xi=null,eo=null;function to(){eo=Xi=Ji=null}function no(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Ji=e,eo=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Ji)throw Error(a(308));Xi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=u:h.next=u,d.lastBaseUpdate=l)}}if(null!==a){for(h=o.baseState,s=0,d=u=l=null;;){c=a.lane;var f=a.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(c=t,f=n,g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(f,h,c);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(c="function"==typeof(p=g.payload)?p.call(f,h,c):p))break e;h=i({},h,c);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[a]:c.push(a))}else f={eventTime:f,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=f,l=h):d=d.next=f,s|=c;if(null===(a=a.next)){if(null===(c=o.shared.pending))break;a=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(l=h),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Fs|=s,e.lanes=s,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lc(),i=uc(e),o=lo(r,i);o.payload=t,null!=n&&(o.callback=n),uo(e,o),dc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lc(),i=uc(e),o=lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),uo(e,o),dc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lc(),r=uc(e),i=lo(n,r);i.tag=2,null!=t&&(i.callback=t),uo(e,i),dc(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&dr(n,r)&&dr(i,o))}function bo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=mi(t)?pi:hi.current,o=(r=null!=(r=t.contextTypes))?gi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Co(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=mi(t)?pi:hi.current,i.context=gi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Io=Array.isArray;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Kc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_o(e,t,n),r.return=e,r):((r=Gc(n.type,n.key,n.props,null,e.mode,r)).ref=_o(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Wc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Kc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case I:return(n=Gc(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case _:return(t=Zc(t,e.mode,n)).return=e,t}if(Io(t)||B(t))return(t=Wc(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===i?n.type===E?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null}if(Io(n)||B(n))return null!==i?null:d(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case I:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Io(r)||B(r))return d(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function g(i,a,s,c){for(var l=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],c);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,g),null===u?l=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),l;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],c))&&(a=o(d,a,g),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),l}function m(i,s,c,l){var u=B(c);if("function"!=typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,v=null,y=c.next();null!==g&&!y.done;m++,y=c.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,l);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;m++,y=c.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return u}for(g=r(i,g);!y.done;m++,y=c.next())null!==(y=p(g,i,m,y.value,l))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),u}return function(e,r,o,c){var l="object"==typeof o&&null!==o&&o.type===E&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case I:e:{for(u=o.key,l=r;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===E){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=_o(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===E?((r=Wc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Gc(o.type,o.key,o.props,null,e.mode,c)).ref=_o(e,r,o),c.return=e,e=c)}return s(e);case _:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zc(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Kc(o,e.mode,c)).return=e,e=r),s(e);if(Io(o))return g(e,r,o,c);if(B(o))return m(e,r,o,c);if(u&&Eo(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var Ao=xo(!0),ko=xo(!1),To={},So=ci(To),Po=ci(To),No=ci(To);function Oo(e){if(e===To)throw Error(a(174));return e}function Ro(e,t){switch(ui(No,t),ui(Po,e),ui(So,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(So),ui(So,t)}function Do(){li(So),li(Po),li(No)}function Lo(e){Oo(No.current);var t=Oo(So.current),n=fe(t,e.type);t!==n&&(ui(Po,e),ui(So,n))}function Mo(e){Po.current===e&&(li(So),li(Po))}var jo=ci(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Vo=null,zo=!1;function Bo(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Go(e){if(zo){var t=Vo;if(t){var n=t;if(!qo(e,t)){if(!(t=Kr(n.nextSibling))||!qo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Uo=e);Bo(Uo,n)}Uo=e,Vo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Uo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Ho(e){if(e!==Uo)return!1;if(!zo)return Wo(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Vo;t;)Bo(e,t),t=Kr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vo=null}}else Vo=Uo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Vo=Uo=null,zo=!1}var Zo=[];function Yo(){for(var e=0;e<Zo.length;e++)Zo[e]._workInProgressVersionPrimary=null;Zo.length=0}var Qo=C.ReactCurrentDispatcher,$o=C.ReactCurrentBatchConfig,Jo=0,Xo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Jo=o,Xo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Oa:Ra,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Qo.current=Da,e=n(r,i)}while(ra)}if(Qo.current=Na,t=null!==ea&&null!==ea.next,Jo=0,ta=ea=Xo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Xo.memoizedState=ta=e:ta=ta.next=e,ta}function ca(){if(null===ea){var e=Xo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Xo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Xo.memoizedState=ta=e:ta=ta.next=e}return ta}function la(e,t){return"function"==typeof t?t(e):t}function ua(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=o=null,l=i;do{var u=l.lane;if((Jo&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=d,o=r):c=c.next=d,Xo.lanes|=u,Fs|=u}l=l.next}while(null!==l&&l!==i);null===c?o=r:c.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Zo.push(t))),e)return n(t._source);throw Zo.push(t),Error(a(350))}function fa(e,t,n,r){var i=Ps;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),c=Qo.current,l=c.useState((function(){return ha(i,t,n)})),u=l[1],d=l[0];l=ta;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,g=h.source;h=h.subscribe;var m=Xo;return e.memoizedState={refs:f,source:t,subscribe:r},c.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(u(e),e=uc(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var c=31-qt(a),l=1<<c;r[c]|=e,a&=~l}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=uc(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(p,n)&&lr(g,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:d}).dispatch=u=Pa.bind(null,Xo,e),l.queue=e,l.baseQueue=null,d=ha(i,t,n),l.memoizedState=l.baseState=d),d}function pa(e,t,n){return fa(ca(),e,t,n)}function ga(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Pa.bind(null,Xo,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xo.updateQueue)?(t={lastEffect:null},Xo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function va(e){return e={current:e},sa().memoizedState=e}function ya(){return ca().memoizedState}function ba(e,t,n,r){var i=sa();Xo.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void ma(t,n,o,r)}Xo.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function Ca(e,t){return ba(516,4,e,t)}function Ia(e,t){return wa(516,4,e,t)}function _a(e,t){return wa(4,2,e,t)}function Ea(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,n){return n=null!=n?n.concat([e]):null,wa(4,2,Ea.bind(null,t,e),n)}function Aa(){}function ka(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ta(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sa(e,t){var n=qi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{e(!1),t()}finally{$o.transition=n}}))}function Pa(e,t,n){var r=lc(),i=uc(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Xo||null!==a&&a===Xo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=a(s,n);if(o.eagerReducer=a,o.eagerState=c,lr(c,s))return}catch(e){}dc(e,i,r)}}var Na={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Oa={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,Xo,e),[r.memoizedState,e]},useRef:va,useState:ga,useDebugValue:Aa,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return Ca((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return va(e=Sa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fa(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0==(2&Xo.mode)&&(Xo.flags|=516,ma(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:oo,useCallback:ka,useContext:oo,useEffect:Ia,useImperativeHandle:xa,useLayoutEffect:_a,useMemo:Ta,useReducer:ua,useRef:ya,useState:function(){return ua(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=ua(la),n=t[0],r=t[1];return Ia((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=ua(la)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return ua(la)[0]},unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:ka,useContext:oo,useEffect:Ia,useImperativeHandle:xa,useLayoutEffect:_a,useMemo:Ta,useReducer:da,useRef:ya,useState:function(){return da(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return Ia((function(){var t=$o.transition;$o.transition=1;try{r(e)}finally{$o.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},La=C.ReactCurrentOwner,Ma=!1;function ja(e,t,n,r){t.child=null===e?ko(t,null,n,r):Ao(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Bc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=qc(a,r)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0==(o&i))return t.lanes=e.lanes,ns(e,t,o);0!=(16384&e.flags)&&(Ma=!0)}return qa(e,t,n,r,o)}function za(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},bc(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bc(0,e),null;t.memoizedState={baseLanes:0},bc(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bc(0,r);return ja(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qa(e,t,n,r,i){var o=mi(n)?pi:hi.current;return o=gi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ga(e,t,n,r,i){if(mi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),Co(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;l="object"==typeof l&&null!==l?oo(l):gi(t,l=mi(n)?pi:hi.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==l)&&wo(t,a,r,l),ao=!1;var h=t.memoizedState;a.state=h,fo(t,r,a,i),c=t.memoizedState,s!==r||h!==c||fi.current||ao?("function"==typeof u&&(mo(t,n,u,r),c=t.memoizedState),(s=ao||yo(t,n,s,r,h,c,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Qi(t.type,s),a.props=l,d=t.pendingProps,h=a.context,c="object"==typeof(c=n.contextType)&&null!==c?oo(c):gi(t,c=mi(n)?pi:hi.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==c)&&wo(t,a,r,c),ao=!1,h=t.memoizedState,a.state=h,fo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||fi.current||ao?("function"==typeof f&&(mo(t,n,f,r),p=t.memoizedState),(l=ao||yo(t,n,l,r,h,p,c))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){Ba(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&Ci(t,n,!1),ns(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):ja(e,t,s,o),t.memoizedState=r.state,i&&Ci(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ro(e,t.containerInfo)}var Ka,Za,Ya,Qa={dehydrated:null,retryLane:0};function $a(e,t,n){var r,i=t.pendingProps,o=jo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(jo,1&o),null===e?(void 0!==i.fallback&&Go(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qa,t.lanes=33554432,e):((n=Hc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qc(a,s),null!==e?r=qc(e,r):(r=Wc(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Qa,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=qc(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Hc(t,i,0,null),n=Wc(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Xa(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!=(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xa(e,n);else if(19===e.tag)Xa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(jo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&vi(),null;case 3:return Do(),li(fi),li(hi),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Oo(No.current);if(n=t.type,null!==e&&null!=t.stateNode)Za(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Oo(So.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Jr]=s,n){case"dialog":Sr("cancel",r),Sr("close",r);break;case"iframe":case"object":case"embed":Sr("load",r);break;case"video":case"audio":for(e=0;e<xr.length;e++)Sr(xr[e],r);break;case"source":Sr("error",r);break;case"img":case"image":case"link":Sr("error",r),Sr("load",r);break;case"details":Sr("toggle",r);break;case"input":ee(r,s),Sr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Sr("invalid",r);break;case"textarea":ce(r,s),Sr("invalid",r)}for(var l in _e(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Sr("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[$r]=t,e[Jr]=r,Ka(e,t),t.stateNode=e,l=Ee(n,r),n){case"dialog":Sr("cancel",e),Sr("close",e),o=r;break;case"iframe":case"object":case"embed":Sr("load",e),o=r;break;case"video":case"audio":for(o=0;o<xr.length;o++)Sr(xr[o],e);o=r;break;case"source":Sr("error",e),o=r;break;case"img":case"image":case"link":Sr("error",e),Sr("load",e),o=r;break;case"details":Sr("toggle",e),o=r;break;case"input":ee(e,r),o=X(e,r),Sr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Sr("invalid",e);break;case"textarea":ce(e,r),o=se(e,r),Sr("invalid",e);break;default:o=r}_e(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?Ce(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&me(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ve(e,d):"number"==typeof d&&ve(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Sr("scroll",e):null!=d&&w(e,s,d,l))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ur)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Oo(No.current),Oo(So.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(jo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&jo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Ps||0==(134217727&Fs)&&0==(134217727&Us)||gc(Ps,Os))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(li(jo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(l=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Fo(e))){for(t.flags|=64,rs(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>qs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>qs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=jo.current,ui(jo,s?1&t|2:1&t),n):null;case 23:case 24:return wc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:mi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),li(fi),li(hi),Yo(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(jo),null;case 4:return Do(),null;case 10:return no(e),null;case 23:case 24:return wc(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Za=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Oo(So.current);var a,s=null;switch(n){case"input":o=X(e,o),r=X(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Ur)}for(d in _e(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(null!=u||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Sr("scroll",e),s||l===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===L?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"==typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Zs=r),ss(0,t)},n}function us(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"==typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){jc(e,t)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(a(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Dc(n,e),Rc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ct(n)))))}throw Error(a(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ms(e,t){if(_i&&"function"==typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ii,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Dc(t,n);else{r=t;try{i()}catch(e){jc(r,e)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){jc(t,e)}break;case 5:hs(t);break;case 4:Is(e,t)}}function vs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ws(e,n,t):Cs(e,n,t)}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function Cs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Cs(e,t,n),e=e.sibling;null!==e;)Cs(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,l=c;;)if(ms(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ms(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?Ce(n,c):"dangerouslySetInnerHTML"===s?me(n,c):"children"===s?ve(n,c):w(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ct(n.containerInfo)));case 13:return null!==t.memoizedState&&(Bs=Bi(),gs(t.child,!0)),void Es(t);case 19:return void Es(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function Es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Uc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var As=Math.ceil,ks=C.ReactCurrentDispatcher,Ts=C.ReactCurrentOwner,Ss=0,Ps=null,Ns=null,Os=0,Rs=0,Ds=ci(0),Ls=0,Ms=null,js=0,Fs=0,Us=0,Vs=0,zs=null,Bs=0,qs=1/0;function Gs(){qs=Bi()+500}var Ws,Hs=null,Ks=!1,Zs=null,Ys=null,Qs=!1,$s=null,Js=90,Xs=[],ec=[],tc=null,nc=0,rc=null,ic=-1,oc=0,ac=0,sc=null,cc=!1;function lc(){return 0!=(48&Ss)?Bi():-1!==ic?ic:ic=Bi()}function uc(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===qi()?1:2;if(0===oc&&(oc=js),0!==Yi.transition){0!==ac&&(ac=null!==zs?zs.pendingLanes:0),e=oc;var t=4186112&~ac;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=qi(),e=Ut(0!=(4&Ss)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),oc)}function dc(e,t,n){if(50<nc)throw nc=0,rc=null,Error(a(185));if(null===(e=hc(e,t)))return null;Bt(e,t,n),e===Ps&&(Us|=t,4===Ls&&gc(e,Os));var r=qi();1===t?0!=(8&Ss)&&0==(48&Ss)?mc(e):(fc(e,n),0===Ss&&(Gs(),Ki())):(0==(4&Ss)||98!==r&&99!==r||(null===tc?tc=new Set([e]):tc.add(e)),fc(e,n)),zs=e}function hc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-qt(s),l=1<<c,u=o[c];if(-1===u){if(0==(l&r)||0!=(l&i)){u=t,Mt(l);var d=Lt;o[c]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);s&=~l}if(r=jt(e,e===Ps?Os:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ai(n)}15===t?(n=mc.bind(null,e),null===Fi?(Fi=[n],Ui=xi(Ni,Zi)):Fi.push(n),n=Mi):14===t?n=Hi(99,mc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Hi(n,pc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function pc(e){if(ic=-1,ac=oc=0,0!=(48&Ss))throw Error(a(327));var t=e.callbackNode;if(Oc()&&e.callbackNode!==t)return null;var n=jt(e,e===Ps?Os:0);if(0===n)return null;var r=n,i=Ss;Ss|=16;var o=_c();for(Ps===e&&Os===r||(Gs(),Cc(e,r));;)try{Ac();break}catch(t){Ic(e,t)}if(to(),ks.current=o,Ss=i,null!==Ns?r=0:(Ps=null,Os=0,r=Ls),0!=(js&Us))Cc(e,0);else if(0!==r){if(2===r&&(Ss|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ft(e))&&(r=Ec(e,n))),1===r)throw t=Ms,Cc(e,0),gc(e,n),fc(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Sc(e);break;case 3:if(gc(e,n),(62914560&n)===n&&10<(r=Bs+500-Bi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gr(Sc.bind(null,e),r);break}Sc(e);break;case 4:if(gc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-qt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Gr(Sc.bind(null,e),n);break}Sc(e);break;default:throw Error(a(329))}}return fc(e,Bi()),e.callbackNode===t?pc.bind(null,e):null}function gc(e,t){for(t&=~Vs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function mc(e){if(0!=(48&Ss))throw Error(a(327));if(Oc(),e===Ps&&0!=(e.expiredLanes&Os)){var t=Os,n=Ec(e,t);0!=(js&Us)&&(n=Ec(e,t=jt(e,t)))}else n=Ec(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ss|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ft(e))&&(n=Ec(e,t))),1===n)throw n=Ms,Cc(e,0),gc(e,t),fc(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e),fc(e,Bi()),null}function vc(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&(Gs(),Ki())}}function yc(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&(Gs(),Ki())}}function bc(e,t){ui(Ds,Rs),Rs|=t,js|=t}function wc(){Rs=Ds.current,li(Ds)}function Cc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Do(),li(fi),li(hi),Yo();break;case 5:Mo(r);break;case 4:Do();break;case 13:case 19:li(jo);break;case 10:no(r);break;case 23:case 24:wc()}n=n.return}Ps=e,Ns=qc(e.current,null),Os=Rs=js=t,Ls=0,Ms=null,Vs=Us=Fs=0}function Ic(e,t){for(;;){var n=Ns;try{if(to(),Qo.current=Na,na){for(var r=Xo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Jo=0,ta=ea=Xo=null,ra=!1,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ns=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=Os,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&jo.current),h=a;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=h.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!d)}}if(f){var m=h.updateQueue;if(null===m){var v=new Set;v.add(l),h.updateQueue=v}else m.add(l);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,uo(s,y)}s.lanes|=1;break e}c=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new cs,c=new Set,b.set(l,c)):void 0===(c=b.get(l))&&(c=new Set,b.set(l,c)),!c.has(s)){c.add(s);var w=Fc.bind(null,o,l,s);l.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);c=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),c=as(c,s),h=a;do{switch(h.tag){case 3:o=c,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ls(0,o,t));break e;case 1:o=c;var C=h.type,I=h.stateNode;if(0==(64&h.flags)&&("function"==typeof C.getDerivedStateFromError||null!==I&&"function"==typeof I.componentDidCatch&&(null===Ys||!Ys.has(I)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,us(h,o,t));break e}}h=h.return}while(null!==h)}Tc(n)}catch(e){t=e,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function _c(){var e=ks.current;return ks.current=Na,null===e?Na:e}function Ec(e,t){var n=Ss;Ss|=16;var r=_c();for(Ps===e&&Os===t||Cc(e,t);;)try{xc();break}catch(t){Ic(e,t)}if(to(),Ss=n,ks.current=r,null!==Ns)throw Error(a(261));return Ps=null,Os=0,Ls}function xc(){for(;null!==Ns;)kc(Ns)}function Ac(){for(;null!==Ns&&!ki();)kc(Ns)}function kc(e){var t=Ws(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?Tc(e):Ns=t,Ts.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=is(n,t,Rs)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Rs)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ls&&(Ls=5)}function Sc(e){var t=qi();return Wi(99,Pc.bind(null,e,t)),null}function Pc(e,t){do{Oc()}while(null!==$s);if(0!=(48&Ss))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var l=31-qt(o),u=1<<l;i[l]=0,s[l]=-1,c[l]=-1,o&=~u}if(null!==tc&&0==(24&r)&&tc.has(e)&&tc.delete(e),e===Ps&&(Ns=Ps=null,Os=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ss,Ss|=32,Ts.current=null,Vr=Zt,mr(s=gr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(e){c=null;break e}var d=0,h=-1,f=-1,p=0,g=0,m=s,v=null;t:for(;;){for(var y;m!==c||0!==o&&3!==m.nodeType||(h=d+o),m!==l||0!==u&&3!==m.nodeType||(f=d+u),3===m.nodeType&&(d+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===s)break t;if(v===c&&++p===o&&(h=d),v===l&&++g===u&&(f=d),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}c=-1===h||-1===f?null:{start:h,end:f}}else c=null;c=c||{start:0,end:0}}else c=null;zr={focusedElem:s,selectionRange:c},Zt=!1,sc=null,cc=!1,Hs=r;do{try{Nc()}catch(e){if(null===Hs)throw Error(a(330));jc(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);sc=null,Hs=r;do{try{for(s=e;null!==Hs;){var b=Hs.flags;if(16&b&&ve(Hs.stateNode,""),128&b){var w=Hs.alternate;if(null!==w){var C=w.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(1038&b){case 2:bs(Hs),Hs.flags&=-3;break;case 6:bs(Hs),Hs.flags&=-3,_s(Hs.alternate,Hs);break;case 1024:Hs.flags&=-1025;break;case 1028:Hs.flags&=-1025,_s(Hs.alternate,Hs);break;case 4:_s(Hs.alternate,Hs);break;case 8:Is(s,c=Hs);var I=c.alternate;vs(c),null!==I&&vs(I)}Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(a(330));jc(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);if(C=zr,w=gr(),b=C.focusedElem,s=C.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==s&&mr(b)&&(w=s.start,void 0===(C=s.end)&&(C=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(C,b.value.length)):(C=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(C=C.getSelection(),c=b.textContent.length,I=Math.min(s.start,c),s=void 0===s.end?I:Math.min(s.end,c),!C.extend&&I>s&&(c=s,s=I,I=c),c=fr(b,I),o=fr(b,s),c&&o&&(1!==C.rangeCount||C.anchorNode!==c.node||C.anchorOffset!==c.offset||C.focusNode!==o.node||C.focusOffset!==o.offset)&&((w=w.createRange()).setStart(c.node,c.offset),C.removeAllRanges(),I>s?(C.addRange(w),C.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),C.addRange(w))))),w=[];for(C=b;C=C.parentNode;)1===C.nodeType&&w.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(C=w[b]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Zt=!!Vr,zr=Vr=null,e.current=n,Hs=r;do{try{for(b=e;null!==Hs;){var _=Hs.flags;if(36&_&&ps(b,Hs.alternate,Hs),128&_){w=void 0;var E=Hs.ref;if(null!==E){var x=Hs.stateNode;Hs.tag,w=x,"function"==typeof E?E(w):E.current=w}}Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(a(330));jc(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);Hs=null,ji(),Ss=i}else e.current=n;if(Qs)Qs=!1,$s=e,Js=t;else for(Hs=r;null!==Hs;)t=Hs.nextEffect,Hs.nextEffect=null,8&Hs.flags&&((_=Hs).sibling=null,_.stateNode=null),Hs=t;if(0===(r=e.pendingLanes)&&(Ys=null),1===r?e===rc?nc++:(nc=0,rc=e):nc=0,n=n.stateNode,_i&&"function"==typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ii,n,void 0,64==(64&n.current.flags))}catch(e){}if(fc(e,Bi()),Ks)throw Ks=!1,e=Zs,Zs=null,e;return 0!=(8&Ss)||Ki(),null}function Nc(){for(;null!==Hs;){var e=Hs.alternate;cc||null===sc||(0!=(8&Hs.flags)?Xe(Hs,sc)&&(cc=!0):13===Hs.tag&&xs(e,Hs)&&Xe(Hs,sc)&&(cc=!0));var t=Hs.flags;0!=(256&t)&&fs(e,Hs),0==(512&t)||Qs||(Qs=!0,Hi(97,(function(){return Oc(),null}))),Hs=Hs.nextEffect}}function Oc(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Wi(e,Lc)}return!1}function Rc(e,t){Xs.push(t,e),Qs||(Qs=!0,Hi(97,(function(){return Oc(),null})))}function Dc(e,t){ec.push(t,e),Qs||(Qs=!0,Hi(97,(function(){return Oc(),null})))}function Lc(){if(null===$s)return!1;var e=$s;if($s=null,0!=(48&Ss))throw Error(a(331));var t=Ss;Ss|=32;var n=ec;ec=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));jc(o,e)}}for(n=Xs,Xs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var c=i.create;i.destroy=c()}catch(e){if(null===o)throw Error(a(330));jc(o,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Ss=t,Ki(),!0}function Mc(e,t,n){uo(e,t=ls(0,t=as(n,t),1)),t=lc(),null!==(e=hc(e,1))&&(Bt(e,1,t),fc(e,t))}function jc(e,t){if(3===e.tag)Mc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Mc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){var i=us(n,e=as(t,e),1);if(uo(n,i),i=lc(),null!==(n=hc(n,1)))Bt(n,1,i),fc(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ys||!Ys.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lc(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Os&n)===n&&(4===Ls||3===Ls&&(62914560&Os)===Os&&500>Bi()-Bs?Cc(e,0):Vs|=n),fc(e,t)}function Uc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===qi()?1:2:(0===oc&&(oc=js),0===(t=Vt(62914560&~oc))&&(t=4194304))),n=lc(),null!==(e=hc(e,t))&&(Bt(e,t,n),fc(e,n))}function Vc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,r){return new Vc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Bc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case E:return Wc(n.children,i,o,t);case M:s=8,i|=16;break;case x:s=8,i|=1;break;case A:return(e=zc(12,n,t,8|i)).elementType=A,e.type=A,e.lanes=o,e;case P:return(e=zc(13,n,t,i)).type=P,e.elementType=P,e.lanes=o,e;case N:return(e=zc(19,n,t,i)).elementType=N,e.lanes=o,e;case j:return Hc(n,i,o,t);case F:return(e=zc(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case T:s=9;break e;case S:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Wc(e,t,n,r){return(e=zc(7,e,r,t)).lanes=n,e}function Hc(e,t,n,r){return(e=zc(23,e,r,t)).elementType=j,e.lanes=n,e}function Kc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Zc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function $c(e,t,n,r){var i=t.current,o=lc(),s=uc(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(mi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=bi(n,l,c);break e}}n=c}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),dc(i,s,o),s}function Jc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yc(e,t,null!=n&&!0===n.hydrate),t=zc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Xr]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Jc(a);s.call(e)}}$c(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var c=i;i=function(){var e=Jc(a);c.call(e)}}yc((function(){$c(t,a,e,i)}))}return Jc(a)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(a(200));return Qc(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ma=!0;else{if(0==(n&r)){switch(Ma=!1,t.tag){case 3:Ha(t),Ko();break;case 5:Lo(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?$a(e,t,n):(ui(jo,1&jo.current),null!==(t=ns(e,t,n))?t.sibling:null);ui(jo,1&jo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,za(e,t,n)}return ns(e,t,n)}Ma=0!=(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,hi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&mo(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,Co(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Bc(e)?1:0;if(null!=e){if((e=e.$$typeof)===S)return 11;if(e===O)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=qa(null,t,i,e,n);break e;case 1:t=Ga(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ga(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Vo=Kr(t.stateNode.containerInfo.firstChild),Uo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Zo.push(o);for(n=ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(e,t,r,n),Ko();t=t.child}return t;case 5:return Lo(t),null===e&&Go(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==o&&qr(r,o)&&(t.flags|=16),Ba(e,t),ja(e,t,s,n),t.child;case 6:return null===e&&Go(t),null;case 13:return $a(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var c=t.type._context;if(ui($i,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0==(o=lr(c,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!fi.current){t=ns(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===c.tag&&((u=lo(-1,n&-n)).tag=2,uo(c,u)),c.lanes|=n,null!==(u=c.alternate)&&(u.lanes|=n),ro(c.return,n),l.lanes|=n;break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Ua(e,t,i,o=Qi(i.type,o),r,n);case 15:return Va(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),Co(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return za(e,t,n)}throw Error(a(156,t.tag))},tl.prototype.render=function(e){$c(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$c(null,e,null,(function(){t[Xr]=null}))},et=function(e){13===e.tag&&(dc(e,4,lc()),el(e,4))},tt=function(e){13===e.tag&&(dc(e,67108864,lc()),el(e,67108864))},nt=function(e){if(13===e.tag){var t=lc(),n=uc(e);dc(e,n,t),el(e,n)}},rt=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));$(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Oe=vc,Re=function(e,t,n,r,i){var o=Ss;Ss|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ss=o)&&(Gs(),Ki())}},De=function(){0==(49&Ss)&&(function(){if(null!==tc){var e=tc;tc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fc(e,Bi())}))}Ki()}(),Oc())},Le=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&(Gs(),Ki())}};var ol={Events:[ni,ri,ii,Pe,Ne,Oc,{current:!1}]},al={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sl={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Ii=cl.inject(sl),_i=cl}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ss;if(0!=(48&n))return e(t);Ss|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ss=n,Ki()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(a(40));return!!e._reactRootContainer&&(yc((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Xr]=null}))})),!0)},t.unstable_batchedUpdates=vc,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},73935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(64448)},49559:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e||"";return t&&(o=r(e)),n&&(o=i(o)),o};var n=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function r(e){return e.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,r){return t>0&&t+e.length!==r.length&&e.search(n)>-1&&":"!==r.charAt(t-2)&&("-"!==r.charAt(t+e.length)||"-"===r.charAt(t-1))&&r.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}))}function i(e){return"string"==typeof(t=e)&&-1!==t.indexOf("@")?(console.warn("This arg looks like an email address, redacting."),"REDACTED (Potential Email Address)"):e;var t}},41638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var r=c(n(76161)),i=c(n(49559)),o=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],s=["page","hitType"];function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function v(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var b=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"reset",(function(){t.isInitialized=!1,t._testMode=!1,t._currentMeasurementId,t._hasLoadedGA=!1,t._isQueuing=!1,t._queueGtag=[]})),v(this,"_gtag",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t._testMode||t._isQueuing?t._queueGtag.push(n):r.default.apply(void 0,n)})),v(this,"_loadGA",(function(e,n){if("undefined"!=typeof window&&"undefined"!=typeof document&&!t._hasLoadedGA){var r=document.createElement("script");r.async=!0,r.src="https://www.googletagmanager.com/gtag/js?id=".concat(e),n&&r.setAttribute("nonce",n),document.body.appendChild(r),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},t._hasLoadedGA=!0}})),v(this,"_toGtagOptions",(function(e){if(e){var t={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"};return Object.entries(e).reduce((function(e,n){var r,i,o=(i=2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(r,i)||p(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1];return t[a]?e[t[a]]=s:e[a]=s,e}),{})}})),v(this,"initialize",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Require GA_MEASUREMENT_ID");var r="string"==typeof e?[{trackingId:e}]:e;t._currentMeasurementId=r[0].trackingId;var i=n.gaOptions,o=n.gtagOptions,a=n.nonce,s=n.testMode,c=void 0!==s&&s;if(t._testMode=c,c||t._loadGA(t._currentMeasurementId,a),t.isInitialized||(t._gtag("js",new Date),r.forEach((function(e){var n=f(f(f({},t._toGtagOptions(f(f({},i),e.gaOptions))),o),e.gtagOptions);Object.keys(n).length?t._gtag("config",e.trackingId,n):t._gtag("config",e.trackingId)}))),t.isInitialized=!0,!c){var l=d(t._queueGtag);for(t._queueGtag=[],t._isQueuing=!1;l.length;){var u=l.shift();t._gtag.apply(t,d(u)),"get"===u[0]&&(t._isQueuing=!0)}}})),v(this,"set",(function(e){e?"object"===u(e)?(0===Object.keys(e).length&&console.warn("empty `fieldsObject` given to .set()"),t._gaCommand("set",e)):console.warn("Expected `fieldsObject` arg to be an Object"):console.warn("`fieldsObject` is required in .set()")})),v(this,"_gaCommandSendEvent",(function(e,n,r,i,o){t._gtag("event",n,f(f({event_category:e,event_label:r,value:i},o&&{non_interaction:o.nonInteraction}),t._toGtagOptions(o)))})),v(this,"_gaCommandSendEventParameters",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"==typeof n[0])t._gaCommandSendEvent.apply(t,d(n.slice(1)));else{var i=n[0],a=i.eventCategory,s=i.eventAction,c=i.eventLabel,u=i.eventValue,h=(i.hitType,l(i,o));t._gaCommandSendEvent(a,s,c,u,h)}})),v(this,"_gaCommandSendTiming",(function(e,n,r,i){t._gtag("event","timing_complete",{name:n,value:r,event_category:e,event_label:i})})),v(this,"_gaCommandSendPageview",(function(e,n){if(n&&Object.keys(n).length){var r=t._toGtagOptions(n),i=r.title,o=r.location,s=l(r,a);t._gtag("event","page_view",f(f(f(f({},e&&{page_path:e}),i&&{page_title:i}),o&&{page_location:o}),s))}else e?t._gtag("event","page_view",{page_path:e}):t._gtag("event","page_view")})),v(this,"_gaCommandSendPageviewParameters",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"==typeof n[0])t._gaCommandSendPageview.apply(t,d(n.slice(1)));else{var i=n[0],o=i.page,a=(i.hitType,l(i,s));t._gaCommandSendPageview(o,a)}})),v(this,"_gaCommandSend",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i="string"==typeof n[0]?n[0]:n[0].hitType;switch(i){case"event":t._gaCommandSendEventParameters.apply(t,n);break;case"pageview":t._gaCommandSendPageviewParameters.apply(t,n);break;case"timing":t._gaCommandSendTiming.apply(t,d(n.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(i));break;default:console.warn("Send command doesn't exist: ".concat(i))}})),v(this,"_gaCommandSet",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]=v({},n[0],n[1])),t._gtag("set",t._toGtagOptions(n[0]))})),v(this,"_gaCommand",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];switch(e){case"send":t._gaCommandSend.apply(t,r);break;case"set":t._gaCommandSet.apply(t,r);break;default:console.warn("Command doesn't exist: ".concat(e))}})),v(this,"ga",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if("string"==typeof n[0])t._gaCommand.apply(t,n);else{var i=n[0];t._gtag("get",t._currentMeasurementId,"client_id",(function(e){t._isQueuing=!1;var n=t._queueGtag;for(i({get:function(n){return"clientId"===n?e:"trackingId"===n?t._currentMeasurementId:"apiVersion"===n?"1":void 0}});n.length;){var r=n.shift();t._gtag.apply(t,d(r))}})),t._isQueuing=!0}return t.ga})),v(this,"event",(function(e,n){if("string"==typeof e)t._gtag("event",e,t._toGtagOptions(n));else{var r=e.action,o=e.category,a=e.label,s=e.value,c=e.nonInteraction,l=e.transport;if(!o||!r)return void console.warn("args.category AND args.action are required in event()");var u={hitType:"event",eventCategory:(0,i.default)(o),eventAction:(0,i.default)(r)};a&&(u.eventLabel=(0,i.default)(a)),void 0!==s&&("number"!=typeof s?console.warn("Expected `args.value` arg to be a Number."):u.eventValue=s),void 0!==c&&("boolean"!=typeof c?console.warn("`args.nonInteraction` must be a boolean."):u.nonInteraction=c),void 0!==l&&("string"!=typeof l?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(l)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),u.transport=l)),t._gaCommand("send",u)}})),v(this,"send",(function(e){t._gaCommand("send",e)})),this.reset()}var t,n;return t=e,n=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],n&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.GA4=b;var w=new b;t.default=w},76161:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;"undefined"!=typeof window&&(void 0===window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(r=window).gtag.apply(r,t))}},49089:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.ZP=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=a?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(i,s,c):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(41638));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}i.GA4;var a=i.default;t.ZP=a},72408:function(e,t,n){"use strict";var r=n(27418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,c=60112;t.Suspense=60113;var l=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),u=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var b=y.prototype=new v;b.constructor=y,r(b,m.prototype),b.isPureReactComponent=!0;var w={current:null},C=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!I.hasOwnProperty(r)&&(o[r]=t[r]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===o[r]&&(o[r]=c[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case o:c=!0}}if(c)return a=a(c=e),e=""===r?"."+A(c,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),k(a,t,n,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=r+A(s=e[l],l);c+=k(s,t,n,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=k(s=s.value,t,n,u=r+A(s,l++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function T(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function N(){var e=P.current;if(null===e)throw Error(f(321));return e}var O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)C.call(t,u)&&!I.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},67294:function(e,t,n){"use strict";e.exports=n(72408)},35666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?p:h,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",g={};function m(){}function v(){}function y(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(S([])));C&&C!==n&&r.call(C,o)&&(b=C);var I=y.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function S(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return v.prototype=y,c(I,"constructor",y),c(y,"constructor",v),v.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},e.awrap=function(e){return{__await:e}},_(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(I),c(I,s,"Generator"),c(I,o,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},60053:function(e,t){"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,m=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,C=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+y;try{m(!0,e)?C.postMessage(null):(g=!1,m=null)}catch(e){throw C.postMessage(null),e}}else g=!1},n=function(e){m=e,g||(g=!0,C.postMessage(null))},r=function(e,n){v=h((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function I(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>x(a,n))void 0!==c&&0>x(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>x(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],k=[],T=1,S=null,P=3,N=!1,O=!1,R=!1;function D(e){for(var t=_(k);null!==t;){if(null===t.callback)E(k);else{if(!(t.startTime<=e))break;E(k),t.sortIndex=t.expirationTime,I(A,t)}t=_(k)}}function L(e){if(R=!1,D(e),!O)if(null!==_(A))O=!0,n(M);else{var t=_(k);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,R&&(R=!1,i()),N=!0;var o=P;try{for(D(n),S=_(A);null!==S&&(!(S.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=S.callback;if("function"==typeof a){S.callback=null,P=S.priorityLevel;var s=a(S.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?S.callback=s:S===_(A)&&E(A),D(n)}else E(A);S=_(A)}if(null!==S)var c=!0;else{var l=_(k);null!==l&&r(L,l.startTime-n),c=!1}return c}finally{S=null,P=o,N=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||N||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return _(A)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:T++,callback:o,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,I(k,e),null===_(A)&&e===_(k)&&(R?i():R=!0,r(L,a-s))):(e.sortIndex=c,I(A,e),O||N||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},63840:function(e,t,n){"use strict";e.exports=n(60053)},93379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var h=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var p=i(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var c=r(e,i),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},90569:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},19216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},44589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},56111:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAJcHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZhZkuM6DkX/uYpegjiTy+EY8XbQy+8DUp7teplZ1X9lhSVZ4gDiXlyAVuO//0z1Hz42+6CcjynkEA4+LrtsCjfp2J+yzvpw67w+7nzF74fn6vrC8MhytftnCmf7y3N9HWBfCnf+bqDUzhf18UU+ZzDpaSCzL1Yskvt+DpTPgazZL/Q5QNnLOkJO8X4Jdexrv6wk7a+Sk0uPZr/8jnive+axxgyr7cHZWLMNsPLVyhZe6HU2NNQ2ce+s5extOgfDIe/8dNxZpZ5Rud7pD8+fQLFhP1c8eHRmuF7fPtf+6fk5oFouvpvZtuvMj8/1MZ6Xc/nO2ZOac+zVFRdwaTgXdVnKuqNhxeV2dQscka/nPq4jcyQFexuQ96MdlaPprA2wTO1010VPPda16YaJzgwTuRrTAEqeJRtNNs0eCpycHHqaaLPtoGZsA17LU3O1Ra9585qu6cTEXdPSaAbTQgUlpz9xfBxoTqG81ke6+gq7jJAQMwQ5OdMKQPS88MgvB1+O54/gakHQLzcnFliOuoeoXp/cEh7ZBbSloee6Y03Hfg6Ai5jbYwwR4PQRtPU66CMaE7XGjwl8CgMlY52pQKC9Nx0rDQESACcZmZs+Ua+2xpv9GM0CCG+DjUCTbQErh7DBn+gSHCreeue9Dz765LMvwQYXfAghBhG/Em100ccQY0wxx5JscsmnkGJKKuVUsskWcfQ55JhTzrkUJi2MXOhdaFBKNdVWV30NNdZUcy0N+jTXfAsttqRabqWbbjs60UOPPfXcy9ADKg03/AgjjjTyKBOqTTvd9DPMONPMs1xR02rD+nJ8HTV9Qc0spKRhvKJG1xgvQ2iREy+YgZhxGsSjICACJpgdSTtnlEAnmB3ZEBXeYKUXcLoWxEDQDW381Ffsbsg94Kac+y3czAU5JdD9CeSUQPcBuVfc3qDWJdu0w6qFkIShOPWwhB8NRiomFUlqX76q73b4O9DfgX40UB1IhlRwfh6tzqF9k9/EDULS56zOjj6H8vyuNWZfbQhzNenVZl71TrVm23o2dM5xjhKG/Grl0rIQU+SkELuao+VpmckwhY2tdwwwQ1dkg0E6Mj+qHz066sK4h8U0bJveRgbnLM9UJUjT4SNG+lZi6rZpeYMBPdHOBD2Dm9XMnKWDIcplthrkF+vSialLVzKNZ7pQQtXFTumV7Vx+WQb22bZ5sebpS6vfdDaSoqsLuCqgHVPWII5EPiy6ZvOMemSPpAgQpjal1+3BKjD3XEmdlV4sUNZReY4ggg7dsa+Ir/Lq1azUCFS4ruPsKTU1Hhq9+oLm4f3Z0as+HIB6d5rCJL4tY9KcJSTbTUX8xH4EbE71C2g5F5w1Klhh6mx7fhSaifLCSgPZaBs17FyAdyQVU6pljWiwDbHiW5nvX4mNB8WivgwKAQNrdGvN8GySy2J2sWkszGmID6WYLNkj3iQ/r53Xt6vSizy0305nw/CGPvfkuVEntjhLC/isZ6sG3ly+6fAacHAO69JjxB7qGLVA3RbyOHbEOXzWoIPUq9VEXNVwUQ4MFAJRBT96gXQBNwYibJhKuJIuk4QSDDaRSALbXHHloKTulda2NywLnh2OWiv0sit6unpSog1pMyGK2Y3EtiIjjDaiHQMKpAtt1dd4+++0VW94a2Yyc4duwvevPXfoPlJeSd8oUatfIdVi7egWc6wRN9YVAXpTtRQ77KJLa8dUEhpLurotE46wRymLaC9XyzuAXpyi1EkLBCGe0G6sWENEiR44EZeIQO900TjEYylc1dCcooHN0xw2bSoQl30JnTYMRBP4JIqXgxB8CvF4dEcGRvhgZHaThQLHVGNR65CSsFmRXUTeWlCkbMl4M6w5KbMs8iZWLWte+aXeECz2Hr8tu+ped+9ll83x9pj+muxS1RIJLkBQWCLKs5YCfJ5FYWjPsLi3WDyKPtLcRI+ndp1UZ+3qxvadCX0U1w19iKjE7bmObVL3bc+Bo3hjeY6+IOMwTAG9FybTl86vfWHYfe9b31HGPYLqEdKBoPo8DEtMzqMYuDhRfOYpobkWHSo5WQSDl3bGbc9kB8miiaJBNS2LqVshrR87/lsQnkkmmKx/OQWjkSs8olEmPGJWNKj3TDtK17TxYlSD5RM/hkh4wAHRvSwVcmljh04niWNRGvBPQ0IIh4Oq2CzAL+dWoeWMO8OwCzhpOUBmEHk2sumQNGIVk3kJDDprmklYxQoncc4B/xcZmmHxKOhKQKbfRZX4bMcVsfYUWFQAvwqsuBFeeEpkMc2KLfU2uB5Dy+dFV8IqnXR9E1fqJbCOD6H1PiXtqAJftXm/kuJm/juJr/5AzXHNpuiy6mDWakQoCUCEDc1cImWl1jvzlcezdSuUZXckZoizLWFHVhe3vYaS+losjfqJb5dwUDsexKbXiJAK4m1E2Esc3fqpL3QU5Bo1qdEsf1CvkPIBQLMrHLJ8sLaZHSRscMV+bimkW23Pps29q3DUp9KnzMGeFSaESMKflQRiI8GUqpCXtNlHSTv5yV8aWlVZwWIPIr4znPF9BisMXAkZfaVUIeBIquZa0kg+P+JtMvVhtnPjcJiYhoSElUIBqBOx1RMOzIP822C/dJ19Vf5Cc9pVzGR/rd9m719eI2MpQNRY1szibFjLdAYUhYErZFr1PQu3ZMHguysNL38IRjKykBKZUnt3sSyucfQ8ZFQsNjOE1qU+kzRC8FDlUNlSnoDvKifCIgw0MratagR3nvVzoChy8antpeWK+4emPuW7YvRbzlhXfyeMkji3MqonafTHluE25tcRE8DUiZjvq0ZmczAKU2b0k7RRhUGPgj+XWrQjD3vWuTgSfQJ+g8IHc+Gf+OEdA1GwYD8VrlzV5cbL3FXCepedCNAWvKNSzE0pbyWoTY8hiEBR1w/WBZr4LaaqftLVT7TyCVx1Y8LvEUF9Mxo+XtVnZnyPGOozM75HDPWZGd8jhnplxM+IoG5M+D0iqHeS8BMiqHeS8JOr+olkvCOGksrNzAPr+2KGOSvbs3Dzl8q2xl30SGV7V7ix79WO7YRX6fK/D7VlmNIWeoSxyHH+4cNIa8/m99ZqeLdoQoUJSF2QjtlQaMGG1YDt/2pgohQsvkdrfzlEGTeoif6F9D3OC4f3OB/HZ/TUcxwf8jeSeAenWNkBsjUuspuJ9+n/9U8k9Uf+8vs70P97IPm3hw3f/wDALU0BK3EBgAAAASRpQ0NQSUNDIHByb2ZpbGUAAHicnZCxSsNQFIa/VFHROojiIA4ZHFwKLmZyqQqhoBBjBatTmqRYTGJIUopv4Jvow3QQBN/AF1Bw9r/RwcEsXjj8H4dz/v/eCy07CdNyfg/SrCpcvzu4HFzZi2+s0GaNXQjCMu963gmN5/MVy+hLx3g1z/15FqK4DKUzVRbmRQXWgdiZVrlhFRu3ff9I/CC2ozSLxE/inSiNDJtdP00m4Y+nuU07zi7OTV+1jUuPUzxshkwYk1DRkWbqHOOwL3UpCLinJJQmxOpNNVNxIyrl5HIo6ot0m4a8rTrPU8pQHmN5mYQ7UnmaPMz/fq99nNWb1uYsD4qgbs2pWqMRvD/C6gDWn2H5uiFr6ffbGmaceuafb/wCyRBQVR3vGxsAAA+gaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczppcHRjRXh0PSJodHRwOi8vaXB0Yy5vcmcvc3RkL0lwdGM0eG1wRXh0LzIwMDgtMDItMjkvIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6cGx1cz0iaHR0cDovL25zLnVzZXBsdXMub3JnL2xkZi94bXAvMS4wLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6NmY3N2Y0YzAtMzNmNi00MTZmLThiZTgtZWNmM2JiNWFiZmZjIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJmZTNlZDY3LWZlNDYtNGNlZS1iYjBhLWM5YzBmNDIyZjVhMyIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjZmNDdlZjM0LTA3M2MtNGI1OS1iYTQwLTBmZTNiMGQ0NjY1NCIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iTWFjIE9TIgogICBHSU1QOlRpbWVTdGFtcD0iMTYzNjczOTAzODEzMTIxNiIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjIyIgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8aXB0Y0V4dDpMb2NhdGlvbkNyZWF0ZWQ+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpMb2NhdGlvbkNyZWF0ZWQ+CiAgIDxpcHRjRXh0OkxvY2F0aW9uU2hvd24+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpMb2NhdGlvblNob3duPgogICA8aXB0Y0V4dDpBcnR3b3JrT3JPYmplY3Q+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpBcnR3b3JrT3JPYmplY3Q+CiAgIDxpcHRjRXh0OlJlZ2lzdHJ5SWQ+CiAgICA8cmRmOkJhZy8+CiAgIDwvaXB0Y0V4dDpSZWdpc3RyeUlkPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjQyYmQ5NS0xYjBlLTQwMTMtOTdhMS02YzQyNWJiZjhiMDQiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTWFjIE9TKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMS0xMS0xMlQxODo0Mzo1OCswMTowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgIDxwbHVzOkltYWdlU3VwcGxpZXI+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZVN1cHBsaWVyPgogICA8cGx1czpJbWFnZUNyZWF0b3I+CiAgICA8cmRmOlNlcS8+CiAgIDwvcGx1czpJbWFnZUNyZWF0b3I+CiAgIDxwbHVzOkNvcHlyaWdodE93bmVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6Q29weXJpZ2h0T3duZXI+CiAgIDxwbHVzOkxpY2Vuc29yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6TGljZW5zb3I+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz6juRBoAAAAAmJLR0QAHyeFLscAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQflCwwRKzoaw0OkAAAA90lEQVRo3u2YMQ7CMAxFf3spBthgATGkPgg3QxwxrEghtuMk7fLfWuL32qQSABBCCCGEEKKyDZkiyrWldiHnnw8tcbk1Z7WXATlLSJ6KOe7qki3w4P/NCerbE6Q6JxzQkiDKFPPcZwVx732dpB9CPfDteAqCjzrEeKVWtd7eCDHXd5wBO0Ecqzt3UDsLnpXJc4huoQSP/uV9jdoThurbE4brAeDiTpii9ydM03sTJuoB4NqdcOr9PnPGYXffnzBEH08Ypo8lDNW3JwzXtyVM0fsTpul9CVP1dsJ0vZ6wi76esJseAO44VF/+gkg4iCce/BeDEEJIF19rdlvyr1vVVwAAAABJRU5ErkJggg=="},61826:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAKK3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7Zlbcuy2DkX/OYoMQSTF13D4QtWdwR1+Fkip7bbbjpOT/B13uSVLFAhib2yAspn//5+YP/jx5YzmDCnHEuPBz1nO4ion+dg/dX3b41zf6+e8bvH303XzuOG45Dn6/WeO1/j7un0Y2IfKWXhnKPfrRnu+Ua4ZXP5g6JrIq0eOk3EZKpch7/YNexmoe1lHLDm9X0Kb+zjuleT9a/TLp2X7YeTj32cieiNw0Ts3vfUH38677YDXX2t85YZd346B1mfOTz6VAfeSCMirOB3vvDIfUXmc2S+ufwDFx33dcOE5mPFxfHndhtfBNyvE72b2/THz03WXjvlxOfevyMhGZO7V1TMS0ngt6l7KOmNgI+R+PRb5JH4D52l9Cp9sYG8HnXH0o/HptlgHLGJPO2y1Yuc6dttx8XTTJY7OdYDSa9knV1z3hwEnxei04pIvfoCa8x14PVfdwxe75i1rum4zEw/LSGcxZpUKRr/+jc+XhkSU8tYe+REr/HJKQtxQ5PSbUQBi5eZRWAG+Px9/FFcPgmGFObPAerRtogV7cUt55BfQnoGB404Lm8ZlgBAxd8AZMuC0R7Q+2GiP5Fyyljhm8KkYys6frgGBDcENvHSn9xFwstO5eSbZNdYFty+jWQARfPQJaIqvYHUibPAnnRkO1eDDGUKIIYUcSqjRxzOGGGOKKn41+XSmkGJKKaeSavb5zCHHnHI2ueRaXEEtSyixpJJLKbUyacVy5enKgFqba76dLbTYUsuttNqhTz976LGnnk0vvQ43/EAnRhxp5FFGnXZCpXnOMONMM88yq0A18XJKkChJshSpD9Ss2bB++vwcNXuj5hZSOjA9UOPRlG4TVuUkKGYg5k4L4kkRUAFTzI5sz9MZhU4xO4ojK4LDy6DgDKuIgeA5rQtiH9i9IfeEmznPX8LN3cgZhe7fQM4odF8g9xm3F6gNrTb98GYhpGmoQT086ceAmavLVYvaj4/m7z7w29B/YajKhChRwBGdKE3aAP4YvWSqRJ9pAH0+XEDDziRmjii+wYsZUgkNfniI64skO0uYI2Gpd3I0+KSDvF44GmyrRRBFBJELMJt602Q6JopdGsbWQAdPG3dIBWkndseQSt6087DzrGkeJWI2RrVy9OLEyBwl9I4q+FXGTh4RmhgdMEcLQuZTQJGcGputfi31lOIFL33qg/HdtmRs7qkVCbW3Ki1KD2XaNTyf1c+eNFSERpqfsngfA5GITDJplQSXQyVfDPrk0UOZ3TI26QJIEQbiV0wtPSZiBWddaNDOfT6ar278+NikRpwm2NXOKFM0uiXLtCCroEnUNo2QeY2376A9paTGcvqCn6XOEdACDQOtXz+KnhISEQjDUnsjABIbtAFvFbDmY5ybURgAZsLHc/PgmXw6ncl4xR6FGWAvir1KFb41/4x89Ig5+CmEb0cUc7ou+EKwXbASF06AzvND16XsaI6/W2IOQs6Z1KHtLc146moASmgEDmFaMcO1ro95yCe9+dFyj350nooupNHuKdX0Pef7Ga/5zPOESpvnmb6ZiJC5xyLNx1X/g2MQkDV4OccB2SU1hL7j06H4k3iEX3t1Zcl3JNESQKN1o6j4Lxw/wagp/ApIq89RkkW7SIJN5ypUX82zUUUFo0SrvvGkeqLkmxqqZr+TNnOfUO7ExqS0pEYT/CUQCBv2pq5T1YDyKQN1IYVJQfwasVXNQOratBg4UD1CciT8ENWzJGXpFFIwAMlOBBEVcYvz13wYvmdkPvOY8OV0cxH1JxMZZsIx+yvyv9Td/LW8H7Dke5KkoeL/HsMFIUt5ApH97UsYy5hHFLab+mwxsjwSOhvKgKdqzKD5cyzfUGQ8UfKlRGjoU3R/qmz+dDRf3aBxI7C5scFZpGTbTbujZ6xUYx7TKhDIDnk9hyG9Ne44O1sY7qoYmMhoBUHKXpUfJaM16nOMzXSJCH8WVLKFXMgD6loWxE4nLSsecWuRymQPqhneb5nkdppDVRS426odhXJ0lw7za7Xj7Wiuk2HJJvyfwy+Qx9SM/VgL4tUOvGCLuejS5loYRMjQYNIbL+KAZkl/heY5IQExspqmB9S6o0MoylVENFGvMgIc8lZEZpvfFki6jR7L9KvMEMe+c22ZRJ7wvPdNUdY+NTMT8qAUNcrRLLamPHRJ5CfuL8/IybEUcOHW1C8t+fh13n4BuYQyQLqZ0Dqc7vRGMwDa9GNg34+cKqyMumFnPVhS59zujqKnwAa6o9ajhrbkNMzqjsLVrDR3i+tgDctzJmOLn8cuMrqtKDQpiBArItZ0JLCc3sysGCxR0R5macqcraKYNO+BBeONvlBY1UiX2wEi3EA0JaqumErLruVi6mwv6TbfmqZXLdMKfaAb+dAzzbIES3L8cecE9wn2P+/Rnicyv5ZnbP5QFyi94IdKa6VKAKh/LAIgLhAAEaV+oqt+NxG2fCWEZuXOeFbCuejQvD962m0P+lM2uyupOl+4aF5lh0bryg/Njrfc+JwZd2KI2UQhKzQzvskLJez7zKARyQMJYWMKs0Y3X+SGrX02LStjnou+7EOVk5RCAmDxFv1y82155hF6te6SRp7Ea1PdmLutUtEnP9R1ZMrq6wfH3mG3p7msVU6DNofdMbK58boMDHTtyqKWAwp9iDXmUfu9eVhBz3v70KRvwogh/ZQx0ip+asBtegRcAzaugDtaxrSbnsFmZkUcV7ARV5dgantV0f9+k2Oeu5xpT4LFPk6TnMqoWykhvxvbuHelrKSw07WdRK73OjT7d1fdztj68V02zJrRMpbqbd+bP02N4NoIKDi5hrtlbeJ2GNOprxfG2qi9LORLlXu8Nh6IY9ae2gBZXK1J4Y4K49o4xhXeR9eJtNp6ZRvjrZappN0Ku5oZtf+OK9cUAo3KnWtiQR5KQnG4Db8ybCQQQ8FuZEYiDU7dPL2x25SvlD+yfX7ZpVzHD+wyr+m12LVeodmgC0Nku796kavKPYi1q5x5wS12MZVNsgXmRYOlRcluIuj7HiUCwgQRtAdKuB66AQMnNwYawbs+vVWnL2pTSO/3JNemhh7RarmFBdor4dlae6GUVflEvlfcM19IssZnWoKw3wBk4AHusmNEt7MpeQCT6HuuGbX2a+qMHDThacu1Ezt2SWr6akvTfXX5Fb7NGva7h7orcqxQV8U/GiJ0vR6Zrlx8abIr6eIMk3ha+6LrJzDvif2gNW4ZrD6IvWv+Te0F8b03LoH4eI3SOPW9Rgm7aI8Qpv5Hxxp6AloKu0VVfiKqr4/mU72Lq91BdFdP/WPZNe919weyu9pwRtugPNWx13rNfpGzlqwLRjC7tqF+WUbhevD2Frc9zRY49mhxd0GDNqbr+yOnfcfFlqQG0oMtQ/siKW1zJUTd1zAiR9UJbq39wHoymrJ0prLTWKjVoLJWvxfL/+a1z29Dvw390JCydxT6xD8Ba1RYSTvhB1sAAAEkaUNDUElDQyBwcm9maWxlAAB4nJ2QsUrDUBSGv1RR0TqI4iAOGRxcCi5mcqkKoaAQYwWrU5qkWExiSFKKb+Cb6MN0EATfwBdQcPa/0cHBLF44/B+Hc/7/3gstOwnTcn4P0qwqXL87uBxc2YtvrNBmjV0IwjLvet4JjefzFcvoS8d4Nc/9eRaiuAylM1UW5kUF1oHYmVa5YRUbt33/SPwgtqM0i8RP4p0ojQybXT9NJuGPp7lNO84uzk1ftY1Lj1M8bIZMGJNQ0ZFm6hzjsC91KQi4pySUJsTqTTVTcSMq5eRyKOqLdJuGvK06z1PKUB5jeZmEO1J5mjzM/36vfZzVm9bmLA+KoG7NqVqjEbw/wuoA1p9h+boha+n32xpmnHrmn2/8AskQUFUd7xsbAAAQhGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6aXB0Y0V4dD0iaHR0cDovL2lwdGMub3JnL3N0ZC9JcHRjNHhtcEV4dC8yMDA4LTAyLTI5LyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOnBsdXM9Imh0dHA6Ly9ucy51c2VwbHVzLm9yZy9sZGYveG1wLzEuMC8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjg2MGE0ZjYxLWQ0MTItNDI3Mi04ZTFjLTA4ODUxM2U3MWRkMCIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozZjU1YTI0Ni02MThiLTRlMDMtYTRhZi0zZjkyMjcyY2FjMTQiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MTdkMThlNi02MDViLTQxMDUtYmUzOC1iZDZkMjI0MGNkMDAiCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09Ik1hYyBPUyIKICAgR0lNUDpUaW1lU3RhbXA9IjE2MzY3MzkwNDMxNDIzNTUiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yMiIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIj4KICAgPGlwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25DcmVhdGVkPgogICA8aXB0Y0V4dDpMb2NhdGlvblNob3duPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6TG9jYXRpb25TaG93bj4KICAgPGlwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6QXJ0d29ya09yT2JqZWN0PgogICA8aXB0Y0V4dDpSZWdpc3RyeUlkPgogICAgPHJkZjpCYWcvPgogICA8L2lwdGNFeHQ6UmVnaXN0cnlJZD4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OGRkY2U5NjYtOGIxMC00N2Y5LTlmNGEtYTAwNmRhYmYxN2U5IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKE1hYyBPUykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMTEtMTJUMTg6NDA6MTgrMDE6MDAiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NDVjODE4OTQtNTE2Ni00M2FjLTg1NDEtZmI3NzI5ZWU4OTQ5IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKE1hYyBPUykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMTEtMTJUMTg6NDQ6MDMrMDE6MDAiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogICA8cGx1czpJbWFnZVN1cHBsaWVyPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VTdXBwbGllcj4KICAgPHBsdXM6SW1hZ2VDcmVhdG9yPgogICAgPHJkZjpTZXEvPgogICA8L3BsdXM6SW1hZ2VDcmVhdG9yPgogICA8cGx1czpDb3B5cmlnaHRPd25lcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkNvcHlyaWdodE93bmVyPgogICA8cGx1czpMaWNlbnNvcj4KICAgIDxyZGY6U2VxLz4KICAgPC9wbHVzOkxpY2Vuc29yPgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8++8HhLAAAAAJiS0dEAB8nhS7HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5QsMESwDCoddawAAAP5JREFUaN7tlr0VwjAMBj/DKuxAAR00vEcRmT0YDQZiGNEGEtuS/EOBro5195zYADiO4zj/zrZ2wBU7vH7TTuAZ02j95UPPzHwfqT8s9EMT1vXDEtL6IQl5ffeEsr5rgkzfLUGu75Kg0zdP0OubJtj0zRLs+iYJpyo9M/O+Rn+s1lftgkQfMaFTgkwPoE/CWazvkqDTN0/Q65smTCa9dKXgv2N5CCXXRsHqgn4Du16WUPkCqLiDUTVh8708ZIffwrMY8ABlh7D9GyDxMc7tgvkjJNVFlk6A7RyQ+ipfTxAulp17/Y2yfCakE2YPBfsPeuUcQgsiHMdxHMdxHCfNG1XedpO3lSQzAAAAAElFTkSuQmCC"},13294:function(e,t,n){"use strict";e.exports=n.p+"87d4b537e673cf1c6f63.svg"},72665:function(e,t,n){"use strict";e.exports=n.p+"4b9dd7a3a51aba87a810.png"},28033:function(e,t,n){"use strict";e.exports=n.p+"630f3e1e30bbbf36a209.jpeg"},13750:function(e,t,n){"use strict";e.exports=n.p+"bf4270c63e13228a05e1.png"},78297:function(e,t,n){"use strict";e.exports=n.p+"922944daa0b065a45a51.png"},76157:function(e,t,n){"use strict";e.exports=n.p+"25f77727ed6da92a1cfb.png"},54449:function(e,t,n){"use strict";e.exports=n.p+"5aa9dd97f0c1a5039ca6.svg"},84162:function(e,t,n){"use strict";e.exports=n.p+"cd0ca1dd8f3a1fdb4e68.jpeg"},92308:function(e,t,n){"use strict";e.exports=n.p+"5a44f62010f7c0ab463f.jpeg"},57552:function(e,t,n){"use strict";e.exports=n.p+"e2006945cfbd2e0589e8.jpeg"},23969:function(e,t,n){"use strict";e.exports=n.p+"78b7bb4a554381a9ba80.png"},104:function(e,t,n){"use strict";e.exports=n.p+"fd12d494b254065b7749.png"},15663:function(e,t,n){"use strict";e.exports=n.p+"d334398033a12c43b910.png"},37789:function(e,t,n){"use strict";e.exports=n.p+"99d032ea73dcde64f5dc.png"},61875:function(e,t,n){"use strict";e.exports=n.p+"151dfdbca9628136ddd6.png"},78432:function(e,t,n){"use strict";e.exports=n.p+"c3934397bbea4f4b413d.png"},84101:function(e,t,n){"use strict";e.exports=n.p+"4e8d84bf42ab7e35ed38.png"},42458:function(e,t,n){"use strict";e.exports=n.p+"a47ac3a0afbc6c631e1b.png"},12451:function(e,t,n){"use strict";e.exports=n.p+"9f5743cc8ab0daaa6f24.png"},73361:function(e,t,n){"use strict";e.exports=n.p+"7df5afd41f704db43dad.png"},99134:function(e,t,n){"use strict";e.exports=n.p+"0bc852df265dd5f2d503.png"},70635:function(e,t,n){"use strict";e.exports=n.p+"de8050057e44a7a2a984.png"},10359:function(e,t,n){"use strict";e.exports=n.p+"1d4f369967075e00a2dc.png"},99449:function(e,t,n){"use strict";e.exports=n.p+"f66fba6c19d4938b484d.png"},28666:function(e,t,n){"use strict";e.exports=n.p+"88eb99d0c3739d8fccb7.png"},35180:function(e,t,n){"use strict";e.exports=n.p+"b0c484b364dc559b8644.svg"},51739:function(e,t,n){"use strict";e.exports=n.p+"b8cd4b8a8d6dc6abfb82.png"},77437:function(e,t,n){"use strict";e.exports=n.p+"cc09ab0763994fa2fdd3.png"},68831:function(e,t,n){"use strict";e.exports=n.p+"616535897b5598e00b94.png"},92329:function(e,t,n){"use strict";e.exports=n.p+"2f52623ecac9ca1603ff.png"},15400:function(e,t,n){"use strict";e.exports=n.p+"98fe34f5072c9c5d8082.png"},59845:function(e,t,n){"use strict";e.exports=n.p+"cca3a79bf4e6827f07de.svg"},78742:function(e,t,n){"use strict";e.exports=n.p+"c02f061a017d59f5bb86.svg"},17914:function(e,t,n){"use strict";e.exports=n.p+"0e8411388912e8090839.png"}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=n,i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return e+".js"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="crawlear.com:",i.l=function(n,r,o,a){if(e[n])e[n].push(r);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var h=function(t,r){s.onerror=s.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e}(),function(){i.b=document.baseURI||self.location.href;var e={179:0};i.f.j=function(t,n){var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(function(n){if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,o,a=n[0],s=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);c&&c(i)}for(t&&t(n);l<a.length;l++)o=a[l],i.o(e,o)&&e[o]&&e[o][0](),e[a[l]]=0},n=self.webpackChunkcrawlear_com=self.webpackChunkcrawlear_com||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e={};i.r(e),i.d(e,{FirebaseError:function(){return sr},SDK_VERSION:function(){return ni},_DEFAULT_ENTRY_NAME:function(){return Gr},_addComponent:function(){return Zr},_addOrOverwriteComponent:function(){return Yr},_apps:function(){return Hr},_clearComponents:function(){return Xr},_components:function(){return Kr},_getProvider:function(){return $r},_registerComponent:function(){return Qr},_removeServiceInstance:function(){return Jr},deleteApp:function(){return ai},getApp:function(){return ii},getApps:function(){return oi},initializeApp:function(){return ri},onLog:function(){return ci},registerVersion:function(){return si},setLogLevel:function(){return li}});var t=i(67294),n=i(73935);function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var o,a=o||(o={});a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE";function s(e){e.preventDefault(),e.returnValue=""}function c(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function l(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function u(e,t){if(!e)throw new Error(t)}const d=(0,t.createContext)(null),h=(0,t.createContext)(null),f=(0,t.createContext)({outlet:null,matches:[]});function p(e){let{to:n,replace:r,state:i}=e;b()||u(!1);let o=C();return(0,t.useEffect)((()=>{o(n,{replace:r,state:i})})),null}function g(e){return function(e){let n=(0,t.useContext)(f).outlet;return(0,t.createElement)(I.Provider,{value:e},n)}(e.context)}function m(e){u(!1)}function v(e){let{basename:n="/",children:r=null,location:i,navigationType:a=o.Pop,navigator:s,static:c=!1}=e;b()&&u(!1);let f=O(n),p=(0,t.useMemo)((()=>({basename:f,navigator:s,static:c})),[f,s,c]);"string"==typeof i&&(i=l(i));let{pathname:g="/",search:m="",hash:v="",state:y=null,key:w="default"}=i,C=(0,t.useMemo)((()=>{let e=P(g,f);return null==e?null:{pathname:e,search:m,hash:v,state:y,key:w}}),[f,g,m,v,y,w]);return null==C?null:(0,t.createElement)(d.Provider,{value:p},(0,t.createElement)(h.Provider,{children:r,value:{location:C,navigationType:a}}))}function y(e){let{children:n,location:r}=e;return function(e,n){b()||u(!1);let{matches:r}=(0,t.useContext)(f),i=r[r.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let s,c=w();if(n){var d;let e="string"==typeof n?l(n):n;"/"===a||(null==(d=e.pathname)?void 0:d.startsWith(a))||u(!1),s=e}else s=c;let h=s.pathname||"/",p=function(e,t,n){void 0===n&&(n="/");let r=P(("string"==typeof t?l(t):t).pathname||"/",n);if(null==r)return null;let i=E(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e)o=T(i[e],r);return o}(e,{pathname:"/"===a?h:h.slice(a.length)||"/"});return function(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight(((r,i,o)=>(0,t.createElement)(f.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(g,null),value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})),null)}(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:N([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:N([a,e.pathnameBase])}))),r)}(_(n),r)}function b(){return null!=(0,t.useContext)(h)}function w(){return b()||u(!1),(0,t.useContext)(h).location}function C(){b()||u(!1);let{basename:e,navigator:n}=(0,t.useContext)(d),{matches:r}=(0,t.useContext)(f),{pathname:i}=w(),o=JSON.stringify(r.map((e=>e.pathnameBase))),a=(0,t.useRef)(!1);(0,t.useEffect)((()=>{a.current=!0}));let s=(0,t.useCallback)((function(t,r){if(void 0===r&&(r={}),!a.current)return;if("number"==typeof t)return void n.go(t);let s=function(e,t,n){let r,i="string"==typeof e?l(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let a=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?l(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:R(r),hash:D(i)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}(t,JSON.parse(o),i);"/"!==e&&(s.pathname=N([e,s.pathname])),(r.replace?n.replace:n.push)(s,r.state)}),[e,n,o,i]);return s}const I=(0,t.createContext)(null);function _(e){let n=[];return t.Children.forEach(e,(e=>{if(!(0,t.isValidElement)(e))return;if(e.type===t.Fragment)return void n.push.apply(n,_(e.props.children));e.type!==m&&u(!1);let r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=_(e.props.children)),n.push(r)})),n}function E(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||u(!1),o.relativePath=o.relativePath.slice(r.length));let a=N([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&u(!1),E(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:k(a,e.index),routesMeta:s})})),t}const x=/^:\w+$/,A=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=-2),t&&(r+=2),n.filter((e=>!A(e))).reduce(((e,t)=>e+(x.test(t)?3:""===t?1:10)),r)}function T(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=S({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);let u=a.route;o.push({params:r,pathname:N([i,l.pathname]),pathnameBase:N([i,l.pathnameBase]),route:u}),"/"!==l.pathnameBase&&(i=N([i,l.pathnameBase]))}return o}function S(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(t){return e}}(s[n]||""),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const N=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var L=i(49089);function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(){return document.location.href.indexOf("localhost")>=0}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(e){j()||L.ZP.initialize(e)}},{key:"pageview",value:function(e){j()||L.ZP.send({hitType:"pageview",page:e})}},{key:"event",value:function(e,t,n){j()||L.ZP.event({category:e,action:t,label:n})}}],null&&M(t.prototype,null),n&&M(t,n),e}(),U=F;function V(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var z=function(e){var n=e.filePath;t.useEffect((function(){U.pageview("/txtRoute/")}),[]);var r=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){V(o,r,i,a,s,"next",e)}function s(e){V(o,r,i,a,s,"throw",e)}a(void 0)}))}}(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new FileReader).readAsText(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r(n)};function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $,J={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},X=t.createContext();function ee(){return J}var te=function(){function e(){H(this,e),this.usedNamespaces={}}return Z(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function ne(){return $}var re={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};J=Q(Q({},J),e)}(e.options.react),function(e){$=e}(e)}};function ie(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var oe={};function ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&oe[t[0]]||("string"==typeof t[0]&&(oe[t[0]]=new Date),ie.apply(void 0,t))}function se(e,t,n){e.loadNamespaces(t,(function(){e.isInitialized?n():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}))}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return ae("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!a(r,e)||i&&!a(o,e)))}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.i18n,i=(0,t.useContext)(X)||{},o=i.i18n,a=i.defaultNS,s=r||o||ne();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new te),!s){ae("You will need to pass in an i18next instance by using initReactI18next");var c=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[c,{},!1];return l.t=c,l.i18n={},l.ready=!1,l}s.options.react&&void 0!==s.options.react.wait&&ae("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=ue(ue(ue({},ee()),s.options.react),n),d=u.useSuspense,h=u.keyPrefix,f=e||a||s.options&&s.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(f);var p=(s.isInitialized||s.initializedStoreOnce)&&f.every((function(e){return ce(e,s,u)}));function g(){return s.getFixedT(null,"fallback"===u.nsMode?f:f[0],h)}var m=(0,t.useState)(g),v=G(m,2),y=v[0],b=v[1],w=(0,t.useRef)(!0);(0,t.useEffect)((function(){var e=u.bindI18n,t=u.bindI18nStore;function n(){w.current&&b(g)}return w.current=!0,p||d||se(s,f,(function(){w.current&&b(g)})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){w.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,f.join()]);var C=(0,t.useRef)(!0);(0,t.useEffect)((function(){w.current&&!C.current&&b(g),C.current=!1}),[s]);var I=[y,s,p];if(I.t=y,I.i18n=s,I.ready=p,p)return I;if(!p&&!d)return I;throw new Promise((function(e){se(s,f,(function(){e()}))}))}var he=i(77437),fe=i(93379),pe=i.n(fe),ge=i(7795),me=i.n(ge),ve=i(90569),ye=i.n(ve),be=i(3565),we=i.n(be),Ce=i(19216),Ie=i.n(Ce),_e=i(44589),Ee=i.n(_e),xe=i(71735),Ae={};function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ae.styleTagTransform=Ee(),Ae.setAttributes=we(),Ae.insert=ye().bind(null,"head"),Ae.domAPI=me(),Ae.insertStyleElement=Ie(),pe()(xe.Z,Ae),xe.Z&&xe.Z.locals&&xe.Z.locals;var Se="lightMode",Pe=function(){var e=ke(t.useState(!1),2),n=e[0],r=e[1],i=de().t,o=ke(t.useState(!1),2),a=o[0],s=o[1],c=C();function l(){r(!n)}function u(e){U.event("navigation","menu",e),c(e)}return n?t.createElement("header",{className:"App-header"},t.createElement("div",{className:"rounded menuContainer open",onClick:l},t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"linksContainer"},t.createElement("ul",null,t.createElement("li",null,t.createElement("div",{onClick:function(){u("/completegame")}},i("description.herramientajuego"))),t.createElement("li",null,t.createElement("div",{onClick:function(){u("/social")}},i("description.perfilsocial"))),t.createElement("li",null,t.createElement("div",{onClick:function(){u("/follows")}},i("description.murodefollows"))),t.createElement("li",null,"-"),t.createElement("li",null,t.createElement("div",{href:"https://www.aecar.org/modalidades.php?tipo=crawler"},"AECAR")),t.createElement("li",null,t.createElement("div",{href:"https://www.clubzonarc.es/"},"Club ZonaRc")),t.createElement("li",null,t.createElement("div",{href:"https://isrcc.eu/"},"ISRCC")),t.createElement("li",null,"-"),t.createElement("li",null,t.createElement("div",{onClick:function(){u("/privacypolicy")}},i("description.politicaprivacidad"))),t.createElement("li",null,t.createElement("div",{onClick:function(){u("/aboutus")}},i("description.aboutus")))),t.createElement("div",{className:"lightModeSwitch",onClick:function(e){e.preventDefault(),e.stopPropagation(),a?(s(!1),document.body.classList.remove(Se)):(s(!0),document.body.classList.add(Se))}},"Modo claro / oscuro")))):t.createElement("header",{className:"App-header"},t.createElement("div",{className:"rounded menuContainer closed",onClick:l},t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"})),t.createElement("a",{href:"/"},t.createElement("img",{src:he,alt:"web logo"})))};function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e,t){return Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Re(e,t)}function De(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}function Le(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oe(e)}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Me(e)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}i(76124);var Ue={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Ve=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H(this,e),this.init(t,n)}return Z(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Ue,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Fe(Fe({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),ze=new Ve,Be=function(){function e(){H(this,e),this.observers={}}return Z(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function qe(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function Ge(e){return null==e?"":""+e}function We(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function He(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function Ke(e,t,n){var r=He(e,t,Object);r.obj[r.k]=n}function Ze(e,t){var n=He(e,t),r=n.obj,i=n.k;if(r)return r[i]}function Ye(e,t,n){var r=Ze(e,n);return void 0!==r?r:Ze(t,n)}function Qe(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):Qe(e[r],t[r],n):e[r]=t[r]);return e}function $e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Xe(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return Je[e]})):e}var et="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,tt=[" ",",","?","!",";"];function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),c=i[s];void 0===c&&r.length>o+a;)a++,c=i[s=r.slice(o,o+a).join(n)];if(void 0===c)return;if("string"==typeof c)return c;if(s&&"string"==typeof c[s])return c[s];var l=r.slice(o+a).join(n);return l?it(c,l,n):void 0}i=i[r[o]]}return i}}var ot=function(e){De(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Me(t);if(n){var i=Me(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Le(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return H(this,i),t=r.call(this),et&&Be.call(Oe(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return Z(i,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=Ze(this.data,a);return s||!o||"string"!=typeof n?s:it(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),Ke(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=Ze(this.data,a)||{};r?Qe(s,n,i):s=rt(rt({},s),n),Ke(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?rt(rt({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(Be),at={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt={},ut=function(e){De(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Me(t);if(n){var i=Me(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Le(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return H(this,i),t=r.call(this),et&&Be.call(Oe(t)),We(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,Oe(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=ze.create("translator"),t}return Z(i,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS,o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=tt.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,n,r));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==Ne(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],t),s=a.key,c=a.namespaces,l=c[c.length-1],u=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(d){var h=t.nsSeparator||this.options.nsSeparator;return l+h+s}return s}var f=this.resolve(e,t),p=f&&f.res,g=f&&f.usedKey||s,m=f&&f.exactUsedKey||s,v=Object.prototype.toString.apply(p),y=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,C="string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p;if(w&&p&&C&&y.indexOf(v)<0&&("string"!=typeof b||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,p,ct(ct({},t),{},{ns:c})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(o){var I="[object Array]"===v,_=I?[]:{},E=I?m:g;for(var x in p)if(Object.prototype.hasOwnProperty.call(p,x)){var A="".concat(E).concat(o).concat(x);_[x]=this.translate(A,ct(ct({},t),{joinArrays:!1,ns:c})),_[x]===A&&(_[x]=p[x])}p=_}}else if(w&&"string"==typeof b&&"[object Array]"===v)(p=p.join(b))&&(p=this.extendTranslation(p,e,t,n));else{var k=!1,T=!1,S=void 0!==t.count&&"string"!=typeof t.count,P=i.hasDefaultValue(t),N=S?this.pluralResolver.getSuffix(u,t.count,t):"",O=t["defaultValue".concat(N)]||t.defaultValue;!this.isValidLookup(p)&&P&&(k=!0,p=O),this.isValidLookup(p)||(T=!0,p=s);var R=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,D=R&&T?void 0:p,L=P&&O!==p&&this.options.updateMissing;if(T||k||L){if(this.logger.log(L?"updateKey":"missingKey",u,l,s,L?O:p),o){var M=this.resolve(s,ct(ct({},t),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var j=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var U=0;U<F.length;U++)j.push(F[U]);else"all"===this.options.saveMissingTo?j=this.languageUtils.toResolveHierarchy(t.lng||this.language):j.push(t.lng||this.language);var V=function(e,n,i){var o=P&&i!==p?i:D;r.options.missingKeyHandler?r.options.missingKeyHandler(e,l,n,o,L,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,l,n,o,L,t),r.emit("missingKey",e,l,n,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?j.forEach((function(e){r.pluralResolver.getSuffixes(e).forEach((function(n){V([e],s+n,t["defaultValue".concat(n)]||O)}))})):V(j,s,O))}p=this.extendTranslation(p,e,t,f,n),T&&p===s&&this.options.appendNamespaceToMissingKey&&(p="".concat(l,":").concat(s)),(T||k)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(ct(ct({},n),{interpolation:ct(ct({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables);if(s){var c=e.match(this.interpolator.nestingRegexp);a=c&&c.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=ct(ct({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=at.handle(h,e,t,this.options&&this.options.postProcessPassResolved?ct({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),l=c.key;n=l;var u=c.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,h=d&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),f=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(e){a.isValidLookup(t)||(o=e,!lt["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(lt["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,c=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(c,l,n,e,s);else{var u;d&&(u=a.pluralResolver.getSuffix(n,s.count,s));var p="_zero";if(d&&(c.push(l+u),h&&c.push(l+p)),f){var g="".concat(l).concat(a.options.contextSeparator).concat(s.context);c.push(g),d&&(c.push(g+u),h&&c.push(g+p))}}for(;o=c.pop();)a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),i}(Be);function dt(e){return e.charAt(0).toUpperCase()+e.slice(1)}var ht=function(){function e(t){H(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ze.create("languageUtils")}return Z(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=dt(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=dt(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=dt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),ft=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],pt={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},gt=["v1","v2","v3"],mt={zero:0,one:1,two:2,few:3,many:4,other:5};function vt(){var e={};return ft.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:pt[t.fc]}}))})),e}var yt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H(this,e),this.languageUtils=t,this.options=n,this.logger=ze.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=vt()}return Z(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return mt[e]-mt[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!gt.includes(this.options.compatibilityJSON)}}]),e}();function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H(this,e),this.logger=ze.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Z(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:Xe,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?$e(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?$e(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?$e(t.nestingPrefix):t.nestingPrefixEscaped||$e("$t("),this.nestingSuffix=t.nestingSuffix?$e(t.nestingSuffix):t.nestingSuffixEscaped||$e(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var i=Ye(t,c,e);return s.alwaysFormat?s.format(i,void 0,n,wt(wt(wt({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(Ye(t,c,a),l,n,wt(wt(wt({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){if(void 0===(o=u(i[1].trim())))if("function"==typeof d){var n=d(e,i,r);o="string"==typeof n?n:""}else{if(h){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=Ge(o));var c=t.safeValue(o);if(e=e.replace(i[0],c),h?(t.regex.lastIndex+=c.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=wt({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,a)).replace(/'/g,'"');try{a=JSON.parse(i),t&&(a=wt(wt({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),c=u,l=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=Ge(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=c.reduce((function(e,t){return i.format(e,t,o.lng,wt(wt({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};H(this,e),this.logger=ze.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,_t(_t({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,_t({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,_t({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,_t({},n)).format(e)}},this.init(t)}return Z(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e]=t}},{key:"format",value:function(e,t,n,r){var i=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=G(e.split(":"),2),r=t[0],i=t[1];"false"===i.trim()&&(n[r.trim()]=!1),"true"===i.trim()&&(n[r.trim()]=!0),isNaN(i.trim())||(n[r.trim()]=parseInt(i.trim(),10)),n[r.trim()]||(n[r.trim()]=i.trim())}}))}return{formatName:t,formatOptions:n}}(t),a=o.formatName,s=o.formatOptions;if(i.formats[a]){var c=e;try{var l=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=l.locale||l.lng||r.locale||r.lng||n;c=i.formats[a](e,u,_t(_t(_t({},s),r),l))}catch(e){i.logger.warn(e)}return c}return i.logger.warn("there was no format function for ".concat(a)),e}),e);return o}}]),e}();function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kt=function(e){De(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Me(t);if(n){var i=Me(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Le(this,e)});function i(e,t,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return H(this,i),o=r.call(this),et&&Be.call(Oe(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=a,o.logger=ze.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,a.backend,a),o}return Z(i,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],a=[],s=[],c=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),c.indexOf(t)<0&&c.push(t)))})),r||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:c}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var i=He(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],o[a].push(n)}(n.loaded,[i],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,c){s&&c&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,c)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,At(At({},o),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),i}(Be);function Tt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===Ne(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===Ne(e[2])||"object"===Ne(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function St(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(){}function Rt(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var Dt=function(e){De(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Me(t);if(n){var i=Me(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Le(this,e)});function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(H(this,i),e=r.call(this),et&&Be.call(Oe(e)),e.options=St(t),e.services={},e.logger=ze,e.modules={external:[]},Rt(Oe(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),Le(e,Oe(e));setTimeout((function(){e.init(t,n)}),0)}return e}return Z(i,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=Tt();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=Nt(Nt(Nt({},r),this.options),St(t)),this.options.interpolation=Nt({},this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?ze.init(i(this.modules.logger),this.options):ze.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=Et);var a=new ht(this.options);this.store=new ot(this.options.resources,this.options);var s=this.services;s.logger=ze,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new yt(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Ct(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new kt(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new ut(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=Ot),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&"dev"!==c[0]&&(this.options.lng=c[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=qe(),h=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot,r=n,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=qe();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Ot),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&at.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=qe();this.emit("languageChanging",e);var i=function(e){if(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<n.languages.length;t++){var r=n.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&n.store.hasLanguageSomeTranslations(r)){n.resolvedLanguage=r;break}}},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==Ne(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];o=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=Nt({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns;var l=r.options.keySeparator||".",u=n?"".concat(n).concat(l).concat(t):t;return r.t(u,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=qe();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=qe();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ot,r=Nt(Nt(Nt({},this.options),t),{isClone:!0}),o=new i(r),a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=Nt({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new ut(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(Be);W(Dt,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Dt(e,t)}));var Lt=Dt.createInstance();Lt.createInstance=Dt.createInstance,Lt.createInstance,Lt.init,Lt.loadResources,Lt.reloadResources,Lt.use,Lt.changeLanguage,Lt.getFixedT;var Mt=Lt.t,jt=(Lt.exists,Lt.setDefaultNamespace,Lt.hasLoadedNamespace,Lt.loadNamespaces,Lt.loadLanguages,Lt);function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e){return function(e){if(Array.isArray(e))return zt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"isMobile",value:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},{key:"isIphone",value:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}},{key:"sanitizeUrl",value:function(e){var t=e.indexOf("?");return t>=0&&(e=e.slice(0,t)),"/"!==e[e.length-1]&&(e+="/"),e}},{key:"isYoutubeUrl",value:function(e){var t=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return t&&11==t[2].length}},{key:"isInstagramUrl",value:function(e){var t=this.sanitizeUrl(e).match(/(?:(?:http|https):\/\/)?(?:www.)?(?:instagram.com|instagr.am|instagr.com)(?:\/(?:.?)*)*\/(?:reel|p|tv)\/(.*)*(?:\/)*/);return t&&t[1]}},{key:"getTiktokVideoId",value:function(e){var t=this.sanitizeUrl(e).match(/(?:(?:http|https):\/\/)?(?:www.)?tiktok.com\/@(.*)\/video\/(.*)*/);return t&&t[1]&&t[2]?t[2]:null}},{key:"isTiktokUrl",value:function(e){var t=this.sanitizeUrl(e).match(/(?:(?:http|https):\/\/)?(?:www.)?tiktok.com\/@(.*)\/video\/(.*)*/);return t&&t[1]&&t[2]}},{key:"isFacebookUrl",value:function(e){var t=this.sanitizeUrl(e).match(/(?:https?:\/\/)?(?:www\.)?(mbasic.facebook|m\.facebook|facebook|fb)\.(com|me)\/(?:(?:\w\.)*#!\/)?(?:pages\/)?(?:[\w\-\.]*\/)*([\w\-\.]*)/);return t&&t[1]&&t[2]}},{key:"tokenToTexts",value:function(e){return e.map((function(e){return Mt(e)}))}},{key:"getUidsFromUsers",value:function(e){var t=[];return e.forEach((function(e){e.uid&&t.push(e.uid)})),t}},{key:"millisToTime",value:function(e){var t=Math.floor(e/1e3),n=Math.floor(t/60),r=Math.floor(n/60);return{h:r%=24,m:n%=60,s:t%=60,mm:e%1e3}}},{key:"timeToMillis",value:function(e,t,n){var r=new Date,i=new Date;return i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),r.setMinutes(e),r.setSeconds(t),r.setMilliseconds(n),r.getTime()-i.getTime()}},{key:"printTime",value:function(e){return"".concat(String(e.m).padStart(2,"0"),":").concat(String(e.s).padStart(2,"0"),":").concat(String(e.mm).padStart(3,"0"))}},{key:"randomizeArray",value:function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e}},{key:"getWinnerByPoints",value:function(e){var t=Vt(e);return t.sort((function(e,t){var n=e.points-t.points;return 0===n?e.id-t.id:n})),t}},{key:"getWinnerByPointsAndTime",value:function(e){var t=Vt(e);return t.sort((function(e,t){var n=e.points-t.points;return 0===n?e.time-t.time:n})),t}},{key:"getOrderedGameResult",value:function(e){return(e=this.calulateFinalGameResult(e)).players=e.players.sort((function(e,t){var n=e.totalPoints-t.totalPoints;if(0===n){var r=e.totalTime-t.totalTime;return 0===r?t.totalGateProgression-e.totalGateProgression:r}return n})),e}},{key:"calulateFinalGameResult",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return t.players.forEach((function(e){var t=0,n=0,r=0;e.zones.forEach((function(e){t+=e.totalPoints,n+=e.time,r+=e.gateProgression})),e.totalPoints=t,e.totalTime=n,e.totalGateProgression=r})),t}},{key:"getMapsURL",value:function(e,t){return"https://www.google.com/maps/search/?api=1&query=".concat(e,"%2C").concat(t)}},{key:"getGroupFromJid",value:function(e,t){var n=e.judges.find((function(e){return e.uid===t}));return n?n.group:0}}],null&&Bt(t.prototype,null),n&&Bt(t,n),e}();qt.PLAYER_STATE_STOP="stop",qt.PLAYER_STATE_START="start",qt.PLAYER_STATE_PAUSE="pause";var Gt=qt,Wt=i(87291),Ht={};Ht.styleTagTransform=Ee(),Ht.setAttributes=we(),Ht.insert=ye().bind(null,"head"),Ht.domAPI=me(),Ht.insertStyleElement=Ie(),pe()(Wt.Z,Ht),Wt.Z&&Wt.Z.locals&&Wt.Z.locals;var Kt=function(e){var n=e.text,r=e.step,i=e.value,o=e.maxValue,a=e.onValueChange,s=r<0,c=s?i<0:i>0,l=t.useRef(),u=de().t;function d(e){(!s&&i+e>=0&&(!o||i+e<=Math.abs(o*e))||s&&i+e<=0)&&(U.event("menu","pointValueChanged","".concat(n," : ").concat(e)),a(e))}function h(e){return c?"bold ".concat(e):"".concat(e)}return t.createElement("div",{className:"controlText"},t.createElement("button",{className:"buttonControlTextPlus",onClick:function(){l.current.focus(),d(r)}},"+"),t.createElement("button",{className:"buttonControlTextMinus",onClick:function(){l.current.focus(),d(-r)}},"-"),t.createElement("div",{className:h("controlTextText")},u(n)," "),t.createElement("div",{ref:l,className:h("controlTextValue")},i))},Zt=t.createContext(),Yt=i(13750),Qt=function(e){var n=e.controlTextValuesString,r=e.textToken,i=e.steps,o=e.maxValues,a=e.texts,s=e.player,c=e.zone,l=e.isClosed,u=void 0===l||l,d=e.onValueChange,h=0,f=de().t,p=t.useContext(Zt).game,g=[],m=[];if(!p||!p.players.length)return t.createElement(t.Fragment,null);var v=p.players[s].zones[c],y=n.indexOf("fiasco")<0?v.gateProgressionData[v.gateProgression][n]:v[n],b=y.length>14;function w(e){var t=e.target;t.classList.contains("controlTextTitle")&&t.parentElement.classList.toggle("closed")}for(var C=function(){var e=h;g.push(t.createElement(Kt,{key:h,value:y[h],onValueChange:function(t){d(t,e,s)},maxValue:o[h],initialValue:0,text:a[h],step:i[h]})),h++};h<14&&h<y.length;)C();if(b)for(var I=function(){var e=h;m.push(t.createElement(Kt,{key:"fullScore".concat(h),value:y[h],maxValue:o[h],onValueChange:function(t){d(t,e,s)},initialValue:0,text:a[h],step:i[h]})),h++};h<y.length;)I();return r?t.createElement(t.Fragment,null,t.createElement("div",{className:u?"controlTextContainer closed":"controlTextContainer",onClick:w},t.createElement("p",{key:"mainTitle",className:"controlTextTitle rounded rounded2"},f(r),t.createElement("img",{src:Yt,className:"dropdown",alt:"dropdown icon"})),g),b?t.createElement("div",{className:"controlTextContainer closed",onClick:w},t.createElement("p",{key:"additialTitle",className:"controlTextTitle rounded rounded2"},f("description.penalizacionesadicionales"),t.createElement("img",{src:Yt,className:"dropdown",alt:"dropdown icon"})),m):t.createElement(t.Fragment,null)):t.createElement("div",{className:"controlTextContainer",onClick:w},g,m)},$t=function(e){var n=e.player,r=e.zone,i=de().t,o=t.useContext(Zt).game;if(!o||!o.players.length)return t.createElement(t.Fragment,null);var a=o.players[n].zones[r];return t.createElement("div",{className:"pointsText"},i("description.puntos"),": ",a.points)},Jt={steps:[5,3,2,5,5,3,-1,3,1,5,1,2,3,1,5,5,3,3,5,5,5,3,3],maxValues:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0],texts:["points.vuelco","points.tocar","points.puerta","points.saltoobstaculo","points.reparacion","points.winch","points.puertaprogresion","points.equipaje","points.distancia","points.anclajeindebido","points.juez","points.saltopelota","points.recolocacionbateria","points.puertamarchaatras","points.nocomunicarcambio","points.conductaincivica","points.perdidacarnet","points.modificarpista","points.perdidadorsal","points.modificarcoche","points.sacarcoche","points.nodorsal","points.incumplimientotecnico"],fiascoTexts:["points.noterminado","points.bateria"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:12e7,maxPoints:40,maxTime:6e5};function Xt(e,n,r,i){var o=[];return o.push(t.createElement(Qt,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:n,zone:r,steps:Jt.steps,maxValues:Jt.maxValues,texts:Jt.texts,isClosed:!1})),o.push(t.createElement(Qt,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:Jt.fiascoSteps,maxValues:Jt.fiascoMaxValues,texts:Jt.fiascoTexts,player:n,zone:r,isClosed:!0})),o.push(t.createElement($t,{key:"gp",player:n,zone:r})),o}function en(e){e.totalPoints=e.points+e.simpathyPoints}var tn={controlTextValuesInit:function(){return new Array(Jt.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(Jt.fiascoSteps.length).fill(0)},onTimerChange:function(e){en(e)},onChangeScore:function(e){en(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(qn.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,i.points=e.maxPoints>0?e.maxPoints:i.maxPoints,en(i)}}))}))},onGateProgressionChange:function(e){en(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){en(e)},generateSliderMarksFromGates:function(e,n){for(var r={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<n?(o+="colorGreen",a="-"):(o+="colorGrey",a="-"),r[i]=t.createElement("div",{className:o},a,t.createElement("br",null),e[i].gatePoints)}return r},doPageView:function(){U.pageview("/aecar/")}},nn=function(e){var n=e.player,r=e.zone,i=de().t,o=t.useContext(Zt).game;if(!o||!o.players.length)return t.createElement(t.Fragment,null);var a=o.players[n].zones[r],s=qn.getZoneTotalBonification(a.gateProgressionData,a.gateProgression);return t.createElement(t.Fragment,null,t.createElement("div",{className:"pointsText"},i("description.bonificacion"),": ",s),t.createElement("div",{className:"pointsText"},i("description.puntos"),": ",a.points))},rn={steps:[5,10,10,1,5,3],maxValues:[0,0,0,0,0,0],texts:["points.vuelco","points.tocar","points.puerta","points.retroceso","points.direcciondelcurso","points.limite"],fiascoTexts:["points.noempezado","points.reparacion","points.fueraespecificacion","points.usodispositivo","points.bateria"],fiascoSteps:[50,1,1,1,1],fiascoMaxValues:[1,1,1,1,1],courtesyTime:0,maxPoints:40,maxTime:6e5};function on(e,n,r,i){var o=[];return o.push(t.createElement(Qt,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",steps:rn.steps,maxValues:rn.maxValues,texts:rn.texts,player:n,zone:r,isClosed:!1})),o.push(t.createElement(Qt,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:rn.fiascoSteps,maxValues:rn.fiascoMaxValues,texts:rn.fiascoTexts,player:n,zone:r,isClosed:!0})),o.push(t.createElement(nn,{key:"iP",player:n,zone:r})),o}function an(e){e.gatesWithFail=function(e){return e.gateProgressionData.filter((function(t,n){return t.gatePoints>=20&&n<e.gateProgression&&t.controlTextValues[2]>0})).length}(e),e.gatesWithBonification=function(e){return e.gateProgressionData.filter((function(t,n){return t.gatePoints<20&&n<e.gateProgression&&t.controlTextValues[2]<1})).length}(e),e.totalPoints=e.points+e.simpathyPoints+-2*e.gatesWithBonification}var sn={controlTextValuesInit:function(){return new Array(rn.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(rn.fiascoSteps.length).fill(0)},onTimerChange:function(e){an(e)},onChangeScore:function(e){an(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(qn.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,qn.isNonPresentedFiasco(e,n,r)?i.points=50:i.points=e.maxPoints>0?e.maxPoints:i.totalPoints,an(i)}}))}))},onGateProgressionChange:function(e){an(e)},onFiascoChangeScore:function(e,t,n){0===t&&(e.points+=n)},onPointBecauseLastMinute:function(e){an(e)},generateSliderMarksFromGates:function(e,n){for(var r={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<n?e[i].gatePoints<20&&e[i].controlTextValues[2]<1?(o+="colorGreen",a="-2"):(o+="colorRed",a="0"):(o+="colorGrey",a="-"),r[i]=t.createElement("div",{className:o},a,t.createElement("br",null),e[i].gatePoints)}return r},doPageView:function(){U.pageview("/isrcc/")}},cn=function(e){var n=e.player,r=e.zone,i=de().t,o=t.useContext(Zt).game;if(!o||!o.players.length)return t.createElement(t.Fragment,null);var a=o.players[n].zones[r];return t.createElement("div",{className:"pointsText"},i("description.puntos"),": ",a.points)},ln=i(17925),un={};un.styleTagTransform=Ee(),un.setAttributes=we(),un.insert=ye().bind(null,"head"),un.domAPI=me(),un.insertStyleElement=Ie(),pe()(ln.Z,un),ln.Z&&ln.Z.locals&&ln.Z.locals;var dn=function(e){var n=e.callback,r=e.minValue,i=void 0===r?0:r,o=e.maxValue,a=void 0===o?200:o,s=e.initialValue,c=void 0===s?0:s,l=e.value,u=void 0===l?0:l,d=t.useRef();function h(e,t){var r=Number(e.current.textContent)+t;r>=i&&r<=a&&(e.current.textContent=r,n&&n(r))}return!u&&(u=c),t.createElement("div",{className:"picker"},t.createElement("button",{className:"picker--arrowUp",onClick:function(e){h(d,1)}}),t.createElement("div",{className:"picker--value",ref:d},u),t.createElement("button",{className:"picker--arrowDown",onClick:function(e){h(d,-1)}}))},hn=i(39468),fn={};fn.styleTagTransform=Ee(),fn.setAttributes=we(),fn.insert=ye().bind(null,"head"),fn.domAPI=me(),fn.insertStyleElement=Ie(),pe()(hn.Z,fn),hn.Z&&hn.Z.locals&&hn.Z.locals;var pn=function(e){var n=e.handicap,r=e.onHandicapChange,i=de().t;return t.createElement("div",{className:"gameProgressionItem rounded rounded3"},t.createElement("div",{className:"handicapContainer"},i("description.bonificacionaccesorios"),": ",t.createElement(dn,{callback:function(e){r(e)},minValue:-5,maxValue:0,initialValue:0,value:n})))};function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yn=function(e){var n=e.player,r=e.zone,i=(de().t,t.useContext(Zt)),o=i.game,a=i.setGame,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState(0),2),c=s[0],l=s[1];return o&&o.players.length?t.createElement(pn,{handicap:c,onHandicapChange:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o),i=t.players[n].zones[r];l(e),i.handicap=e,En.onHandicapChange&&En.onHandicapChange(i),a(t)}}):t.createElement(t.Fragment,null)},bn=i(56725),wn={};wn.styleTagTransform=Ee(),wn.setAttributes=we(),wn.insert=ye().bind(null,"head"),wn.domAPI=me(),wn.insertStyleElement=Ie(),pe()(bn.Z,wn),bn.Z&&bn.Z.locals&&bn.Z.locals;var Cn={steps:[-5,5,5,1,10,5,1,1,4,4,4,3,2,1,3,1,3,5,10,10,10,5,2,1,1,3,3],maxValues:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],texts:["points.puertabonificada","points.saltarsepuerta","points.saltarzona","points.unaruedaejetrasero","points.empujarcocheacompañar","points.acaompañarcoche","points.tocarcoche","points.tocarpuerta","points.tocarcocheiniciovuelco","points.tocarpuertaunarueda","points.vuelcoasistidotoque","points.vuelcoasistido","points.vuelcotoquepuertapiloto","points.vuelconoasistido","points.utilizacionextrawinch","points.moverwinch","points.reparacion30mins","points.reparacionherramientasinsitu","points.conectarentiempoajuste","points.nococheparquecerrado","points.manipulacionvehiculocarpa","points.terminarzonasinobjeto","points.interferiraccionjuez","points.tiemposentrenamiento","points.caidapuente","points.recolocarpuente"],fiascoTexts:["points.noempezado","points.bateria","points.reparacion"],fiascoSteps:[1,1,1],fiascoMaxValues:[1,1,1],courtesyTime:6e4,maxPoints:25,maxTime:6e5};function In(e,n,r,i){var o=[];return o.push(t.createElement(Qt,{key:"ctP",controlTextValuesString:"controlTextValues",player:n,zone:r,steps:Cn.steps,maxValues:Cn.maxValues,texts:Cn.texts,isClosed:!1})),o.push(t.createElement(Qt,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:Cn.fiascoSteps,maxValues:Cn.fiascoMaxValues,texts:Cn.fiascoTexts,player:n,zone:r,isClosed:!0})),o.push(t.createElement(cn,{key:"zRP",player:n,zone:r})),o.push(t.createElement(yn,{key:"zRM",player:n,zone:r})),o}function _n(e){e.totalPoints=e.points+e.simpathyPoints+e.handicap}var En={controlTextValuesInit:function(){return new Array(Cn.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(Cn.fiascoSteps.length).fill(0)},onTimerChange:function(e){_n(e)},onChangeScore:function(e){_n(e)},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(r,i){if(qn.isFiasco(e,n,i)){var o=e.players[n].zones[i];o.time=e.maxTime>0?e.maxTime+e.courtesyTime:o.time,(qn.isTimeFiasco(e,o)||qn.isFiascoFromFiascoControlTextValues(e,t,r))&&(o.points+=25),_n(o)}}))}))},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGateProgressionChange:function(e){_n(e)},onHandicapChange:function(e){_n(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){_n(e)},generateSliderMarksFromGates:function(e,n){for(var r={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<n?(e[i].controlTextValues[0]<0?o+="colorGreen":o+="colorClearGrey",a="-"):(o+="colorGrey",a="-"),r[i]=t.createElement("div",{className:o},a,t.createElement("br",null),e[i].gatePoints)}return r},doPageView:function(){U.pageview("/copaespana/")}},xn={steps:[1,3,5,5,5,10],maxValues:[0,0,0,0],texts:["points.puerta","points.tocarcochenoavanzar","points.tocarcochepuerta","points.vuelco","points.saltopelota","points.reparacion"],fiascoTexts:["points.bateria","points.reparacion"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:0,maxPoints:100,maxTime:0};function An(e,n,r,i){var o=[];return o.push(t.createElement(Qt,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:n,zone:r,steps:xn.steps,maxValues:xn.maxValues,texts:xn.texts,isClosed:!1})),o.push(t.createElement(Qt,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:xn.fiascoSteps,maxValues:xn.fiascoMaxValues,texts:xn.fiascoTexts,player:n,zone:r,isClosed:!0})),o.push(t.createElement($t,{key:"aP",player:n,zone:r})),o}function kn(e){e.totalPoints=e.points+e.simpathyPoints}var Tn={controlTextValuesInit:function(){return new Array(xn.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(xn.fiascoSteps.length).fill(0)},onTimerChange:function(e){kn(e)},onChangeScore:function(e){kn(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(qn.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,i.points=e.maxPoints>0?e.maxPoints:i.maxPoints,kn(i)}}))}))},onGateProgressionChange:function(e){kn(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){kn(e)},generateSliderMarksFromGates:function(e,n){for(var r={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<n?(o+="colorGreen",a="-"):(o+="colorGrey",a="-"),r[i]=t.createElement("div",{className:o},a,t.createElement("br",null),e[i].gatePoints)}return r},doPageView:function(){U.pageview("/levante124/")}},Sn={steps:[5,3,5,5,3],maxValues:[0,0,0,0,0],texts:["points.vuelco","points.tocar","points.saltoobstaculo","points.reparacion","points.winch"],fiascoTexts:["points.noterminado","points.bateria"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:0,maxPoints:50,maxTime:6e5};function Pn(e){e.totalPoints=e.points+e.simpathyPoints}var Nn={controlTextValuesInit:function(){return new Array(Sn.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(Sn.fiascoSteps.length).fill(0)},onTimerChange:function(){},onChangeScore:function(e){Pn(e)},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(r,i){if(qn.isFiasco(e,n,i)){var o=e.players[n].zones[i];o.time=e.maxTime>0?e.maxTime+e.courtesyTime:o.time,(qn.isTimeFiasco(e,o)||qn.isFiascoFromFiascoControlTextValues(e,t,r))&&(o.totalPoints+=25),Pn(o)}}))}))},onEndPlayer:function(e,t,n,r){var i=e.players[n].zones[r];i.time=t,qn.isFiasco(e,n,r)&&(i.time=e.maxTime>0?e.maxTime:t,i.totalPoints=e.maxPoints)},onGateProgressionChange:function(){},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(){},generateSliderMarksFromGates:function(){},doPageView:function(){U.pageview("/king/")}},On={steps:[1,3,5,5,5,5,10],maxValues:[0,0,0,0,0,0,0],texts:["points.puerta","points.tocarcoche","points.saltoobstaculo","points.vuelco","points.saltopelota","points.winch","points.reparacion"],fiascoTexts:["points.bateria","points.reparacion"],fiascoSteps:[1,1],fiascoMaxValues:[1,1],courtesyTime:0,maxPoints:80,maxTime:48e4};function Rn(e,n,r,i){var o=[];return o.push(t.createElement(Qt,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:n,zone:r,steps:On.steps,maxValues:On.maxValues,texts:On.texts,isClosed:!1})),o.push(t.createElement(Qt,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:On.fiascoSteps,maxValues:On.fiascoMaxValues,texts:On.fiascoTexts,player:n,zone:r,isClosed:!0})),o.push(t.createElement($t,{key:"aP",player:n,zone:r})),o}var Dn={controlTextValuesInit:function(){return new Array(On.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(On.fiascoSteps.length).fill(0)},onTimerChange:function(e){getGatesPointExtras(e)},onChangeScore:function(e){getGatesPointExtras(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(GameUtils.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,i.points=e.maxPoints>0?e.maxPoints:i.maxPoints,getGatesPointExtras(i)}}))}))},onGateProgressionChange:function(e){getGatesPointExtras(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){getGatesPointExtras(e)},generateSliderMarksFromGates:function(e,n){for(var r={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<n?(o+="colorGreen",a="-"):(o+="colorGrey",a="-"),r[i]=t.createElement("div",{className:o},a,t.createElement("br",null),e[i].gatePoints)}return r},doPageView:function(){U.pageview("/minicrawlerpassion/")}},Ln=function(e){var n=e.player,r=e.zone,i=de().t,o=t.useContext(Zt).game;if(!o||!o.players.length)return t.createElement(t.Fragment,null);var a=o.players[n].zones[r];return t.createElement("div",{className:"pointsText"},i("description.puntos"),": ",a.points)},Mn={steps:[1,2,3,4,5,-5],maxValues:[0,0,0,0,0,0],texts:["points.masuno","points.masdos","points.mastres","points.mascuatro","points.mascinco","points.bonificacion"],fiascoTexts:["points.fiasco"],fiascoSteps:[1],fiascoMaxValues:[1],courtesyTime:12e7,maxPoints:40,maxTime:6e5};function jn(e,n,r,i){var o=[];return o.push(t.createElement(Qt,{key:"ctP",controlTextValuesString:"controlTextValues",textToken:"description.penalizaciones",player:n,zone:r,steps:Mn.steps,maxValues:Mn.maxValues,texts:Mn.texts,isClosed:!1})),o.push(t.createElement(Qt,{key:"ctF",textToken:"points.fiascos",controlTextValuesString:"fiascoControlTextValues",steps:Mn.fiascoSteps,maxValues:Mn.fiascoMaxValues,texts:Mn.fiascoTexts,player:n,zone:r,isClosed:!0})),o.push(t.createElement(Ln,{key:"gP",player:n,zone:r})),o}function Fn(e){e.gatesWithFail=function(e){return e.gateProgressionData.length-e.gateProgression}(e),e.totalPoints=e.points+e.simpathyPoints+3*e.gatesWithFail}var Un,Vn={controlTextValuesInit:function(){return new Array(Mn.steps.length).fill(0)},fiascoControlTextValuesInit:function(){return new Array(Mn.fiascoSteps.length).fill(0)},onTimerChange:function(e){Fn(e)},onChangeScore:function(e){Fn(e)},onEndPlayer:function(e,t,n,r){e.players[n].zones[r].time=t},onGameEnd:function(e){e.players.forEach((function(t,n){t.zones.forEach((function(t,r){if(qn.isFiasco(e,n,r)){var i=e.players[n].zones[r];i.time=e.maxTime>0?e.maxTime:i.time,i.points=e.maxPoints>0?e.maxPoints:i.maxPoints,Fn(i)}}))}))},onGateProgressionChange:function(e){Fn(e)},onFiascoChangeScore:function(){},onPointBecauseLastMinute:function(e){Fn(e)},generateSliderMarksFromGates:function(e,n){for(var r={},i=0;i<e.length;i++){var o="gatePoints ",a=void 0;i<n?(o+="colorGreen",a="-"):(o+="colorGrey",a="-"),r[i]=t.createElement("div",{className:o},a,t.createElement("br",null),e[i].gatePoints)}return r},doPageView:function(){U.pageview("/aecar/")}},zn="offlineUid";!function(e){e[e.GAME_TYPE_AECAR=0]="GAME_TYPE_AECAR",e[e.GAME_TYPE_KING=1]="GAME_TYPE_KING",e[e.GAME_TYPE_ISRCC=2]="GAME_TYPE_ISRCC",e[e.GAME_TYPE_LEVANTE=3]="GAME_TYPE_LEVANTE",e[e.GAME_TYPE_COPAESPANA=4]="GAME_TYPE_COPAESPANA",e[e.GAME_TYPE_MINICRAWLERPASSION=5]="GAME_TYPE_MINICRAWLERPASSION",e[e.GAME_TYPE_GENERIC=6]="GAME_TYPE_GENERIC"}(Un||(Un={}));var Bn=function(e,t,n,r,i,o,a,s,c,l,u,d,h,f,p){if(this.name=e,this.date=t,this.location=n,this.isPublic=r,this.gameType=i,this.players=o||[],this.judges=a||[],this.maxTime=s,this.maxPoints=c,this.gates=l,this.uids=h||[],this.jids=f||[],this.zones=u,this.gameStatus=d,this.owner=p,0===s)this.courtesyTime=0;else{var g=void 0;switch(i){case 0:g=Jt.courtesyTime;break;case 1:g=Sn.courtesyTime;break;case 2:g=rn.courtesyTime;break;case 3:g=xn.courtesyTime;break;case 4:g=Cn.courtesyTime;break;case 5:g=On.courtesyTime;break;case 6:g=Mn.courtesyTime;break;default:g=0}this.courtesyTime=g}},qn=function(){function e(){}return e.init=function(e,t,n,r){e.gameStatus=0,e.players.forEach((function(i){if(i.time=0,i.points=0,i.totalGateProgression=0,i.totalPoints=0,i.totalTime=0,!i.zones||0===i.zones.length||r){i.zones=[];for(var o=0;o<e.zones;o++){for(var a={points:0,totalPoints:0,simpathyPoints:0,time:0,judgedBy:[],gateProgression:0,gatesWithBonification:0,gatesWithFail:0,handicap:0,gateProgressionData:new Array(e.gates[o]),fiascoControlTextValues:n()},s=0;s<e.gates[o];s++)a.gateProgressionData[s]={gatePoints:0,controlTextValues:t()};i.zones.push(a)}}}))},e.createGameProgression=function(e,t){var n=new Array(1);n[0]=new Array(t);for(var r=0;r<t;r++){n[0][r]=new Array(e);for(var i=0;i<e;i++)n[0][r][i]={status:"waiting"}}return n},e.getGameResult=function(e,t){return Object.entries(t).forEach((function(t,n){Object.entries(t[1]).forEach((function(t,r){t[1].data&&(e.players[n].zones[r]=t[1].data)}))})),e},e.getGameTypeBodyClassName=function(e){var t;switch(e){case 0:t="aecar";break;case 1:t="king";break;case 2:t="irscc";break;case 3:t="levante";break;case 4:t="regionalzonarc";break;case 5:t="minicrawlerpassion";break;case 6:t="generic";break;default:t=""}return t},e.getGameTypeControlTextValuesInit=function(e){var t;switch(e){case 0:t=tn.controlTextValuesInit;break;case 1:t=Nn.controlTextValuesInit;break;case 2:default:t=sn.controlTextValuesInit;break;case 3:t=Tn.controlTextValuesInit;break;case 4:t=En.controlTextValuesInit;break;case 5:t=Dn.controlTextValuesInit;break;case 6:t=Vn.controlTextValuesInit}return t},e.getGameTypeFiascoControlTextValuesInit=function(e){var t;switch(e){case 0:t=tn.fiascoControlTextValuesInit;break;case 1:t=Nn.fiascoControlTextValuesInit;break;case 2:default:t=sn.fiascoControlTextValuesInit;break;case 3:t=Tn.fiascoControlTextValuesInit;break;case 4:t=En.fiascoControlTextValuesInit;break;case 5:t=Dn.fiascoControlTextValuesInit;break;case 6:t=Vn.fiascoControlTextValuesInit}return t},e.redoPlayersIds=function(e){e.players.forEach((function(e,t){e.id=t}))},e.sumControlTextValues=function(e){var t=e.length?e[0].controlTextValues.length:0,n=new Array(t).fill(0);return e.forEach((function(e){e.controlTextValues.forEach((function(e,t){n[t]+=e}))})),n},e.isFiasco=function(e,t,n){var r=e.players[t].zones[n];return this.isFiascoFromFiascoControlTextValues(e,t,n)||this.isPointsFiasco(e,r)||this.isTimeFiasco(e,r)},e.isFiascoFromFiascoControlTextValues=function(e,t,n){for(var r=e.players[t].zones[n],i=!1,o=0;!i&&o<e.gates[n];){for(var a=0;!i&&a<r.fiascoControlTextValues.length;)r.fiascoControlTextValues[a]>0?i=!0:a++;o++}return i},e.isPointsFiasco=function(e,t){return e.maxPoints<=t.points&&e.maxPoints>0},e.isTimeFiasco=function(e,t){return e.maxTime+e.courtesyTime<=t.time&&e.maxTime>0},e.isNonPresentedFiasco=function(e,t,n){for(var r=e.players[t].zones[n],i=!1,o=0;!i&&o<e.gates[n];)r.fiascoControlTextValues[0]>0?i=!0:o++;return i},e.getZoneTotalBonification=function(e,t){for(var n=0,r=0;r<t;r++)e[r].gatePoints<20&&e[r].controlTextValues[2]<1&&n++;return-2*n},e.isCurrentUserIsOwner=function(e){return e&&e.find((function(e){return e===window.crawlear.user.uid}))},e.getMaxGroupNumber=function(e){var t=0;return e.players.forEach((function(e){t<e.group&&(t=e.group)})),t},e}(),Gn={avatar:"https://eu.ui-avatars.com/api/?background=345B63&color=FFFFFF&name=J1",battery:!1,group:0,id:0,name:"J1",points:0,time:0,uid:zn,zones:[{fiascoControlTextValues:[0],gateProgression:0,gateProgressionData:[{controlTextValues:[0,0,0,0,0,0],gatePoints:0}],gatesWithBonification:0,gatesWithFail:0,handicap:0,judgedBy:new Array,points:0,simpathyPoints:0,time:0,totalPoints:0}]};const Wn=function(e,t){if(!e)throw Hn(t)},Hn=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},Kn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Zn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(3&i)<<4|a>>4;let d=(15&a)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Kn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw Error();const c=i<<2|o>>4;if(r.push(c),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Yn=function(e){const t=Kn(e);return Zn.encodeByteArray(t,!0)},Qn=function(e){return Yn(e).replace(/\./g,"")},$n=function(e){try{return Zn.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Jn(e[n],t[n]));return e}class Xn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function er(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tr(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function nr(){try{return"[object process]"===Object.prototype.toString.call(i.g.process)}catch(e){return!1}}function rr(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function ir(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function or(){const e=er();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ar(){return"object"==typeof indexedDB}class sr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cr.prototype.create)}}class cr{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(lr,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new sr(r,a,n)}}const lr=/\{\$([^}]+)}/g;function ur(e){return JSON.parse(e)}function dr(e){return JSON.stringify(e)}const hr=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=ur($n(o[0])||""),n=ur($n(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function gr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function mr(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function vr(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(yr(n)&&yr(o)){if(!vr(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function yr(e){return null!==e&&"object"==typeof e}function br(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wr(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Cr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ir{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^a&(s^c),i=1518500249):(r=a^s^c,i=1859775393):e<60?(r=a&s|c&(a|s),i=2400959708):(r=a^s^c,i=3395469782);const t=(o<<5|o>>>27)+r+l+i+n[e]&4294967295;l=c,c=s,s=4294967295&(a<<30|a>>>2),a=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}function _r(e,t){const n=new Er(e,t);return n.subscribe.bind(n)}class Er{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=xr),void 0===r.error&&(r.error=xr),void 0===r.complete&&(r.complete=xr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function xr(){}function Ar(e,t){return`${e} failed: ${t} argument `}const kr=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Tr(e){return e&&e._delegate?e._delegate:e}class Sr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pr="[DEFAULT]";class Nr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Pr?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:Pr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Or{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Nr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Rr=[];var Dr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dr||(Dr={}));const Lr={debug:Dr.DEBUG,verbose:Dr.VERBOSE,info:Dr.INFO,warn:Dr.WARN,error:Dr.ERROR,silent:Dr.SILENT},Mr=Dr.INFO,jr={[Dr.DEBUG]:"log",[Dr.VERBOSE]:"log",[Dr.INFO]:"info",[Dr.WARN]:"warn",[Dr.ERROR]:"error"},Fr=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=jr[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Ur{constructor(e){this.name=e,this._logLevel=Mr,this._logHandler=Fr,this._userLogHandler=null,Rr.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Lr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Dr.DEBUG,...e),this._logHandler(this,Dr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Dr.VERBOSE,...e),this._logHandler(this,Dr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Dr.INFO,...e),this._logHandler(this,Dr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Dr.WARN,...e),this._logHandler(this,Dr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Dr.ERROR,...e),this._logHandler(this,Dr.ERROR,...e)}}class Vr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const zr="@firebase/app",Br="0.7.12",qr=new Ur("@firebase/app"),Gr="[DEFAULT]",Wr={[zr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hr=new Map,Kr=new Map;function Zr(e,t){try{e.container.addComponent(t)}catch(n){qr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Yr(e,t){e.container.addOrOverwriteComponent(t)}function Qr(e){const t=e.name;if(Kr.has(t))return qr.debug(`There were multiple attempts to register component ${t}.`),!1;Kr.set(t,e);for(const t of Hr.values())Zr(t,e);return!0}function $r(e,t){return e.container.getProvider(t)}function Jr(e,t,n=Gr){$r(e,t).clearInstance(n)}function Xr(){Kr.clear()}const ei=new cr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ti{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Sr("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const ni="9.6.2";function ri(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:Gr,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw ei.create("bad-app-name",{appName:String(r)});const i=Hr.get(r);if(i){if(vr(e,i.options)&&vr(n,i.config))return i;throw ei.create("duplicate-app",{appName:r})}const o=new Or(r);for(const e of Kr.values())o.addComponent(e);const a=new ti(e,n,o);return Hr.set(r,a),a}function ii(e=Gr){const t=Hr.get(e);if(!t)throw ei.create("no-app",{appName:e});return t}function oi(){return Array.from(Hr.values())}async function ai(e){const t=e.name;Hr.has(t)&&(Hr.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function si(e,t,n){var r;let i=null!==(r=Wr[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void qr.warn(e.join(" "))}Qr(new Sr(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function ci(e,t){if(null!==e&&"function"!=typeof e)throw ei.create("invalid-log-argument");!function(e,t){for(const n of Rr){let r=null;t&&t.level&&(r=Lr[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const o=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Dr[n].toLowerCase(),message:o,args:i,type:t.name})}}}(e,t)}function li(e){var t;t=e,Rr.forEach((e=>{e.setLogLevel(t)}))}Qr(new Sr("platform-logger",(e=>new Vr(e)),"PRIVATE")),si(zr,Br,""),si(zr,Br,"esm2017"),si("fire-js","");const ui=new Map,di={activated:!1,tokenObservers:[]},hi={initialized:!1,enabled:!1};function fi(e){return ui.get(e)||di}function pi(e,t){ui.set(e,t)}function gi(){return hi}const mi="https://content-firebaseappcheck.googleapis.com/v1beta";class vi{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((()=>{}))}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Xn,await function(e){return new Promise((t=>{setTimeout(t,e)}))}(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Xn,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch((()=>{}))}catch(e){this.retryPolicy(e)?this.process(!1).catch((()=>{})):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const yi=new cr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bi(e=!1){var t;return e?null===(t=self.grecaptcha)||void 0===t?void 0:t.enterprise:self.grecaptcha}function wi(e){if(!fi(e).activated)throw yi.create("use-before-activation",{appName:e.name})}function Ci(e){const t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),o=t-3600*n*24-3600*r-60*i;let a="";return n&&(a+=Ii(n)+"d:"),r&&(a+=Ii(r)+"h:"),a+=Ii(i)+"m:"+Ii(o)+"s",a}function Ii(e){return 0===e?"00":e>=10?e.toString():"0"+e}async function _i({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const o={method:"POST",body:JSON.stringify(t),headers:r};let a,s;try{a=await fetch(e,o)}catch(e){throw yi.create("fetch-network-error",{originalErrorMessage:e.message})}if(200!==a.status)throw yi.create("fetch-status-error",{httpStatus:a.status});try{s=await a.json()}catch(e){throw yi.create("fetch-parse-error",{originalErrorMessage:e.message})}const c=s.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:s.attestationToken,expireTimeMillis:u+l,issuedAtTimeMillis:u}}const Ei="firebase-app-check-store",xi="debug-token";let Ai=null;function ki(){return Ai||(Ai=new Promise(((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(yi.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(Ei,{keyPath:"compositeKey"})}}catch(e){t(yi.create("storage-open",{originalErrorMessage:e.message}))}})),Ai)}async function Ti(e,t){const n=(await ki()).transaction(Ei,"readwrite"),r=n.objectStore(Ei).put({compositeKey:e,value:t});return new Promise(((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(yi.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))}async function Si(e){const t=(await ki()).transaction(Ei,"readonly"),n=t.objectStore(Ei).get(e);return new Promise(((e,r)=>{n.onsuccess=t=>{const n=t.target.result;e(n?n.value:void 0)},t.onerror=e=>{var t;r(yi.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}}))}function Pi(e){return`${e.options.appId}-${e.name}`}const Ni=new Ur("@firebase/app-check");function Oi(e,t){return ar()?function(e,t){return Ti(Pi(e),t)}(e,t).catch((e=>{Ni.warn(`Failed to write token to IndexedDB. Error: ${e}`)})):Promise.resolve()}function Ri(){return gi().enabled}async function Di(){const e=gi();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}function Li(){const e=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i.g)return i.g;throw new Error("Unable to locate global object.")}(),t=gi();if(t.initialized=!0,"string"!=typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==e.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const n=new Xn;t.token=n,"string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(async function(){let e;try{e=await Si(xi)}catch(e){}if(e)return e;{const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));return(t=e,Ti(xi,t)).catch((e=>Ni.warn(`Failed to persist debug token to IndexedDB. Error: ${e}`))),e}var t}())}const Mi={error:"UNKNOWN_ERROR"};async function ji(e,t=!1){const n=e.app;wi(n);const r=fi(n);let i,o=r.token;if(!o){const e=await r.cachedTokenPromise;e&&Bi(e)&&(o=e)}if(!t&&o&&Bi(o))return{token:o.token};let a,s=!1;if(Ri()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_i(function(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${mi}/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}(n,await Di()),e.platformLoggerProvider).then((e=>(r.exchangeTokenPromise=void 0,e))),s=!0);const t=await r.exchangeTokenPromise;return await Oi(n,t),pi(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then((e=>(r.exchangeTokenPromise=void 0,e))),s=!0),o=await r.exchangeTokenPromise}catch(e){"appCheck/throttled"===e.code?Ni.warn(e.message):Ni.error(e),i=e}return o?(a={token:o.token},pi(n,Object.assign(Object.assign({},r),{token:o})),await Oi(n,o)):a=function(e){return{token:(t=Mi,Zn.encodeString(JSON.stringify(t),!1)),error:e};var t}(i),s&&zi(n,a),a}function Fi(e,t,n,r){const{app:i}=e,o=fi(i),a={next:n,error:r,type:t};if(pi(i,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,a]})),o.token&&Bi(o.token)){const t=o.token;Promise.resolve().then((()=>{n({token:t.token}),Vi(e)})).catch((()=>{}))}o.cachedTokenPromise.then((()=>Vi(e)))}function Ui(e,t){const n=fi(e),r=n.tokenObservers.filter((e=>e.next!==t));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),pi(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Vi(e){const{app:t}=e,n=fi(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new vi((async()=>{let n;if(n=fi(t).token?await ji(e,!0):await ji(e),n.error)throw n.error}),(()=>!0),(()=>{const e=fi(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;const n=e.token.expireTimeMillis-3e5;return t=Math.min(t,n),Math.max(0,t-Date.now())}return 0}),3e4,96e4)}(e),pi(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zi(e,t){const n=fi(e).tokenObservers;for(const e of n)try{"EXTERNAL"===e.type&&null!=t.error?e.error(t.error):e.next(t)}catch(e){}}function Bi(e){return e.expireTimeMillis-Date.now()>0}class qi{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=fi(this.app);for(const t of e)Ui(this.app,t.next);return Promise.resolve()}}function Gi(e,t){const n=fi(e),r=new Xn;pi(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));const i=function(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}(e),o=bi(!1);return o?Wi(e,t,o,i,r):function(n){const o=document.createElement("script");o.src="https://www.google.com/recaptcha/api.js",o.onload=()=>{const n=bi(!1);if(!n)throw new Error("no recaptcha");Wi(e,t,n,i,r)},document.head.appendChild(o)}(),r.promise}function Wi(e,t,n,r,i){n.ready((()=>{!function(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible"}),o=fi(e);pi(e,Object.assign(Object.assign({},o),{reCAPTCHAState:Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}))}(e,t,n,r),i.resolve(n)}))}class Hi{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e;!function(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw yi.create("throttled",{time:Ci(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}(this._throttleData);const t=await async function(e){wi(e);const t=fi(e).reCAPTCHAState,n=await t.initialized.promise;return new Promise(((t,r)=>{const i=fi(e).reCAPTCHAState;n.ready((()=>{t(n.execute(i.widgetId,{action:"fire_app_check"}))}))}))}(this._app).catch((e=>{throw yi.create("recaptcha-error")}));let n;try{n=await _i(function(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${mi}/projects/${n}/apps/${r}:exchangeRecaptchaToken?key=${i}`,body:{recaptcha_token:t}}}(this._app,t),this._platformLoggerProvider)}catch(t){throw"fetch-status-error"===t.code?(this._throttleData=function(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};{const n=t?t.backoffCount:0,r=function(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}(Number(null===(e=t.customData)||void 0===e?void 0:e.httpStatus),this._throttleData),yi.create("throttled",{time:Ci(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):t}return this._throttleData=null,n}initialize(e){this._app=e,this._platformLoggerProvider=$r(e,"platform-logger"),Gi(e,this._siteKey).catch((()=>{}))}isEqual(e){return e instanceof Hi&&this._siteKey===e._siteKey}}function Ki(e=ii(),t){const n=$r(e=Tr(e),"app-check");if(gi().initialized||Li(),Ri()&&Di().then((e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`))),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw yi.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return function(e,t,n){const r=fi(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=async function(e){if(ar()){let t;try{t=await function(e){return Si(Pi(e))}(e)}catch(e){Ni.warn(`Failed to read token from IndexedDB. Error: ${e}`)}return t}}(e).then((t=>(t&&Bi(t)&&(pi(e,Object.assign(Object.assign({},fi(e)),{token:t})),zi(e,{token:t.token})),t))),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,pi(e,i),i.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),fi(e).isTokenAutoRefreshEnabled&&Fi(r,"INTERNAL",(()=>{})),r}const Zi="app-check-internal";Qr(new Sr("app-check",(e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),new qi(t,n);var t,n}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider(Zi).initialize()}))),Qr(new Sr(Zi,(e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>ji(t,e),addTokenListener:e=>Fi(t,"INTERNAL",e),removeTokenListener:e=>Ui(t.app,e)};var t}),"PUBLIC").setInstantiationMode("EXPLICIT")),si("@firebase/app-check","0.5.3");class Yi{constructor(e,t){this._delegate=e,this.firebase=t,Zr(e,new Sr("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ai(this._delegate))))}_getService(e,t=Gr){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Gr){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Zr(this._delegate,e)}_addOrOverwriteComponent(e){Yr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Qi=new cr("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$i=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const o=ri(e,i);if(fr(n,o.name))return n[o.name];const a=new t(o,r);return n[o.name]=a,a},app:i,registerVersion:si,setLogLevel:li,onLog:ci,apps:null,SDK_VERSION:ni,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Qr(e)&&"PUBLIC"===e.type){const a=(e=i())=>{if("function"!=typeof e[o])throw Qi.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Jn(a,e.serviceProps),r[o]=a,t.prototype[o]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!fr(n,e=e||Gr))throw Qi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Yi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Jn(n,e)},createSubscribe:_r,ErrorFactory:cr,deepExtend:Jn}),n}(),Ji=new Ur("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Ji.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ji.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xi=$i;function eo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}si("@firebase/app-compat","0.1.13",void 0),Object.create,Object.create;const to=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},no=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ro=new cr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),io=new Ur("@firebase/auth");function oo(e,...t){io.logLevel<=Dr.ERROR&&io.error(`Auth (${ni}): ${e}`,...t)}function ao(e,...t){throw uo(e,...t)}function so(e,...t){return uo(e,...t)}function co(e,t,n){const r=Object.assign(Object.assign({},no()),{[t]:n});return new cr("auth","Firebase",r).create(t,{appName:e.name})}function lo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ao(e,"argument-error"),co(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uo(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ro.create(e,...t)}function ho(e,t,...n){if(!e)throw uo(t,...n)}function fo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw oo(t),new Error(t)}function po(e,t){e||fo(t)}const go=new Map;function mo(e){po(e instanceof Function,"Expected a class definition");let t=go.get(e);return t?(po(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,go.set(e,t),t)}function vo(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yo(){return"http:"===bo()||"https:"===bo()}function bo(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class wo{constructor(e,t){this.shortDelay=e,this.longDelay=t,po(t>e,"Short delay should be less than long delay!"),this.isMobile=tr()||ir()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yo()||rr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Co(e,t){po(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Io{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _o={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Eo=new wo(3e4,6e4);function xo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ao(e,t,n,r,i={}){return ko(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=br(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),Io.fetch()(So(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function ko(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},_o),t);try{const t=new Po(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw No(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw No(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw No(e,"email-already-in-use",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw co(e,s,a);ao(e,s)}}catch(t){if(t instanceof sr)throw t;ao(e,"network-request-failed")}}async function To(e,t,n,r,i={}){const o=await Ao(e,t,n,r,i);return"mfaPendingCredential"in o&&ao(e,"multi-factor-auth-required",{_serverResponse:o}),o}function So(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Co(e.config,i):`${e.config.apiScheme}://${i}`}class Po{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(so(this.auth,"timeout"))),Eo.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function No(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=so(e,t,r);return i.customData._tokenResponse=n,i}function Oo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Ro(e){return 1e3*Number(e)}function Do(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return oo("JWT malformed, contained fewer than 3 sections"),null;try{const e=$n(n);return e?JSON.parse(e):(oo("Failed to decode base64 JWT payload"),null)}catch(e){return oo("Caught error parsing JWT payload as JSON",e),null}}async function Lo(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof sr&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Mo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class jo{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oo(this.lastLoginAt),this.creationTime=Oo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Lo(e,async function(e,t){return Ao(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));ho(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=eo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=(c=e.providerData,l=a,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==s?void 0:s.length)),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new jo(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ho(e.idToken,"internal-error"),ho(void 0!==e.idToken,"internal-error"),ho(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Do(e);return ho(t,"internal-error"),ho(void 0!==t.exp,"internal-error"),ho(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return ho(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ko(e,{},(async()=>{const n=br({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=So(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Io.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Uo;return n&&(ho("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(ho("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(ho("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return fo("not implemented")}}function Vo(e,t){ho("string"==typeof e||void 0===e,"internal-error",{appName:t})}class zo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=eo(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Mo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new jo(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return ho(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Tr(e),r=await n.getIdToken(t),i=Do(r);ho(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Oo(Ro(i.auth_time)),issuedAtTime:Oo(Ro(i.iat)),expirationTime:Oo(Ro(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Tr(e);await Fo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ho(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new zo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ho(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Fo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Lo(this,async function(e,t){return Ao(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:C,stsTokenManager:I}=t;ho(y&&I,e,"internal-error");const _=Uo.fromJSON(this.name,I);ho("string"==typeof y,e,"internal-error"),Vo(u,e.name),Vo(d,e.name),ho("boolean"==typeof b,e,"internal-error"),ho("boolean"==typeof w,e,"internal-error"),Vo(h,e.name),Vo(f,e.name),Vo(p,e.name),Vo(g,e.name),Vo(m,e.name),Vo(v,e.name);const E=new zo({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:m,lastLoginAt:v});return C&&Array.isArray(C)&&(E.providerData=C.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new Uo;r.updateFromServerResponse(t);const i=new zo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Fo(i),i}}class Bo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bo.type="NONE";const qo=Bo;function Go(e,t,n){return`firebase:${e}:${t}:${n}`}class Wo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Go(this.userKey,r.apiKey,i),this.fullPersistenceKey=Go("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Wo(mo(qo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||mo(qo);const o=Go(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(o);if(t){const r=zo._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new Wo(i,e,n)):new Wo(i,e,n)}}function Ho(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Qo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ko(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Jo(t))return"Blackberry";if(Xo(t))return"Webos";if(Zo(t))return"Safari";if((t.includes("chrome/")||Yo(t))&&!t.includes("edge/"))return"Chrome";if($o(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ko(e=er()){return/firefox\//i.test(e)}function Zo(e=er()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yo(e=er()){return/crios\//i.test(e)}function Qo(e=er()){return/iemobile/i.test(e)}function $o(e=er()){return/android/i.test(e)}function Jo(e=er()){return/blackberry/i.test(e)}function Xo(e=er()){return/webos/i.test(e)}function ea(e=er()){return/iphone|ipad|ipod/i.test(e)}function ta(e=er()){return ea(e)||$o(e)||Xo(e)||Jo(e)||/windows phone/i.test(e)||Qo(e)}function na(e,t=[]){let n;switch(e){case"Browser":n=Ho(er());break;case"Worker":n=`${Ho(er())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ni}/${r}`}class ra{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oa(this),this.idTokenSubscription=new oa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ro,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(ho(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fo(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Tr(e):null;return t&&ho(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&ho(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(mo(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cr("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mo(e)||this._popupRedirectResolver;ho(t,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[mo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ho(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ho(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=na(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function ia(e){return Tr(e)}class oa{constructor(e){this.auth=e,this.observer=null,this.addObserver=_r((e=>this.observer=e))}get next(){return ho(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function aa(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sa(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ca{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fo("not implemented")}_getIdTokenResponse(e){return fo("not implemented")}_linkToIdToken(e,t){return fo("not implemented")}_getReauthenticationResolver(e){return fo("not implemented")}}async function la(e,t){return Ao(e,"POST","/v1/accounts:resetPassword",xo(e,t))}async function ua(e,t){return Ao(e,"POST","/v1/accounts:update",t)}async function da(e,t){return Ao(e,"POST","/v1/accounts:sendOobCode",xo(e,t))}class ha extends ca{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ha(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ha(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return To(e,"POST","/v1/accounts:signInWithPassword",xo(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return To(e,"POST","/v1/accounts:signInWithEmailLink",xo(e,t))}(e,{email:this._email,oobCode:this._password});default:ao(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ua(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return To(e,"POST","/v1/accounts:signInWithEmailLink",xo(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ao(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fa(e,t){return To(e,"POST","/v1/accounts:signInWithIdp",xo(e,t))}class pa extends ca{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ao("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=eo(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new pa(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return fa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fa(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=br(t)}return e}}const ga={USER_NOT_FOUND:"user-not-found"};class ma extends ca{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ma({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ma({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return To(e,"POST","/v1/accounts:signInWithPhoneNumber",xo(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await To(e,"POST","/v1/accounts:signInWithPhoneNumber",xo(e,t));if(n.temporaryProof)throw No(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return To(e,"POST","/v1/accounts:signInWithPhoneNumber",xo(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ga)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ma({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class va{constructor(e){var t,n,r,i,o,a;const s=wr(Cr(e)),c=null!==(t=s.apiKey)&&void 0!==t?t:null,l=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);ho(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=wr(Cr(e)).link,n=t?wr(Cr(t)).deep_link_id:null,r=wr(Cr(e)).deep_link_id;return(r?wr(Cr(r)).link:null)||r||n||t||e}(e);try{return new va(t)}catch(e){return null}}}class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,t){return ha._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=va.parseLink(t);return ho(n,"argument-error"),ha._fromEmailAndCode(e,n.code,n.tenantId)}}ya.PROVIDER_ID="password",ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ba{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wa extends ba{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ca extends wa{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return ho("providerId"in t&&"signInMethod"in t,"argument-error"),pa._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ho(e.idToken||e.accessToken,"argument-error"),pa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ca.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ca.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:a}=e;if(!(n||r||t||i))return null;if(!a)return null;try{return new Ca(a)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(e){return null}}}class Ia extends wa{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch(e){return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ia.PROVIDER_ID="facebook.com";class _a extends wa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return pa._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return _a.credential(t,n)}catch(e){return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com",_a.PROVIDER_ID="google.com";class Ea extends wa{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ea.credential(e.oauthAccessToken)}catch(e){return null}}}Ea.GITHUB_SIGN_IN_METHOD="github.com",Ea.PROVIDER_ID="github.com";class xa extends ca{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return fa(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fa(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new xa(n,i):null}static _create(e,t){return new xa(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Aa extends ba{constructor(e){ho(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Aa.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Aa.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=xa.fromJSON(e);return ho(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return xa._create(n,t)}catch(e){return null}}}class ka extends wa{constructor(){super("twitter.com")}static credential(e,t){return pa._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ka.credential(t,n)}catch(e){return null}}}async function Ta(e,t){return To(e,"POST","/v1/accounts:signUp",xo(e,t))}ka.TWITTER_SIGN_IN_METHOD="twitter.com",ka.PROVIDER_ID="twitter.com";class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await zo._fromIdTokenResponse(e,n,r),o=Pa(n);return new Sa({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Pa(n);return new Sa({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Pa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Na extends sr{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Na.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Na(e,t,n,r)}}function Oa(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Na._fromErrorAndOperation(e,n,t,r);throw n}))}function Ra(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Da(e,t,n=!1){const r=await Lo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Sa._forOperation(e,"link",r)}async function La(e,t,n){await Fo(t);const r=!1===e?"provider-already-linked":"no-such-provider";ho(Ra(t.providerData).has(n)===e,t.auth,r)}async function Ma(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Lo(e,Oa(r,i,t,e),n);ho(o.idToken,r,"internal-error");const a=Do(o.idToken);ho(a,r,"internal-error");const{sub:s}=a;return ho(e.uid===s,r,"user-mismatch"),Sa._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&ao(r,"user-mismatch"),e}}async function ja(e,t,n=!1){const r="signIn",i=await Oa(e,r,t),o=await Sa._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Fa(e,t){return ja(ia(e),t)}async function Ua(e,t){const n=Tr(e);return await La(!1,n,t.providerId),Da(n,t)}async function Va(e,t){return Ma(Tr(e),t)}class za{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ba._fromServerResponse(e,t):ao(e,"internal-error")}}class Ba extends za{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ba(t)}}function qa(e,t,n){var r;ho((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ho(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ho(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ho(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ga(e,t){const n=Tr(e),r=await la(n,{oobCode:t}),i=r.requestType;switch(ho(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ho(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ho(r.mfaInfo,n,"internal-error");default:ho(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=za._fromServerResponse(ia(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Wa(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await Lo(e,ua(r,i));await e._updateTokensIfNecessary(o,!0)}class Ha{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Ka extends Ha{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Za extends Ha{constructor(e,t){super(e,"facebook.com",t)}}class Ya extends Ka{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Qa extends Ha{constructor(e,t){super(e,"google.com",t)}}class $a extends Ka{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Ja(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Do(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ha(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Za(o,i);case"github.com":return new Ya(o,i);case"google.com":return new Qa(o,i);case"twitter.com":return new $a(o,i,e.screenName||null);case"custom":case"anonymous":return new Ha(o,null);default:return new Ha(o,r,i)}}(n)}class Xa{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Xa("enroll",e)}static _fromMfaPendingCredential(e){return new Xa("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Xa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Xa._fromIdtoken(e.multiFactorSession.idToken)}return null}}class es{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ia(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>za._fromServerResponse(n,e)));ho(r.mfaPendingCredential,n,"internal-error");const o=Xa._fromMfaPendingCredential(r.mfaPendingCredential);return new es(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Sa._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ho(t.user,n,"internal-error"),Sa._forOperation(t.user,t.operationType,a);default:ao(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ts{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>za._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ts(e)}async getSession(){return Xa._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await Lo(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await Lo(this.user,(i=this.user.auth,o={idToken:n,mfaEnrollmentId:t},Ao(i,"POST","/v2/accounts/mfaEnrollment:withdraw",xo(i,o))));var i,o;this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const ns=new WeakMap,rs="__sak";class is{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class os extends is{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=er();return Zo(e)||ea(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ta(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);or()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}os.type="LOCAL";const as=os;class ss extends is{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ss.type="SESSION";const cs=ss;class ls{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ls(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function us(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}ls.receivers=[];class ds{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const c=us("",20);r.port1.start();const l=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function hs(){return window}function fs(){return void 0!==hs().WorkerGlobalScope&&"function"==typeof hs().importScripts}const ps="firebaseLocalStorageDb",gs="firebaseLocalStorage",ms="fbase_key";class vs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ys(e,t){return e.transaction([gs],t?"readwrite":"readonly").objectStore(gs)}function bs(){const e=indexedDB.open(ps,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(gs,{keyPath:ms})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(gs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ps);return new vs(e).toPromise()}(),t(await bs()))}))}))}async function ws(e,t,n){const r=ys(e,!0).put({[ms]:t,value:n});return new vs(r).toPromise()}function Cs(e,t){const n=ys(e,!0).delete(t);return new vs(n).toPromise()}class Is{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await bs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ls._getInstance(fs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ds(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}var t}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bs();return await ws(e,rs,"1"),await Cs(e,rs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ws(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ys(e,!1).get(t),r=await new vs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Cs(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ys(e,!1).getAll();return new vs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Is.type="LOCAL";const _s=Is;function Es(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=so("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}function xs(e){return`__${e}${Math.floor(1e6*Math.random())}`}const As=1e12;class ks{constructor(e){this.auth=e,this.counter=As,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ts(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||As;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||As;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||As;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ts{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;ho(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ss=xs("rcb"),Ps=new wo(3e4,6e4);class Ns{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!hs().grecaptcha}load(e,t=""){return ho(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(hs().grecaptcha):new Promise(((n,r)=>{const i=hs().setTimeout((()=>{r(so(e,"network-request-failed"))}),Ps.get());hs()[Ss]=()=>{hs().clearTimeout(i),delete hs()[Ss];const o=hs().grecaptcha;if(!o)return void r(so(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)},Es(`https://www.google.com/recaptcha/api.js??${br({onload:Ss,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(so(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!hs().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Os{async load(e){return new ks(e)}clearedOneInstance(){}}const Rs="recaptcha",Ds={theme:"light",type:"image"};class Ls{constructor(e,t=Object.assign({},Ds),n){this.parameters=t,this.type=Rs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ia(n),this.isInvisible="invisible"===this.parameters.size,ho("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;ho(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Os:new Ns,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ho(!this.parameters.sitekey,this.auth,"argument-error"),ho(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ho("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=hs()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){ho(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ho(yo()&&!fs(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ao(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ho(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ho(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ms{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ma._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function js(e,t,n){var r;const i=await n.verify();try{let o;if(ho("string"==typeof i,e,"argument-error"),ho(n.type===Rs,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ho("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ao(e,"POST","/v2/accounts/mfaEnrollment:start",xo(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ho("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ho(n,e,"missing-multi-factor-info");const a=await function(e,t){return Ao(e,"POST","/v2/accounts/mfaSignIn:start",xo(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ao(e,"POST","/v1/accounts:sendVerificationCode",xo(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Fs{constructor(e){this.providerId=Fs.PROVIDER_ID,this.auth=ia(e)}verifyPhoneNumber(e,t){return js(this.auth,e,Tr(t))}static credential(e,t){return ma._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Fs.credentialFromTaggedObject(t)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ma._fromTokenResponse(t,n):null}}function Us(e,t){return t?mo(t):(ho(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Fs.PROVIDER_ID="phone",Fs.PHONE_SIGN_IN_METHOD="phone";class Vs extends ca{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zs(e){return ja(e.auth,new Vs(e),e.bypassAuthState)}function Bs(e){const{auth:t,user:n}=e;return ho(n,t,"internal-error"),Ma(n,new Vs(e),e.bypassAuthState)}async function qs(e){const{auth:t,user:n}=e;return ho(n,t,"internal-error"),Da(n,new Vs(e),e.bypassAuthState)}class Gs{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zs;case"linkViaPopup":case"linkViaRedirect":return qs;case"reauthViaPopup":case"reauthViaRedirect":return Bs;default:ao(this.auth,"internal-error")}}resolve(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ws=new wo(2e3,1e4);async function Hs(e,t,n){const r=ia(e);lo(e,t,ba);const i=Us(r,n);return new Ks(r,"signInViaPopup",t,i).executeNotNull()}class Ks extends Gs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ho(e,this.auth,"internal-error"),e}async onExecution(){po(1===this.filter.length,"Popup operations only handle one event");const e=us();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(so(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(so(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(so(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Ws.get())};e()}}Ks.currentPopupAction=null;const Zs=new Map;class Ys extends Gs{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Zs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Js(t),r=$s(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Zs.set(this.auth._key(),e)}return this.bypassAuthState||Zs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Qs(e,t){return $s(e)._set(Js(t),"true")}function $s(e){return mo(e._redirectPersistence)}function Js(e){return Go("pendingRedirect",e.config.apiKey,e.name)}function Xs(e,t,n){return async function(e,t,n){const r=ia(e);lo(e,t,ba);const i=Us(r,n);return await Qs(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}async function ec(e,t){return await ia(e)._initializationPromise,tc(e,t,!1)}async function tc(e,t,n=!1){const r=ia(e),i=Us(r,t),o=new Ys(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function nc(e){const t=us(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class rc{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!oc(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(so(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ic(e))}saveEventToCache(e){this.cachedEventUids.add(ic(e)),this.lastProcessedEventTime=Date.now()}}function ic(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function oc({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function ac(e,t={}){return Ao(e,"GET","/v1/projects",t)}const sc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cc=/^https?/;function lc(e){const t=vo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!cc.test(n))return!1;if(sc.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const uc=new wo(3e4,6e4);function dc(){const e=hs().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let hc=null;function fc(e){return hc=hc||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){dc(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dc(),n(so(e,"network-request-failed"))},timeout:uc.get()})}if(null===(i=null===(r=hs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=hs().gapi)||void 0===o?void 0:o.load)){const t=xs("iframefcb");return hs()[t]=()=>{gapi.load?a():n(so(e,"network-request-failed"))},Es(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw hc=null,e}))}(e),hc}const pc=new wo(5e3,15e3),gc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vc(e){const t=e.config;ho(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Co(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:ni},i=mc.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${br(r).slice(1)}`}const yc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function wc(e,t,n,r,i,o){ho(e.config.authDomain,e,"auth-domain-config-required"),ho(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ni,eventId:i};if(t instanceof ba){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",gr(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof wa){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const e of Object.keys(s))void 0===s[e]&&delete s[e];return`${function({config:e}){return e.emulator?Co(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${br(s).slice(1)}`}const Cc="webStorageSupport",Ic=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cs,this._completeRedirectFn=tc}async _openPopup(e,t,n,r){var i;return po(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},yc),{width:r.toString(),height:i.toString(),top:o,left:a}),l=er().toLowerCase();n&&(s=Yo(l)?"_blank":n),Ko(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=er()){var t;return ea(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new bc(null);const d=window.open(t||"",s,u);ho(d,e,"popup-blocked");try{d.focus()}catch(e){}return new bc(d)}(e,wc(e,t,n,vo(),r),us())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=wc(e,t,n,vo(),r),hs().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(po(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await fc(e),n=hs().gapi;return ho(n,e,"internal-error"),t.open({where:document.body,url:vc(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gc,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=so(e,"network-request-failed"),o=hs().setTimeout((()=>{r(i)}),pc.get());function a(){hs().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new rc(e);return t.register("authEvent",(t=>(ho(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cc,{type:Cc},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ao(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ac(e);for(const e of t)try{if(lc(e))return}catch(e){}ao(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ta()||Zo()||ea()}};class _c extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return fo("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new _c(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ao(e,"POST","/v2/accounts/mfaEnrollment:finalize",xo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ao(e,"POST","/v2/accounts/mfaSignIn:finalize",xo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ec{constructor(){}static assertion(e){return _c._fromCredential(e)}}Ec.FACTOR_ID="phone";var xc,Ac="@firebase/auth",kc="0.19.5";class Tc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ho(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sc(e=ii()){const t=$r(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=$r(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(vr(n.getOptions(),null!=t?t:{}))return e;ao(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ic,persistence:[_s,as,cs]})}function Pc(){return window}xc="Browser",Qr(new Sr("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{ho(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),ho(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:xc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:na(xc)},o=new ra(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mo);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Qr(new Sr("auth-internal",(e=>{return t=ia(e.getProvider("auth").getImmediate()),new Tc(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),si(Ac,kc,void 0),si(Ac,kc,"esm2017");class Nc extends rc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Oc(e){const t=await Dc()._get(Lc(e));return t&&await Dc()._remove(Lc(e)),t}function Rc(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Dc(){return mo(as)}function Lc(e){return Go("authEvent",e.config.apiKey,e.name)}function Mc(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return wr(n.join("?"))}function jc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:so("no-auth-event")}}function Fc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Uc(e=er()){return!("file:"!==Fc()&&"ionic:"!==Fc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vc(){try{const e=self.localStorage,t=us();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=er()){return or()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=er()){return/Edge\/\d+/.test(e)}(e)}()||ar()}catch(e){return zc()&&ar()}return!1}function zc(){return void 0!==i.g&&"WorkerGlobalScope"in i.g&&"importScripts"in i.g}function Bc(){return("http:"===Fc()||"https:"===Fc()||rr()||Uc())&&!(ir()||nr())&&Vc()&&!zc()}function qc(){return Uc()&&"undefined"!=typeof document}const Gc={LOCAL:"local",NONE:"none",SESSION:"session"},Wc=ho,Hc="persistence";async function Kc(e){await e._initializationPromise;const t=Zc(),n=Go(Hc,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function Zc(){return"undefined"!=typeof window?window:null}const Yc=ho;class Qc{constructor(){this.browserResolver=mo(Ic),this.cordovaResolver=mo(class{constructor(){this._redirectPersistence=cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=tc}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Nc(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){ao(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,c,l,u;const d=Pc();ho("function"==typeof(null===(t=null==d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ho(void 0!==(null===(n=null==d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ho("function"==typeof(null===(o=null===(i=null===(r=null==d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ho("function"==typeof(null===(c=null===(s=null===(a=null==d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ho("function"==typeof(null===(u=null===(l=null==d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Zs.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Rc(),postBody:null,tenantId:e.tenantId,error:so(e,"no-auth-event")}}(e,n,r);await function(e,t){return Dc()._set(Lc(e),t)}(e,o);const a=await async function(e,t,n){var r;const{BuildInfo:i}=Pc();po(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(po(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return ea()?a.ibi=i.packageName:$o()?a.apn=i.packageName:ao(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,wc(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}(e,o,t);return async function(e,t,n){const{cordova:r}=Pc();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){s||(s=window.setTimeout((()=>{a(so(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),$o()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=Pc();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=er()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Pc(),n={};ea()?n.iosBundleId=t.packageName:$o()?n.androidPackageName=t.packageName:ao(e,"operation-not-supported-in-this-environment"),await ac(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Pc(),o=setTimeout((async()=>{await Oc(e),t.onEvent(jc())}),500),a=async n=>{clearTimeout(o);const r=await Oc(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Mc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Mc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Mc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Mc(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?so(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||jc())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const s=r,c=`${i.packageName.toLowerCase()}://`;Pc().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof s)try{s(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=cs,this._completeRedirectFn=tc}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return qc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yc(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!qc()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function $c(e){return e.unwrap()}function Jc(e){const{_tokenResponse:t}=e instanceof sr?e.customData:e;if(!t)return null;if(!(e instanceof sr)&&"temporaryProof"in t&&"phoneNumber"in t)return Fs.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=_a;break;case"facebook.com":r=Ia;break;case"github.com":r=Ea;break;case"twitter.com":r=ka;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?xa._create(n,a):pa._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Ca(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof sr?r.credentialFromError(e):r.credentialFromResult(e)}function Xc(e,t){return t.catch((t=>{throw t instanceof sr&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new tl(e,function(e,t){var n;const r=Tr(e),i=t;return ho(t.customData.operationType,r,"argument-error"),ho(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),es._fromError(r,i)}(e,t));else if(r){const e=Jc(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Jc(r)),additionalUserInfo:Ja(e),user:nl.getOrCreate(n)};var r}))}async function el(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Xc(e,n.confirm(t))}}class tl{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Xc($c(this.auth),this.resolver.resolveSignIn(e))}}class nl{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Tr(e);return ns.has(t)||ns.set(t,ts._fromUser(t)),ns.get(t)}(e)}static getOrCreate(e){return nl.USER_MAP.has(e)||nl.USER_MAP.set(e,new nl(e)),nl.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Xc(this.auth,Ua(this._delegate,e))}async linkWithPhoneNumber(e,t){return el(this.auth,async function(e,t,n){const r=Tr(e);await La(!1,r,"phone");const i=await js(r.auth,t,Tr(n));return new Ms(i,(e=>Ua(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Xc(this.auth,async function(e,t,n){const r=Tr(e);lo(r.auth,t,ba);const i=Us(r.auth,n);return new Ks(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Qc))}async linkWithRedirect(e){return await Kc(ia(this.auth)),function(e,t,n){return async function(e,t,n){const r=Tr(e);lo(r.auth,t,ba);const i=Us(r.auth,n);await La(!1,r,t.providerId),await Qs(i,r.auth);const o=await nc(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,Qc)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Xc(this.auth,Va(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return el(this.auth,async function(e,t,n){const r=Tr(e),i=await js(r.auth,t,Tr(n));return new Ms(i,(e=>Va(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Xc(this.auth,async function(e,t,n){const r=Tr(e);lo(r.auth,t,ba);const i=Us(r.auth,n);return new Ks(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Qc))}async reauthenticateWithRedirect(e){return await Kc(ia(this.auth)),function(e,t,n){return async function(e,t,n){const r=Tr(e);lo(r.auth,t,ba);const i=Us(r.auth,n);await Qs(i,r.auth);const o=await nc(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,Qc)}sendEmailVerification(e){return async function(e,t){const n=Tr(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&qa(n.auth,r,t);const{email:i}=await async function(e,t){return da(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=Tr(e);await La(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ao(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Ra(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Wa(Tr(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Wa(Tr(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Da(Tr(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Tr(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await Lo(r,async function(e,t){return Ao(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find((({providerId:e})=>"password"===e));a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=Tr(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&qa(r.auth,i,n);const{email:o}=await async function(e,t){return da(e,t)}(r.auth,i);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nl.USER_MAP=new WeakMap;const rl=ho;class il{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;rl(n,"invalid-api-key",{appName:e.name}),rl(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?Qc:void 0;this._delegate=t.initialize({options:{persistence:al(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(to),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=ia(e);ho(r._canInitEmulator,r,"emulator-config-failed"),ho(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=aa(t),{host:a,port:s}=function(e){const t=aa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:sa(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:sa(t)}}}(t),c=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return Ao(e,"POST","/v1/accounts:update",xo(e,t))}(Tr(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return Ga(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await la(Tr(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Xc(this._delegate,async function(e,t,n){const r=ia(e),i=await Ta(r,{returnSecureToken:!0,email:t,password:n}),o=await Sa._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:yo()?vo():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ao(e,"POST","/v1/accounts:createAuthUri",xo(e,t))}(Tr(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=va.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){rl(Bc(),this._delegate,"operation-not-supported-in-this-environment");const e=await ec(this._delegate,Qc);return e?Xc(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ia(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=ol(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=ol(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Tr(e),i={requestType:"EMAIL_SIGNIN",email:t};ho(n.handleCodeInApp,r,"argument-error"),n&&qa(r,i,n),await async function(e,t){return da(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Tr(e),i={requestType:"PASSWORD_RESET",email:t};n&&qa(r,i,n),await async function(e,t){return da(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Wc(Object.values(Gc).includes(t),e,"invalid-persistence-type"),ir()?Wc(t!==Gc.SESSION,e,"unsupported-persistence-type"):nr()?Wc(t===Gc.NONE,e,"unsupported-persistence-type"):zc()?Wc(t===Gc.NONE||t===Gc.LOCAL&&ar(),e,"unsupported-persistence-type"):Wc(t===Gc.NONE||Vc(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Gc.SESSION:t=cs;break;case Gc.LOCAL:t=await mo(_s)._isAvailable()?_s:as;break;case Gc.NONE:t=qo;break;default:return ao("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Xc(this._delegate,async function(e){var t;const n=ia(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Sa({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ta(n,{returnSecureToken:!0}),i=await Sa._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Xc(this._delegate,Fa(this._delegate,e))}signInWithCustomToken(e){return Xc(this._delegate,async function(e,t){const n=ia(e),r=await async function(e,t){return To(e,"POST","/v1/accounts:signInWithCustomToken",xo(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Sa._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Xc(this._delegate,function(e,t,n){return Fa(Tr(e),ya.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Xc(this._delegate,async function(e,t,n){const r=Tr(e),i=ya.credentialWithLink(t,n||vo());return ho(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Fa(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return el(this._delegate,async function(e,t,n){const r=ia(e),i=await js(r,t,Tr(n));return new Ms(i,(e=>Fa(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return rl(Bc(),this._delegate,"operation-not-supported-in-this-environment"),Xc(this._delegate,Hs(this._delegate,e,Qc))}async signInWithRedirect(e){return rl(Bc(),this._delegate,"operation-not-supported-in-this-environment"),await Kc(this._delegate),Xs(this._delegate,e,Qc)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ga(Tr(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function ol(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&nl.getOrCreate(e)),error:t,complete:n}}function al(e,t){const n=function(e,t){const n=Zc();if(!(null==n?void 0:n.sessionStorage))return[];const r=Go(Hc,e,t);switch(n.sessionStorage.getItem(r)){case Gc.NONE:return[qo];case Gc.LOCAL:return[_s,cs];case Gc.SESSION:return[cs];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(_s)||n.push(_s),"undefined"!=typeof window)for(const e of[as,cs])n.includes(e)||n.push(e);return n.includes(qo)||n.push(qo),n}il.Persistence=Gc;class sl{constructor(){this.providerId="phone",this._delegate=new Fs($c(Xi.auth()))}static credential(e,t){return Fs.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}sl.PHONE_SIGN_IN_METHOD=Fs.PHONE_SIGN_IN_METHOD,sl.PROVIDER_ID=Fs.PROVIDER_ID;const cl=ho;class ll{constructor(e,t,n=Xi.app()){var r;cl(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ls(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new Sr("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new il(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ya,FacebookAuthProvider:Ia,GithubAuthProvider:Ea,GoogleAuthProvider:_a,OAuthProvider:Ca,SAMLAuthProvider:Aa,PhoneAuthProvider:sl,PhoneMultiFactorGenerator:Ec,RecaptchaVerifier:ll,TwitterAuthProvider:ka,Auth:il,AuthCredential:ca,Error:sr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.5")}(Xi);var ul,dl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},hl={},fl=fl||{},pl=dl||self;function gl(){}function ml(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var yl="closure_uid_"+(1e9*Math.random()>>>0),bl=0;function wl(e,t,n){return e.call.apply(e.bind,arguments)}function Cl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Il(e,t,n){return(Il=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wl:Cl).apply(null,arguments)}function _l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function El(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function xl(){this.s=this.s,this.o=this.o}var Al={};xl.prototype.s=!1,xl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,yl)&&e[yl]||(e[yl]=++bl)}(this);delete Al[e]}},xl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Tl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Sl(e){return Array.prototype.concat.apply([],arguments)}function Pl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nl(e){return/^[\s\xa0]*$/.test(e)}var Ol,Rl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Dl(e,t){return-1!=e.indexOf(t)}function Ll(e,t){return e<t?-1:e>t?1:0}e:{var Ml=pl.navigator;if(Ml){var jl=Ml.userAgent;if(jl){Ol=jl;break e}}Ol=""}function Fl(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ul(e){const t={};for(const n in e)t[n]=e[n];return t}var Vl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zl(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Vl.length;t++)n=Vl[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bl(e){return Bl[" "](e),e}Bl[" "]=gl;var ql,Gl,Wl=Dl(Ol,"Opera"),Hl=Dl(Ol,"Trident")||Dl(Ol,"MSIE"),Kl=Dl(Ol,"Edge"),Zl=Kl||Hl,Yl=Dl(Ol,"Gecko")&&!(Dl(Ol.toLowerCase(),"webkit")&&!Dl(Ol,"Edge"))&&!(Dl(Ol,"Trident")||Dl(Ol,"MSIE"))&&!Dl(Ol,"Edge"),Ql=Dl(Ol.toLowerCase(),"webkit")&&!Dl(Ol,"Edge");function $l(){var e=pl.document;return e?e.documentMode:void 0}e:{var Jl="",Xl=(Gl=Ol,Yl?/rv:([^\);]+)(\)|;)/.exec(Gl):Kl?/Edge\/([\d\.]+)/.exec(Gl):Hl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gl):Ql?/WebKit\/(\S+)/.exec(Gl):Wl?/(?:Version)[ \/]?(\S+)/.exec(Gl):void 0);if(Xl&&(Jl=Xl?Xl[1]:""),Hl){var eu=$l();if(null!=eu&&eu>parseFloat(Jl)){ql=String(eu);break e}}ql=Jl}var tu,nu={};function ru(){return e=nu,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=Rl(String(ql)).split("."),n=Rl("9").split("."),r=Math.max(t.length,n.length);for(let a=0;0==e&&a<r;a++){var i=t[a]||"",o=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=Ll(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Ll(0==i[2].length,0==o[2].length)||Ll(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}();var e}pl.document&&Hl?tu=$l()||parseInt(ql,10)||void 0:tu=void 0;var iu=tu,ou=function(){if(!pl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pl.addEventListener("test",gl,t),pl.removeEventListener("test",gl,t)}catch(e){}return e}();function au(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function su(e,t){if(au.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yl){e:{try{Bl(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:cu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&su.Z.h.call(this)}}au.prototype.h=function(){this.defaultPrevented=!0},El(su,au);var cu={2:"touch",3:"pen",4:"mouse"};su.prototype.h=function(){su.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var lu="closure_listenable_"+(1e6*Math.random()|0),uu=0;function du(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++uu,this.ca=this.fa=!1}function hu(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function fu(e){this.src=e,this.g={},this.h=0}function pu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=kl(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(hu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gu(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}fu.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=gu(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new du(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var mu="closure_lm_"+(1e6*Math.random()|0),vu={};function yu(e,t,n,r,i){if(r&&r.once)return wu(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)yu(e,t[o],n,r,i);return null}return n=ku(n),e&&e[lu]?e.N(t,n,vl(r)?!!r.capture:!!r,i):bu(e,t,n,!1,r,i)}function bu(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=vl(i)?!!i.capture:!!i,s=xu(e);if(s||(e[mu]=s=new fu(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Eu;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ou||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_u(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wu(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)wu(e,t[o],n,r,i);return null}return n=ku(n),e&&e[lu]?e.O(t,n,vl(r)?!!r.capture:!!r,i):bu(e,t,n,!0,r,i)}function Cu(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Cu(e,t[o],n,r,i);else r=vl(r)?!!r.capture:!!r,n=ku(n),e&&e[lu]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=gu(o=e.g[t],n,r,i))&&(hu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=xu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gu(t,n,r,i)),(n=-1<e?t[e]:null)&&Iu(n))}function Iu(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[lu])pu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_u(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xu(t))?(pu(n,e),0==n.h&&(n.src=null,t[mu]=null)):hu(e)}}}function _u(e){return e in vu?vu[e]:vu[e]="on"+e}function Eu(e,t){if(e.ca)e=!0;else{t=new su(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Iu(e),e=n.call(r,t)}return e}function xu(e){return(e=e[mu])instanceof fu?e:null}var Au="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(e){return"function"==typeof e?e:(e[Au]||(e[Au]=function(t){return e.handleEvent(t)}),e[Au])}function Tu(){xl.call(this),this.i=new fu(this),this.P=this,this.I=null}function Su(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new au(t,e);else if(t instanceof au)t.target=t.target||e;else{var i=t;zl(t=new au(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Pu(a,r,!0,t)&&i}if(i=Pu(a=t.g=e,r,!0,t)&&i,i=Pu(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Pu(a=t.g=n[o],r,!1,t)&&i}function Pu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,c=a.ia||a.src;a.fa&&pu(e.i,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}El(Tu,xl),Tu.prototype[lu]=!0,Tu.prototype.removeEventListener=function(e,t,n,r){Cu(this,e,t,n,r)},Tu.prototype.M=function(){if(Tu.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hu(n[r]);delete t.g[e],t.h--}}this.I=null},Tu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Tu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nu=pl.JSON.stringify;function Ou(){var e=Uu;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ru,Du=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Lu),(e=>e.reset()));class Lu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Mu(e){pl.setTimeout((()=>{throw e}),0)}function ju(e,t){Ru||function(){var e=pl.Promise.resolve(void 0);Ru=function(){e.then(Vu)}}(),Fu||(Ru(),Fu=!0),Uu.add(e,t)}var Fu=!1,Uu=new class{constructor(){this.h=this.g=null}add(e,t){const n=Du.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Vu(){for(var e;e=Ou();){try{e.h.call(e.g)}catch(e){Mu(e)}var t=Du;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fu=!1}function zu(e,t){Tu.call(this),this.h=e||1,this.g=t||pl,this.j=Il(this.kb,this),this.l=Date.now()}function Bu(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qu(e,t,n){if("function"==typeof e)n&&(e=Il(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Il(e.handleEvent,e)}return 2147483647<Number(t)?-1:pl.setTimeout(e,t||0)}function Gu(e){e.g=qu((()=>{e.g=null,e.i&&(e.i=!1,Gu(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}El(zu,Tu),(ul=zu.prototype).da=!1,ul.S=null,ul.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Su(this,"tick"),this.da&&(Bu(this),this.start()))}},ul.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ul.M=function(){zu.Z.M.call(this),Bu(this),delete this.g};class Wu extends xl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gu(this)}M(){super.M(),this.g&&(pl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hu(e){xl.call(this),this.h=e,this.g={}}El(Hu,xl);var Ku=[];function Zu(e,t,n,r){Array.isArray(n)||(n&&(Ku[0]=n.toString()),n=Ku);for(var i=0;i<n.length;i++){var o=yu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Yu(e){Fl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Iu(e)}),e),e.g={}}function Qu(){this.g=!0}function $u(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Nu(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Hu.prototype.M=function(){Hu.Z.M.call(this),Yu(this)},Hu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qu.prototype.Aa=function(){this.g=!1},Qu.prototype.info=function(){};var Ju={},Xu=null;function ed(){return Xu=Xu||new Tu}function td(e){au.call(this,Ju.Ma,e)}function nd(e){const t=ed();Su(t,new td(t,e))}function rd(e,t){au.call(this,Ju.STAT_EVENT,e),this.stat=t}function id(e){const t=ed();Su(t,new rd(t,e))}function od(e,t){au.call(this,Ju.Na,e),this.size=t}function ad(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return pl.setTimeout((function(){e()}),t)}Ju.Ma="serverreachability",El(td,au),Ju.STAT_EVENT="statevent",El(rd,au),Ju.Na="timingevent",El(od,au);var sd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},cd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ld(){}function ud(e){return e.h||(e.h=e.i())}function dd(){}ld.prototype.h=null;var hd,fd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pd(){au.call(this,"d")}function gd(){au.call(this,"c")}function md(){}function vd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Hu(this),this.P=bd,e=Zl?125:void 0,this.W=new zu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yd}function yd(){this.i=null,this.g="",this.h=!1}El(pd,au),El(gd,au),El(md,ld),md.prototype.g=function(){return new XMLHttpRequest},md.prototype.i=function(){return{}},hd=new md;var bd=45e3,wd={},Cd={};function Id(e,t,n){e.K=1,e.v=Wd(Ud(t)),e.s=n,e.U=!0,_d(e,null)}function _d(e,t){e.F=Date.now(),kd(e),e.A=Ud(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ih(n.h,"t",r),e.C=0,n=e.l.H,e.h=new yd,e.g=of(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Wu(Il(e.Ia,e,e.g),e.O)),Zu(e.V,e.g,"readystatechange",e.gb),t=e.H?Ul(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),nd(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var l=s[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+l+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ed(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function xd(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Ad(e,n),r==Cd){4==t&&(e.o=4,id(14),i=!1),$u(e.j,e.m,null,"[Incomplete Response]");break}if(r==wd){e.o=4,id(15),$u(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$u(e.j,e.m,r,null),Od(e,r)}Ed(e)&&r!=Cd&&r!=wd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,id(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qh(t),t.L=!0,id(11))):($u(e.j,e.m,n,"[Invalid Chunked Response]"),Nd(e),Pd(e))}function Ad(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Cd:(n=Number(t.substring(n,r)),isNaN(n)?wd:(r+=1)+n>t.length?Cd:(t=t.substr(r,n),e.C=r+n,t))}function kd(e){e.Y=Date.now()+e.P,Td(e,e.P)}function Td(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ad(Il(e.eb,e),t)}function Sd(e){e.B&&(pl.clearTimeout(e.B),e.B=null)}function Pd(e){0==e.l.G||e.I||Xh(e.l,e)}function Nd(e){Sd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Bu(e.W),Yu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Od(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||uh(n.i,e)))if(n.I=e.N,!e.J&&uh(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Jh(n),zh(n)}Yh(n),id(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ad(Il(n.ab,n),6e3));if(1>=lh(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else tf(n,11)}else if((e.J||n.g==e)&&Jh(n),!Nl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=l[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;!o.g&&(Dl(e,"spdy")||Dl(e,"quic")||Dl(e,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(dh(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Gd(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var a=e;if((r=n).oa=rf(r,r.H?r.la:null,r.W),a.J){hh(r.i,a);var s=a,c=r.K;c&&s.setTimeout(c),s.B&&(Sd(s),kd(s)),r.g=a}else Zh(r);0<n.l.length&&Gh(n)}else"stop"!=l[0]&&"close"!=l[0]||tf(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?tf(n,7):Vh(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}nd(4)}catch(e){}}function Rd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ml(e)||"string"==typeof e)Tl(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ml(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(ml(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Dd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ld(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Md(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Md(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Md(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ul=vd.prototype).setTimeout=function(e){this.P=e},ul.gb=function(e){e=e.target;const t=this.L;t&&3==Lh(e)?t.l():this.Ia(e)},ul.Ia=function(e){try{if(e==this.g)e:{const u=Lh(this.g);var t=this.g.Da();const d=this.g.ba();if(!(3>u)&&(3!=u||Zl||this.g&&(this.h.h||this.g.ga()||Mh(this.g)))){this.I||4!=u||7==t||nd(8==t||0>=d?3:2),Sd(this);var n=this.g.ba();this.N=n;t:if(Ed(this)){var r=Mh(this.g);e="";var i=r.length,o=4==Lh(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Nd(this),Pd(this);var a="";break t}this.h.i=new pl.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nl(s)){var l=s;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,id(12),Nd(this),Pd(this);break e}$u(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Od(this,n)}this.U?(xd(this,u,a),Zl&&this.i&&3==u&&(Zu(this.V,this.W,"tick",this.fb),this.W.start())):($u(this.j,this.m,a,null),Od(this,a)),4==u&&Nd(this),this.i&&!this.I&&(4==u?Xh(this.l,this):(this.i=!1,kd(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,id(12)):(this.o=0,id(13)),Nd(this),Pd(this)}}}catch(e){}},ul.fb=function(){if(this.g){var e=Lh(this.g),t=this.g.ga();this.C<t.length&&(Sd(this),xd(this,e,t),this.i&&4!=e&&kd(this))}},ul.cancel=function(){this.I=!0,Nd(this)},ul.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(nd(3),id(17)),Nd(this),this.o=2,Pd(this)):Td(this,this.Y-e)},(ul=Dd.prototype).R=function(){Ld(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ul.T=function(){return Ld(this),this.g.concat()},ul.get=function(e,t){return Md(this.h,e)?this.h[e]:t},ul.set=function(e,t){Md(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ul.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var jd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Fd){this.g=void 0!==t?t:e.g,Vd(this,e.j),this.s=e.s,zd(this,e.i),Bd(this,e.m),this.l=e.l,t=e.h;var n=new eh;n.i=t.i,t.g&&(n.g=new Dd(t.g),n.h=t.h),qd(this,n),this.o=e.o}else e&&(n=String(e).match(jd))?(this.g=!!t,Vd(this,n[1]||"",!0),this.s=Hd(n[2]||""),zd(this,n[3]||"",!0),Bd(this,n[4]),this.l=Hd(n[5]||"",!0),qd(this,n[6]||"",!0),this.o=Hd(n[7]||"")):(this.g=!!t,this.h=new eh(null,this.g))}function Ud(e){return new Fd(e)}function Vd(e,t,n){e.j=n?Hd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zd(e,t,n){e.i=n?Hd(t,!0):t}function Bd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qd(e,t,n){t instanceof eh?(e.h=t,function(e,t){t&&!e.j&&(th(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nh(this,t),ih(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Kd(t,Jd)),e.h=new eh(t,e.g))}function Gd(e,t,n){e.h.set(t,n)}function Wd(e){return Gd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kd(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Zd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kd(t,Yd,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kd(t,Yd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kd(n,"/"==n.charAt(0)?$d:Qd,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kd(n,Xd)),e.join("")};var Yd=/[#\/\?@]/g,Qd=/[#\?:]/g,$d=/[#\?]/g,Jd=/[#\?@]/g,Xd=/#/g;function eh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function th(e){e.g||(e.g=new Dd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function nh(e,t){th(e),t=oh(e,t),Md(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Md((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ld(e)))}function rh(e,t){return th(e),t=oh(e,t),Md(e.g.h,t)}function ih(e,t,n){nh(e,t),0<n.length&&(e.i=null,e.g.set(oh(e,t),Pl(n)),e.h+=n.length)}function oh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ah(e){this.l=e||sh,e=pl.PerformanceNavigationTiming?0<(e=pl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(pl.g&&pl.g.Ea&&pl.g.Ea()&&pl.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ul=eh.prototype).add=function(e,t){th(this),this.i=null,e=oh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ul.forEach=function(e,t){th(this),this.g.forEach((function(n,r){Tl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ul.T=function(){th(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ul.R=function(e){th(this);var t=[];if("string"==typeof e)rh(this,e)&&(t=Sl(t,this.g.get(oh(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Sl(t,e[n])}return t},ul.set=function(e,t){return th(this),this.i=null,rh(this,e=oh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ul.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ul.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var sh=10;function ch(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lh(e){return e.h?1:e.g?e.g.size:0}function uh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dh(e,t){e.g?e.g.add(t):e.h=t}function hh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Pl(e.i)}function ph(){}function gh(){this.g=new ph}function mh(e,t,n){const r=n||"";try{Rd(e,(function(e,n){let i=e;vl(e)&&(i=Nu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function vh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function yh(e){this.l=e.$b||null,this.j=e.ib||!1}function bh(e,t){Tu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ah.prototype.cancel=function(){if(this.i=fh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},ph.prototype.stringify=function(e){return pl.JSON.stringify(e,void 0)},ph.prototype.parse=function(e){return pl.JSON.parse(e,void 0)},El(yh,ld),yh.prototype.g=function(){return new bh(this.l,this.j)},yh.prototype.i=function(e){return function(){return e}}({}),El(bh,Tu);var wh=0;function Ch(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ih(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_h(e)}function _h(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ul=bh.prototype).open=function(e,t){if(this.readyState!=wh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_h(this)},ul.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||pl).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ul.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ih(this)),this.readyState=wh},ul.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_h(this)),this.g&&(this.readyState=3,_h(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==pl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ch(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ul.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ih(this):_h(this),3==this.readyState&&Ch(this)}},ul.Ua=function(e){this.g&&(this.response=this.responseText=e,Ih(this))},ul.Ta=function(e){this.g&&(this.response=e,Ih(this))},ul.ha=function(){this.g&&Ih(this)},ul.setRequestHeader=function(e,t){this.v.append(e,t)},ul.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ul.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(bh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Eh=pl.JSON.parse;function xh(e){Tu.call(this),this.headers=new Dd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ah,this.K=this.L=!1}El(xh,Tu);var Ah="",kh=/^https?$/i,Th=["POST","PUT"];function Sh(e){return"content-type"==e.toLowerCase()}function Ph(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nh(e),Rh(e)}function Nh(e){e.D||(e.D=!0,Su(e,"complete"),Su(e,"error"))}function Oh(e){if(e.h&&void 0!==fl&&(!e.C[1]||4!=Lh(e)||2!=e.ba()))if(e.v&&4==Lh(e))qu(e.Fa,0,e);else if(Su(e,"readystatechange"),4==Lh(e)){e.h=!1;try{const s=e.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.H).match(jd)[1]||null;if(!i&&pl.self&&pl.self.location){var o=pl.self.location.protocol;i=o.substr(0,o.length-1)}r=!kh.test(i?i.toLowerCase():"")}n=r}if(n)Su(e,"complete"),Su(e,"success");else{e.m=6;try{var a=2<Lh(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.ba()+"]",Nh(e)}}finally{Rh(e)}}}function Rh(e,t){if(e.g){Dh(e);const n=e.g,r=e.C[0]?gl:null;e.g=null,e.C=null,t||Su(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Dh(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(pl.clearTimeout(e.A),e.A=null)}function Lh(e){return e.g?e.g.readyState:0}function Mh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ah:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function jh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Fl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Gd(e,t,n))}function Fh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Uh(e){this.za=0,this.l=[],this.h=new Qu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fh("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fh("baseRetryDelayMs",5e3,e),this.$a=Fh("retryDelaySeedMs",1e4,e),this.Ya=Fh("forwardChannelMaxRetries",2,e),this.ra=Fh("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ah(e&&e.concurrentRequestLimit),this.Ca=new gh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Vh(e){if(Bh(e),3==e.G){var t=e.V++,n=Ud(e.F);Gd(n,"SID",e.J),Gd(n,"RID",t),Gd(n,"TYPE","terminate"),Hh(e,n),(t=new vd(e,e.h,t,void 0)).K=2,t.v=Wd(Ud(n)),n=!1,pl.navigator&&pl.navigator.sendBeacon&&(n=pl.navigator.sendBeacon(t.v.toString(),"")),!n&&pl.Image&&((new Image).src=t.v,n=!0),n||(t.g=of(t.l,null),t.g.ea(t.v)),t.F=Date.now(),kd(t)}nf(e)}function zh(e){e.g&&(Qh(e),e.g.cancel(),e.g=null)}function Bh(e){zh(e),e.u&&(pl.clearTimeout(e.u),e.u=null),Jh(e),e.i.cancel(),e.m&&("number"==typeof e.m&&pl.clearTimeout(e.m),e.m=null)}function qh(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Gh(e)}function Gh(e){ch(e.i)||e.m||(e.m=!0,ju(e.Ha,e),e.C=0)}function Wh(e,t){var n;n=t?t.m:e.V++;const r=Ud(e.F);Gd(r,"SID",e.J),Gd(r,"RID",n),Gd(r,"AID",e.U),Hh(e,r),e.o&&e.s&&jh(r,e.o,e.s),n=new vd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Kh(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),dh(e.i,n),Id(n,r,t)}function Hh(e,t){e.j&&Rd({},(function(e,n){Gd(t,n,e)}))}function Kh(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Il(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const s=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),o=!1;else try{mh(s,e,"req"+n+"_")}catch(e){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Zh(e){e.g||e.u||(e.Y=1,ju(e.Ga,e),e.A=0)}function Yh(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=ad(Il(e.Ga,e),ef(e,e.A)),e.A++,0))}function Qh(e){null!=e.B&&(pl.clearTimeout(e.B),e.B=null)}function $h(e){e.g=new vd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ud(e.oa);Gd(t,"RID","rpc"),Gd(t,"SID",e.J),Gd(t,"CI",e.N?"0":"1"),Gd(t,"AID",e.U),Hh(e,t),Gd(t,"TYPE","xmlhttp"),e.o&&e.s&&jh(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Wd(Ud(t)),n.s=null,n.U=!0,_d(n,e)}function Jh(e){null!=e.v&&(pl.clearTimeout(e.v),e.v=null)}function Xh(e,t){var n=null;if(e.g==t){Jh(e),Qh(e),e.g=null;var r=2}else{if(!uh(e.i,t))return;n=t.D,hh(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Su(r=ed(),new od(r,n,t,i)),Gh(e)}else Zh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(lh(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=ad(Il(e.Ha,e,t),ef(e,e.C)),e.C++,0)))}(e,t)||2==r&&Yh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:tf(e,5);break;case 4:tf(e,10);break;case 3:tf(e,6);break;default:tf(e,2)}}function ef(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function tf(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Il(e.jb,e);n||(n=new Fd("//www.google.com/images/cleardot.gif"),pl.location&&"http"==pl.location.protocol||Vd(n,"https"),Wd(n)),function(e,t){const n=new Qu;if(pl.Image){const r=new Image;r.onload=_l(vh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_l(vh,n,r,"TestLoadImage: error",!1,t),r.onabort=_l(vh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_l(vh,n,r,"TestLoadImage: timeout",!1,t),pl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else id(2);e.G=0,e.j&&e.j.va(t),nf(e),Bh(e)}function nf(e){e.G=0,e.I=-1,e.j&&(0==fh(e.i).length&&0==e.l.length||(e.i.i.length=0,Pl(e.l),e.l.length=0),e.j.ua())}function rf(e,t,n){let r=function(e){return e instanceof Fd?Ud(e):new Fd(e,void 0)}(n);if(""!=r.i)t&&zd(r,t+"."+r.i),Bd(r,r.m);else{const e=pl.location;r=function(e,t,n,r){var i=new Fd(null,void 0);return e&&Vd(i,e),t&&zd(i,t),n&&Bd(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Fl(e.aa,(function(e,t){Gd(r,t,e)})),t=e.D,n=e.sa,t&&n&&Gd(r,t,n),Gd(r,"VER",e.ma),Hh(e,r),r}function of(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new xh(new yh({ib:!0})):new xh(e.qa)).L=e.H,t}function af(){}function sf(){if(Hl&&!(10<=Number(iu)))throw Error("Environmental error: no available transport.")}function cf(e,t){Tu.call(this),this.g=new Uh(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new df(this)}function lf(e){pd.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uf(){gd.call(this),this.status=1}function df(e){this.g=e}(ul=xh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hd.g(),this.C=this.u?ud(this.u):ud(hd),this.g.onreadystatechange=Il(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Ph(this,e)}e=n||"";const i=new Dd(this.headers);r&&Rd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Sh;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=pl.FormData&&e instanceof pl.FormData,!(0<=kl(Th,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dh(this),0<this.B&&((this.K=function(e){return Hl&&ru()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Il(this.pa,this)):this.A=qu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Ph(this,e)}},ul.pa=function(){void 0!==fl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Su(this,"timeout"),this.abort(8))},ul.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Su(this,"complete"),Su(this,"abort"),Rh(this))},ul.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rh(this,!0)),xh.Z.M.call(this)},ul.Fa=function(){this.s||(this.F||this.v||this.l?Oh(this):this.cb())},ul.cb=function(){Oh(this)},ul.ba=function(){try{return 2<Lh(this)?this.g.status:-1}catch(e){return-1}},ul.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},ul.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Eh(t)}},ul.Da=function(){return this.m},ul.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ul=Uh.prototype).ma=8,ul.G=1,ul.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},ul.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new vd(this,this.h,e,void 0);let o=this.s;if(this.P&&(o?(o=Ul(o),zl(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kh(this,i,t),Gd(n=Ud(this.F),"RID",e),Gd(n,"CVER",22),this.D&&Gd(n,"X-HTTP-Session-Id",this.D),Hh(this,n),this.o&&o&&jh(n,this.o,o),dh(this.i,i),this.Ra&&Gd(n,"TYPE","init"),this.ja?(Gd(n,"$req",t),Gd(n,"SID","null"),i.$=!0,Id(i,n,null)):Id(i,n,t),this.G=2}}else 3==this.G&&(e?Wh(this,e):0==this.l.length||ch(this.i)||Wh(this))},ul.Ga=function(){if(this.u=null,$h(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ad(Il(this.bb,this),e)}},ul.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,id(10),zh(this),$h(this))},ul.ab=function(){null!=this.v&&(this.v=null,zh(this),Yh(this),id(19))},ul.jb=function(e){e?(this.h.info("Successfully pinged google.com"),id(2)):(this.h.info("Failed to ping google.com"),id(1))},(ul=af.prototype).xa=function(){},ul.wa=function(){},ul.va=function(){},ul.ua=function(){},ul.Oa=function(){},sf.prototype.g=function(e,t){return new cf(e,t)},El(cf,Tu),cf.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ju(Il(e.hb,e,t))),id(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=rf(e,null,e.W),Gh(e)},cf.prototype.close=function(){Vh(this.g)},cf.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,qh(this.g,t)}else this.v?((t={}).__data__=Nu(e),qh(this.g,t)):qh(this.g,e)},cf.prototype.M=function(){this.g.j=null,delete this.j,Vh(this.g),delete this.g,cf.Z.M.call(this)},El(lf,pd),El(uf,gd),El(df,af),df.prototype.xa=function(){Su(this.g,"a")},df.prototype.wa=function(e){Su(this.g,new lf(e))},df.prototype.va=function(e){Su(this.g,new uf(e))},df.prototype.ua=function(){Su(this.g,"b")},sf.prototype.createWebChannel=sf.prototype.g,cf.prototype.send=cf.prototype.u,cf.prototype.open=cf.prototype.m,cf.prototype.close=cf.prototype.close,sd.NO_ERROR=0,sd.TIMEOUT=8,sd.HTTP_ERROR=6,cd.COMPLETE="complete",dd.EventType=fd,fd.OPEN="a",fd.CLOSE="b",fd.ERROR="c",fd.MESSAGE="d",Tu.prototype.listen=Tu.prototype.N,xh.prototype.listenOnce=xh.prototype.O,xh.prototype.getLastError=xh.prototype.La,xh.prototype.getLastErrorCode=xh.prototype.Da,xh.prototype.getStatus=xh.prototype.ba,xh.prototype.getResponseJson=xh.prototype.Qa,xh.prototype.getResponseText=xh.prototype.ga,xh.prototype.send=xh.prototype.ea;var hf=hl.createWebChannelTransport=function(){return new sf},ff=hl.getStatEventTarget=function(){return ed()},pf=hl.ErrorCode=sd,gf=hl.EventType=cd,mf=hl.Event=Ju,vf=hl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yf=hl.FetchXmlHttpFactory=yh,bf=hl.WebChannel=dd,wf=hl.XhrIo=xh;const Cf="@firebase/firestore";class If{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}If.UNAUTHENTICATED=new If(null),If.GOOGLE_CREDENTIALS=new If("google-credentials-uid"),If.FIRST_PARTY=new If("first-party-uid"),If.MOCK_USER=new If("mock-user");let _f="9.6.2";const Ef=new Ur("@firebase/firestore");function xf(){return Ef.logLevel}function Af(e,...t){if(Ef.logLevel<=Dr.DEBUG){const n=t.map(Sf);Ef.debug(`Firestore (${_f}): ${e}`,...n)}}function kf(e,...t){if(Ef.logLevel<=Dr.ERROR){const n=t.map(Sf);Ef.error(`Firestore (${_f}): ${e}`,...n)}}function Tf(e,...t){if(Ef.logLevel<=Dr.WARN){const n=t.map(Sf);Ef.warn(`Firestore (${_f}): ${e}`,...n)}}function Sf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Pf(e="Unexpected state"){const t=`FIRESTORE (${_f}) INTERNAL ASSERTION FAILED: `+e;throw kf(t),new Error(t)}function Nf(e,t){e||Pf()}function Of(e,t){return e}const Rf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Df extends sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lf{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Mf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(If.UNAUTHENTICATED)))}shutdown(){}}class Ff{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Uf{constructor(e){this.t=e,this.currentUser=If.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Lf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Lf,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Af("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Af("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Lf)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Af("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Nf("string"==typeof t.accessToken),new Mf(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nf(null===e||"string"==typeof e),new If(e)}}class Vf{constructor(e,t,n){this.type="FirstParty",this.user=If.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class zf{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Vf(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(If.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qf{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&Af("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{Af("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):Af("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Nf("string"==typeof e.token),new Bf(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Gf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Wf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}Gf.I=-1;class Hf{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Wf(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Kf(e,t){return e<t?-1:e>t?1:0}function Zf(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Yf(e){return e+"\0"}class Qf{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Df(Rf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Df(Rf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Df(Rf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Df(Rf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qf.fromMillis(Date.now())}static fromDate(e){return Qf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Qf(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kf(this.nanoseconds,e.nanoseconds):Kf(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $f{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $f(e)}static min(){return new $f(new Qf(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Jf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ep(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class tp{constructor(e,t,n){void 0===t?t=0:t>e.length&&Pf(),void 0===n?n=e.length-t:n>e.length-t&&Pf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===tp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tp?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class np extends tp{construct(e,t,n){return new np(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Df(Rf.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new np(t)}static emptyPath(){return new np([])}}const rp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ip extends tp{construct(e,t,n){return new ip(e,t,n)}static isValidIdentifier(e){return rp.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ip.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ip(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Df(Rf.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Df(Rf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Df(Rf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Df(Rf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ip(t)}static emptyPath(){return new ip([])}}class op{constructor(e){this.fields=e,e.sort(ip.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zf(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ap{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ap(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ap(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kf(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ap.EMPTY_BYTE_STRING=new ap("");const sp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cp(e){if(Nf(!!e),"string"==typeof e){let t=0;const n=sp.exec(e);if(Nf(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:lp(e.seconds),nanos:lp(e.nanos)}}function lp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function up(e){return"string"==typeof e?ap.fromBase64String(e):ap.fromUint8Array(e)}function dp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hp(e){const t=e.mapValue.fields.__previous_value__;return dp(t)?hp(t):t}function fp(e){const t=cp(e.mapValue.fields.__local_write_time__.timestampValue);return new Qf(t.seconds,t.nanos)}function pp(e){return null==e}function gp(e){return 0===e&&1/e==-1/0}function mp(e){return"number"==typeof e&&Number.isInteger(e)&&!gp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class vp{constructor(e){this.path=e}static fromPath(e){return new vp(np.fromString(e))}static fromName(e){return new vp(np.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===np.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return np.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vp(new np(e.slice()))}}function yp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dp(e)?4:10:Pf()}function bp(e,t){if(e===t)return!0;const n=yp(e);if(n!==yp(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fp(e).isEqual(fp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=cp(e.timestampValue),r=cp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return up(e.bytesValue).isEqual(up(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return lp(e.geoPointValue.latitude)===lp(t.geoPointValue.latitude)&&lp(e.geoPointValue.longitude)===lp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lp(e.integerValue)===lp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=lp(e.doubleValue),r=lp(t.doubleValue);return n===r?gp(n)===gp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zf(e.arrayValue.values||[],t.arrayValue.values||[],bp);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Jf(n)!==Jf(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!bp(n[e],r[e])))return!1;return!0}(e,t);default:return Pf()}}function wp(e,t){return void 0!==(e.values||[]).find((e=>bp(e,t)))}function Cp(e,t){if(e===t)return 0;const n=yp(e),r=yp(t);if(n!==r)return Kf(n,r);switch(n){case 0:return 0;case 1:return Kf(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=lp(e.integerValue||e.doubleValue),r=lp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ip(e.timestampValue,t.timestampValue);case 4:return Ip(fp(e),fp(t));case 5:return Kf(e.stringValue,t.stringValue);case 6:return function(e,t){const n=up(e),r=up(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Kf(n[e],r[e]);if(0!==t)return t}return Kf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Kf(lp(e.latitude),lp(t.latitude));return 0!==n?n:Kf(lp(e.longitude),lp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Cp(n[e],r[e]);if(t)return t}return Kf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=Kf(r[e],o[e]);if(0!==t)return t;const a=Cp(n[r[e]],i[o[e]]);if(0!==a)return a}return Kf(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Pf()}}function Ip(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kf(e,t);const n=cp(e),r=cp(t),i=Kf(n.seconds,r.seconds);return 0!==i?i:Kf(n.nanos,r.nanos)}function _p(e){return Ep(e)}function Ep(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=cp(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?up(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,vp.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ep(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ep(e.fields[i])}`;return n+"}"}(e.mapValue):Pf();var t,n}function xp(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ap(e){return!!e&&"integerValue"in e}function kp(e){return!!e&&"arrayValue"in e}function Tp(e){return!!e&&"nullValue"in e}function Sp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pp(e){return!!e&&"mapValue"in e}function Np(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xf(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Np(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Np(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Op{constructor(e){this.value=e}static empty(){return new Op({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Pp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Np(t)}setAll(e){let t=ip.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Np(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Pp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bp(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Pp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Xf(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Op(Np(this.value))}}function Rp(e){const t=[];return Xf(e.fields,((e,n)=>{const r=new ip([e]);if(Pp(n)){const e=Rp(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new op(t)}class Dp{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Dp(e,0,$f.min(),Op.empty(),0)}static newFoundDocument(e,t,n){return new Dp(e,1,t,n,0)}static newNoDocument(e,t){return new Dp(e,2,t,Op.empty(),0)}static newUnknownDocument(e,t){return new Dp(e,3,t,Op.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Op.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Op.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dp(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lp{constructor(e,t=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.R=null}}function Mp(e,t=null,n=[],r=[],i=null,o=null,a=null){return new Lp(e,t,n,r,i,o,a)}function jp(e){const t=Of(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+_p(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),pp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Qp(t.startAt)),t.endAt&&(e+="|ub:",e+=Qp(t.endAt)),t.R=e}return t.R}function Fp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Jp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!bp(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eg(e.startAt,t.startAt)&&eg(e.endAt,t.endAt)}function Up(e){return vp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Vp extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new zp(e,t,n):"array-contains"===t?new Wp(e,n):"in"===t?new Hp(e,n):"not-in"===t?new Kp(e,n):"array-contains-any"===t?new Zp(e,n):new Vp(e,t,n)}static P(e,t,n){return"in"===t?new Bp(e,n):new qp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Cp(t,this.value)):null!==t&&yp(this.value)===yp(t)&&this.v(Cp(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pf()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class zp extends Vp{constructor(e,t,n){super(e,t,n),this.key=vp.fromName(n.referenceValue)}matches(e){const t=vp.comparator(e.key,this.key);return this.v(t)}}class Bp extends Vp{constructor(e,t){super(e,"in",t),this.keys=Gp(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class qp extends Vp{constructor(e,t){super(e,"not-in",t),this.keys=Gp(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Gp(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>vp.fromName(e.referenceValue)))}class Wp extends Vp{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kp(t)&&wp(t.arrayValue,this.value)}}class Hp extends Vp{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wp(this.value.arrayValue,t)}}class Kp extends Vp{constructor(e,t){super(e,"not-in",t)}matches(e){if(wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wp(this.value.arrayValue,t)}}class Zp extends Vp{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>wp(this.value.arrayValue,e)))}}class Yp{constructor(e,t){this.position=e,this.before=t}}function Qp(e){return`${e.before?"b":"a"}:${e.position.map((e=>_p(e))).join(",")}`}class $p{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Xp(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?vp.comparator(vp.fromName(a.referenceValue),n.key):Cp(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function eg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bp(e.position[n],t.position[n]))return!1;return!0}class tg{constructor(e,t=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}}function ng(e,t,n,r,i,o,a,s){return new tg(e,t,n,r,i,o,a,s)}function rg(e){return new tg(e)}function ig(e){return!pp(e.limit)&&"F"===e.limitType}function og(e){return!pp(e.limit)&&"L"===e.limitType}function ag(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sg(e){for(const t of e.filters)if(t.V())return t.field;return null}function cg(e){return null!==e.collectionGroup}function lg(e){const t=Of(e);if(null===t.S){t.S=[];const e=sg(t),n=ag(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new $p(e)),t.S.push(new $p(ip.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new $p(ip.keyField(),e))}}}return t.S}function ug(e){const t=Of(e);if(!t.D)if("F"===t.limitType)t.D=Mp(t.path,t.collectionGroup,lg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of lg(t)){const t="desc"===n.dir?"asc":"desc";e.push(new $p(n.field,t))}const n=t.endAt?new Yp(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Yp(t.startAt.position,!t.startAt.before):null;t.D=Mp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function dg(e,t,n){return new tg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hg(e,t){return Fp(ug(e),ug(t))&&e.limitType===t.limitType}function fg(e){return`${jp(ug(e))}|lt:${e.limitType}`}function pg(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${_p(t.value)}`;var t})).join(", ")}]`),pp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+Qp(e.startAt)),e.endAt&&(t+=", endAt: "+Qp(e.endAt)),`Target(${t})`}(ug(e))}; limitType=${e.limitType})`}function gg(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):vp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Xp(e.startAt,lg(e),t)||e.endAt&&Xp(e.endAt,lg(e),t))}(e,t)}function mg(e){return(t,n)=>{let r=!1;for(const i of lg(e)){const e=vg(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function vg(e,t,n){const r=e.field.isKeyField()?vp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cp(r,i):Pf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pf()}}function yg(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gp(t)?"-0":t}}function bg(e){return{integerValue:""+e}}function wg(e,t){return mp(t)?bg(t):yg(e,t)}class Cg{constructor(){this._=void 0}}function Ig(e,t,n){return e instanceof xg?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ag?kg(e,t):e instanceof Tg?Sg(e,t):function(e,t){const n=Eg(e,t),r=Ng(n)+Ng(e.N);return Ap(n)&&Ap(e.N)?bg(r):yg(e.k,r)}(e,t)}function _g(e,t,n){return e instanceof Ag?kg(e,t):e instanceof Tg?Sg(e,t):n}function Eg(e,t){return e instanceof Pg?Ap(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class xg extends Cg{}class Ag extends Cg{constructor(e){super(),this.elements=e}}function kg(e,t){const n=Og(t);for(const t of e.elements)n.some((e=>bp(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Tg extends Cg{constructor(e){super(),this.elements=e}}function Sg(e,t){let n=Og(t);for(const t of e.elements)n=n.filter((e=>!bp(e,t)));return{arrayValue:{values:n}}}class Pg extends Cg{constructor(e,t){super(),this.k=e,this.N=t}}function Ng(e){return lp(e.integerValue||e.doubleValue)}function Og(e){return kp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Rg{constructor(e,t){this.field=e,this.transform=t}}class Dg{constructor(e,t){this.version=e,this.transformResults=t}}class Lg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lg}static exists(e){return new Lg(void 0,e)}static updateTime(e){return new Lg(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class jg{}function Fg(e,t,n){e instanceof qg?function(e,t,n){const r=e.value.clone(),i=Hg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gg?function(e,t,n){if(!Mg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Hg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ug(e,t,n){e instanceof qg?function(e,t,n){if(!Mg(e.precondition,t))return;const r=e.value.clone(),i=Kg(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Bg(t),r).setHasLocalMutations()}(e,t,n):e instanceof Gg?function(e,t,n){if(!Mg(e.precondition,t))return;const r=Kg(e.fieldTransforms,n,t),i=t.data;i.setAll(Wg(e)),i.setAll(r),t.convertToFoundDocument(Bg(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Mg(e.precondition,t)&&t.convertToNoDocument($f.min())}(e,t)}function Vg(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Eg(r.transform,e||null);null!=i&&(null==n&&(n=Op.empty()),n.set(r.field,i))}return n||null}function zg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zf(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ag&&t instanceof Ag||e instanceof Tg&&t instanceof Tg?Zf(e.elements,t.elements,bp):e instanceof Pg&&t instanceof Pg?bp(e.N,t.N):e instanceof xg&&t instanceof xg}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Bg(e){return e.isFoundDocument()?e.version:$f.min()}class qg extends jg{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Gg extends jg{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Wg(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Hg(e,t,n){const r=new Map;Nf(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,_g(a,s,n[i]))}return r}function Kg(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Ig(e,o,t))}return r}class Zg extends jg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Yg extends jg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Qg{constructor(e){this.count=e}}var $g,Jg;function Xg(e){switch(e){default:return Pf();case Rf.CANCELLED:case Rf.UNKNOWN:case Rf.DEADLINE_EXCEEDED:case Rf.RESOURCE_EXHAUSTED:case Rf.INTERNAL:case Rf.UNAVAILABLE:case Rf.UNAUTHENTICATED:return!1;case Rf.INVALID_ARGUMENT:case Rf.NOT_FOUND:case Rf.ALREADY_EXISTS:case Rf.PERMISSION_DENIED:case Rf.FAILED_PRECONDITION:case Rf.ABORTED:case Rf.OUT_OF_RANGE:case Rf.UNIMPLEMENTED:case Rf.DATA_LOSS:return!0}}function em(e){if(void 0===e)return kf("GRPC error has no .code"),Rf.UNKNOWN;switch(e){case $g.OK:return Rf.OK;case $g.CANCELLED:return Rf.CANCELLED;case $g.UNKNOWN:return Rf.UNKNOWN;case $g.DEADLINE_EXCEEDED:return Rf.DEADLINE_EXCEEDED;case $g.RESOURCE_EXHAUSTED:return Rf.RESOURCE_EXHAUSTED;case $g.INTERNAL:return Rf.INTERNAL;case $g.UNAVAILABLE:return Rf.UNAVAILABLE;case $g.UNAUTHENTICATED:return Rf.UNAUTHENTICATED;case $g.INVALID_ARGUMENT:return Rf.INVALID_ARGUMENT;case $g.NOT_FOUND:return Rf.NOT_FOUND;case $g.ALREADY_EXISTS:return Rf.ALREADY_EXISTS;case $g.PERMISSION_DENIED:return Rf.PERMISSION_DENIED;case $g.FAILED_PRECONDITION:return Rf.FAILED_PRECONDITION;case $g.ABORTED:return Rf.ABORTED;case $g.OUT_OF_RANGE:return Rf.OUT_OF_RANGE;case $g.UNIMPLEMENTED:return Rf.UNIMPLEMENTED;case $g.DATA_LOSS:return Rf.DATA_LOSS;default:return Pf()}}(Jg=$g||($g={}))[Jg.OK=0]="OK",Jg[Jg.CANCELLED=1]="CANCELLED",Jg[Jg.UNKNOWN=2]="UNKNOWN",Jg[Jg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jg[Jg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jg[Jg.NOT_FOUND=5]="NOT_FOUND",Jg[Jg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jg[Jg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jg[Jg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jg[Jg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jg[Jg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jg[Jg.ABORTED=10]="ABORTED",Jg[Jg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jg[Jg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jg[Jg.INTERNAL=13]="INTERNAL",Jg[Jg.UNAVAILABLE=14]="UNAVAILABLE",Jg[Jg.DATA_LOSS=15]="DATA_LOSS";class tm{constructor(e,t){this.comparator=e,this.root=t||rm.EMPTY}insert(e,t){return new tm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rm.BLACK,null,null))}remove(e){return new tm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nm(this.root,e,this.comparator,!1)}getReverseIterator(){return new nm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nm(this.root,e,this.comparator,!0)}}class nm{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rm{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rm.RED,this.left=null!=r?r:rm.EMPTY,this.right=null!=i?i:rm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rm.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pf();if(this.right.isRed())throw Pf();const e=this.left.check();if(e!==this.right.check())throw Pf();return e+(this.isRed()?0:1)}}rm.EMPTY=null,rm.RED=!0,rm.BLACK=!1,rm.EMPTY=new class{constructor(){this.size=0}get key(){throw Pf()}get value(){throw Pf()}get color(){throw Pf()}get left(){throw Pf()}get right(){throw Pf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class im{constructor(e){this.comparator=e,this.data=new tm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new om(this.data.getIterator())}getIteratorFrom(e){return new om(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof im))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new im(this.comparator);return t.data=e,t}}class om{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const am=new tm(vp.comparator);function sm(){return am}const cm=new tm(vp.comparator);function lm(){return cm}const um=new tm(vp.comparator);function dm(){return um}const hm=new im(vp.comparator);function fm(...e){let t=hm;for(const n of e)t=t.add(n);return t}const pm=new im(Kf);function gm(){return pm}class mm{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,vm.createSynthesizedTargetChangeForCurrentChange(e,t)),new mm($f.min(),n,gm(),sm(),fm())}}class vm{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new vm(ap.EMPTY_BYTE_STRING,t,fm(),fm(),fm())}}class ym{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.O=r}}class bm{constructor(e,t){this.targetId=e,this.F=t}}class wm{constructor(e,t,n=ap.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Cm{constructor(){this.M=0,this.L=Em(),this.B=ap.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=fm(),t=fm(),n=fm();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pf()}})),new vm(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=Em()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class Im{constructor(e){this.et=e,this.nt=new Map,this.st=sm(),this.it=_m(),this.rt=new im(Kf)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.at(t,e.O):this.ct(t,e.key,e.O);for(const t of e.removedTargetIds)this.ct(t,e.key,e.O)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:Pf()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.F.count,r=this.wt(t);if(r){const e=r.target;if(Up(e))if(0===n){const n=new vp(e.path);this.ct(t,n,Dp.newNoDocument(n,$f.min()))}else Nf(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Up(i.target)){const t=new vp(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.ct(r,t,Dp.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}}));let n=fm();this.it.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new mm(e,t,this.rt,this.st,n);return this.st=sm(),this.it=_m(),this.rt=new im(Kf),r}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new Cm,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new im(Kf),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Af("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new Cm),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function _m(){return new tm(vp.comparator)}function Em(){return new tm(vp.comparator)}const xm={asc:"ASCENDING",desc:"DESCENDING"},Am={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class km{constructor(e,t){this.databaseId=e,this.C=t}}function Tm(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sm(e,t){return e.C?t.toBase64():t.toUint8Array()}function Pm(e,t){return Tm(e,t.toTimestamp())}function Nm(e){return Nf(!!e),$f.fromTimestamp(function(e){const t=cp(e);return new Qf(t.seconds,t.nanos)}(e))}function Om(e,t){return function(e){return new np(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Rm(e){const t=np.fromString(e);return Nf(rv(t)),t}function Dm(e,t){return Om(e.databaseId,t.path)}function Lm(e,t){const n=Rm(t);if(n.get(1)!==e.databaseId.projectId)throw new Df(Rf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Df(Rf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new vp(Um(n))}function Mm(e,t){return Om(e.databaseId,t)}function jm(e){const t=Rm(e);return 4===t.length?np.emptyPath():Um(t)}function Fm(e){return new np(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Um(e){return Nf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Vm(e,t,n){return{name:Dm(e,t),fields:n.value.mapValue.fields}}function zm(e,t,n){const r=Lm(e,t.name),i=Nm(t.updateTime),o=new Op({mapValue:{fields:t.fields}}),a=Dp.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Bm(e,t){let n;if(t instanceof qg)n={update:Vm(e,t.key,t.value)};else if(t instanceof Zg)n={delete:Dm(e,t.key)};else if(t instanceof Gg)n={update:Vm(e,t.key,t.data),updateMask:nv(t.fieldMask)};else{if(!(t instanceof Yg))return Pf();n={verify:Dm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof xg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ag)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Pg)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Pf()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Pm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pf()}(e,t.precondition)),n}function qm(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Lg.updateTime(Nm(e.updateTime)):void 0!==e.exists?Lg.exists(e.exists):Lg.none()}(t.currentDocument):Lg.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Nf("REQUEST_TIME"===t.setToServerValue),n=new xg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ag(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Tg(e)}else"increment"in t?n=new Pg(e,t.increment):Pf();const r=ip.fromServerFormat(t.fieldPath);return new Rg(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Lm(e,t.update.name),o=new Op({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new op(t.map((e=>ip.fromServerFormat(e))))}(t.updateMask);return new Gg(i,o,e,n,r)}return new qg(i,o,n,r)}if(t.delete){const r=Lm(e,t.delete);return new Zg(r,n)}if(t.verify){const r=Lm(e,t.verify);return new Yg(r,n)}return Pf()}function Gm(e,t){return{documents:[Mm(e,t.path)]}}function Wm(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Mm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Sp(e.value))return{unaryFilter:{field:Jm(e.field),op:"IS_NAN"}};if(Tp(e.value))return{unaryFilter:{field:Jm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sp(e.value))return{unaryFilter:{field:Jm(e.field),op:"IS_NOT_NAN"}};if(Tp(e.value))return{unaryFilter:{field:Jm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jm(e.field),op:$m(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Jm(e.field),direction:Qm(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=function(e,t){return e.C||pp(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Zm(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Zm(t.endAt)),n}function Hm(e){let t=jm(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Nf(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=Km(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new $p(Xm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,pp(t)?null:t}(n.limit));let c=null;n.startAt&&(c=Ym(n.startAt));let l=null;return n.endAt&&(l=Ym(n.endAt)),ng(t,i,a,o,s,"F",c,l)}function Km(e){return e?void 0!==e.unaryFilter?[tv(e)]:void 0!==e.fieldFilter?[ev(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Km(e))).reduce(((e,t)=>e.concat(t))):Pf():[]}function Zm(e){return{before:e.before,values:e.position}}function Ym(e){const t=!!e.before,n=e.values||[];return new Yp(n,t)}function Qm(e){return xm[e]}function $m(e){return Am[e]}function Jm(e){return{fieldPath:e.canonicalString()}}function Xm(e){return ip.fromServerFormat(e.fieldPath)}function ev(e){return Vp.create(Xm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pf()}}(e.fieldFilter.op),e.fieldFilter.value)}function tv(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xm(e.unaryFilter.field);return Vp.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xm(e.unaryFilter.field);return Vp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xm(e.unaryFilter.field);return Vp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xm(e.unaryFilter.field);return Vp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pf()}}function nv(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function rv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function iv(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=av(t)),t=ov(e.get(n),t);return av(t)}function ov(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function av(e){return e+""}function sv(e){const t=e.length;if(Nf(t>=2),2===t)return Nf(""===e.charAt(0)&&""===e.charAt(1)),np.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&Pf(),e.charAt(t+1)){case"":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:Pf()}o=t+2}return new np(r)}class cv{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class lv{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}lv.store="owner",lv.key="owner";class uv{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}uv.store="mutationQueues",uv.keyPath="userId";class dv{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}dv.store="mutations",dv.keyPath="batchId",dv.userMutationsIndex="userMutationsIndex",dv.userMutationsKeyPath=["userId","batchId"];class hv{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,iv(t)]}static key(e,t,n){return[e,iv(t),n]}}hv.store="documentMutations",hv.PLACEHOLDER=new hv;class fv{constructor(e,t){this.path=e,this.readTime=t}}class pv{constructor(e,t){this.path=e,this.version=t}}class gv{constructor(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}gv.store="remoteDocuments",gv.readTimeIndex="readTimeIndex",gv.readTimeIndexPath="readTime",gv.collectionReadTimeIndex="collectionReadTimeIndex",gv.collectionReadTimeIndexPath=["parentPath","readTime"];class mv{constructor(e){this.byteSize=e}}mv.store="remoteDocumentGlobal",mv.key="remoteDocumentGlobalKey";class vv{constructor(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}}vv.store="targets",vv.keyPath="targetId",vv.queryTargetsIndexName="queryTargetsIndex",vv.queryTargetsKeyPath=["canonicalId","targetId"];class yv{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}yv.store="targetDocuments",yv.keyPath=["targetId","path"],yv.documentTargetsIndex="documentTargetsIndex",yv.documentTargetsKeyPath=["path","targetId"];class bv{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}bv.key="targetGlobalKey",bv.store="targetGlobal";class wv{constructor(e,t){this.collectionId=e,this.parent=t}}wv.store="collectionParents",wv.keyPath=["collectionId","parent"];class Cv{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Cv.store="clientMetadata",Cv.keyPath="clientId";class Iv{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Iv.store="bundles",Iv.keyPath="bundleId";class _v{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}_v.store="namedQueries",_v.keyPath="name";const Ev=[uv.store,dv.store,hv.store,gv.store,vv.store,lv.store,bv.store,yv.store,Cv.store,mv.store,wv.store,Iv.store,_v.store],xv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Av{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class kv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new kv(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof kv?t:kv.resolve(t)}catch(e){return kv.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):kv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):kv.reject(t)}static resolve(e){return new kv(((t,n)=>{t(e)}))}static reject(e){return new kv(((t,n)=>{n(e)}))}static waitFor(e){return new kv(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=kv.resolve(!1);for(const n of e)t=t.next((e=>e?kv.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class Tv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Lf,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Nv(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=Mv(t.target.error);this.It.reject(new Nv(e,n))}}static open(e,t,n,r){try{return new Tv(t,e.transaction(r,n))}catch(e){throw new Nv(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Af("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Rv(t)}}class Sv{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===Sv.bt(er())&&kf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Af("SimpleDb","Removing database:",e),Dv(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!ar())return!1;if(Sv.vt())return!0;const e=er(),t=Sv.bt(e),n=0<t&&t<10,r=Sv.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(Af("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Nv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Df(Rf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Df(Rf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Nv(e,r))},r.onupgradeneeded=e=>{Af("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,r.transaction,e.oldVersion,this.version).next((()=>{Af("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.Ct(e);const t=Tv.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).catch((e=>(t.abort(e),kv.reject(e)))).toPromise();return o.catch((()=>{})),await t.At,o}catch(e){const t="FirebaseError"!==e.name&&o<3;if(Af("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Pv{constructor(e){this.$t=e,this.Ot=!1,this.Ft=null}get isDone(){return this.Ot}get Mt(){return this.Ft}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Ft=e}delete(){return Dv(this.$t.delete())}}class Nv extends Df{constructor(e,t){super(Rf.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ov(e){return"IndexedDbTransactionError"===e.name}class Rv{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Af("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Af("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Dv(n)}add(e){return Af("SimpleDb","ADD",this.store.name,e,e),Dv(this.store.add(e))}get(e){return Dv(this.store.get(e)).next((t=>(void 0===t&&(t=null),Af("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Af("SimpleDb","DELETE",this.store.name,e),Dv(this.store.delete(e))}count(){return Af("SimpleDb","COUNT",this.store.name),Dv(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,((e,t)=>{r.push(t)})).next((()=>r))}qt(e,t){Af("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,((e,t,n)=>n.delete()))}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new kv(((n,r)=>{t.onerror=e=>{const t=Mv(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Ut(e,t){const n=[];return new kv(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Pv(i),a=t(i.primaryKey,i.value,o);if(a instanceof kv){const e=a.catch((e=>(o.done(),kv.reject(e))));n.push(e)}o.isDone?r():null===o.Mt?i.continue():i.continue(o.Mt)}})).next((()=>kv.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dv(e){return new kv(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Mv(e.target.error);n(t)}}))}let Lv=!1;function Mv(e){const t=Sv.bt(er());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Df("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lv||(Lv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class jv extends Av{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Fv(e,t){const n=Of(e);return Sv.Dt(n.Wt,t)}class Uv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Fg(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ug(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ug(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument($f.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),fm())}isEqual(e){return this.batchId===e.batchId&&Zf(this.mutations,e.mutations,((e,t)=>zg(e,t)))&&Zf(this.baseMutations,e.baseMutations,((e,t)=>zg(e,t)))}}class Vv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Nf(e.mutations.length===n.length);let r=dm();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Vv(e,t,n,r)}}class zv{constructor(e,t,n,r,i=$f.min(),o=$f.min(),a=ap.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new zv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new zv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Bv{constructor(e){this.Gt=e}}function qv(e,t){if(t.document)return zm(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=vp.fromSegments(t.noDocument.path),n=Zv(t.noDocument.readTime),r=Dp.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=vp.fromSegments(t.unknownDocument.path),n=Zv(t.unknownDocument.version);return Dp.newUnknownDocument(e,n)}return Pf()}function Gv(e,t,n){const r=Wv(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Dm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tm(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new gv(null,null,n,o,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Kv(t.version),o=t.hasCommittedMutations;return new gv(null,new fv(e,n),null,o,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Kv(t.version);return new gv(new pv(e,n),null,null,!0,r,i)}return Pf()}function Wv(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Hv(e){const t=new Qf(e[0],e[1]);return $f.fromTimestamp(t)}function Kv(e){const t=e.toTimestamp();return new cv(t.seconds,t.nanoseconds)}function Zv(e){const t=new Qf(e.seconds,e.nanoseconds);return $f.fromTimestamp(t)}function Yv(e,t){const n=(t.baseMutations||[]).map((t=>qm(e.Gt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>qm(e.Gt,t))),i=Qf.fromMillis(t.localWriteTimeMs);return new Uv(t.batchId,i,n,r)}function Qv(e){const t=Zv(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Zv(e.lastLimboFreeSnapshotVersion):$f.min();let r;var i;return void 0!==e.query.documents?(Nf(1===(i=e.query).documents.length),r=ug(rg(jm(i.documents[0])))):r=function(e){return ug(Hm(e))}(e.query),new zv(r,e.targetId,0,e.lastListenSequenceNumber,t,n,ap.fromBase64String(e.resumeToken))}function $v(e,t){const n=Kv(t.snapshotVersion),r=Kv(t.lastLimboFreeSnapshotVersion);let i;i=Up(t.target)?Gm(e.Gt,t.target):Wm(e.Gt,t.target);const o=t.resumeToken.toBase64();return new vv(t.targetId,jp(t.target),n,o,t.sequenceNumber,r,i)}function Jv(e){const t=Hm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dg(t,t.limit,"L"):t}class Xv{getBundleMetadata(e,t){return ey(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Zv(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return ey(e).put({bundleId:(n=t).id,createTime:Kv(Nm(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return ty(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:Jv(t.bundledQuery),readTime:Zv(t.readTime)};var t}))}saveNamedQuery(e,t){return ty(e).put(function(e){return{name:e.name,readTime:Kv(Nm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function ey(e){return Fv(e,Iv.store)}function ty(e){return Fv(e,_v.store)}class ny{constructor(){this.zt=new ry}addToCollectionParentIndex(e,t){return this.zt.add(t),kv.resolve()}getCollectionParents(e,t){return kv.resolve(this.zt.getEntries(t))}}class ry{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new im(np.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new im(np.comparator)).toArray()}}class iy{constructor(){this.Ht=new ry}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ht.add(t)}));const i={collectionId:n,parent:iv(r)};return oy(e).put(i)}return kv.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Yf(t),""],!1,!0);return oy(e).Bt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(sv(r.parent))}return n}))}}function oy(e){return Fv(e,wv.store)}const ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sy{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new sy(e,sy.DEFAULT_COLLECTION_PERCENTILE,sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cy(e,t,n){const r=e.store(dv.store),i=e.store(hv.store),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const c=r.jt({range:a},((e,t,n)=>(s++,n.delete())));o.push(c.next((()=>{Nf(1===s)})));const l=[];for(const e of n.mutations){const r=hv.key(t,e.key.path,n.batchId);o.push(i.delete(r)),l.push(e.key)}return kv.waitFor(o).next((()=>l))}function ly(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Pf();t=e.noDocument}return JSON.stringify(t).length}sy.DEFAULT_COLLECTION_PERCENTILE=10,sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sy.DEFAULT=new sy(41943040,sy.DEFAULT_COLLECTION_PERCENTILE,sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sy.DISABLED=new sy(-1,0,0);class uy{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){Nf(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new uy(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hy(e).jt({index:dv.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=fy(e),o=hy(e);return o.add({}).next((a=>{Nf("number"==typeof a);const s=new Uv(a,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Bm(e.Gt,t))),i=n.mutations.map((t=>Bm(e.Gt,t)));return new dv(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,s),l=[];let u=new im(((e,t)=>Kf(e.canonicalString(),t.canonicalString())));for(const e of r){const t=hv.key(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,hv.PLACEHOLDER))}return u.forEach((t=>{l.push(this.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Yt[a]=s.keys()})),kv.waitFor(l).next((()=>s))}))}lookupMutationBatch(e,t){return hy(e).get(t).next((e=>e?(Nf(e.userId===this.userId),Yv(this.k,e)):null))}Zt(e,t){return this.Yt[t]?kv.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return hy(e).jt({index:dv.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(Nf(t.batchId>=n),i=Yv(this.k,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return hy(e).jt({index:dv.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hy(e).Bt(dv.userMutationsIndex,t).next((e=>e.map((e=>Yv(this.k,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=hv.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return fy(e).jt({range:r},((n,r,o)=>{const[a,s,c]=n,l=sv(s);if(a===this.userId&&t.path.isEqual(l))return hy(e).get(c).next((e=>{if(!e)throw Pf();Nf(e.userId===this.userId),i.push(Yv(this.k,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new im(Kf);const r=[];return t.forEach((t=>{const i=hv.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=fy(e).jt({range:o},((e,r,i)=>{const[o,a,s]=e,c=sv(a);o===this.userId&&t.path.isEqual(c)?n=n.add(s):i.done()}));r.push(a)})),kv.waitFor(r).next((()=>this.te(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=hv.prefixForPath(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new im(Kf);return fy(e).jt({range:o},((e,t,i)=>{const[o,s,c]=e,l=sv(s);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(a=a.add(c)):i.done()})).next((()=>this.te(e,a)))}te(e,t){const n=[],r=[];return t.forEach((t=>{r.push(hy(e).get(t).next((e=>{if(null===e)throw Pf();Nf(e.userId===this.userId),n.push(Yv(this.k,e))})))})),kv.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return cy(e.Wt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ee(t.batchId)})),kv.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return kv.resolve();const n=IDBKeyRange.lowerBound(hv.prefixForUser(this.userId)),r=[];return fy(e).jt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=sv(e[1]);r.push(t)}else n.done()})).next((()=>{Nf(0===r.length)}))}))}containsKey(e,t){return dy(e,this.userId,t)}ne(e){return py(e).get(this.userId).next((e=>e||new uv(this.userId,-1,"")))}}function dy(e,t,n){const r=hv.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return fy(e).jt({range:o,Kt:!0},((e,n,r)=>{const[o,s,c]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function hy(e){return Fv(e,dv.store)}function fy(e){return Fv(e,hv.store)}function py(e){return Fv(e,uv.store)}class gy{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new gy(0)}static re(){return new gy(-1)}}class my{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next((t=>{const n=new gy(t.highestTargetId);return t.highestTargetId=n.next(),this.ae(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.oe(e).next((e=>$f.fromTimestamp(new Qf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.oe(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.oe(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ae(e,r))))}addTargetData(e,t){return this.ce(e,t).next((()=>this.oe(e).next((n=>(n.targetCount+=1,this.ue(t,n),this.ae(e,n))))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>vy(e).delete(t.targetId))).next((()=>this.oe(e))).next((t=>(Nf(t.targetCount>0),t.targetCount-=1,this.ae(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return vy(e).jt(((o,a)=>{const s=Qv(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>kv.waitFor(i))).next((()=>r))}forEachTarget(e,t){return vy(e).jt(((e,n)=>{const r=Qv(n);t(r)}))}oe(e){return yy(e).get(bv.key).next((e=>(Nf(null!==e),e)))}ae(e,t){return yy(e).put(bv.key,t)}ce(e,t){return vy(e).put($v(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next((e=>e.targetCount))}getTargetData(e,t){const n=jp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return vy(e).jt({range:r,index:vv.queryTargetsIndexName},((e,n,r)=>{const o=Qv(n);Fp(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=by(e);return t.forEach((t=>{const o=iv(t.path);r.push(i.put(new yv(n,o))),r.push(this.referenceDelegate.addReference(e,n,t))})),kv.waitFor(r)}removeMatchingKeys(e,t,n){const r=by(e);return kv.forEach(t,(t=>{const i=iv(t.path);return kv.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=by(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=by(e);let i=fm();return r.jt({range:n,Kt:!0},((e,t,n)=>{const r=sv(e[1]),o=new vp(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=iv(t.path),r=IDBKeyRange.bound([n],[Yf(n)],!1,!0);let i=0;return by(e).jt({index:yv.documentTargetsIndex,Kt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return vy(e).get(t).next((e=>e?Qv(e):null))}}function vy(e){return Fv(e,vv.store)}function yy(e){return Fv(e,bv.store)}function by(e){return Fv(e,yv.store)}async function wy(e){if(e.code!==Rf.FAILED_PRECONDITION||e.message!==xv)throw e;Af("LocalStore","Unexpectedly lost primary lease")}function Cy([e,t],[n,r]){const i=Kf(e,n);return 0===i?Kf(t,r):i}class Iy{constructor(e){this.he=e,this.buffer=new im(Cy),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Cy(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _y{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;Af("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Ov(e)?Af("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await wy(e)}await this.me(e)}))}}class Ey{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return kv.resolve(Gf.I);const n=new Iy(t);return this.ge.forEachTarget(e,(e=>n.de(e.sequenceNumber))).next((()=>this.ge.pe(e,(e=>n.de(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Af("LruGarbageCollector","Garbage collection skipped; disabled"),kv.resolve(ay)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Af("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ay):this.Te(e,t)))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,o,a,s,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Af("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),xf()<=Dr.DEBUG&&Af("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-l}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-s)+"ms\n"+`Total Duration: ${c-l}ms`),kv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class xy{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Ey(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.pe(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,((e,n)=>t(n)))}addReference(e,t,n){return Ay(e,n)}removeReference(e,t,n){return Ay(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ay(e,t)}Ae(e,t){return function(e,t){let n=!1;return py(e).Qt((r=>dy(e,r,t).next((e=>(e&&(n=!0),kv.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,((o,a)=>{if(a<=t){const t=this.Ae(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o),by(e).delete([0,iv(o.path)]))))}));r.push(t)}})).next((()=>kv.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ay(e,t)}Ie(e,t){const n=by(e);let r,i=Gf.I;return n.jt({index:yv.documentTargetsIndex},(([e,n],{path:o,sequenceNumber:a})=>{0===e?(i!==Gf.I&&t(new vp(sv(r)),i),i=a,r=o):i=Gf.I})).next((()=>{i!==Gf.I&&t(new vp(sv(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ay(e,t){return by(e).put(function(e,t){return new yv(0,iv(e.path),t)}(t,e.currentSequenceNumber))}class ky{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){Xf(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return ep(this.inner)}}class Ty{constructor(){this.changes=new ky((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:$f.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Dp.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?kv.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sy{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return Oy(e).put(Ry(t),n)}removeEntry(e,t){const n=Oy(e),r=Ry(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Re(e,n))))}getEntry(e,t){return Oy(e).get(Ry(t)).next((e=>this.be(t,e)))}Pe(e,t){return Oy(e).get(Ry(t)).next((e=>({document:this.be(t,e),size:ly(e)})))}getEntries(e,t){let n=sm();return this.ve(e,t,((e,t)=>{const r=this.be(e,t);n=n.insert(e,r)})).next((()=>n))}Ve(e,t){let n=sm(),r=new tm(vp.comparator);return this.ve(e,t,((e,t)=>{const i=this.be(e,t);n=n.insert(e,i),r=r.insert(e,ly(t))})).next((()=>({documents:n,Se:r})))}ve(e,t,n){if(t.isEmpty())return kv.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let o=i.getNext();return Oy(e).jt({range:r},((e,t,r)=>{const a=vp.fromSegments(e);for(;o&&vp.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Lt(o.path.toArray()):r.done()})).next((()=>{for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=sm();const i=t.path.length+1,o={};if(n.isEqual($f.min())){const e=t.path.toArray();o.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Wv(n);o.range=IDBKeyRange.lowerBound([e,r],!0),o.index=gv.collectionReadTimeIndex}return Oy(e).jt(o,((e,n,o)=>{if(e.length!==i)return;const a=qv(this.k,n);t.path.isPrefixOf(a.key.path)?gg(t,a)&&(r=r.insert(a.key,a)):o.done()})).next((()=>r))}newChangeBuffer(e){return new Py(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Ny(e).get(mv.key).next((e=>(Nf(!!e),e)))}Re(e,t){return Ny(e).put(mv.key,t)}be(e,t){if(t){const e=qv(this.k,t);if(!e.isNoDocument()||!e.version.isEqual($f.min()))return e}return Dp.newInvalidDocument(e)}}class Py extends Ty{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new ky((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new im(((e,t)=>Kf(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.Ce.get(i);if(o.document.isValidDocument()){const s=Gv(this.De.k,o.document,this.getReadTime(i));r=r.add(i.path.popLast());const c=ly(s);n+=c-a,t.push(this.De.addEntry(e,i,s))}else if(n-=a,this.trackRemovals){const n=Gv(this.De.k,Dp.newNoDocument(i,$f.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))})),r.forEach((n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))})),t.push(this.De.updateMetadata(e,n)),kv.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next((e=>(this.Ce.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.De.Ve(e,t).next((({documents:e,Se:t})=>(t.forEach(((e,t)=>{this.Ce.set(e,t)})),e)))}}function Ny(e){return Fv(e,mv.store)}function Oy(e){return Fv(e,gv.store)}function Ry(e){return e.path.toArray()}class Dy{constructor(e){this.k=e}Nt(e,t,n,r){Nf(n<r&&n>=0&&r<=11);const i=new Tv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(lv.store)}(e),function(e){e.createObjectStore(uv.store,{keyPath:uv.keyPath}),e.createObjectStore(dv.store,{keyPath:dv.keyPath,autoIncrement:!0}).createIndex(dv.userMutationsIndex,dv.userMutationsKeyPath,{unique:!0}),e.createObjectStore(hv.store)}(e),Ly(e),function(e){e.createObjectStore(gv.store)}(e));let o=kv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(yv.store),e.deleteObjectStore(vv.store),e.deleteObjectStore(bv.store)}(e),Ly(e)),o=o.next((()=>function(e){const t=e.store(bv.store),n=new bv(0,0,$f.min().toTimestamp(),0);return t.put(bv.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store(dv.store).Bt().next((n=>{e.deleteObjectStore(dv.store),e.createObjectStore(dv.store,{keyPath:dv.keyPath,autoIncrement:!0}).createIndex(dv.userMutationsIndex,dv.userMutationsKeyPath,{unique:!0});const r=t.store(dv.store),i=n.map((e=>r.put(e)));return kv.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore(Cv.store,{keyPath:Cv.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ne(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore(mv.store)}(e),this.ke(i))))),n<7&&r>=7&&(o=o.next((()=>this.xe(i)))),n<8&&r>=8&&(o=o.next((()=>this.$e(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(gv.store);t.createIndex(gv.readTimeIndex,gv.readTimeIndexPath,{unique:!1}),t.createIndex(gv.collectionReadTimeIndex,gv.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((()=>this.Oe(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore(Iv.store,{keyPath:Iv.keyPath})}(e),function(e){e.createObjectStore(_v.store,{keyPath:_v.keyPath})}(e)}))),o}ke(e){let t=0;return e.store(gv.store).jt(((e,n)=>{t+=ly(n)})).next((()=>{const n=new mv(t);return e.store(mv.store).put(mv.key,n)}))}Ne(e){const t=e.store(uv.store),n=e.store(dv.store);return t.Bt().next((t=>kv.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(dv.userMutationsIndex,r).next((n=>kv.forEach(n,(n=>{Nf(n.userId===t.userId);const r=Yv(this.k,n);return cy(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(yv.store),n=e.store(gv.store);return e.store(bv.store).get(bv.key).next((e=>{const r=[];return n.jt(((n,i)=>{const o=new np(n),a=function(e){return[0,iv(e)]}(o);r.push(t.get(a).next((n=>n?kv.resolve():(n=>t.put(new yv(0,iv(n),e.highestListenSequenceNumber)))(o))))})).next((()=>kv.waitFor(r)))}))}$e(e,t){e.createObjectStore(wv.store,{keyPath:wv.keyPath});const n=t.store(wv.store),r=new ry,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:iv(r)})}};return t.store(gv.store).jt({Kt:!0},((e,t)=>{const n=new np(e);return i(n.popLast())})).next((()=>t.store(hv.store).jt({Kt:!0},(([e,t,n],r)=>{const o=sv(t);return i(o.popLast())}))))}Oe(e){const t=e.store(vv.store);return t.jt(((e,n)=>{const r=Qv(n),i=$v(this.k,r);return t.put(i)}))}}function Ly(e){e.createObjectStore(yv.store,{keyPath:yv.keyPath}).createIndex(yv.documentTargetsIndex,yv.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(vv.store,{keyPath:vv.keyPath}).createIndex(vv.queryTargetsIndexName,vv.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(bv.store)}const My="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jy{constructor(e,t,n,r,i,o,a,s,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Fe=i,this.window=o,this.document=a,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!jy.Pt())throw new Df(Rf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xy(this,r),this.Ge=t+"main",this.k=new Bv(s),this.ze=new Sv(this.Ge,11,new Dy(this.k)),this.He=new my(this.referenceDelegate,this.k),this.Jt=new iy,this.Je=function(e,t){return new Sy(e,t)}(this.k,this.Jt),this.Ye=new Xv,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&kf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Df(Rf.FAILED_PRECONDITION,My);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.He.getHighestSequenceNumber(e)))})).then((e=>{this.Be=new Gf(e,this.Me)})).then((()=>{this.Ue=!0})).catch((e=>(this.ze&&this.ze.close(),Promise.reject(e))))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget((async()=>{this.started&&await this.Ze()})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Uy(e).put(new Cv(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.rn(e).next((e=>{e||(this.isPrimary=!1,this.Fe.enqueueRetryable((()=>this.We(!1))))}))})).next((()=>this.on(e))).next((t=>this.isPrimary&&!t?this.an(e).next((()=>!1)):!!t&&this.cn(e).next((()=>!0)))))).catch((e=>{if(Ov(e))return Af("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Af("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Fe.enqueueRetryable((()=>this.We(e))),this.isPrimary=e}))}rn(e){return Fy(e).get(lv.key).next((e=>kv.resolve(this.un(e))))}hn(e){return Uy(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Fv(e,Cv.store);return t.Bt().next((e=>{const n=this.dn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return kv.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ze().then((()=>this.ln())).then((()=>this.nn()))))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?kv.resolve(!0):Fy(e).get(lv.key).next((t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Df(Rf.FAILED_PRECONDITION,My);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uy(e).Bt().next((e=>void 0===this.dn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Af("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[lv.store,Cv.store],(e=>{const t=new jv(e,Gf.I);return this.an(t).next((()=>this.hn(t)))})),this.ze.close(),this.pn()}dn(e,t){return e.filter((e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId)))}Tn(){return this.runTransaction("getActiveClients","readonly",(e=>Uy(e).Bt().next((e=>this.dn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ue}getMutationQueue(e){return uy.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){Af("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.ze.runTransaction(e,r,Ev,(r=>(i=new jv(r,this.Be?this.Be.next():Gf.I),"readwrite-primary"===t?this.rn(i).next((e=>!!e||this.on(i))).next((t=>{if(!t)throw kf(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fe.enqueueRetryable((()=>this.We(!1))),new Df(Rf.FAILED_PRECONDITION,xv);return n(i)})).next((e=>this.cn(i).next((()=>e)))):this.En(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}En(e){return Fy(e).get(lv.key).next((e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Df(Rf.FAILED_PRECONDITION,My)}))}cn(e){const t=new lv(this.clientId,this.allowTabSynchronization,Date.now());return Fy(e).put(lv.key,t)}static Pt(){return Sv.Pt()}an(e){const t=Fy(e);return t.get(lv.key).next((e=>this.un(e)?(Af("IndexedDbPersistence","Releasing primary lease."),t.delete(lv.key)):kv.resolve()))}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(kf(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Fe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze())))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),!nr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Fe.enterRestrictedMode(!0),this.Fe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Af("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return kf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){kf("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fy(e){return Fv(e,lv.store)}function Uy(e){return Fv(e,Cv.store)}function Vy(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class zy{constructor(e,t){this.progress=e,this.In=t}}class By{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.bn(e,t,n)))}bn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}Pn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.Pn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return vp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):cg(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new vp(t)).next((e=>{let t=lm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const r=t.collectionGroup;let i=lm();return this.Jt.getCollectionParents(e,r).next((o=>kv.forEach(o,(o=>{const a=function(e,t){return new tg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.Cn(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Nn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Dp.newInvalidDocument(n),r=r.insert(n,i)),Ug(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{gg(t,n)||(r=r.remove(e))})),r)))}Nn(e,t,n){let r=fm();for(const e of t)for(const t of e.mutations)t instanceof Gg&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class qy{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=fm(),r=fm();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new qy(e,t.fromCache,n,r)}}class Gy{On(e){this.Fn=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual($f.min())?this.Mn(e,t):this.Fn.vn(e,r).next((i=>{const o=this.Ln(t,i);return(ig(t)||og(t))&&this.Bn(t.limitType,o,r,n)?this.Mn(e,t):(xf()<=Dr.DEBUG&&Af("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pg(t)),this.Fn.getDocumentsMatchingQuery(e,t,n).next((e=>(o.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new im(mg(e));return t.forEach(((t,r)=>{gg(e,r)&&(n=n.add(r))})),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(e,t){return xf()<=Dr.DEBUG&&Af("QueryEngine","Using full collection scan to execute query:",pg(t)),this.Fn.getDocumentsMatchingQuery(e,t,$f.min())}}class Wy{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new tm(Kf),this.Kn=new ky((e=>jp(e)),Fp),this.jn=$f.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new By(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}function Hy(e,t,n,r){return new Wy(e,t,n,r)}async function Ky(e,t){const n=Of(e);let r=n.An,i=n.Wn;const o=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let o;return n.An.getAllMutationBatches(e).next((a=>(o=a,r=n.persistence.getMutationQueue(t),i=new By(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let a=fm();for(const e of o){n.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return i.vn(e,a).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.An=r,n.Wn=i,n.Un.On(n.Wn),o}function Zy(e){const t=Of(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function Yy(e,t,n,r,i){let o=fm();return n.forEach((e=>o=o.add(e))),t.getEntries(e,o).next((e=>{let o=sm();return n.forEach(((n,a)=>{const s=e.get(n),c=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual($f.min())?(t.removeEntry(n,c),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,c),o=o.insert(n,a)):Af("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Qy(e,t){const n=Of(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}function $y(e,t){const n=Of(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.He.getTargetData(e,t).next((i=>i?(r=i,kv.resolve(r)):n.He.allocateTargetId(e).next((i=>(r=new zv(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}async function Jy(e,t,n){const r=Of(e),i=r.qn.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ov(e))throw e;Af("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function Xy(e,t,n){const r=Of(e);let i=$f.min(),o=fm();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Of(e),i=r.Kn.get(n);return void 0!==i?kv.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,ug(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:$f.min(),n?o:fm()))).next((e=>({documents:e,zn:o})))))}function eb(e,t){const n=Of(e),r=Of(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function tb(e){const t=Of(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=Of(e);let i=sm(),o=Wv(n);const a=Oy(t),s=IDBKeyRange.lowerBound(o,!0);return a.jt({index:gv.readTimeIndex,range:s},((e,t)=>{const n=qv(r.k,t);i=i.insert(n.key,n),o=t.readTime})).next((()=>({In:i,readTime:Hv(o)})))}(t.Qn,e,t.jn))).then((({In:e,readTime:n})=>(t.jn=n,e)))}async function nb(e,t,n=fm()){const r=await $y(e,ug(Jv(t.bundledQuery))),i=Of(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Nm(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ye.saveNamedQuery(e,t);const a=r.withResumeToken(ap.EMPTY_BYTE_STRING,o);return i.qn=i.qn.insert(a.targetId,a),i.He.updateTargetData(e,a).next((()=>i.He.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.He.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ye.saveNamedQuery(e,t)))}))}class rb{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return kv.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Nm(n.createTime)}),kv.resolve()}getNamedQuery(e,t){return kv.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Jv(e.bundledQuery),readTime:Nm(e.readTime)}}(t)),kv.resolve()}}class ib{constructor(){this.ts=new im(ob.es),this.ns=new im(ob.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new ob(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new ob(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new vp(new np([])),n=new ob(t,e),r=new ob(t,e+1),i=[];return this.ns.forEachInRange([n,r],(e=>{this.os(e),i.push(e.key)})),i}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new vp(new np([])),n=new ob(t,e),r=new ob(t,e+1);let i=fm();return this.ns.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ob(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ob{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return vp.comparator(e.key,t.key)||Kf(e.fs,t.fs)}static ss(e,t){return Kf(e.fs,t.fs)||vp.comparator(e.key,t.key)}}class ab{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new im(ob.es)}checkEmpty(e){return kv.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const o=new Uv(i,t,n,r);this.An.push(o);for(const t of r)this.ws=this.ws.add(new ob(t.key,i)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return kv.resolve(o)}lookupMutationBatch(e,t){return kv.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return kv.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return kv.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return kv.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ob(t,0),r=new ob(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],(e=>{const t=this._s(e.fs);i.push(t)})),kv.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new im(Kf);return t.forEach((e=>{const t=new ob(e,0),r=new ob(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],(e=>{n=n.add(e.fs)}))})),kv.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;vp.isDocumentKey(i)||(i=i.child(""));const o=new ob(new vp(i),0);let a=new im(Kf);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.fs)),!0)}),o),kv.resolve(this.ys(a))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Nf(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return kv.forEach(t.mutations,(r=>{const i=new ob(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new ob(t,0),r=this.ws.firstAfterOrEqual(n);return kv.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,kv.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class sb{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new tm(vp.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a,readTime:n}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return kv.resolve(n?n.document.mutableCopy():Dp.newInvalidDocument(t))}getEntries(e,t){let n=sm();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Dp.newInvalidDocument(e))})),kv.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=sm();const i=new vp(t.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i,readTime:a}}=o.getNext();if(!t.path.isPrefixOf(e.path))break;a.compareTo(n)<=0||gg(t,i)&&(r=r.insert(i.key,i.mutableCopy()))}return kv.resolve(r)}Es(e,t){return kv.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new cb(this)}getSize(e){return kv.resolve(this.size)}}class cb extends Ty{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)})),kv.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class lb{constructor(e){this.persistence=e,this.Is=new ky((e=>jp(e)),Fp),this.lastRemoteSnapshotVersion=$f.min(),this.highestTargetId=0,this.As=0,this.Rs=new ib,this.targetCount=0,this.bs=gy.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),kv.resolve()}getLastRemoteSnapshotVersion(e){return kv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return kv.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),kv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),kv.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new gy(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,kv.resolve()}updateTargetData(e,t){return this.ce(t),kv.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,kv.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Is.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),kv.waitFor(i).next((()=>r))}getTargetCount(e){return kv.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return kv.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),kv.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),kv.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),kv.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return kv.resolve(n)}containsKey(e,t){return kv.resolve(this.Rs.containsKey(t))}}class ub{constructor(e,t){this.Ps={},this.Be=new Gf(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new lb(this),this.Jt=new ny,this.Je=function(e,t){return new sb(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new Bv(t),this.Ye=new rb(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new ab(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){Af("MemoryPersistence","Starting transaction:",e);const r=new db(this.Be.next());return this.referenceDelegate.Vs(),n(r).next((e=>this.referenceDelegate.Ss(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ds(e,t){return kv.or(Object.values(this.Ps).map((n=>()=>n.containsKey(e,t))))}}class db extends Av{constructor(e){super(),this.currentSequenceNumber=e}}class hb{constructor(e){this.persistence=e,this.Cs=new ib,this.Ns=null}static ks(e){return new hb(e)}get xs(){if(this.Ns)return this.Ns;throw Pf()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),kv.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),kv.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),kv.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kv.forEach(this.xs,(n=>{const r=vp.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return kv.or([()=>kv.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function fb(e,t){return`firestore_clients_${e}_${t}`}function pb(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function gb(e,t){return`firestore_targets_${e}_${t}`}class mb{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Os(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Df(r.error.code,r.error.message))),o?new mb(e,t,r.state,i):(kf("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Fs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vb{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Os(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Df(n.error.code,n.error.message))),i?new vb(e,n.state,r):(kf("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Fs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=gm();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=mp(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new yb(e,i):(kf("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bb{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bb(t.clientId,t.onlineState):(kf("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wb{constructor(){this.activeTargetIds=gm()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Fs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cb{constructor(e,t,n,r,i){this.window=e,this.Fe=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new tm(Kf),this.started=!1,this.js=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=fb(this.persistenceKey,this.Bs),this.Ws=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new wb),this.Gs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Js=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Ys=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Tn();for(const t of e){if(t===this.Bs)continue;const e=this.getItem(fb(this.persistenceKey,t));if(e){const n=yb.Os(t,e);n&&(this.Ks=this.Ks.insert(n.clientId,n))}}this.Xs();const t=this.storage.getItem(this.Js);if(t){const e=this.Zs(t);e&&this.ti(e)}for(const e of this.js)this.qs(e);this.js=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(gb(this.persistenceKey,e));if(n){const r=vb.Os(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gb(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.si(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Af("SharedClientState","READ",e,t),t}setItem(e,t){Af("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Af("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){const t=e;if(t.storageArea===this.storage){if(Af("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Qs)return void kf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Gs.test(t.key)){if(null==t.newValue){const e=this.ci(t.key);return this.ui(e,null)}{const e=this.hi(t.key,t.newValue);if(e)return this.ui(e.clientId,e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.li(t.key,t.newValue);if(e)return this.fi(e)}}else if(this.Hs.test(t.key)){if(null!==t.newValue){const e=this.di(t.key,t.newValue);if(e)return this.wi(e)}}else if(t.key===this.Js){if(null!==t.newValue){const e=this.Zs(t.newValue);if(e)return this.ti(e)}}else if(t.key===this.Ws){const e=function(e){let t=Gf.I;if(null!=e)try{const n=JSON.parse(e);Nf("number"==typeof n),t=n}catch(e){kf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Gf.I&&this.sequenceNumberHandler(e)}else if(t.key===this.Ys)return this.syncEngine._i()}else this.js.push(t)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Fs())}ni(e,t,n){const r=new mb(this.currentUser,e,t,n),i=pb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Fs())}si(e){const t=pb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){const t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}ri(e,t,n){const r=gb(this.persistenceKey,e),i=new vb(e,t,n);this.setItem(r,i.Fs())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ci(e);return yb.Os(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mb.Os(new If(i),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return vb.Os(r,t)}Zs(e){return bb.Os(e)}async fi(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.mi(e.batchId,e.state,e.error);Af("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.yi(o,a).then((()=>{this.Ks=n}))}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=gm();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Ib{constructor(){this.pi=new wb,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new wb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class _b{Ei(e){}shutdown(){}}class Eb{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Af("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Af("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ab{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Fi(e){this.xi(e)}}class kb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const o=this.Ui(e,t);Af("RestConnection","Sending: ",o,n);const a={};return this.qi(a,r,i),this.Ki(e,o,a,n).then((e=>(Af("RestConnection","Received: ",e),e)),(t=>{throw Tf("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",n),t}))}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_f,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=xb[e];return`${this.Mi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise(((i,o)=>{const a=new wf;a.listenOnce(gf.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case pf.NO_ERROR:const t=a.getResponseJson();Af("Connection","XHR received:",JSON.stringify(t)),i(t);break;case pf.TIMEOUT:Af("Connection",'RPC "'+e+'" timed out'),o(new Df(Rf.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const n=a.getStatus();if(Af("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){const e=a.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rf).indexOf(t)>=0?t:Rf.UNKNOWN}(e.status);o(new Df(t,e.message))}else o(new Df(Rf.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Df(Rf.UNAVAILABLE,"Connection failed."));break;default:Pf()}}finally{Af("Connection",'RPC "'+e+'" completed.')}}));const s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))}Qi(e,t,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=hf(),o=ff(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new yf({})),this.qi(a.initMessageHeaders,t,n),tr()||ir()||er().indexOf("Electron/")>=0||or()||er().indexOf("MSAppHost/")>=0||rr()||(a.httpHeadersOverwriteParam="$httpHeaders");const s=r.join("");Af("Connection","Creating WebChannel: "+s,a);const c=i.createWebChannel(s,a);let l=!1,u=!1;const d=new Ab({Vi:e=>{u?Af("Connection","Not sending because WebChannel is closed:",e):(l||(Af("Connection","Opening WebChannel transport."),c.open(),l=!0),Af("Connection","WebChannel sending:",e),c.send(e))},Si:()=>c.close()}),h=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return h(c,bf.EventType.OPEN,(()=>{u||Af("Connection","WebChannel transport opened.")})),h(c,bf.EventType.CLOSE,(()=>{u||(u=!0,Af("Connection","WebChannel transport closed"),d.Oi())})),h(c,bf.EventType.ERROR,(e=>{u||(u=!0,Tf("Connection","WebChannel transport errored:",e),d.Oi(new Df(Rf.UNAVAILABLE,"The operation could not be completed")))})),h(c,bf.EventType.MESSAGE,(e=>{var t;if(!u){const n=e.data[0];Nf(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Af("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=$g[e];if(void 0!==t)return em(t)}(e),n=i.message;void 0===t&&(t=Rf.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,d.Oi(new Df(t,n)),c.close()}else Af("Connection","WebChannel received:",n),d.Fi(n)}})),h(o,mf.STAT_EVENT,(e=>{e.stat===vf.PROXY?Af("Connection","Detected buffering proxy"):e.stat===vf.NOPROXY&&Af("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.$i()}),0),d}}function Tb(){return"undefined"!=typeof window?window:null}function Sb(){return"undefined"!=typeof document?document:null}function Pb(e){return new km(e,!0)}class Nb{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Fe=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&Af("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Fe.enqueueAfterDelay(this.timerId,r,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Ob{constructor(e,t,n,r,i,o,a,s){this.Fe=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Nb(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Fe.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===Rf.RESOURCE_EXHAUSTED?(kf(t.toString()),kf("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===Rf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new Df(Rf.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.cr=this.Fe.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return Af("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Fe.enqueueAndForget((()=>this.rr===e?t():(Af("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rb extends Ob{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.C?(Nf(void 0===t||"string"==typeof t),ap.fromBase64String(t||"")):(Nf(void 0===t||t instanceof Uint8Array),ap.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Rf.UNKNOWN:em(e.code);return new Df(t,e.message||"")}(a);n=new wm(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lm(e,r.document.name),o=Nm(r.document.updateTime),a=new Op({mapValue:{fields:r.document.fields}}),s=Dp.newFoundDocument(i,o,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new ym(c,l,s.key,s)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Lm(e,r.document),o=r.readTime?Nm(r.readTime):$f.min(),a=Dp.newNoDocument(i,o),s=r.removedTargetIds||[];n=new ym([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Lm(e,r.document),o=r.removedTargetIds||[];n=new ym([],o,i,null)}else{if(!("filter"in t))return Pf();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new Qg(r),o=e.targetId;n=new bm(o,i)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return $f.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?$f.min():t.readTime?Nm(t.readTime):$f.min()}(e);return this.listener.br(t,n)}Pr(e){const t={};t.database=Fm(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=Up(r)?{documents:Gm(e,r)}:{query:Wm(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Sm(e,t.resumeToken):t.snapshotVersion.compareTo($f.min())>0&&(n.readTime=Tm(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pf()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Fm(this.k),t.removeTarget=e,this.gr(t)}}class Db extends Ob{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Nf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(Nf(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Nm(e.updateTime):Nm(t);return n.isEqual($f.min())&&(n=Nm(t)),new Dg(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Nm(e.commitTime);return this.listener.Cr(n,t)}return Nf(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Fm(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Bm(this.k,e)))};this.gr(t)}}class Lb extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Or(){if(this.$r)throw new Df(Rf.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.Bi(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Df(Rf.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.ji(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Df(Rf.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class Mb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Fr=0,this.Mr=null,this.Lr=!0}Br(){0===this.Fr&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Fr++,this.Fr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Fr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(kf(t),this.Lr=!1):Af("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class jb{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{Hb(this)&&(Af("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Of(e);t.Gr.add(4),await Ub(t),t.Jr.set("Unknown"),t.Gr.delete(4),await Fb(t)}(this))}))})),this.Jr=new Mb(n,r)}}async function Fb(e){if(Hb(e))for(const t of e.zr)await t(!0)}async function Ub(e){for(const t of e.zr)await t(!1)}function Vb(e,t){const n=Of(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Wb(n)?Gb(n):lw(n).lr()&&Bb(n,t))}function zb(e,t){const n=Of(e),r=lw(n);n.Wr.delete(t),r.lr()&&qb(n,t),0===n.Wr.size&&(r.lr()?r._r():Hb(n)&&n.Jr.set("Unknown"))}function Bb(e,t){e.Yr.X(t.targetId),lw(e).Pr(t)}function qb(e,t){e.Yr.X(t),lw(e).vr(t)}function Gb(e){e.Yr=new Im({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),lw(e).start(),e.Jr.Br()}function Wb(e){return Hb(e)&&!lw(e).hr()&&e.Wr.size>0}function Hb(e){return 0===Of(e).Gr.size}function Kb(e){e.Yr=void 0}async function Zb(e){e.Wr.forEach(((t,n)=>{Bb(e,t)}))}async function Yb(e,t){Kb(e),Wb(e)?(e.Jr.Kr(t),Gb(e)):e.Jr.set("Unknown")}async function Qb(e,t,n){if(e.Jr.set("Online"),t instanceof wm&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}(e,t)}catch(n){Af("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await $b(e,n)}else if(t instanceof ym?e.Yr.ot(t):t instanceof bm?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual($f.min()))try{const t=await Zy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(ap.EMPTY_BYTE_STRING,n.snapshotVersion)),qb(e,t);const r=new zv(n.target,t,1,n.sequenceNumber);Bb(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Af("RemoteStore","Failed to raise snapshot:",t),await $b(e,t)}}async function $b(e,t,n){if(!Ov(t))throw t;e.Gr.add(1),await Ub(e),e.Jr.set("Offline"),n||(n=()=>Zy(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Af("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await Fb(e)}))}function Jb(e,t){return t().catch((n=>$b(e,n,t)))}async function Xb(e){const t=Of(e),n=uw(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;ew(t);)try{const e=await Qy(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,tw(t,e)}catch(e){await $b(t,e)}nw(t)&&rw(t)}function ew(e){return Hb(e)&&e.Qr.length<10}function tw(e,t){e.Qr.push(t);const n=uw(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function nw(e){return Hb(e)&&!uw(e).hr()&&e.Qr.length>0}function rw(e){uw(e).start()}async function iw(e){uw(e).kr()}async function ow(e){const t=uw(e);for(const n of e.Qr)t.Dr(n.mutations)}async function aw(e,t,n){const r=e.Qr.shift(),i=Vv.from(r,t,n);await Jb(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Xb(e)}async function sw(e,t){t&&uw(e).Sr&&await async function(e,t){if(Xg(n=t.code)&&n!==Rf.ABORTED){const n=e.Qr.shift();uw(e).wr(),await Jb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Xb(e)}var n}(e,t),nw(e)&&rw(e)}async function cw(e,t){const n=Of(e);t?(n.Gr.delete(2),await Fb(n)):t||(n.Gr.add(2),await Ub(n),n.Jr.set("Unknown"))}function lw(e){return e.Xr||(e.Xr=function(e,t,n){const r=Of(e);return r.Or(),new Rb(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Zb.bind(null,e),Ni:Yb.bind(null,e),br:Qb.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),Wb(e)?Gb(e):e.Jr.set("Unknown")):(await e.Xr.stop(),Kb(e))}))),e.Xr}function uw(e){return e.Zr||(e.Zr=function(e,t,n){const r=Of(e);return r.Or(),new Db(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:iw.bind(null,e),Ni:sw.bind(null,e),Nr:ow.bind(null,e),Cr:aw.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await Xb(e)):(await e.Zr.stop(),e.Qr.length>0&&(Af("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr}class dw{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Lf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new dw(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Df(Rf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hw(e,t){if(kf("AsyncQueue",`${t}: ${e}`),Ov(e))return new Df(Rf.UNAVAILABLE,`${t}: ${e}`);throw e}class fw{constructor(e){this.comparator=e?(t,n)=>e(t,n)||vp.comparator(t.key,n.key):(e,t)=>vp.comparator(e.key,t.key),this.keyedMap=lm(),this.sortedSet=new tm(this.comparator)}static emptySet(e){return new fw(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fw))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new fw;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class pw{constructor(){this.eo=new tm(vp.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Pf():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gw{constructor(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new gw(e,t,fw.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class mw{constructor(){this.so=void 0,this.listeners=[]}}class vw{constructor(){this.queries=new ky((e=>fg(e)),hg),this.onlineState="Unknown",this.io=new Set}}async function yw(e,t){const n=Of(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new mw),i)try{o.so=await n.onListen(r)}catch(e){const n=hw(e,`Initialization of query '${pg(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.ro(n.onlineState),o.so&&t.oo(o.so)&&Iw(n)}async function bw(e,t){const n=Of(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ww(e,t){const n=Of(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.oo(e)&&(r=!0);i.so=e}}r&&Iw(n)}function Cw(e,t,n){const r=Of(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Iw(e){e.io.forEach((e=>{e.next()}))}class _w{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new gw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=gw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class Ew{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class xw{constructor(e){this.k=e}Hn(e){return Lm(this.k,e)}Jn(e){return e.metadata.exists?zm(this.k,e.document,!1):Dp.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Nm(e)}}class Aw{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=kw(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new xw(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||fm()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Of(e);let o=fm(),a=sm(),s=dm();for(const e of n){const n=t.Hn(e.metadata.name);e.document&&(o=o.add(n)),a=a.insert(n,t.Jn(e)),s=s.insert(n,t.Yn(e.metadata.readTime))}const c=i.Qn.newChangeBuffer({trackRemovals:!0}),l=await $y(i,function(e){return ug(rg(np.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Yy(e,c,a,$f.min(),s).next((t=>(c.apply(e),t))).next((t=>i.He.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.He.addMatchingKeys(e,o,l.targetId))).next((()=>i.Wn.Vn(e,t))).next((()=>t))))))}(this.localStore,new xw(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const e of this.queries)await nb(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new zy(Object.assign({},this.progress),e)}}function kw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Tw{constructor(e){this.key=e}}class Sw{constructor(e){this.key=e}}class Pw{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=fm(),this.mutatedKeys=fm(),this.Ao=mg(e),this.Ro=new fw(this.Ao)}get bo(){return this.To}Po(e,t){const n=t?t.vo:new pw,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s=ig(this.query)&&r.size===this.query.limit?r.last():null,c=og(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=gg(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Vo(l,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Ao(u,s)>0||c&&this.Ao(u,c)<0)&&(a=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(s||c)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),ig(this.query)||og(this.query))for(;o.size>this.query.limit;){const e=ig(this.query)?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:o,vo:n,Bn:a,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pf()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const o=t?this.Do():[],a=0===this.Io.size&&this.current?1:0,s=a!==this.Eo;return this.Eo=a,0!==i.length||s?{snapshot:new gw(this.query,e.Ro,r,i,e.mutatedKeys,0===a,s,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new pw,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=fm(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new Sw(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new Tw(n))})),t}ko(e){this.To=e.zn,this.Io=fm();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return gw.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Nw{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ow{constructor(e){this.key=e,this.$o=!1}}class Rw{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Fo=new ky((e=>fg(e)),hg),this.Mo=new Map,this.Lo=new Set,this.Bo=new tm(vp.comparator),this.Uo=new Map,this.qo=new ib,this.Ko={},this.jo=new Map,this.Qo=gy.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function Dw(e,t){const n=aC(e);let r,i;const o=n.Fo.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.xo();else{const e=await $y(n.localStore,ug(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Lw(n,t,r,"current"===o),n.isPrimaryClient&&Vb(n.remoteStore,e)}return i}async function Lw(e,t,n,r){e.Go=(t,n,r)=>async function(e,t,n,r){let i=t.view.Po(n);i.Bn&&(i=await Xy(e.localStore,t.query,!1).then((({documents:e})=>t.view.Po(e,i))));const o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o);return Hw(e,t.targetId,a.Co),a.snapshot}(e,t,n,r);const i=await Xy(e.localStore,t,!0),o=new Pw(t,i.zn),a=o.Po(i.documents),s=vm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=o.applyChanges(a,e.isPrimaryClient,s);Hw(e,n,c.Co);const l=new Nw(t,n,o);return e.Fo.set(t,l),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),c.snapshot}async function Mw(e,t){const n=Of(e),r=n.Fo.get(t),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter((e=>!hg(e,t)))),void n.Fo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jy(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),zb(n.remoteStore,r.targetId),Gw(n,r.targetId)})).catch(wy)):(Gw(n,r.targetId),await Jy(n.localStore,r.targetId,!0))}async function jw(e,t){const n=Of(e);try{const e=await function(e,t){const n=Of(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];t.targetChanges.forEach(((o,s)=>{const c=i.get(s);if(!c)return;a.push(n.He.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.He.addMatchingKeys(e,o.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?l=l.withResumeToken(ap.EMPTY_BYTE_STRING,$f.min()).withLastLimboFreeSnapshotVersion($f.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&a.push(n.He.updateTargetData(e,l))}));let s=sm();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Yy(e,o,t.documentUpdates,r,void 0).next((e=>{s=e}))),!r.isEqual($f.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return kv.waitFor(a).next((()=>o.apply(e))).next((()=>n.Wn.Vn(e,s))).next((()=>s))})).then((e=>(n.qn=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Uo.get(t);r&&(Nf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?Nf(r.$o):e.removedDocuments.size>0&&(Nf(r.$o),r.$o=!1))})),await Yw(n,e,t)}catch(e){await wy(e)}}function Fw(e,t,n){const r=Of(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fo.forEach(((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Of(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ro(t)&&(r=!0)})),r&&Iw(n)}(r.eventManager,t),e.length&&r.Oo.br(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Uw(e,t,n){const r=Of(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),o=i&&i.key;if(o){let e=new tm(vp.comparator);e=e.insert(o,Dp.newNoDocument(o,$f.min()));const n=fm().add(o),i=new mm($f.min(),new Map,new im(Kf),e,n);await jw(r,i),r.Bo=r.Bo.remove(o),r.Uo.delete(t),Zw(r)}else await Jy(r.localStore,t,!1).then((()=>Gw(r,t,n))).catch(wy)}async function Vw(e,t){const n=Of(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Of(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=kv.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Nf(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((()=>e.An.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(n.localStore,t);qw(n,r,null),Bw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yw(n,e)}catch(e){await wy(e)}}async function zw(e,t,n){const r=Of(e);try{const e=await function(e,t){const n=Of(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.An.lookupMutationBatch(e,t).next((t=>(Nf(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(r.localStore,t);qw(r,t,n),Bw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Yw(r,e)}catch(n){await wy(n)}}function Bw(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function qw(e,t,n){const r=Of(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Gw(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Mo.get(t))e.Fo.delete(r),n&&e.Oo.zo(r,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||Ww(e,t)}))}function Ww(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(zb(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Zw(e))}function Hw(e,t,n){for(const r of n)r instanceof Tw?(e.qo.addReference(r.key,t),Kw(e,r)):r instanceof Sw?(Af("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||Ww(e,r.key)):Pf()}function Kw(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Af("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Zw(e))}function Zw(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new vp(np.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Ow(n)),e.Bo=e.Bo.insert(n,r),Vb(e.remoteStore,new zv(ug(rg(n.path)),r,2,Gf.I))}}async function Yw(e,t,n){const r=Of(e),i=[],o=[],a=[];r.Fo.isEmpty()||(r.Fo.forEach(((e,s)=>{a.push(r.Go(s,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=qy.$n(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Oo.br(i),await async function(e,t){const n=Of(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>kv.forEach(t,(t=>kv.forEach(t.kn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>kv.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ov(e))throw e;Af("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,o))}async function Qw(e,t){const n=Of(e);if(!n.currentUser.isEqual(t)){Af("SyncEngine","User change. New user:",t.toKey());const e=await Ky(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new Df(Rf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Yw(n,e.Gn)}}function $w(e,t){const n=Of(e),r=n.Uo.get(t);if(r&&r.$o)return fm().add(r.key);{let e=fm();const r=n.Mo.get(t);if(!r)return e;for(const t of r){const r=n.Fo.get(t);e=e.unionWith(r.view.bo)}return e}}async function Jw(e,t){const n=Of(e),r=await Xy(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&Hw(n,t.targetId,i.Co),i}async function Xw(e){const t=Of(e);return tb(t.localStore).then((e=>Yw(t,e)))}async function eC(e,t,n,r){const i=Of(e),o=await function(e,t){const n=Of(e),r=Of(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Zt(e,t).next((t=>t?n.Wn.vn(e,t):kv.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Xb(i.remoteStore):"acknowledged"===n||"rejected"===n?(qw(i,t,r||null),Bw(i,t),function(e,t){Of(Of(e).An).ee(t)}(i.localStore,t)):Pf(),await Yw(i,o)):Af("SyncEngine","Cannot apply mutation batch with id: "+t)}async function tC(e,t,n){const r=Of(e),i=[],o=[];for(const e of t){let t;const n=r.Mo.get(e);if(n&&0!==n.length){t=await $y(r.localStore,ug(n[0]));for(const e of n){const t=r.Fo.get(e),n=await Jw(r,t);n.snapshot&&o.push(n.snapshot)}}else{const n=await eb(r.localStore,e);t=await $y(r.localStore,n),await Lw(r,nC(n),e,!1)}i.push(t)}return r.Oo.br(o),i}function nC(e){return ng(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function rC(e){const t=Of(e);return Of(Of(t.localStore).persistence).Tn()}async function iC(e,t,n,r){const i=Of(e);if(i.Wo)Af("SyncEngine","Ignoring unexpected query state notification.");else if(i.Mo.has(t))switch(n){case"current":case"not-current":{const e=await tb(i.localStore),r=mm.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await Yw(i,e,r);break}case"rejected":await Jy(i.localStore,t,!0),Gw(i,t,r);break;default:Pf()}}async function oC(e,t,n){const r=aC(e);if(r.Wo){for(const e of t){if(r.Mo.has(e)){Af("SyncEngine","Adding an already active target "+e);continue}const t=await eb(r.localStore,e),n=await $y(r.localStore,t);await Lw(r,nC(t),n.targetId,!1),Vb(r.remoteStore,n)}for(const e of n)r.Mo.has(e)&&await Jy(r.localStore,e,!1).then((()=>{zb(r.remoteStore,e),Gw(r,e)})).catch(wy)}}function aC(e){const t=Of(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$w.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Uw.bind(null,t),t.Oo.br=ww.bind(null,t.eventManager),t.Oo.zo=Cw.bind(null,t.eventManager),t}function sC(e){const t=Of(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Vw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zw.bind(null,t),t}class cC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=Pb(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return Hy(this.persistence,new Gy,e.initialUser,this.k)}Yo(e){return new ub(hb.ks,this.k)}Jo(e){return new Ib}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lC extends cC{constructor(e,t,n){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Of(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=Oy(e);let n=$f.min();return t.jt({index:gv.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=Hv(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.jn=e}))}(this.localStore),await this.ta.initialize(this,e),await sC(this.ta.syncEngine),await Xb(this.ta.remoteStore),await this.persistence.sn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Zo(e){return Hy(this.persistence,new Gy,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new _y(t,e.asyncQueue)}Yo(e){const t=Vy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sy.withCacheSize(this.cacheSizeBytes):sy.DEFAULT;return new jy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Tb(),Sb(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Ib}}class uC extends lC{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ta.syncEngine;this.sharedClientState instanceof Cb&&(this.sharedClientState.syncEngine={mi:eC.bind(null,t),gi:iC.bind(null,t),yi:oC.bind(null,t),Tn:rC.bind(null,t),_i:Xw.bind(null,t)},await this.sharedClientState.start()),await this.persistence.sn((async e=>{await async function(e,t){const n=Of(e);if(aC(n),sC(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await tC(n,e.toArray());n.Wo=!0,await cw(n.remoteStore,!0);for(const e of t)Vb(n.remoteStore,e)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Mo.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Gw(n,i),Jy(n.localStore,i,!0)))),zb(n.remoteStore,i)})),await t,await tC(n,e),function(e){const t=Of(e);t.Uo.forEach(((e,n)=>{zb(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new tm(vp.comparator)}(n),n.Wo=!1,await cw(n.remoteStore,!1)}}(this.ta.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Jo(e){const t=Tb();if(!Cb.Pt(t))throw new Df(Rf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Vy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class dC{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Fw(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qw.bind(null,this.syncEngine),await cw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new vw}createDatastore(e){const t=Pb(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new kb(r));var r;return function(e,t,n,r){return new Lb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Fw(this.syncEngine,e,0),o=Eb.Pt()?new Eb:new _b,new jb(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Rw(e,t,n,r,i,o);return a&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Of(e);Af("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Ub(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}function hC(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class fC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class pC{constructor(e,t){this.sa=e,this.k=t,this.metadata=new Lf,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.sa.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.ra()}async ra(){const e=await this.oa();if(null===e)return null;const t=this.ia.decode(e),n=Number(t);isNaN(n)&&this.aa(`length string (${t}) is not valid number`);const r=await this.ca(n);return new Ew(JSON.parse(r),e.length+n)}ua(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async oa(){for(;this.ua()<0&&!await this.ha(););if(0===this.buffer.length)return null;const e=this.ua();e<0&&this.aa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ca(e){for(;this.buffer.length<e;)await this.ha()&&this.aa("Reached the end of bundle when more is expected.");const t=this.ia.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ha(){const e=await this.sa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class gC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Df(Rf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Of(e),r=Fm(n.k)+"/documents",i={documents:t.map((e=>Dm(n.k,e)))},o=await n.ji("BatchGetDocuments",r,i),a=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Nf(!!t.found),t.found.name,t.found.updateTime;const n=Lm(e,t.found.name),r=Nm(t.found.updateTime),i=new Op({mapValue:{fields:t.found.fields}});return Dp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Nf(!!t.missing),Nf(!!t.readTime);const n=Lm(e,t.missing),r=Nm(t.readTime);return Dp.newNoDocument(n,r)}(e,t):Pf()}(n.k,e);a.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=a.get(e.toString());Nf(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=vp.fromPath(t);this.mutations.push(new Yg(n,this.precondition(n)))})),await async function(e,t){const n=Of(e),r=Fm(n.k)+"/documents",i={writes:t.map((e=>Bm(n.k,e)))};await n.Bi("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pf();t=$f.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Df(Rf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Lg.updateTime(t):Lg.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($f.min()))throw new Df(Rf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lg.updateTime(t)}return Lg.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class mC{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.la=5,this.ur=new Nb(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){this.ur.Zi((async()=>{const e=new gC(this.datastore),t=this.da(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.wa(e)}))))})).catch((e=>{this.wa(e)}))}))}da(e){try{const t=this.updateFunction(e);return!pp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((()=>(this.fa(),Promise.resolve())))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Xg(t)}return!1}}class vC{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=If.UNAUTHENTICATED,this.clientId=Hf.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Af("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(()=>Promise.resolve()))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Df(Rf.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=hw(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function yC(e,t){e.asyncQueue.verifyOperationInProgress(),Af("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Ky(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function bC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wC(e);Af("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=Of(e);n.asyncQueue.verifyOperationInProgress(),Af("RemoteStore","RemoteStore received new credentials");const r=Hb(n);n.Gr.add(3),await Ub(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await Fb(n)}(t.remoteStore,e))),e.onlineComponents=t}async function wC(e){return e.offlineComponents||(Af("FirestoreClient","Using default OfflineComponentProvider"),await yC(e,new cC)),e.offlineComponents}async function CC(e){return e.onlineComponents||(Af("FirestoreClient","Using default OnlineComponentProvider"),await bC(e,new dC)),e.onlineComponents}function IC(e){return wC(e).then((e=>e.persistence))}function _C(e){return wC(e).then((e=>e.localStore))}function EC(e){return CC(e).then((e=>e.remoteStore))}function xC(e){return CC(e).then((e=>e.syncEngine))}async function AC(e){const t=await CC(e),n=t.eventManager;return n.onListen=Dw.bind(null,t.syncEngine),n.onUnlisten=Mw.bind(null,t.syncEngine),n}function kC(e,t,n={}){const r=new Lf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new fC({next:o=>{t.enqueueAndForget((()=>bw(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Df(Rf.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Df(Rf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new _w(rg(n.path),o,{includeMetadataChanges:!0,wo:!0});return yw(e,a)}(await AC(e),e.asyncQueue,t,n,r))),r.promise}function TC(e,t,n={}){const r=new Lf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new fC({next:n=>{t.enqueueAndForget((()=>bw(e,a))),n.fromCache&&"server"===r.source?i.reject(new Df(Rf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new _w(n,o,{includeMetadataChanges:!0,wo:!0});return yw(e,a)}(await AC(e),e.asyncQueue,t,n,r))),r.promise}class SC{constructor(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s}}class PC{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof PC&&e.projectId===this.projectId&&e.database===this.database}}const NC=new Map;function OC(e,t,n){if(!n)throw new Df(Rf.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function RC(e,t,n,r){if(!0===t&&!0===r)throw new Df(Rf.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function DC(e){if(!vp.isDocumentKey(e))throw new Df(Rf.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function LC(e){if(vp.isDocumentKey(e))throw new Df(Rf.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function MC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Pf()}function jC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Df(Rf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=MC(e);throw new Df(Rf.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function FC(e,t){if(t<=0)throw new Df(Rf.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class UC{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Df(Rf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Df(Rf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,RC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class VC{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UC({}),this._settingsFrozen=!1,e instanceof PC?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Df(Rf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new PC(e.options.projectId)}(e))}get app(){if(!this._app)throw new Df(Rf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Df(Rf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new jf;switch(e.type){case"gapi":const t=e.client;return Nf(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new zf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Df(Rf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=NC.get(e);t&&(Af("ComponentProvider","Removing Datastore"),NC.delete(e),t.terminate())}(this),Promise.resolve()}}class zC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zC(this.firestore,e,this._key)}}class BC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new BC(this.firestore,e,this._query)}}class qC extends BC{constructor(e,t,n){super(e,t,rg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zC(this.firestore,null,new vp(e))}withConverter(e){return new qC(this.firestore,e,this._path)}}function GC(e,t,...n){if(e=Tr(e),OC("collection","path",t),e instanceof VC){const r=np.fromString(t,...n);return LC(r),new qC(e,null,r)}{if(!(e instanceof zC||e instanceof qC))throw new Df(Rf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(np.fromString(t,...n));return LC(r),new qC(e.firestore,null,r)}}function WC(e,t,...n){if(e=Tr(e),1===arguments.length&&(t=Hf.A()),OC("doc","path",t),e instanceof VC){const r=np.fromString(t,...n);return DC(r),new zC(e,null,new vp(r))}{if(!(e instanceof zC||e instanceof qC))throw new Df(Rf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(np.fromString(t,...n));return DC(r),new zC(e.firestore,e instanceof qC?e.converter:null,new vp(r))}}function HC(e,t){return e=Tr(e),t=Tr(t),(e instanceof zC||e instanceof qC)&&(t instanceof zC||t instanceof qC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function KC(e,t){return e=Tr(e),t=Tr(t),e instanceof BC&&t instanceof BC&&e.firestore===t.firestore&&hg(e._query,t._query)&&e.converter===t.converter}class ZC{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Nb(this,"async_queue_retry"),this.Ra=()=>{const e=Sb();e&&Af("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=Sb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ba(),this.Pa(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=Sb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.ba(),this.ya)return new Promise((()=>{}));const t=new Lf;return this.Pa((()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ga.push(e),this.va())))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!Ov(e))throw e;Af("AsyncQueue","Operation failed with retryable error: "+e)}this.ga.length>0&&this.ur.Zi((()=>this.va()))}}Pa(e){const t=this.ma.then((()=>(this.Ea=!0,e().catch((e=>{this.Ta=e,this.Ea=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw kf("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ea=!1,e))))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.ba(),this.Aa.indexOf(e)>-1&&(t=0);const r=dw.createAndSchedule(this,e,t,n,(e=>this.Va(e)));return this.pa.push(r),r}ba(){this.Ta&&Pf()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then((()=>{this.pa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()}))}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function YC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class QC{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $C extends VC{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new ZC,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||XC(this),this._firestoreClient.terminate()}}function JC(e){return e._firestoreClient||XC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function XC(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new SC(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function eI(e,t,n){const r=new Lf;return e.asyncQueue.enqueue((async()=>{try{await yC(e,n),await bC(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Rf.FAILED_PRECONDITION||e.code===Rf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function tI(e){if(e._initialized||e._terminated)throw new Df(Rf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nI{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Df(Rf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ip(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rI(ap.fromBase64String(e))}catch(e){throw new Df(Rf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new rI(ap.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class iI{constructor(e){this._methodName=e}}class oI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Df(Rf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Df(Rf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kf(this._lat,e._lat)||Kf(this._long,e._long)}}const aI=/^__.*__$/;class sI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Gg(e,this.data,this.fieldMask,t,this.fieldTransforms):new qg(e,this.data,t,this.fieldTransforms)}}class cI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Gg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function lI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pf()}}class uI{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new uI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Fa:!1});return r.Ma(e),r}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Fa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Fa:!0})}Ua(e){return PI(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(lI(this.xa)&&aI.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class dI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||Pb(e)}ja(e,t,n,r=!1){return new uI({xa:e,methodName:t,Ka:n,path:ip.emptyPath(),Fa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function hI(e){const t=e._freezeSettings(),n=Pb(e._databaseId);return new dI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fI(e,t,n,r,i,o={}){const a=e.ja(o.merge||o.mergeFields?2:0,t,n,i);AI("Data must be an object, but it was:",a,r);const s=EI(r,a);let c,l;if(o.merge)c=new op(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=kI(t,r,n);if(!a.contains(i))throw new Df(Rf.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);NI(e,i)||e.push(i)}c=new op(e),l=a.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=a.fieldTransforms;return new sI(new Op(s),c,l)}class pI extends iI{_toFieldTransform(e){if(2!==e.xa)throw 1===e.xa?e.Ua(`${this._methodName}() can only appear at the top level of your update data`):e.Ua(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pI}}function gI(e,t,n){return new uI({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Fa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class mI extends iI{_toFieldTransform(e){return new Rg(e.path,new xg)}isEqual(e){return e instanceof mI}}class vI extends iI{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=gI(this,e,!0),n=this.Qa.map((e=>_I(e,t))),r=new Ag(n);return new Rg(e.path,r)}isEqual(e){return this===e}}class yI extends iI{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=gI(this,e,!0),n=this.Qa.map((e=>_I(e,t))),r=new Tg(n);return new Rg(e.path,r)}isEqual(e){return this===e}}class bI extends iI{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new Pg(e.k,wg(e.k,this.Wa));return new Rg(e.path,t)}isEqual(e){return this===e}}function wI(e,t,n,r){const i=e.ja(1,t,n);AI("Data must be an object, but it was:",i,r);const o=[],a=Op.empty();Xf(r,((e,r)=>{const s=SI(t,e,n);r=Tr(r);const c=i.La(s);if(r instanceof pI)o.push(s);else{const e=_I(r,c);null!=e&&(o.push(s),a.set(s,e))}}));const s=new op(o);return new cI(a,s,i.fieldTransforms)}function CI(e,t,n,r,i,o){const a=e.ja(1,t,n),s=[kI(t,r,n)],c=[i];if(o.length%2!=0)throw new Df(Rf.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)s.push(kI(t,o[e])),c.push(o[e+1]);const l=[],u=Op.empty();for(let e=s.length-1;e>=0;--e)if(!NI(l,s[e])){const t=s[e];let n=c[e];n=Tr(n);const r=a.La(t);if(n instanceof pI)l.push(t);else{const e=_I(n,r);null!=e&&(l.push(t),u.set(t,e))}}const d=new op(l);return new cI(u,d,a.fieldTransforms)}function II(e,t,n,r=!1){return _I(n,e.ja(r?4:3,t))}function _I(e,t){if(xI(e=Tr(e)))return AI("Unsupported field value:",t,e),EI(e,t);if(e instanceof iI)return function(e,t){if(!lI(t.xa))throw t.Ua(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ua(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=_I(i,t.Ba(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Tr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wg(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Qf.fromDate(e);return{timestampValue:Tm(t.k,n)}}if(e instanceof Qf){const n=new Qf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tm(t.k,n)}}if(e instanceof oI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof rI)return{bytesValue:Sm(t.k,e._byteString)};if(e instanceof zC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ua(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Om(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua(`Unsupported field value: ${MC(e)}`)}(e,t)}function EI(e,t){const n={};return ep(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xf(e,((e,r)=>{const i=_I(r,t.Oa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qf||e instanceof oI||e instanceof rI||e instanceof zC||e instanceof iI)}function AI(e,t,n){if(!xI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=MC(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function kI(e,t,n){if((t=Tr(t))instanceof nI)return t._internalPath;if("string"==typeof t)return SI(e,t);throw PI("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const TI=new RegExp("[~\\*/\\[\\]]");function SI(e,t,n){if(t.search(TI)>=0)throw PI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new nI(...t.split("."))._internalPath}catch(r){throw PI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function PI(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Df(Rf.INVALID_ARGUMENT,s+e+c)}function NI(e,t){return e.some((e=>e.isEqual(t)))}class OI{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RI extends OI{data(){return super.data()}}function DI(e,t){return"string"==typeof t?SI(e,t):t instanceof nI?t._internalPath:t._delegate._internalPath}class LI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MI extends OI{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(DI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class jI extends MI{data(e={}){return super.data(e)}}class FI{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new LI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new jI(this._firestore,this._userDataWriter,n.key,n,new LI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Df(Rf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new jI(e._firestore,e._userDataWriter,n.doc.key,n.doc,new LI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new jI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new LI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:UI(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function UI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pf()}}function VI(e,t){return e instanceof MI&&t instanceof MI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof FI&&t instanceof FI&&e._firestore===t._firestore&&KC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function zI(e){if(og(e)&&0===e.explicitOrderBy.length)throw new Df(Rf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BI{}function qI(e,...t){for(const n of t)e=n._apply(e);return e}class GI extends BI{constructor(e,t,n){super(),this.Ga=e,this.za=t,this.Ha=n,this.type="where"}_apply(e){const t=hI(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Df(Rf.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on FieldPath.documentId().`);if("in"===o||"not-in"===o){t_(a,o);const t=[];for(const n of a)t.push(e_(r,e,n));s={arrayValue:{values:t}}}else s=e_(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||t_(a,o),s=II(n,"where",a,"in"===o||"not-in"===o);const c=Vp.create(i,o,s);return function(e,t){if(t.V()){const n=sg(e);if(null!==n&&!n.isEqual(t.field))throw new Df(Rf.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=ag(e);null!==r&&n_(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Df(Rf.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Df(Rf.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new BC(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new tg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function WI(e,t,n){const r=t,i=DI("where",e);return new GI(i,r,n)}class HI extends BI{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Df(Rf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Df(Rf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new $p(t,n);return function(e,t){if(null===ag(e)){const n=sg(e);null!==n&&n_(0,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new BC(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new tg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function KI(e,t="asc"){const n=t,r=DI("orderBy",e);return new HI(r,n)}class ZI extends BI{constructor(e,t,n){super(),this.type=e,this.Ya=t,this.Xa=n}_apply(e){return new BC(e.firestore,e.converter,dg(e._query,this.Ya,this.Xa))}}function YI(e){return FC("limit",e),new ZI("limit",e,"F")}class QI extends BI{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=XI(e,this.type,this.Za,this.tc);return new BC(e.firestore,e.converter,function(e,t){return new tg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function $I(...e){return new QI("startAt",e,!0)}class JI extends BI{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=XI(e,this.type,this.Za,this.tc);return new BC(e.firestore,e.converter,function(e,t){return new tg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function XI(e,t,n,r){if(n[0]=Tr(n[0]),n[0]instanceof OI)return function(e,t,n,r,i){if(!r)throw new Df(Rf.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of lg(e))if(n.field.isKeyField())o.push(xp(t,r.key));else{const e=r.data.field(n.field);if(dp(e))throw new Df(Rf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Df(Rf.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new Yp(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=hI(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new Df(Rf.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const s=[];for(let o=0;o<i.length;o++){const c=i[o];if(a[o].field.isKeyField()){if("string"!=typeof c)throw new Df(Rf.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!cg(e)&&-1!==c.indexOf("/"))throw new Df(Rf.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child(np.fromString(c));if(!vp.isDocumentKey(n))throw new Df(Rf.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new vp(n);s.push(xp(t,i))}else{const e=II(n,r,c);s.push(e)}}return new Yp(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function e_(e,t,n){if("string"==typeof(n=Tr(n))){if(""===n)throw new Df(Rf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!cg(t)&&-1!==n.indexOf("/"))throw new Df(Rf.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(np.fromString(n));if(!vp.isDocumentKey(r))throw new Df(Rf.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xp(e,new vp(r))}if(n instanceof zC)return xp(e,n._key);throw new Df(Rf.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${MC(n)}.`)}function t_(e,t){if(!Array.isArray(e)||0===e.length)throw new Df(Rf.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Df(Rf.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function n_(e,t,n){if(!n.isEqual(t))throw new Df(Rf.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class r_{convertValue(e,t="none"){switch(yp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(up(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pf()}}convertObject(e,t){const n={};return Xf(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new oI(lp(e.latitude),lp(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fp(e));default:return null}}convertTimestamp(e){const t=cp(e);return new Qf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=np.fromString(e);Nf(rv(n));const r=new PC(n.get(1),n.get(3)),i=new vp(n.popFirst(5));return r.isEqual(t)||kf(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function i_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class o_ extends r_{constructor(e){super(),this.firestore=e}convertBytes(e){return new rI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zC(this.firestore,null,t)}}class a_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hI(e)}set(e,t,n){this._verifyNotCommitted();const r=s_(e,this._firestore),i=i_(r.converter,t,n),o=fI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Lg.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=s_(e,this._firestore);let o;return o="string"==typeof(t=Tr(t))||t instanceof nI?CI(this._dataReader,"WriteBatch.update",i._key,t,n,r):wI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Lg.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=s_(e,this._firestore);return this._mutations=this._mutations.concat(new Zg(t._key,Lg.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Df(Rf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function s_(e,t){if((e=Tr(e)).firestore!==t)throw new Df(Rf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function c_(e){e=jC(e,zC);const t=jC(e.firestore,$C);return kC(JC(t),e._key).then((n=>v_(t,e,n)))}class l_ extends r_{constructor(e){super(),this.firestore=e}convertBytes(e){return new rI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zC(this.firestore,null,t)}}function u_(e){e=jC(e,BC);const t=jC(e.firestore,$C),n=JC(t),r=new l_(t);return zI(e._query),TC(n,e._query).then((n=>new FI(t,r,e,n)))}function d_(e,t,n){e=jC(e,zC);const r=jC(e.firestore,$C),i=i_(e.converter,t,n);return m_(r,[fI(hI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lg.none())])}function h_(e,t,n,...r){e=jC(e,zC);const i=jC(e.firestore,$C),o=hI(i);let a;return a="string"==typeof(t=Tr(t))||t instanceof nI?CI(o,"updateDoc",e._key,t,n,r):wI(o,"updateDoc",e._key,t),m_(i,[a.toMutation(e._key,Lg.exists(!0))])}function f_(e){return m_(jC(e.firestore,$C),[new Zg(e._key,Lg.none())])}function p_(e,t){const n=jC(e.firestore,$C),r=WC(e),i=i_(e.converter,t);return m_(n,[fI(hI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lg.exists(!1))]).then((()=>r))}function g_(e,...t){var n,r,i;e=Tr(e);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||YC(t[a])||(o=t[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges};if(YC(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,l,u;if(e instanceof zC)l=jC(e.firestore,$C),u=rg(e._key.path),c={next:n=>{t[a]&&t[a](v_(l,e,n))},error:t[a+1],complete:t[a+2]};else{const n=jC(e,BC);l=jC(n.firestore,$C),u=n._query;const r=new l_(l);c={next:e=>{t[a]&&t[a](new FI(l,r,n,e))},error:t[a+1],complete:t[a+2]},zI(e._query)}return function(e,t,n,r){const i=new fC(r),o=new _w(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>yw(await AC(e),o))),()=>{i.na(),e.asyncQueue.enqueueAndForget((async()=>bw(await AC(e),o)))}}(JC(l),u,s,c)}function m_(e,t){return function(e,t){const n=new Lf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=sC(e);try{const e=await function(e,t){const n=Of(e),r=Qf.now(),i=t.reduce(((e,t)=>e.add(t.key)),fm());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,i).next((i=>{o=i;const a=[];for(const e of t){const t=Vg(e,o.get(e.key));null!=t&&a.push(new Gg(e.key,t,Rp(t.value.mapValue),Lg.exists(!0)))}return n.An.addMutationBatch(e,r,a,t)})))).then((e=>(e.applyToLocalDocumentSet(o),{batchId:e.batchId,changes:o})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new tm(Kf)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await Yw(r,e.changes),await Xb(r.remoteStore)}catch(e){const t=hw(e,"Failed to persist write");n.reject(t)}}(await xC(e),t,n))),n.promise}(JC(e),t)}function v_(e,t,n){const r=n.docs.get(t._key),i=new l_(e);return new MI(e,i,t._key,r,new LI(n.hasPendingWrites,n.fromCache),t.converter)}class y_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hI(e)}get(e){const t=s_(e,this._firestore),n=new o_(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Pf();const r=e[0];if(r.isFoundDocument())return new OI(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new OI(this._firestore,n,t._key,null,t.converter);throw Pf()}))}set(e,t,n){const r=s_(e,this._firestore),i=i_(r.converter,t,n),o=fI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=s_(e,this._firestore);let o;return o="string"==typeof(t=Tr(t))||t instanceof nI?CI(this._dataReader,"Transaction.update",i._key,t,n,r):wI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=s_(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=s_(e,this._firestore),n=new l_(this._firestore);return super.get(e).then((e=>new MI(this._firestore,n,t._key,e._document,new LI(!1,!1),t.converter)))}}function b_(e){return JC(e=jC(e,$C)),new a_(e,(t=>m_(e,t)))}function w_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Df("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function C_(){if("undefined"==typeof Uint8Array)throw new Df("unimplemented","Uint8Arrays are not available in this environment.")}function I_(){if("undefined"==typeof atob)throw new Df("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){_f=e}(ni),Qr(new Sr("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new $C(r,new Uf(e.getProvider("auth-internal")),new qf(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),si(Cf,"3.4.2",e),si(Cf,"3.4.2","esm2017")}();class __{constructor(e){this._delegate=e}static fromBase64String(e){return I_(),new __(rI.fromBase64String(e))}static fromUint8Array(e){return C_(),new __(rI.fromUint8Array(e))}toBase64(){return I_(),this._delegate.toBase64()}toUint8Array(){return C_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function E_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class x_{enableIndexedDbPersistence(e,t){return function(e,t){tI(e=jC(e,$C));const n=JC(e),r=e._freezeSettings(),i=new dC;return eI(n,i,new lC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){tI(e=jC(e,$C));const t=JC(e),n=e._freezeSettings(),r=new dC;return eI(t,r,new uC(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Df(Rf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Lf;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Sv.Pt())return Promise.resolve();const t=e+"main";await Sv.delete(t)}(Vy(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class A_{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof PC||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Tf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const o=(e=jC(e,VC))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Tf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=If.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qn(JSON.stringify({alg:"none",type:"JWT"})),Qn(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Df(Rf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new If(o)}e._authCredentials=new Ff(new Mf(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await IC(e),n=await EC(e);return t.setNetworkEnabled(!0),function(e){const t=Of(e);return t.Gr.delete(0),Fb(t)}(n)}))}(JC(e=jC(e,$C)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await IC(e),n=await EC(e);return t.setNetworkEnabled(!1),async function(e){const t=Of(e);t.Gr.add(0),await Ub(t),t.Jr.set("Offline")}(n)}))}(JC(e=jC(e,$C)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,RC("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Lf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Of(e);Hb(n.remoteStore)||Af("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Of(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.An.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(e){const n=hw(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await xC(e),t))),t.promise}(JC(e=jC(e,$C)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new fC(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Of(e).io.add(t),t.next()}(await AC(e),n))),()=>{n.na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Of(e).io.delete(t)}(await AC(e),n)))}}(JC(e=jC(e,$C)),YC(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Df("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new V_(this,GC(this._delegate,e))}catch(e){throw O_(e,"collection()","Firestore.collection()")}}doc(e){try{return new N_(this,WC(this._delegate,e))}catch(e){throw O_(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new j_(this,function(e,t){if(e=jC(e,VC),OC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Df(Rf.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new BC(e,null,function(e){return new tg(np.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw O_(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new Lf;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return CC(e).then((e=>e.datastore))}(e);new mC(e.asyncQueue,r,t,n).run()})),n.promise}(JC(e=jC(e,$C)),(n=>t(new y_(e,n))))}(this._delegate,(t=>e(new T_(this,t))))}batch(){return JC(this._delegate),new S_(new a_(this._delegate,(e=>m_(this._delegate,e))))}loadBundle(e){return function(e,t){const n=JC(e=jC(e,$C)),r=new QC;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new pC(e,t)}(function(e,t){if(e instanceof Uint8Array)return hC(e,t);if(e instanceof ArrayBuffer)return hC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Pb(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Of(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Of(e),r=Nm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ye.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(kw(r));const i=new Aw(r,e.localStore,t.k);let o=await t.Ho();for(;o;){const e=await i.yo(o);e&&n._updateProgress(e),o=await t.Ho()}const a=await i.complete();await Yw(e,a.In,void 0),await function(e,t){const n=Of(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ye.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress)}catch(e){Tf("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await xC(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Of(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ye.getNamedQuery(e,t)))}(await _C(e),t)))}(JC(e=jC(e,$C)),t).then((t=>t?new BC(e,null,t.query):null))}(this._delegate,e).then((e=>e?new j_(this,e):null))}}class k_ extends r_{constructor(e){super(),this.firestore=e}convertBytes(e){return new __(new rI(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return N_.forKey(t,this.firestore,null)}}class T_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new k_(e)}get(e){const t=z_(e);return this._delegate.get(t).then((e=>new L_(this._firestore,new MI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=z_(e);return n?(w_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=z_(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=z_(e);return this._delegate.delete(t),this}}class S_{constructor(e){this._delegate=e}set(e,t,n){const r=z_(e);return n?(w_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=z_(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=z_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class P_{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new jI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new M_(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=P_.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new P_(e,new k_(e),t),r.set(t,i)),i}}P_.INSTANCES=new WeakMap;class N_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new k_(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Df("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new N_(t,new zC(t._delegate,n,new vp(e)))}static forKey(e,t,n){return new N_(t,new zC(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new V_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new V_(this.firestore,GC(this._delegate,e))}catch(e){throw O_(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Tr(e))instanceof zC&&HC(this._delegate,e)}set(e,t){t=w_("DocumentReference.set",t);try{return t?d_(this._delegate,e,t):d_(this._delegate,e)}catch(e){throw O_(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?h_(this._delegate,e):h_(this._delegate,e,t,...n)}catch(e){throw O_(e,"updateDoc()","DocumentReference.update()")}}delete(){return f_(this._delegate)}onSnapshot(...e){const t=R_(e),n=D_(e,(e=>new L_(this.firestore,new MI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return g_(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=jC(e,zC);const t=jC(e.firestore,$C),n=JC(t),r=new l_(t);return function(e,t){const n=new Lf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Of(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Wn.Rn(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Df(Rf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=hw(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await _C(e),t,n))),n.promise}(n,e._key).then((n=>new MI(t,r,e._key,n,new LI(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=jC(e,zC);const t=jC(e.firestore,$C);return kC(JC(t),e._key,{source:"server"}).then((n=>v_(t,e,n)))}(this._delegate):c_(this._delegate),t.then((e=>new L_(this.firestore,new MI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new N_(this.firestore,e?this._delegate.withConverter(P_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function O_(e,t,n){return e.message=e.message.replace(t,n),e}function R_(e){for(const t of e)if("object"==typeof t&&!E_(t))return t;return{}}function D_(e,t){var n,r;let i;return i=E_(e[0])?e[0]:E_(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class L_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new N_(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return VI(this._delegate,e._delegate)}}class M_ extends L_{data(e){const t=this._delegate.data(e);return function(e,t){e||Pf()}(void 0!==t),t}}class j_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new k_(e)}where(e,t,n){try{return new j_(this.firestore,qI(this._delegate,WI(e,t,n)))}catch(e){throw O_(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new j_(this.firestore,qI(this._delegate,KI(e,t)))}catch(e){throw O_(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new j_(this.firestore,qI(this._delegate,YI(e)))}catch(e){throw O_(e,"limit()","Query.limit()")}}limitToLast(e){try{return new j_(this.firestore,qI(this._delegate,function(e){return FC("limitToLast",e),new ZI("limitToLast",e,"L")}(e)))}catch(e){throw O_(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new j_(this.firestore,qI(this._delegate,$I(...e)))}catch(e){throw O_(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new j_(this.firestore,qI(this._delegate,function(...e){return new QI("startAfter",e,!1)}(...e)))}catch(e){throw O_(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new j_(this.firestore,qI(this._delegate,function(...e){return new JI("endBefore",e,!0)}(...e)))}catch(e){throw O_(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new j_(this.firestore,qI(this._delegate,function(...e){return new JI("endAt",e,!1)}(...e)))}catch(e){throw O_(e,"endAt()","Query.endAt()")}}isEqual(e){return KC(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=jC(e,BC);const t=jC(e.firestore,$C),n=JC(t),r=new l_(t);return function(e,t){const n=new Lf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Xy(e,t,!0),i=new Pw(t,r.zn),o=i.Po(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=hw(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await _C(e),t,n))),n.promise}(n,e._query).then((n=>new FI(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=jC(e,BC);const t=jC(e.firestore,$C),n=JC(t),r=new l_(t);return TC(n,e._query,{source:"server"}).then((n=>new FI(t,r,e,n)))}(this._delegate):u_(this._delegate),t.then((e=>new U_(this.firestore,new FI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=R_(e),n=D_(e,(e=>new U_(this.firestore,new FI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return g_(this._delegate,t,n)}withConverter(e){return new j_(this.firestore,e?this._delegate.withConverter(P_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class F_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new M_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class U_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new j_(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new M_(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new F_(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new M_(this._firestore,n))}))}isEqual(e){return VI(this._delegate,e._delegate)}}class V_ extends j_{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new N_(this.firestore,e):null}doc(e){try{return new N_(this.firestore,void 0===e?WC(this._delegate):WC(this._delegate,e))}catch(e){throw O_(e,"doc()","CollectionReference.doc()")}}add(e){return p_(this._delegate,e).then((e=>new N_(this.firestore,e)))}isEqual(e){return HC(this._delegate,e._delegate)}withConverter(e){return new V_(this.firestore,e?this._delegate.withConverter(P_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function z_(e){return jC(e,zC)}class B_{constructor(...e){this._delegate=new nI(...e)}static documentId(){return new B_(ip.keyField().canonicalString())}isEqual(e){return(e=Tr(e))instanceof nI&&this._delegate._internalPath.isEqual(e._internalPath)}}class q_{constructor(e){this._delegate=e}static serverTimestamp(){const e=new mI("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new q_(e)}static delete(){const e=new pI("deleteField");return e._methodName="FieldValue.delete",new q_(e)}static arrayUnion(...e){const t=function(...e){return new vI("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new q_(t)}static arrayRemove(...e){const t=function(...e){return new yI("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new q_(t)}static increment(e){const t=function(e){return new bI("increment",e)}(e);return t._methodName="FieldValue.increment",new q_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const G_={Firestore:A_,GeoPoint:oI,Timestamp:Qf,Blob:__,Transaction:T_,WriteBatch:S_,DocumentReference:N_,DocumentSnapshot:L_,Query:j_,QueryDocumentSnapshot:M_,QuerySnapshot:U_,CollectionReference:V_,FieldPath:B_,FieldValue:q_,setLogLevel:function(e){!function(e){Ef.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Sr("firestore-compat",(e=>((e,t)=>new A_(e,t,new x_))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},G_)))}(e),e.registerVersion("@firebase/firestore-compat","0.1.11")}(Xi),si("firebase","9.6.2","app");const W_="@firebase/database",H_="0.12.5";let K_="";class Z_{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ur(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Y_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return fr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Q_=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Z_(t)}}catch(e){}return new Y_},$_=Q_("localStorage"),J_=Q_("sessionStorage"),X_=new Ur("@firebase/database"),eE=function(){let e=1;return function(){return e++}}(),tE=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Wn(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ir;n.update(t);const r=n.digest();return Zn.encodeByteArray(r)},nE=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=nE.apply(null,r):t+="object"==typeof r?dr(r):r,t+=" "}return t};let rE=null,iE=!0;const oE=function(...e){if(!0===iE&&(iE=!1,null===rE&&!0===J_.get("logging_enabled")&&(t=!0,Wn(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(X_.logLevel=Dr.VERBOSE,rE=X_.log.bind(X_),n&&J_.set("logging_enabled",!0)):"function"==typeof t?rE=t:(rE=null,J_.remove("logging_enabled")))),rE){const t=nE.apply(null,e);rE(t)}var t,n},aE=function(e){return function(...t){oE(e,...t)}},sE=function(...e){const t="FIREBASE INTERNAL ERROR: "+nE(...e);X_.error(t)},cE=function(...e){const t=`FIREBASE FATAL ERROR: ${nE(...e)}`;throw X_.error(t),new Error(t)},lE=function(...e){const t="FIREBASE WARNING: "+nE(...e);X_.warn(t)},uE=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},dE="[MIN_NAME]",hE="[MAX_NAME]",fE=function(e,t){if(e===t)return 0;if(e===dE||t===hE)return-1;if(t===dE||e===hE)return 1;{const n=CE(e),r=CE(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},pE=function(e,t){return e===t?0:e<t?-1:1},gE=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+dr(t))},mE=function(e){if("object"!=typeof e||null===e)return dr(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=dr(t[r]),n+=":",n+=mE(e[t[r]]);return n+="}",n},vE=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function yE(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const bE=function(e){Wn(!uE(e),"Invalid JSON number");let t,n,r,i,o;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const s=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(s.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()},wE=new RegExp("^-?(0*)\\d{1,10}$"),CE=function(e){if(wE.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},IE=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw lE("Exception was thrown by user callback.",t),e}),Math.floor(0))}},_E=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class EE{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){lE(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class xE{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(oE("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lE(e)}}class AE{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}AE.OWNER="owner";const kE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TE="websocket",SE="long_polling";class PE{constructor(e,t,n,r,i=!1,o="",a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function NE(e,t,n){let r;if(Wn("string"==typeof t,"typeof type must == string"),Wn("object"==typeof n,"typeof params must == object"),t===TE)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==SE)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return yE(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class OE{constructor(){this.counters_={}}incrementCounter(e,t=1){fr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Jn(void 0,this.counters_)}}const RE={},DE={};function LE(e){const t=e.toString();return RE[t]||(RE[t]=new OE),RE[t]}class ME{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&IE((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class jE{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aE(e),this.stats_=LE(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),NE(t,SE,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ME(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new FE(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&kE.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jE.forceAllow_=!0}static forceDisallow(){jE.forceDisallow_=!0}static isAvailable(){return!(!jE.forceAllow_&&(jE.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=dr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Yn(t),r=vE(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=dr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class FE{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eE(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=FE.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){oE("frame writing exception"),e.stack&&oE(e.stack),oE(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||oE("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{oE("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let UE=null;"undefined"!=typeof MozWebSocket?UE=MozWebSocket:"undefined"!=typeof WebSocket&&(UE=WebSocket);class VE{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aE(this.connId),this.stats_=LE(t),this.connURL=VE.connectionURL_(t,o,a,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r){const i={v:"5"};return"undefined"!=typeof location&&location.hostname&&kE.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),NE(e,TE,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$_.set("previous_websocket_failure",!0);try{{const e={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new UE(this.connURL,[],e)}}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){VE.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==UE&&!VE.forceDisallow_}static previouslyFailed(){return $_.isInMemoryStorage||!0===$_.get("previous_websocket_failure")}markConnectionHealthy(){$_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=ur(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Wn(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=dr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=vE(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}VE.responsesRequiredToBeHealthy=2,VE.healthyTimeout=3e4;class zE{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[jE,VE]}initTransports_(e){const t=VE&&VE.isAvailable();let n=t&&!VE.previouslyFailed();if(e.webSocketOnly&&(t||lE("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[VE];else{const e=this.transports_=[];for(const t of zE.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class BE{constructor(e,t,n,r,i,o,a,s,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aE("c:"+this.id+":"),this.transportManager_=new zE(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=_E((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=gE("t",e),n=gE("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=gE("t",e),n=gE("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=gE("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?sE("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sE("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&lE("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),_E((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_E((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class qE{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class GE{constructor(e){this.allowedEvents_=e,this.listeners_={},Wn(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){Wn(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class WE extends GE{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||tr()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new WE}getInitialEvent(e){return Wn("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class HE{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function KE(){return new HE("")}function ZE(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function YE(e){return e.pieces_.length-e.pieceNum_}function QE(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new HE(e.pieces_,t)}function $E(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function JE(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function XE(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new HE(t,0)}function ex(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof HE)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new HE(n,0)}function tx(e){return e.pieceNum_>=e.pieces_.length}function nx(e,t){const n=ZE(e),r=ZE(t);if(null===n)return t;if(n===r)return nx(QE(e),QE(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function rx(e,t){if(YE(e)!==YE(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ix(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(YE(e)>YE(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class ox{constructor(e,t){this.errorPrefix_=t,this.parts_=JE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=kr(this.parts_[e]);ax(this)}}function ax(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+sx(e))}function sx(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class cx extends GE{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new cx}getInitialEvent(e){return Wn("visible"===e,"Unknown event type: "+e),[this.visible_]}}const lx=1e3;class ux extends qE{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=ux.nextPersistentConnectionId_++,this.log_=aE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lx,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cx.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&WE.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(dr(i)),Wn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Xn,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e.d;"ok"===e.s?(this.onDataUpdate_(n.p,r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout((()=>{const e=this.outstandingGets_[i];void 0!==e&&r===e&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Wn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Wn(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,a=i.s;ux.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&fr(e,"w")){const n=pr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();lE(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=hr(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=hr(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Wn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dr(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):sE("Unrecognized action received from server: "+dr(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Wn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lx,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=lx,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=lx),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ux.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},c=function(e){Wn(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?oE("getToken() completed but was canceled"):(oE("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=c&&c.token,a=new BE(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{lE(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&lE(e),s())}}}interrupt(e){oE("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){oE("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gr(this.interruptReasons_)&&(this.reconnectDelay_=lx,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>mE(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new HE(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){oE("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){oE("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+K_.replace(/\./g,"-")]=1,tr()?e["framework.cordova"]=1:ir()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=WE.getInstance().currentlyOnline();return gr(this.interruptReasons_)&&e}}ux.nextPersistentConnectionId_=0,ux.nextConnectionId_=0;class dx{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new dx(e,t)}}class hx{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new dx(dE,e),r=new dx(dE,t);return 0!==this.compare(n,r)}minPost(){return dx.MIN}}let fx;class px extends hx{static get __EMPTY_NODE(){return fx}static set __EMPTY_NODE(e){fx=e}compare(e,t){return fE(e.name,t.name)}isDefinedOn(e){throw Hn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return dx.MIN}maxPost(){return new dx(hE,fx)}makePost(e,t){return Wn("string"==typeof e,"KeyIndex indexValue must always be a string."),new dx(e,fx)}toString(){return".key"}}const gx=new px;class mx{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vx{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vx.RED,this.left=null!=r?r:yx.EMPTY_NODE,this.right=null!=i?i:yx.EMPTY_NODE}copy(e,t,n,r,i){return new vx(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return yx.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return yx.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vx.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vx.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vx.RED=!0,vx.BLACK=!1;class yx{constructor(e,t=yx.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new yx(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,vx.BLACK,null,null))}remove(e){return new yx(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vx.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mx(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new mx(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new mx(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new mx(this.root_,null,this.comparator_,!0,e)}}function bx(e,t){return fE(e.name,t.name)}function wx(e,t){return fE(e,t)}let Cx;yx.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new vx(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ix=function(e){return"number"==typeof e?"number:"+bE(e):"string:"+e},_x=function(e){if(e.isLeafNode()){const t=e.val();Wn("string"==typeof t||"number"==typeof t||"object"==typeof t&&fr(t,".sv"),"Priority must be a string or number.")}else Wn(e===Cx||e.isEmpty(),"priority of unexpected type.");Wn(e===Cx||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ex,xx,Ax;class kx{constructor(e,t=kx.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Wn(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),_x(this.priorityNode_)}static set __childrenNodeConstructor(e){Ex=e}static get __childrenNodeConstructor(){return Ex}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new kx(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:kx.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return tx(e)?this:".priority"===ZE(e)?this.priorityNode_:kx.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:kx.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ZE(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Wn(".priority"!==n||1===YE(e),".priority must be the last token in a path"),this.updateImmediateChild(n,kx.__childrenNodeConstructor.EMPTY_NODE.updateChild(QE(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ix(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?bE(this.value_):this.value_,this.lazyHash_=tE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===kx.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof kx.__childrenNodeConstructor?-1:(Wn(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=kx.VALUE_TYPE_ORDER.indexOf(t),i=kx.VALUE_TYPE_ORDER.indexOf(n);return Wn(r>=0,"Unknown leaf type: "+t),Wn(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}kx.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Tx=new class extends hx{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?fE(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return dx.MIN}maxPost(){return new dx(hE,new kx("[PRIORITY-POST]",Ax))}makePost(e,t){const n=xx(e);return new dx(t,new kx("[PRIORITY-POST]",n))}toString(){return".priority"}},Sx=Math.log(2);class Px{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Sx,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nx=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new vx(s,a.node,vx.BLACK,null,null);{const c=parseInt(o/2,10)+t,l=i(t,c),u=i(c+1,r);return a=e[c],s=n?n(a):a,new vx(s,a.node,vx.BLACK,l,u)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const l=i(o+1,s),u=e[o],d=n?n(u):u;c(new vx(d,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,vx.BLACK):(s(r,vx.BLACK),s(r,vx.RED))}return o}(new Px(e.length));return new yx(r||t,o)};let Ox;const Rx={};class Dx{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Wn(Rx&&Tx,"ChildrenNode.ts has not been loaded"),Ox=Ox||new Dx({".priority":Rx},{".priority":Tx}),Ox}get(e){const t=pr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof yx?t:null}hasIndex(e){return fr(this.indexSet_,e.toString())}addIndex(e,t){Wn(e!==gx,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(dx.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?Nx(n,e.getCompare()):Rx;const s=e.toString(),c=Object.assign({},this.indexSet_);c[s]=e;const l=Object.assign({},this.indexes_);return l[s]=o,new Dx(l,c)}addToIndexes(e,t){const n=mr(this.indexes_,((n,r)=>{const i=pr(this.indexSet_,r);if(Wn(i,"Missing index implementation for "+r),n===Rx){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(dx.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Nx(n,i.getCompare())}return Rx}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new dx(e.name,r))),i.insert(e,e.node)}}));return new Dx(n,this.indexSet_)}removeFromIndexes(e,t){const n=mr(this.indexes_,(n=>{if(n===Rx)return n;{const r=t.get(e.name);return r?n.remove(new dx(e.name,r)):n}}));return new Dx(n,this.indexSet_)}}let Lx;class Mx{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&_x(this.priorityNode_),this.children_.isEmpty()&&Wn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Lx||(Lx=new Mx(new yx(wx),null,Dx.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lx}updatePriority(e){return this.children_.isEmpty()?this:new Mx(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Lx:t}}getChild(e){const t=ZE(e);return null===t?this:this.getImmediateChild(t).getChild(QE(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Wn(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new dx(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Lx:this.priorityNode_;return new Mx(r,o,i)}}updateChild(e,t){const n=ZE(e);if(null===n)return t;{Wn(".priority"!==ZE(e)||1===YE(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(QE(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Tx,((o,a)=>{t[o]=a.val(e),n++,i&&Mx.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ix(this.getPriority().val())+":"),this.forEachChild(Tx,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":tE(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new dx(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new dx(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new dx(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,dx.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,dx.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jx?-1:0}withIndex(e){if(e===gx||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Mx(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===gx||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Tx),n=t.getIterator(Tx);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===gx?null:this.indexMap_.get(e.toString())}}Mx.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const jx=new class extends Mx{constructor(){super(new yx(wx),Mx.EMPTY_NODE,Dx.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Mx.EMPTY_NODE}isEmpty(){return!1}};function Fx(e,t=null){if(null===e)return Mx.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Wn(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new kx(e,Fx(t));if(e instanceof Array){let n=Mx.EMPTY_NODE;return yE(e,((t,r)=>{if(fr(e,t)&&"."!==t.substring(0,1)){const e=Fx(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Fx(t))}{const n=[];let r=!1;if(yE(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Fx(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new dx(e,i)))}})),0===n.length)return Mx.EMPTY_NODE;const i=Nx(n,bx,(e=>e.name),wx);if(r){const e=Nx(n,Tx.getCompare());return new Mx(i,Fx(t),new Dx({".priority":e},{".priority":Tx}))}return new Mx(i,Fx(t),Dx.Default)}}Object.defineProperties(dx,{MIN:{value:new dx(dE,Mx.EMPTY_NODE)},MAX:{value:new dx(hE,jx)}}),px.__EMPTY_NODE=Mx.EMPTY_NODE,kx.__childrenNodeConstructor=Mx,Cx=jx,Ax=jx,function(e){xx=e}(Fx);class Ux extends hx{constructor(e){super(),this.indexPath_=e,Wn(!tx(e)&&".priority"!==ZE(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?fE(e.name,t.name):i}makePost(e,t){const n=Fx(e),r=Mx.EMPTY_NODE.updateChild(this.indexPath_,n);return new dx(t,r)}maxPost(){const e=Mx.EMPTY_NODE.updateChild(this.indexPath_,jx);return new dx(hE,e)}toString(){return JE(this.indexPath_,0).join("/")}}const Vx=new class extends hx{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?fE(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return dx.MIN}maxPost(){return dx.MAX}makePost(e,t){const n=Fx(e);return new dx(t,n)}toString(){return".value"}},zx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Bx=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=zx.charAt(n%64),n=Math.floor(n/64);Wn(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=zx.charAt(t[i]);return Wn(20===a.length,"nextPushId: Length should be 20."),a}}();function qx(e){return{type:"value",snapshotNode:e}}function Gx(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Wx(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Hx(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Kx{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Wn(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Wx(t,a)):Wn(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Gx(t,n)):o.trackChildChange(Hx(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Tx,((e,r)=>{t.hasChild(e)||n.trackChildChange(Wx(e,r))})),t.isLeafNode()||t.forEachChild(Tx,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Hx(t,r,i))}else n.trackChildChange(Gx(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Mx.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zx{constructor(e){this.indexedFilter_=new Kx(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zx.getStartPost_(e),this.endPost_=Zx.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,o){return this.matches(new dx(t,n))||(n=Mx.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Mx.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Mx.EMPTY_NODE);const i=this;return t.forEachChild(Tx,((e,t)=>{i.matches(new dx(e,t))||(r=r.updateImmediateChild(e,Mx.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Yx{constructor(e){this.rangedFilter_=new Zx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new dx(t,n))||(n=Mx.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Mx.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Mx.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,o;if(r=t.withIndex(this.index_),r=r.updatePriority(Mx.EMPTY_NODE),this.reverse_){o=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else o=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let a=0,s=!1;for(;o.hasNext();){const t=o.getNext();!s&&i(e,t)<=0&&(s=!0),s&&a<this.limit_&&i(t,n)<=0?a++:r=r.updateImmediateChild(t.name,Mx.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;Wn(a.numChildren()===this.limit_,"");const s=new dx(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Hx(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Wx(t,e));const n=a.updateImmediateChild(t,Mx.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Gx(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:l&&o(c,s)>=0?(null!=i&&(i.trackChildChange(Wx(c.name,c.node)),i.trackChildChange(Gx(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,Mx.EMPTY_NODE)):e}}class Qx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Tx}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Wn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Wn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dE}hasEnd(){return this.endSet_}getIndexEndValue(){return Wn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Wn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hE}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Wn(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Tx}copy(){const e=new Qx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $x(e){const t={};if(e.isDefault())return t;let n;return e.index_===Tx?n="$priority":e.index_===Vx?n="$value":e.index_===gx?n="$key":(Wn(e.index_ instanceof Ux,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=dr(n),e.startSet_&&(t.startAt=dr(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+dr(e.indexStartName_))),e.endSet_&&(t.endAt=dr(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+dr(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Jx(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Tx&&(t.i=e.index_.toString()),t}class Xx extends qE{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=aE("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Wn(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Xx.getListenId_(e,n),a={};this.listens_[o]=a;const s=$x(e._queryParams);this.restRequest_(i+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),pr(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Xx.getListenId_(e,t);delete this.listens_[n]}get(e){const t=$x(e._queryParams),n=e._path.toString(),r=new Xn;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+br(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=ur(a.responseText)}catch(e){lE("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&lE("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class eA{constructor(){this.rootNode_=Mx.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function tA(){return{value:null,children:new Map}}function nA(e,t,n){if(tx(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=ZE(t);e.children.has(r)||e.children.set(r,tA()),nA(e.children.get(r),t=QE(t),n)}}function rA(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{rA(r,new HE(t.toString()+"/"+e),n)}))}class iA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&yE(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class oA{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new iA(e);const n=1e4+2e4*Math.random();_E(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;yE(e,((e,r)=>{r>0&&fr(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),_E(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var aA,sA;function cA(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(sA=aA||(aA={}))[sA.OVERWRITE=0]="OVERWRITE",sA[sA.MERGE=1]="MERGE",sA[sA.ACK_USER_WRITE=2]="ACK_USER_WRITE",sA[sA.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class lA{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=aA.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(tx(this.path)){if(null!=this.affectedTree.value)return Wn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new HE(e));return new lA(KE(),t,this.revert)}}return Wn(ZE(this.path)===e,"operationForChild called for unrelated child."),new lA(QE(this.path),this.affectedTree,this.revert)}}class uA{constructor(e,t){this.source=e,this.path=t,this.type=aA.LISTEN_COMPLETE}operationForChild(e){return tx(this.path)?new uA(this.source,KE()):new uA(this.source,QE(this.path))}}class dA{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=aA.OVERWRITE}operationForChild(e){return tx(this.path)?new dA(this.source,KE(),this.snap.getImmediateChild(e)):new dA(this.source,QE(this.path),this.snap)}}class hA{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=aA.MERGE}operationForChild(e){if(tx(this.path)){const t=this.children.subtree(new HE(e));return t.isEmpty()?null:t.value?new dA(this.source,KE(),t.value):new hA(this.source,KE(),t)}return Wn(ZE(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hA(this.source,QE(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class fA{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(tx(e))return this.isFullyInitialized()&&!this.filtered_;const t=ZE(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class pA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gA(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Hn("Should only compare child_ events.");const r=new dx(t.childName,t.snapshotNode),i=new dx(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function mA(e,t){return{eventCache:e,serverCache:t}}function vA(e,t,n,r){return mA(new fA(t,n,r),e.serverCache)}function yA(e,t,n,r){return mA(e.eventCache,new fA(t,n,r))}function bA(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function wA(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let CA;class IA{constructor(e,t=(()=>(CA||(CA=new yx(pE)),CA))()){this.value=e,this.children=t}static fromObject(e){let t=new IA(null);return yE(e,((e,n)=>{t=t.set(new HE(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:KE(),value:this.value};if(tx(e))return null;{const n=ZE(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(QE(e),t);return null!=i?{path:ex(new HE(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(tx(e))return this;{const t=ZE(e),n=this.children.get(t);return null!==n?n.subtree(QE(e)):new IA(null)}}set(e,t){if(tx(e))return new IA(t,this.children);{const n=ZE(e),r=(this.children.get(n)||new IA(null)).set(QE(e),t),i=this.children.insert(n,r);return new IA(this.value,i)}}remove(e){if(tx(e))return this.children.isEmpty()?new IA(null):new IA(null,this.children);{const t=ZE(e),n=this.children.get(t);if(n){const r=n.remove(QE(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new IA(null):new IA(this.value,i)}return this}}get(e){if(tx(e))return this.value;{const t=ZE(e),n=this.children.get(t);return n?n.get(QE(e)):null}}setTree(e,t){if(tx(e))return t;{const n=ZE(e),r=(this.children.get(n)||new IA(null)).setTree(QE(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new IA(this.value,i)}}fold(e){return this.fold_(KE(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(ex(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,KE(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(tx(e))return null;{const r=ZE(e),i=this.children.get(r);return i?i.findOnPath_(QE(e),ex(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,KE(),t)}foreachOnPath_(e,t,n){if(tx(e))return this;{this.value&&n(t,this.value);const r=ZE(e),i=this.children.get(r);return i?i.foreachOnPath_(QE(e),ex(t,r),n):new IA(null)}}foreach(e){this.foreach_(KE(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(ex(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class _A{constructor(e){this.writeTree_=e}static empty(){return new _A(new IA(null))}}function EA(e,t,n){if(tx(t))return new _A(new IA(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=nx(i,t);return o=o.updateChild(a,n),new _A(e.writeTree_.set(i,o))}{const r=new IA(n),i=e.writeTree_.setTree(t,r);return new _A(i)}}}function xA(e,t,n){let r=e;return yE(n,((e,n)=>{r=EA(r,ex(t,e),n)})),r}function AA(e,t){if(tx(t))return _A.empty();{const n=e.writeTree_.setTree(t,new IA(null));return new _A(n)}}function kA(e,t){return null!=TA(e,t)}function TA(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(nx(n.path,t)):null}function SA(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Tx,((e,n)=>{t.push(new dx(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new dx(e,n.value))})),t}function PA(e,t){if(tx(t))return e;{const n=TA(e,t);return new _A(null!=n?new IA(n):e.writeTree_.subtree(t))}}function NA(e){return e.writeTree_.isEmpty()}function OA(e,t){return RA(KE(),e.writeTree_,t)}function RA(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Wn(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=RA(ex(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ex(e,".priority"),r)),n}}function DA(e,t){return WA(t,e)}function LA(e,t){if(e.snap)return ix(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ix(ex(e.path,n),t))return!0;return!1}function MA(e){return e.visible}function jA(e,t,n){let r=_A.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)ix(n,e)?(t=nx(n,e),r=EA(r,t,o.snap)):ix(e,n)&&(t=nx(e,n),r=EA(r,KE(),o.snap.getChild(t)));else{if(!o.children)throw Hn("WriteRecord should have .snap or .children");if(ix(n,e))t=nx(n,e),r=xA(r,t,o.children);else if(ix(e,n))if(t=nx(e,n),tx(t))r=xA(r,KE(),o.children);else{const e=pr(o.children,ZE(t));if(e){const n=e.getChild(QE(t));r=EA(r,KE(),n)}}}}}return r}function FA(e,t,n,r,i){if(r||i){const o=PA(e.visibleWrites,t);if(!i&&NA(o))return n;if(i||null!=n||kA(o,KE())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ix(e.path,t)||ix(t,e.path))};return OA(jA(e.allWrites,o,t),n||Mx.EMPTY_NODE)}return null}{const r=TA(e.visibleWrites,t);if(null!=r)return r;{const r=PA(e.visibleWrites,t);return NA(r)?n:null!=n||kA(r,KE())?OA(r,n||Mx.EMPTY_NODE):null}}}function UA(e,t,n,r){return FA(e.writeTree,e.treePath,t,n,r)}function VA(e,t){return function(e,t,n){let r=Mx.EMPTY_NODE;const i=TA(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Tx,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=PA(e.visibleWrites,t);return n.forEachChild(Tx,((e,t)=>{const n=OA(PA(i,new HE(e)),t);r=r.updateImmediateChild(e,n)})),SA(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return SA(PA(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function zA(e,t,n,r){return function(e,t,n,r,i){Wn(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=ex(t,n);if(kA(e.visibleWrites,o))return null;{const t=PA(e.visibleWrites,o);return NA(t)?i.getChild(n):OA(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function BA(e,t){return function(e,t){return TA(e.visibleWrites,t)}(e.writeTree,ex(e.treePath,t))}function qA(e,t,n){return function(e,t,n,r){const i=ex(t,n),o=TA(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?OA(PA(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function GA(e,t){return WA(ex(e.treePath,t),e.writeTree)}function WA(e,t){return{treePath:e,writeTree:t}}class HA{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Wn("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Wn(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Hx(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Wx(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Gx(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Hn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Hx(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const KA=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class ZA{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new fA(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return qA(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wA(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const c=PA(e.visibleWrites,t),l=TA(c,KE());if(null!=l)s=l;else{if(null==n)return[];s=OA(c,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let c=n.getNext();for(;c&&e.length<i;)0!==t(c,r)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function YA(e,t,n,r,i,o){const a=t.eventCache;if(null!=BA(r,n))return t;{let s,c;if(tx(n))if(Wn(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=wA(t),i=VA(r,n instanceof Mx?n:Mx.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=UA(r,wA(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const l=ZE(n);if(".priority"===l){Wn(1===YE(n),"Can't have a priority with additional path components");const i=a.getNode();c=t.serverCache.getNode();const o=zA(r,n,i,c);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const u=QE(n);let d;if(a.isCompleteForChild(l)){c=t.serverCache.getNode();const e=zA(r,n,a.getNode(),c);d=null!=e?a.getNode().getImmediateChild(l).updateChild(u,e):a.getNode().getImmediateChild(l)}else d=qA(r,l,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),l,d,u,i,o):a.getNode()}}return vA(t,s,a.isFullyInitialized()||tx(n),e.filter.filtersNodes())}}function QA(e,t,n,r,i,o,a,s){const c=t.serverCache;let l;const u=a?e.filter:e.filter.getIndexedFilter();if(tx(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),e,null)}else{const e=ZE(n);if(!c.isCompleteForPath(n)&&YE(n)>1)return t;const i=QE(n),o=c.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?u.updatePriority(c.getNode(),o):u.updateChild(c.getNode(),e,o,i,KA,null)}const d=yA(t,l,c.isFullyInitialized()||tx(n),u.filtersNodes());return YA(e,d,n,i,new ZA(i,d,o),s)}function $A(e,t,n,r,i,o,a){const s=t.eventCache;let c,l;const u=new ZA(i,t,o);if(tx(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=vA(t,l,!0,e.filter.filtersNodes());else{const i=ZE(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=vA(t,l,s.isFullyInitialized(),s.isFiltered());else{const o=QE(n),l=s.getNode().getImmediateChild(i);let d;if(tx(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===$E(o)&&e.getChild(XE(o)).isEmpty()?e:e.updateChild(o,r):Mx.EMPTY_NODE}c=l.equals(d)?t:vA(t,e.filter.updateChild(s.getNode(),i,d,o,u,a),s.isFullyInitialized(),e.filter.filtersNodes())}}return c}function JA(e,t){return e.eventCache.isCompleteForChild(t)}function XA(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function ek(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=tx(n)?r:new IA(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const c=XA(0,t.serverCache.getNode().getImmediateChild(n),r);l=QA(e,l,new HE(n),c,i,o,a,s)}})),c.children.inorderTraversal(((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!c){const c=XA(0,t.serverCache.getNode().getImmediateChild(n),r);l=QA(e,l,new HE(n),c,i,o,a,s)}})),l}class tk{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Kx(n.getIndex()),i=(o=n).loadsAllData()?new Kx(o.getIndex()):o.hasLimit()?new Yx(o):new Zx(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,c=r.updateFullNode(Mx.EMPTY_NODE,a.getNode(),null),l=i.updateFullNode(Mx.EMPTY_NODE,s.getNode(),null),u=new fA(c,a.isFullyInitialized(),r.filtersNodes()),d=new fA(l,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=mA(d,u),this.eventGenerator_=new pA(this.query_)}get query(){return this.query_}}function nk(e,t){const n=wA(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!tx(t)&&!n.getImmediateChild(ZE(t)).isEmpty())?n.getChild(t):null}function rk(e){return 0===e.eventRegistrations_.length}function ik(e,t,n){const r=[];if(n){Wn(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function ok(e,t,n,r){t.type===aA.MERGE&&null!==t.source.queryId&&(Wn(wA(e.viewCache_),"We should always have a full cache before handling merges"),Wn(bA(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function(e,t,n,r,i){const o=new HA;let a,s;if(n.type===aA.OVERWRITE){const c=n;c.source.fromUser?a=$A(e,t,c.path,c.snap,r,i,o):(Wn(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!tx(c.path),a=QA(e,t,c.path,c.snap,r,i,s,o))}else if(n.type===aA.MERGE){const c=n;c.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach(((r,c)=>{const l=ex(n,r);JA(t,ZE(l))&&(s=$A(e,s,l,c,i,o,a))})),r.foreach(((r,c)=>{const l=ex(n,r);JA(t,ZE(l))||(s=$A(e,s,l,c,i,o,a))})),s}(e,t,c.path,c.children,r,i,o):(Wn(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered(),a=ek(e,t,c.path,c.children,r,i,s,o))}else if(n.type===aA.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=BA(r,n))return t;{const s=new ZA(r,t,i),c=t.eventCache.getNode();let l;if(tx(n)||".priority"===ZE(n)){let n;if(t.serverCache.isFullyInitialized())n=UA(r,wA(t));else{const e=t.serverCache.getNode();Wn(e instanceof Mx,"serverChildren would be complete if leaf node"),n=VA(r,e)}n=n,l=e.filter.updateFullNode(c,n,o)}else{const i=ZE(n);let u=qA(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=c.getImmediateChild(i)),l=null!=u?e.filter.updateChild(c,i,u,QE(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,Mx.EMPTY_NODE,QE(n),s,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=UA(r,wA(t)),a.isLeafNode()&&(l=e.filter.updateFullNode(l,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=BA(r,KE()),vA(t,l,a,e.filter.filtersNodes())}}(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=BA(i,n))return t;const s=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(tx(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return QA(e,t,n,c.getNode().getChild(n),i,o,s,a);if(tx(n)){let r=new IA(null);return c.getNode().forEachChild(gx,((e,t)=>{r=r.set(new HE(e),t)})),ek(e,t,n,r,i,o,s,a)}return t}{let l=new IA(null);return r.foreach(((e,t)=>{const r=ex(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))})),ek(e,t,n,l,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==aA.LISTEN_COMPLETE)throw Hn("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache;return YA(e,yA(t,o.getNode(),o.isFullyInitialized()||tx(n),o.isFiltered()),n,r,KA,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=bA(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(qx(bA(t)))}}(t,a,c),{viewCache:a,changes:c}}(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,Wn(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),Wn(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),Wn(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,ak(e,o.changes,o.viewCache.eventCache.getNode(),null)}function ak(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),gA(e,i,"child_removed",t,r,n),gA(e,i,"child_added",t,r,n),gA(e,i,"child_moved",o,r,n),gA(e,i,"child_changed",t,r,n),gA(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let sk,ck;class lk{constructor(){this.views=new Map}}function uk(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Wn(null!=o,"SyncTree gave us an op for an invalid query."),ok(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(ok(o,t,n,r));return i}}function dk(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=UA(n,i?r:null),o=!1;e?o=!0:r instanceof Mx?(e=VA(n,r),o=!1):(e=Mx.EMPTY_NODE,o=!1);const a=mA(new fA(e,o,!1),new fA(r,i,!1));return new tk(t,a)}return a}function hk(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function fk(e,t){let n=null;for(const r of e.views.values())n=n||nk(r,t);return n}function pk(e,t){if(t._queryParams.loadsAllData())return vk(e);{const n=t._queryIdentifier;return e.views.get(n)}}function gk(e,t){return null!=pk(e,t)}function mk(e){return null!=vk(e)}function vk(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let yk=1;class bk{constructor(e){this.listenProvider_=e,this.syncPointTree_=new IA(null),this.pendingWriteTree_={visibleWrites:_A.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wk(e,t,n,r,i){return function(e,t,n,r,i){Wn(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=EA(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Ak(e,new dA({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ck(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Wn(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&LA(t,r.path)?i=!1:ix(r.path,t.path)&&(o=!0)),a--}return!!i&&(o?(function(e){e.visibleWrites=jA(e.allWrites,MA,KE()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=AA(e.visibleWrites,r.path):yE(r.children,(t=>{e.visibleWrites=AA(e.visibleWrites,ex(r.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new IA(null);return null!=r.snap?t=t.set(KE(),!0):yE(r.children,(e=>{t=t.set(new HE(e),!0)})),Ak(e,new lA(r.path,t,n))}return[]}function Ik(e,t,n){return Ak(e,new dA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function _k(e,t,n,r){const i=t._path,o=e.syncPointTree_.get(i);let a=[];if(o&&("default"===t._queryIdentifier||gk(o,t))){const s=function(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=mk(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat(ik(i,n,r)),rk(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat(ik(t,n,r)),rk(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!mk(e)&&o.push(new(Wn(sk,"Reference.ts has not been loaded"),sk)(t._repo,t._path)),{removed:o,events:a}}(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=s.removed;a=s.events;const l=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),u=e.syncPointTree_.findOnPath(i,((e,t)=>mk(t)));if(l&&!u){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&mk(t))return[vk(t)];{let e=[];return t&&(e=hk(t)),yE(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Sk(e,r);e.listenProvider_.startListening(Lk(i),Pk(e,i),o.hashFn,o.onComplete)}}}if(!u&&c.length>0&&!r)if(l){const n=null;e.listenProvider_.stopListening(Lk(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Nk(t));e.listenProvider_.stopListening(Lk(t),n)}));!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Nk(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Ek(e,t,n){const r=t._path;let i=null,o=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=nx(e,r);i=i||fk(t,n),o=o||mk(t)}));let a,s=e.syncPointTree_.get(r);s?(o=o||mk(s),i=i||fk(s,KE())):(s=new lk,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i?a=!0:(a=!1,i=Mx.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=fk(t,KE());n&&(i=i.updateImmediateChild(e,n))})));const c=gk(s,t);if(!c&&!t._queryParams.loadsAllData()){const n=Nk(t);Wn(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=yk++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let l=function(e,t,n,r,i,o){const a=dk(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Tx,((e,t)=>{r.push(Gx(e,t))})),n.isFullyInitialized()&&r.push(qx(n.getNode())),ak(e,r,n.getNode(),t)}(a,n)}(s,t,n,DA(e.pendingWriteTree_,r),i,a);if(!c&&!o){const n=pk(s,t);l=l.concat(function(e,t,n){const r=t._path,i=Pk(e,t),o=Sk(e,n),a=e.listenProvider_.startListening(Lk(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)Wn(!mk(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!tx(e)&&t&&mk(t))return[vk(t).query];{let e=[];return t&&(e=e.concat(hk(t).map((e=>e.query)))),yE(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Lk(r),Pk(e,r))}}return a}(e,t,n))}return l}function xk(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=fk(n,nx(e,t));if(r)return r}));return FA(r,t,i,n,!0)}function Ak(e,t){return kk(t,e.syncPointTree_,null,DA(e.pendingWriteTree_,KE()))}function kk(e,t,n,r){if(tx(e.path))return Tk(e,t,n,r);{const i=t.get(KE());null==n&&null!=i&&(n=fk(i,KE()));let o=[];const a=ZE(e.path),s=e.operationForChild(a),c=t.children.get(a);if(c&&s){const e=n?n.getImmediateChild(a):null,t=GA(r,a);o=o.concat(kk(s,c,e,t))}return i&&(o=o.concat(uk(i,e,r,n))),o}}function Tk(e,t,n,r){const i=t.get(KE());null==n&&null!=i&&(n=fk(i,KE()));let o=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,s=GA(r,t),c=e.operationForChild(t);c&&(o=o.concat(Tk(c,i,a,s)))})),i&&(o=o.concat(uk(i,e,r,n))),o}function Sk(e,t){const n=t.query,r=Pk(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Mx.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Ok(e,n);if(r){const n=Rk(r),i=n.path,o=n.queryId,a=nx(i,t);return Dk(e,i,new uA(cA(o),a))}return[]}(e,n._path,r):function(e,t){return Ak(e,new uA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return _k(e,n,null,r)}}}}function Pk(e,t){const n=Nk(t);return e.queryToTagMap.get(n)}function Nk(e){return e._path.toString()+"$"+e._queryIdentifier}function Ok(e,t){return e.tagToQueryMap.get(t)}function Rk(e){const t=e.indexOf("$");return Wn(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new HE(e.substr(0,t))}}function Dk(e,t,n){const r=e.syncPointTree_.get(t);return Wn(r,"Missing sync point for query tag that we're tracking"),uk(r,n,DA(e.pendingWriteTree_,t),null)}function Lk(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Wn(ck,"Reference.ts has not been loaded"),ck)(e._repo,e._path):e}class Mk{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Mk(t)}node(){return this.node_}}class jk{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ex(this.path_,e);return new jk(this.syncTree_,t)}node(){return xk(this.syncTree_,this.path_)}}const Fk=function(e,t,n){return e&&"object"==typeof e?(Wn(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Uk(e[".sv"],t,n):"object"==typeof e[".sv"]?Vk(e[".sv"],t):void Wn(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Uk=function(e,t,n){if("timestamp"===e)return n.timestamp;Wn(!1,"Unexpected server value: "+e)},Vk=function(e,t,n){e.hasOwnProperty("increment")||Wn(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&Wn(!1,"Unexpected increment value: "+r);const i=t.node();if(Wn(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},zk=function(e,t,n){return Bk(e,new Mk(t),n)};function Bk(e,t,n){const r=e.getPriority().val(),i=Fk(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Fk(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new kx(o,Fx(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new kx(i))),r.forEachChild(Tx,((e,r)=>{const i=Bk(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class qk{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Gk(e,t){let n=t instanceof HE?t:new HE(t),r=e,i=ZE(n);for(;null!==i;){const e=pr(r.node.children,i)||{children:{},childCount:0};r=new qk(i,r,e),n=QE(n),i=ZE(n)}return r}function Wk(e){return e.node.value}function Hk(e,t){e.node.value=t,$k(e)}function Kk(e){return e.node.childCount>0}function Zk(e,t){yE(e.node.children,((n,r)=>{t(new qk(n,e,r))}))}function Yk(e,t,n,r){n&&!r&&t(e),Zk(e,(e=>{Yk(e,t,!0,r)})),n&&r&&t(e)}function Qk(e){return new HE(null===e.parent?e.name:Qk(e.parent)+"/"+e.name)}function $k(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Wk(e)&&!Kk(e)}(n),i=fr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,$k(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,$k(e))}(e.parent,e.name,e)}const Jk=/[\[\].#$\/\u0000-\u001F\u007F]/,Xk=/[\[\].#$\u0000-\u001F\u007F]/,eT=10485760,tT=function(e){return"string"==typeof e&&0!==e.length&&!Jk.test(e)},nT=function(e){return"string"==typeof e&&0!==e.length&&!Xk.test(e)},rT=function(e,t,n,r){r&&void 0===t||iT(Ar(e,"value"),t,n)},iT=function(e,t,n){const r=n instanceof HE?new ox(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+sx(r));if("function"==typeof t)throw new Error(e+"contains a function "+sx(r)+" with contents = "+t.toString());if(uE(t))throw new Error(e+"contains "+t.toString()+" "+sx(r));if("string"==typeof t&&t.length>eT/3&&kr(t)>eT)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+sx(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(yE(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!tT(t)))throw new Error(e+" contains an invalid key ("+t+") "+sx(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=kr(t),ax(e)}(r,t),iT(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=kr(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+sx(r)+" in addition to actual children.")}},oT=function(e,t,n,r){if(!(r&&void 0===n||nT(n)))throw new Error(Ar(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},aT=function(e,t){if(".info"===ZE(t))throw new Error(e+" failed = Can't modify data under /.info/")};class sT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cT(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||rx(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function lT(e,t,n){cT(e,n),dT(e,(e=>rx(e,t)))}function uT(e,t,n){cT(e,n),dT(e,(e=>ix(e,t)||ix(t,e)))}function dT(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(hT(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function hT(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();rE&&oE("event: "+n.toString()),IE(r)}}}class fT{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tA(),this.transactionQueueTree_=new qk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pT(e,t,n){if(e.stats_=LE(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Xx(e.repoInfo_,((t,n,r,i)=>{vT(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>yT(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dr(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new ux(e.repoInfo_,t,((t,n,r,i)=>{vT(e,t,n,r,i)}),(t=>{yT(e,t)}),(t=>{!function(e,t){yE(t,((t,n)=>{bT(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,n){const r=t.toString();return DE[r]||(DE[r]=new oA(e.stats_,e.server_)),DE[r]}(e.repoInfo_),e.infoData_=new eA,e.infoSyncTree_=new bk({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Ik(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),bT(e,"connected",!1),e.serverSyncTree_=new bk({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);uT(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function gT(e){const t=e.infoData_.getNode(new HE(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function mT(e){return(t=(t={timestamp:gT(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function vT(e,t,n,r,i){e.dataUpdateCount++;const o=new HE(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=mr(n,(e=>Fx(e)));a=function(e,t,n,r){const i=Ok(e,r);if(i){const r=Rk(i),o=r.path,a=r.queryId,s=nx(o,t),c=IA.fromObject(n);return Dk(e,o,new hA(cA(a),s,c))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Fx(n);a=function(e,t,n,r){const i=Ok(e,r);if(null!=i){const r=Rk(i),o=r.path,a=r.queryId,s=nx(o,t);return Dk(e,o,new dA(cA(a),s,n))}return[]}(e.serverSyncTree_,o,t,i)}else if(r){const t=mr(n,(e=>Fx(e)));a=function(e,t,n){const r=IA.fromObject(n);return Ak(e,new hA({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Fx(n);a=Ik(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=AT(e,o)),uT(e.eventQueue_,s,a)}function yT(e,t){bT(e,"connected",t),!1===t&&function(e){_T(e,"onDisconnectEvents");const t=mT(e),n=tA();rA(e.onDisconnect_,KE(),((r,i)=>{const o=function(e,t,n,r){return Bk(t,new jk(n,e),r)}(r,i,e.serverSyncTree_,t);nA(n,r,o)}));let r=[];rA(n,KE(),((t,n)=>{r=r.concat(Ik(e.serverSyncTree_,t,n));const i=NT(e,t);AT(e,i)})),e.onDisconnect_=tA(),uT(e.eventQueue_,KE(),r)}(e)}function bT(e,t,n){const r=new HE("/.info/"+t),i=Fx(n);e.infoData_.updateSnapshot(r,i);const o=Ik(e.infoSyncTree_,r,i);uT(e.eventQueue_,r,o)}function wT(e){return e.nextWriteId_++}function CT(e,t,n,r,i){_T(e,"set",{path:t.toString(),value:n,priority:r});const o=mT(e),a=Fx(n,r),s=xk(e.serverSyncTree_,t),c=zk(a,s,o),l=wT(e),u=wk(e.serverSyncTree_,t,c,l,!0);cT(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const o="ok"===n;o||lE("set at "+t+" failed: "+n);const a=Ck(e.serverSyncTree_,l,!o);uT(e.eventQueue_,t,a),function(e,t,n,r){t&&IE((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}(0,i,n,r)}));const d=NT(e,t);AT(e,d),uT(e.eventQueue_,d,[])}function IT(e,t,n){let r;r=".info"===ZE(t._path)?_k(e.infoSyncTree_,t,n):_k(e.serverSyncTree_,t,n),lT(e.eventQueue_,t._path,r)}function _T(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),oE(n,...t)}function ET(e,t,n){return xk(e.serverSyncTree_,t,n)||Mx.EMPTY_NODE}function xT(e,t=e.transactionQueueTree_){if(t||PT(e,t),Wk(t)){const n=TT(e,t);Wn(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=ET(e,t,r);let o=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];Wn(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=nx(t,r.path);o=o.updateChild(i,r.currentOutputSnapshotRaw)}const s=o.val(!0),c=t;e.server_.put(c.toString(),s,(r=>{_T(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Ck(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();PT(e,Gk(e.transactionQueueTree_,t)),xT(e,e.transactionQueueTree_),uT(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)IE(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{lE("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}AT(e,t)}}),a)}(e,Qk(t),n)}else Kk(t)&&Zk(t,(t=>{xT(e,t)}))}function AT(e,t){const n=kT(e,t),r=Qk(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),a=o.map((e=>e.currentWriteId));for(let o=0;o<t.length;o++){const c=t[o],l=nx(n,c.path);let u,d=!1;if(Wn(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)d=!0,u=c.abortReason,i=i.concat(Ck(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)d=!0,u="maxretry",i=i.concat(Ck(e.serverSyncTree_,c.currentWriteId,!0));else{const n=ET(e,c.path,a);c.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){iT("transaction failed: Data returned ",r,c.path);let t=Fx(r);"object"==typeof r&&null!=r&&fr(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=c.currentWriteId,s=mT(e),l=zk(t,n,s);c.currentOutputSnapshotRaw=t,c.currentOutputSnapshotResolved=l,c.currentWriteId=wT(e),a.splice(a.indexOf(o),1),i=i.concat(wk(e.serverSyncTree_,c.path,l,c.currentWriteId,c.applyLocally)),i=i.concat(Ck(e.serverSyncTree_,o,!0))}else d=!0,u="nodata",i=i.concat(Ck(e.serverSyncTree_,c.currentWriteId,!0))}uT(e.eventQueue_,n,i),i=[],d&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===u?r.push((()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot))):r.push((()=>t[o].onComplete(new Error(u),!1,null)))))}var s;PT(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)IE(r[e]);xT(e,e.transactionQueueTree_)}(e,TT(e,n),r),r}function kT(e,t){let n,r=e.transactionQueueTree_;for(n=ZE(t);null!==n&&void 0===Wk(r);)r=Gk(r,n),n=ZE(t=QE(t));return r}function TT(e,t){const n=[];return ST(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function ST(e,t,n){const r=Wk(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);Zk(t,(t=>{ST(e,t,n)}))}function PT(e,t){const n=Wk(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Hk(t,n.length>0?n:void 0)}Zk(t,(t=>{PT(e,t)}))}function NT(e,t){const n=Qk(kT(e,t)),r=Gk(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{OT(e,t)})),OT(e,r),Yk(r,(t=>{OT(e,t)})),n}function OT(e,t){const n=Wk(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Wn(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Wn(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Ck(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Hk(t,void 0):n.length=o+1,uT(e.eventQueue_,Qk(t),i);for(let e=0;e<r.length;e++)IE(r[e])}}const RT=function(e,t){const n=DT(e),r=n.namespace;"firebase.com"===n.domain&&cE(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||cE("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&lE("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new PE(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new HE(n.pathString)}},DT=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",c=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lE(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(a="https"===s||"wss"===s,c=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}};class LT{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dr(this.snapshot.exportVal())}}class MT{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class jT{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Wn(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class FT{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return tx(this._path)?null:$E(this._path)}get ref(){return new UT(this._repo,this._path)}get _queryIdentifier(){const e=Jx(this._queryParams),t=mE(e);return"{}"===t?"default":t}get _queryObject(){return Jx(this._queryParams)}isEqual(e){if(!((e=Tr(e))instanceof FT))return!1;const t=this._repo===e._repo,n=rx(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class UT extends FT{constructor(e,t){super(e,t,new Qx,!1)}get parent(){const e=XE(this._path);return null===e?null:new UT(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class VT{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new HE(e),n=BT(this.ref,e);return new VT(this._node.getChild(t),n,Tx)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,n)=>e(new VT(n,BT(this.ref,t),Tx))))}hasChild(e){const t=new HE(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function zT(e,t){return(e=Tr(e))._checkNotDeleted("ref"),void 0!==t?BT(e._root,t):e._root}function BT(e,t){var n;return null===ZE((e=Tr(e))._path)?("child","path",!1,(n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oT("child","path",n,false)):oT("child","path",t,!1),new UT(e._repo,ex(e._path,t))}function qT(e,t){e=Tr(e),aT("push",e._path),rT("push",t,e._path,!0);const n=gT(e._repo),r=Bx(n),i=BT(e,r),o=BT(e,r);let a;return a=null!=t?WT(o,t).then((()=>o)):Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function GT(e){return aT("remove",e._path),WT(e,null)}function WT(e,t){e=Tr(e),aT("set",e._path),rT("set",t,e._path,!1);const n=new Xn;return CT(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function HT(e){return function(e,t){const n=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=nx(e,n);r=r||fk(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||fk(i,KE()):(i=new lk,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new fA(r,!0,!1):null;return bA(dk(i,t,DA(e.pendingWriteTree_,t._path),o?a.getNode():Mx.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((n=>{const r=Fx(n).withIndex(t._queryParams.getIndex()),i=Ik(e.serverSyncTree_,t._path,r);return lT(e.eventQueue_,t._path,i),Promise.resolve(r)}),(n=>(_T(e,"get for query "+dr(t)+" failed: "+n),Promise.reject(new Error(n)))))}((e=Tr(e))._repo,e).then((t=>new VT(t,new UT(e._repo,e._path),e._queryParams.getIndex())))}class KT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new LT("value",this,new VT(e.snapshotNode,new UT(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new MT(this,e,t):null}matches(e){return e instanceof KT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ZT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new MT(this,e,t):null}createEvent(e,t){Wn(null!=e.childName,"Child events should have a childName.");const n=BT(new UT(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new LT(e.type,this,new VT(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ZT&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function YT(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{IT(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new jT(n,o||void 0),s="value"===t?new KT(a):new ZT(t,a);return function(e,t,n){let r;r=".info"===ZE(t._path)?Ek(e.infoSyncTree_,t,n):Ek(e.serverSyncTree_,t,n),lT(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>IT(e._repo,e,s)}function QT(e,t,n,r){return YT(e,"value",t,n,r)}function $T(e,t,n,r){return YT(e,"child_added",t,n,r)}function JT(e,t,n,r){return YT(e,"child_changed",t,n,r)}!function(e){Wn(!sk,"__referenceConstructor has already been defined"),sk=e}(UT),function(e){Wn(!ck,"__referenceConstructor has already been defined"),ck=e}(UT);const XT={};function eS(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||cE("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),oE("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,s,c=RT(o,i),l=c.repoInfo;"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s?(a=!0,o=`http://${s}?ns=${l.namespace}`,c=RT(o,i),l=c.repoInfo):a=!c.repoInfo.secure;const u=i&&a?new AE(AE.OWNER):new xE(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!tT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nT(e)}(n))throw new Error(Ar(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",c),tx(c.path)||cE("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=XT[t.name];i||(i={},XT[t.name]=i);let o=i[e.toURLString()];return o&&cE("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new fT(e,false,n,r),i[e.toURLString()]=o,o}(l,e,u,new EE(e.name,n));return new tS(d,e)}class tS{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new UT(this._repo,KE())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=XT[t];n&&n[e.key]===e||cE(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&cE("Cannot call "+e+" on a deleted database.")}}function nS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nS(Object(n),!0).forEach((function(t){iS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oS(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function aS(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){oS(o,r,i,a,s,"next",e)}function s(e){oS(o,r,i,a,s,"throw",e)}a(void 0)}))}}function sS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ux.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ux.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},K_=ni,Qr(new Sr("database",((e,{instanceIdentifier:t})=>eS(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),si(W_,H_,void 0),si(W_,H_,"esm2017");var cS={apiKey:"AIzaSyATlKKGw99gurKNwHL7BU1-_Llj0hwJy60",authDomain:"crawlear-com.firebaseapp.com",databaseURL:"https://crawlear-com-default-rtdb.europe-west1.firebasedatabase.app",projectId:"crawlear-com",storageBucket:"crawlear-com.appspot.com",messagingSenderId:"879856500816",appId:"1:879856500816:web:4287599cc229d5f4c3d155",measurementId:"G-YD7VLXPTM2"},lS=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=ri(cS),this.provider=new _a,this.auth=Sc(),this.db=function(e=ii()){return $r(e,"firestore").getImmediate()}(),this.rdb=function(e=ii(),t){return $r(e,"database").getImmediate({identifier:t})}(),this.initAppCheck()}var t,n,r,i,o,a,s,c,l,u,d,h,f,p,g,m,v,y,b,w,C,I,_,E,x,A,k;return t=e,n=[{key:"userSearch",value:(k=aS(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=GC(this.db,"users"),o=qI(i,KI("displayName"),$I(t),YI(10)),e.next=5,u_(o);case 5:a=e.sent,s=[],a.forEach((function(e){var t=e.data();s.push({uid:e.id,displayName:t.displayName,photoURL:t.photoURL})})),n&&n(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r&&r(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e,t,n){return k.apply(this,arguments)})},{key:"getUser",value:(A=aS(regeneratorRuntime.mark((function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=WC(this.db,"users",t),e.next=3,c_(i);case 3:(o=e.sent).exists()?((a=o.data()).uid=i.id,n&&n(a)):r&&r();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return A.apply(this,arguments)})},{key:"getUserExtraData",value:(x=aS(regeneratorRuntime.mark((function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i={},o=qI(GC(this.db,"games"),WI("uids","array-contains",t)),e.next=5,u_(o);case 5:return a=e.sent,i.pilotGames=a.docs.length,o=qI(GC(this.db,"games"),WI("jids","array-contains",t)),e.next=10,u_(o);case 10:return a=e.sent,i.judgeGames=a.docs.length,o=qI(GC(this.db,"games"),WI("owner","array-contains",t)),e.next=15,u_(o);case 15:return a=e.sent,i.ownerGames=a.docs.length,o=qI(GC(this.db,"follows"),WI("toUid","==",t)),e.next=20,u_(o);case 20:return a=e.sent,i.followers=a.docs.length,o=qI(GC(this.db,"follows"),WI("fromUid","==",t)),e.next=25,u_(o);case 25:a=e.sent,i.following=a.docs.length,n&&n(i),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(0),r&&r();case 33:case"end":return e.stop()}}),e,this,[[0,30]])}))),function(e,t,n){return x.apply(this,arguments)})},{key:"setUser",value:(E=aS(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.uid,o=t.displayName,a=t.photoURL,s=t.description,c=t.instagram,l={displayName:o,photoURL:a,registrationDate:(new Date).toString(),description:s||"",instagram:c||""},e.prev=2,e.next=5,d_(WC(this.db,"users",i),l);case 5:n&&n(l),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),r&&r();case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e,t,n){return E.apply(this,arguments)})},{key:"transformGamesIntoData",value:function(e){return{name:e.name,uids:e.uids,jids:e.jids,date:e.date,location:e.location,gameType:e.gameType,players:e.players,judges:e.judges||[],isPublic:e.isPublic,maxTime:e.maxTime,maxPoints:e.maxPoints,zones:e.zones,gates:e.gates,gameStatus:e.gameStatus,owner:e.owner,courtesyTime:e.courtesyTime}}},{key:"transformGamesIntoModel",value:function(e){var t=[];return e.forEach((function(e){var n,r=e.data();r.zones||(r.players.forEach((function(e){e.zones=[{fiascoControlTextValues:[],controlTextValues:[],gateProgression:1,gateProgressionData:[],gatesWithBonification:0,gatesWithFail:0,judgedBy:[],points:e.points,totalPoints:e.points,simpathyPoints:0,time:e.time,handicap:0}],e.totalTime=e.time,e.totalPoints=e.points,e.totalGateProgression=1})),r.gates=[1],r.zones=1),(n=new Bn(r.name,r.date,r.location,r.isPublic,r.gameType,r.players,r.judges||[],r.maxTime,r.maxPoints,r.gates,r.zones,r.gameStatus,r.uids,r.jids,r.owner)).gid=e.id,t.push(n)})),t}},{key:"getGame",value:(_=aS(regeneratorRuntime.mark((function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=WC(this.db,"games",t),e.next=3,c_(i);case 3:(o=e.sent).exists()?((a=o.data()).gid=i.id,n(a)):r();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return _.apply(this,arguments)})},{key:"getGamesFromUser",value:(I=aS(regeneratorRuntime.mark((function e(t,n,r,i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=[],a=qI(GC(this.db,"games"),WI("uids","array-contains",t)),e.next=5,u_(a);case 5:e.sent.docs.forEach((function(e){var r=e.data();(!r.jids||r.jids.indexOf(t)<0)&&(n&&r.isPublic||!n)&&o.push(e)})),r&&r(this.transformGamesIntoModel(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i&&i();case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,r){return I.apply(this,arguments)})},{key:"getGamesFromJudge",value:(C=aS(regeneratorRuntime.mark((function e(t,n,r,i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=[],a=qI(GC(this.db,"games"),WI("jids","array-contains",t)),e.next=5,u_(a);case 5:e.sent.docs.forEach((function(e){var t=e.data();(n&&t.isPublic||!n)&&o.push(e)})),r&&r(this.transformGamesIntoModel(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i&&i();case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,r){return C.apply(this,arguments)})},{key:"getGamesFromDirector",value:(w=aS(regeneratorRuntime.mark((function e(t,n,r,i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=[],a=qI(GC(this.db,"games"),WI("owner","array-contains",t)),e.next=5,u_(a);case 5:e.sent.docs.forEach((function(e){var r=e.data();(!r.jids||r.jids.indexOf(t)<0)&&(n&&r.isPublic||!n)&&o.push(e)})),r&&r(this.transformGamesIntoModel(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i&&i();case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n,r){return w.apply(this,arguments)})},{key:"setGame",value:(b=aS(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p_(GC(this.db,"games"),this.transformGamesIntoData(t));case 3:i=e.sent,t.gid=i.id,n&&n(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r&&r();case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e,t,n){return b.apply(this,arguments)})},{key:"updateGame",value:function(e){h_(WC(this.db,"games",e.gid),this.transformGamesIntoData(e))}},{key:"removeGame",value:(y=aS(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f_(WC(this.db,"games",t));case 2:GT(zT(this.rdb,"gameProgression/".concat(t,"/"))),GT(zT(this.rdb,"presenceRequests/".concat(t,"/")));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"removeIdFromGame",value:(v=aS(regeneratorRuntime.mark((function e(t,n,r){var i,o,a,s,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=WC(this.db,"games",t.gid),e.next=3,c_(i);case 3:if(!(o=e.sent).exists()){e.next=14;break}return a=o.data(),s=a[r].indexOf(n),a.gid=o.id,a[r].splice(s,1),c=this.transformGamesIntoData(a),(l={})[r]=c[r],c[r]=l[r],h_(WC(this.db,"games",t.gid),l),e.abrupt("return",a);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return v.apply(this,arguments)})},{key:"initAppCheck",value:function(){Ki(this.app,{provider:new Hi("6LfMPSIiAAAAABUfGLi_j7mnUr1snw9RriT8eBqP"),isTokenAutoRefreshEnabled:!0})}},{key:"isUserLogged",value:function(){return null!=this.auth.currentUser}},{key:"checkIfLogged",value:function(e){var t=this;this.checkIfRedirect(e),this.auth.onAuthStateChanged((function(n){n&&t.getUser(n.uid,(function(r){t.setUserInContext(r,n.uid),e()}),(function(){t.setUser(n,(function(r){t.setUserInContext(r,n.uid),e()}),(function(){}))}))}))}},{key:"checkIfRedirect",value:function(e){var t=this;ec(this.auth).then((function(n){t.getUser(n.user.uid,(function(r){t.setUserInContext(r,n.user.uid),e&&e(r)}),(function(){t.setUser(n.user,e,(function(e){t.setUserInContext(e,n.user.uid)}))}))})).catch((function(e){}))}},{key:"setUserInContext",value:function(e,t){e.instagram=e.instagram||"",window.crawlear=rS(rS({},window.crawlear),{},{user:e}),window.crawlear.user.uid=t}},{key:"signInWithGoogle",value:function(e){var t,n,r=this;(t=this.auth,n=as,Tr(t).setPersistence(n)).then((function(){Gt.isMobile()?Xs(r.auth,r.provider):Hs(r.auth,r.provider).then((function(t){r.getUser(t.user.uid,(function(n){r.setUserInContext(n,t.user.uid),e&&e(n)}),(function(){r.setUser(t.user,e,(function(e){r.setUserInContext(e,t.user.uid)}))}))})).catch((function(e){}))})).catch((function(e){}))}},{key:"logout",value:function(){Sc().signOut(),window.crawlear.user={}}},{key:"getUserGameRequests",value:function(e,t,n,r,i){var o=zT(this.rdb,"gameRequests/".concat(e));$T(o,(function(e){var t={};t[e.key]=e.val(),r(t)})),YT(o,"child_removed",(function(e){i(e.key)}),void 0,void 0)}},{key:"getGameProgressionOnce",value:function(e,t,n){HT(zT(this.rdb,"gameProgression/".concat(e))).then((function(e){t&&t(e.key,e.val())}),n)}},{key:"getGameProgression",value:function(e,t,n,r,i){var o=zT(this.rdb,"gameProgression/".concat(e));$T(o,(function(e){r(e.key,e.val())})),JT(o,(function(e){i(e.key,e.val())}))}},{key:"setGameProgression",value:function(e,t,n,r,i){WT(zT(this.rdb,"gameProgression/".concat(e,"/").concat(n,"/").concat(t,"/").concat(r)),i)}},{key:"removeGameProgression",value:function(e){GT(zT(this.rdb,"gameProgression/".concat(e)))}},{key:"getGameResult",value:function(e,t,n){HT(zT(this.rdb,"gameProgression/".concat(e.gid))).then((function(n){var r=n.val();Object.entries(r).forEach((function(t,n){Object.entries(t[1]).forEach((function(t,r){t[1].data&&(e.players[n].zones[r]=t[1].data)}))})),t&&t(e)}),n)}},{key:"createGameProgression",value:function(e){for(var t=0;t<e.players.length;t++)for(var n=0;n<e.zones;n++)this.setGameProgression(e.gid,e.players[t].id,e.players[t].group,n,{status:"waiting",data:{}})}},{key:"acceptGameRequest",value:function(e,t){WT(zT(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/status/")),"accepted"),GT(zT(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/")))}},{key:"rejectGameRequest",value:function(e,t){WT(zT(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/status/")),"rejected"),GT(zT(this.rdb,"gameRequests/".concat(e,"/").concat(t,"/")))}},{key:"setUserGameRequest",value:function(e,t,n,r,i){QT(qT(zT(this.rdb,"gameRequests/".concat(n,"/")),{fromUid:e,fromName:t,toUid:n,gameName:r,date:(new Date).toLocaleDateString(),status:"pending"}),(function(e){var t=e.val();t&&i(t,t.status)}))}},{key:"setDirectorPresenceRequest",value:function(e,t,n,r,i){QT(qT(zT(this.rdb,"presenceRequests/".concat(e,"/")),{zone:t,playerName:n,fromName:r,date:(new Date).toLocaleDateString(),status:"pending"}),(function(e){var t=e.val();t&&i(t,e.key)}))}},{key:"getDirectorPresenceRequest",value:function(e,t,n){var r=zT(this.rdb,"presenceRequests/".concat(e));$T(r,(function(e){t(e.key,e.val())})),JT(r,(function(e){n(e.key,e.val())}))}},{key:"acceptDirectorPresenceRequest",value:function(e,t){WT(zT(this.rdb,"presenceRequests/".concat(e,"/").concat(t,"/status/")),"accepted")}},{key:"removeDirectorPresenceRequest",value:function(e){GT(zT(this.rdb,"presenceRequests/".concat(e)))}},{key:"setPost",value:(m=aS(regeneratorRuntime.mark((function e(t,n,r,i,o,a,s){var c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c={uid:t,gid:o,date:r,url:n,text:i},!(i.length>=0&&n.length>=0)){e.next=15;break}return e.prev=2,e.next=5,p_(GC(this.db,"socialPosts"),c);case 5:l=e.sent,c.pid=l.id,a&&a(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),s&&s();case 13:e.next=16;break;case 15:s&&s();case 16:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t,n,r,i,o,a){return m.apply(this,arguments)})},{key:"setFollow",value:(g=aS(regeneratorRuntime.mark((function e(t,n,r,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p_(GC(this.db,"follows"),{fromUid:t,toUid:n});case 3:o=e.sent,r&&r(o.id),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i&&i();case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t,n,r){return g.apply(this,arguments)})},{key:"removeFollow",value:(p=aS(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f_(WC(this.db,"follows",t));case 2:n&&n();case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return p.apply(this,arguments)})},{key:"getPost",value:(f=aS(regeneratorRuntime.mark((function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=WC(this.db,"socialPosts",t),e.next=3,c_(i);case 3:(o=e.sent).exists()?((a=o.data()).pid=i.id,n(a)):r();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return f.apply(this,arguments)})},{key:"getPosts",value:(h=aS(regeneratorRuntime.mark((function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=qI(GC(this.db,"socialPosts"),WI("uid","==",t),KI("date","desc"),YI(10)),e.next=4,u_(i);case 4:o=e.sent,a=[],o.docs.forEach((function(e){a.push(rS(rS({},e.data()),{},{pid:e.id}))})),n&&n(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r&&r();case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e,t,n){return h.apply(this,arguments)})},{key:"getPostsFromFollowFeed",value:(d=aS(regeneratorRuntime.mark((function e(t,n,r){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(regeneratorRuntime.mark((function e(){var r,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],o=qI(GC(i.db,"follows"),WI("fromUid","==",t)),e.next=4,u_(o);case 4:a=e.sent,s=a.docs,c=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],s.splice(0,10).forEach((function(e){var n=e.data();t.push(n.toUid)})),n=qI(GC(i.db,"socialPosts"),WI("uid","in",t),KI("date","desc"),YI(10)),e.next=6,u_(n);case 6:e.sent.docs.forEach((function(e){var t=e.data();t.pid=e.id,r.push(t)}));case 8:case"end":return e.stop()}}),e)}));case 7:if(!(s.length>0)){e.next=11;break}return e.delegateYield(c(),"t0",9);case 9:e.next=7;break;case 11:n&&n(r);case 12:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),r&&r();case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),function(e,t,n){return d.apply(this,arguments)})},{key:"removePost",value:(u=aS(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f_(WC(this.db,"socialPosts",t));case 2:this.removeLikes(t,10),n&&n();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return u.apply(this,arguments)})},{key:"getPostLikesCount",value:(l=aS(regeneratorRuntime.mark((function e(t,n,r){var i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=qI(GC(this.db,"likes"),WI("pid","==",t),YI(15)),e.next=4,u_(i);case 4:o=e.sent,a=o.docs.length,n&&n(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r&&r();case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t,n){return l.apply(this,arguments)})},{key:"getIfPostIsLiked",value:(c=aS(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=qI(GC(this.db,"likes"),WI("uid","==",n),WI("pid","==",t),YI(1)),e.next=4,u_(o);case 4:a=e.sent,s=1===a.docs.length,r&&r(s,s?a.docs[0].id:""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i&&i();case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t,n,r){return c.apply(this,arguments)})},{key:"getFidFromFollow",value:(s=aS(regeneratorRuntime.mark((function e(t,n,r,i){var o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=qI(GC(this.db,"follows"),WI("fromUid","==",t),WI("toUid","==",n),YI(1)),e.next=4,u_(o);case 4:a=e.sent,s=1===a.docs.length?a.docs[0].id:-1,r&&r(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i&&i();case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e,t,n,r){return s.apply(this,arguments)})},{key:"setLike",value:(a=aS(regeneratorRuntime.mark((function e(t,n,r,i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pid:t,uid:n},e.prev=1,e.next=4,p_(GC(this.db,"likes"),o);case 4:a=e.sent,r&&r(a.id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i&&i();case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e,t,n,r){return a.apply(this,arguments)})},{key:"removeLike",value:(o=aS(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f_(WC(this.db,"likes",t));case 2:n&&n();case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return o.apply(this,arguments)})},{key:"removeLikes",value:(i=aS(regeneratorRuntime.mark((function e(t,n){var r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qI(GC(this.db,"likes"),WI("pid","==",t),KI("__name__"),YI(n)),e.abrupt("return",new Promise((function(e,t){i.deleteQueryBatch(r,e).catch(t)})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"deleteQueryBatch",value:(r=aS(regeneratorRuntime.mark((function e(t,n){var r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u_(t);case 2:if(0!==(r=e.sent).size){e.next=7;break}return n(),e.abrupt("return");case 7:r.docs.forEach(function(){var e=aS(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=b_(i.db)).delete(t.ref),n.commit();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){i.deleteQueryBatch(t,n)}),100);case 9:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}],n&&sS(t.prototype,n),e}(),uS=lS,dS=i(92300),hS={};hS.styleTagTransform=Ee(),hS.setAttributes=we(),hS.insert=ye().bind(null,"head"),hS.domAPI=me(),hS.insertStyleElement=Ie(),pe()(dS.Z,hS),dS.Z&&dS.Z.locals&&dS.Z.locals;var fS=function(e){var n=e.gamePosition,r=e.onClickFunction,i=e.text;return t.createElement("div",{"data-gameposition":n,onClick:function(e){e.stopPropagation(),r(e)},className:"gameListMenuItem"},i)},pS=function(e){var n=e.gamePosition,r=e.onRemoveClick,i=e.onRegenerateClick,o=de().t,a=t.useRef(null);function s(){a.current.classList.toggle("closed")}return t.createElement("span",{ref:a,className:"gameListItemMenu rounded closed"},t.createElement("div",{onClick:s},t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"}),t.createElement("div",{className:"burguerMenuBar"})),t.createElement(fS,{text:o("description.eliminarpartida"),gamePosition:n,onClickFunction:function(e){s(),r(e)}}),t.createElement(fS,{text:o("description.regenerarpartida"),gamePosition:n,onClickFunction:i}))},gS=function(e){var n=e.location;return t.createElement("div",{className:"mapouter"},t.createElement("div",{className:"gmap_canvas"},t.createElement("iframe",{id:"gmap_canvas",src:"https://maps.google.com/maps?q=".concat(n.latitude,",").concat(n.longitude,"&t=&z=13&ie=UTF8&iwloc=&output=embed"),frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0"}),t.createElement("style",null,".mapouter{position:relative;text-align:right;}"),t.createElement("style",null,".gmap_canvas {overflow:hidden;background:none!important;}")))},mS=i(5523),vS={};vS.styleTagTransform=Ee(),vS.setAttributes=we(),vS.insert=ye().bind(null,"head"),vS.domAPI=me(),vS.insertStyleElement=Ie(),pe()(mS.Z,vS),mS.Z&&mS.Z.locals&&mS.Z.locals;var yS=function(e){var n=e.game,r=de().t;return t.createElement("div",{className:"gameHeaderInfo rounded"},t.createElement("div",{className:"gameGameType"},r("gametype.modojuego"),": ",t.createElement("span",{className:"bold"},function(e){switch(e){case 0:return r("gametype.aecar");case 1:return r("gametype.rey");case 2:default:return r("gametype.isrcc");case 3:return r("gametype.levante124");case 4:return r("gametype.copaespana");case 5:return r("gametype.minicrawlerpassion");case 6:return r("gametype.generic")}}(n.gameType))),t.createElement("div",{className:"gamePointsType"},r("description.zonas"),": ",t.createElement("span",{className:"bold"},n.zones)),t.createElement("div",{className:"gameIsPublic"},t.createElement("span",{className:"bold"},n.isPublic?r("description.esPublica"):"")),n.location&&n.location.longitude&&n.location.longitude?t.createElement(t.Fragment,null,t.createElement("div",{className:"gameName"},r("description.localizacion")," :"),t.createElement(gS,{location:n.location})):t.createElement(t.Fragment,null),t.createElement("div",{className:"gamePointsType"},n.maxPoints>0?"".concat(r("description.puntosmaximo"),": ").concat(n.maxPoints):""),t.createElement("div",{className:"gamePointsType"},n.maxTime>0?"".concat(r("description.tiempomaximo"),": ").concat(Gt.printTime(Gt.millisToTime(n.maxTime))):""))},bS=i(53803),wS={};wS.styleTagTransform=Ee(),wS.setAttributes=we(),wS.insert=ye().bind(null,"head"),wS.domAPI=me(),wS.insertStyleElement=Ie(),pe()(bS.Z,wS),bS.Z&&bS.Z.locals&&bS.Z.locals;var CS=function(e){var n=e.controlTextValues,r=e.texts,i=0,o=[];return n&&n.forEach((function(e){0!==e&&o.push(t.createElement("div",{key:i,className:"controlTextValues"},r[i],": ",e)),i++})),o};function IS(e){return IS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IS(e)}var _S=function(e){var n=e.gameType,r=e.gameProgression;if(r.data){var i=r.data.points,o=r.data.totalPoints,a=r.data.time,s=r.data.gatesWithFail,c=r.data.gateProgression,l=r.data.simpathyPoints,u=r.data.handicap,d=r.data.gatesWithBonification,h=Gt.tokenToTexts(Jt.texts),f=Gt.tokenToTexts(Jt.fiascoTexts);return 2===n&&(h=Gt.tokenToTexts(rn.texts),f=Gt.tokenToTexts(rn.fiascoTexts)),3===n&&(h=Gt.tokenToTexts(xn.texts),f=Gt.tokenToTexts(xn.fiascoTexts)),4===n&&(h=Gt.tokenToTexts(Cn.texts),f=Gt.tokenToTexts(Cn.fiascoTexts)),5===n&&(h=Gt.tokenToTexts(On.texts),f=Gt.tokenToTexts(On.fiascoTexts)),6===n&&(h=Gt.tokenToTexts(Mn.texts),f=Gt.tokenToTexts(Mn.fiascoTexts)),t.createElement(t.Fragment,null,t.createElement("ul",null,t.createElement("li",null,Mt("description.puntos"),": ",t.createElement("span",{className:"bold"},i)),c?t.createElement("li",null,Mt("description.avancepuerta"),": ",t.createElement("span",{className:"bold"},c)):t.createElement(t.Fragment,null),void 0!==IS(s)&&void 0!==IS(d)?t.createElement(t.Fragment,null,t.createElement("li",null,Mt("description.fallospuerta"),": ",t.createElement("span",{className:"bold"},s)),t.createElement("li",null,Mt("description.bonificacion"),": ",t.createElement("span",{className:"bold"},-2*d))):t.createElement(t.Fragment,null),void 0!==IS(l)?t.createElement("li",null,Mt("description.portiempo"),": ",t.createElement("span",{className:"bold"},l)):t.createElement(t.Fragment,null),void 0!==IS(u)?t.createElement("li",null,Mt("description.handicap"),": ",t.createElement("span",{className:"bold"},u)):t.createElement(t.Fragment,null),t.createElement("li",null,Mt("description.total"),": ",t.createElement("span",{className:"bold"},o)),t.createElement("li",null,Mt("description.tiempo"),": ",t.createElement("span",{className:"bold"},Gt.printTime(Gt.millisToTime(a))))),t.createElement(CS,{controlTextValues:r.data.gateProgressionData?qn.sumControlTextValues(r.data.gateProgressionData):r.data.controlTextValues,texts:h}),r.data.fiascoControlTextValues&&r.data.fiascoControlTextValues.filter((function(e){return e>0})).length>0?t.createElement(t.Fragment,null,t.createElement("div",{className:"fiascosText left bold"},Mt("points.fiascos"),":"),t.createElement(CS,{controlTextValues:r.data.fiascoControlTextValues,texts:f})):t.createElement(t.Fragment,null))}return t.createElement(t.Fragment,null)},ES=i(37789),xS=function(e){var n=e.game,r=e.gameProgression,i=[],o=0;return n&&(i.push(t.createElement(yS,{key:"header",game:n})),n.players.forEach((function(e){var a,s=[],c=0;e.zones.forEach((function(i,o){var l=e.group;if(r&&r[l]&&r[l][e.id]&&r[l][e.id][c]&&r[l][e.id][c].data){var u=[],d=r[l][e.id][c];"done"===d.status?u.push(t.createElement(_S,{gameType:n.gameType,key:"progressRow".concat(c),gameProgression:d})):"repair"===d.status&&u.push(Mt("points.reparacion").toUpperCase()),qn.isFiasco(n,e.id,o)&&(a=t.createElement("img",{src:ES,alt:"fiasco"})),s.push(t.createElement("div",{key:c,className:"gameProgressionInfoItem"},t.createElement("div",{className:"bold"},Mt("description.zona")," ",c+1," ",a),u))}c++})),s.length>0&&i.push(t.createElement("div",{key:o+c,className:"gameProgressionItem rounded rounded1"},t.createElement("img",{src:e.avatar,alt:"player avatar"}),t.createElement("div",null,s))),o++}))),i},AS=i(99134),kS=i(104),TS=function(e){var n=e.game,r=e.isDraw,i=de().t,o=[],a=Gt.tokenToTexts(Jt.texts),s=0,c=0;switch(n.gameType){case 2:a=Gt.tokenToTexts(rn.texts);break;case 3:a=Gt.tokenToTexts(xn.texts);break;case 4:a=Gt.tokenToTexts(Cn.texts);break;case 5:a=Gt.tokenToTexts(On.texts);break;case 6:a=Gt.tokenToTexts(Mn.texts);break;default:a=Gt.tokenToTexts(Jt.texts)}function l(e){var t=e.target;(t="IMG"===t.tagName?t.parentElement:t).parentElement.nextElementSibling.classList.toggle("closed")}return o.push(t.createElement("tr",{key:"game".concat((new Date).getMilliseconds())},t.createElement("td",null),t.createElement("td",{className:""}),t.createElement("td",null,i("description.puntos")),t.createElement("td",null,i("description.puertas")),t.createElement("td",null,i("description.bonificacion")),t.createElement("td",null,i("description.puntos")," ",i("description.portiempo")),t.createElement("td",null))),n.players.forEach((function(e){o.push(t.createElement("tr",{key:"header".concat(c+s)},r?t.createElement("td",null):t.createElement("td",{className:"bold gameListPosition"},0===s?t.createElement("img",{src:AS,alt:"winner"}):s+1),1===n.gameType?t.createElement("td",{className:"bold gameListPlayerName gameListPoints bold textOverflow"},e.name):t.createElement("td",{className:"bold gameListPlayerName gameListPoints bold withTime textOverflow"},e.name),t.createElement("td",{className:"bold gameListPoints"},e.totalPoints),t.createElement("td",{className:"gameListPoints"},"."),t.createElement("td",{className:"gameListPoints"},"."),t.createElement("td",{className:"gameListPoints"},"."),1!==n.gameType?t.createElement("td",{className:"bold gameListPoints gameListTime"},e.totalTime?Gt.printTime(Gt.millisToTime(e.totalTime)):t.createElement(t.Fragment,null,"00:00:000")):t.createElement(t.Fragment,null))),e.zones.forEach((function(r){var u;u=r.fiascoControlTextValues?r.fiascoControlTextValues[4]?t.createElement("img",{src:kS,alt:"battery"}):n.maxTime&&r.time===n.maxTime+n.courtesyTime||n.maxPoints&&r.totalPoints===n.maxPoints||r.fiascoControlTextValues.filter((function(e){return e>0})).length>0?t.createElement("img",{src:ES,alt:"fiasco"}):t.createElement(t.Fragment,null):r.battery?t.createElement("img",{src:kS,alt:"fiasco"}):n.maxTime&&r.time===n.maxTime+n.courtesyTime||n.maxPoints&&r.totalPoints===n.maxPoints?t.createElement("img",{src:ES,alt:"battery"}):t.createElement(t.Fragment,null),o.push(t.createElement("tr",{key:"row0".concat(c+s+1)},t.createElement("td",null,u),t.createElement("td",{onClick:l},"".concat(i("description.zona")," ").concat(c%e.zones.length+1),t.createElement("img",{className:"iconArrowDown",src:Yt,alt:"click open"})),t.createElement("td",{className:"gameListPoints"},r.totalPoints),t.createElement("td",{className:"gameListPoints"},r.gateProgression),t.createElement("td",{className:"gameListPoints"},r.gatesWithBonification?-2*r.gatesWithBonification:"0"),t.createElement("td",{className:"gameListPoints"},r.simpathyPoints?r.simpathyPoints:"0"),1!==n.gameType?t.createElement("td",{className:"gameListTime"},Gt.printTime(Gt.millisToTime(r.time))):t.createElement(t.Fragment,null))),o.push(t.createElement("tr",{key:"row1".concat(c+s+2),className:"closed"},t.createElement("td",{colSpan:7},0!==r.handicap?t.createElement("div",{className:"controlTextValues"},i("description.bonificacionaccesorios"),": ",r.handicap):t.createElement(t.Fragment,null),t.createElement(CS,{controlTextValues:qn.sumControlTextValues(r.gateProgressionData),texts:a}),r.fiascoControlTextValues&&r.fiascoControlTextValues.filter((function(e){return e>0})).length?t.createElement(t.Fragment,null,t.createElement("div",{className:"left bold"},i("points.fiascos"),":"),t.createElement(CS,{controlTextValues:r.fiascoControlTextValues,texts:Gt.tokenToTexts(rn.fiascoTexts)})):t.createElement(t.Fragment,null)))),c++})),s++})),t.createElement("div",{className:"gameParticipants"},t.createElement("table",null,t.createElement("tbody",null,o)))},SS=i(38992),PS={};PS.styleTagTransform=Ee(),PS.setAttributes=we(),PS.insert=ye().bind(null,"head"),PS.domAPI=me(),PS.insertStyleElement=Ie(),pe()(SS.Z,PS),SS.Z&&SS.Z.locals&&SS.Z.locals;var NS=function(e){var n=e.game,r=de().t,i=!1,o=t.createElement(t.Fragment,null);return n.players.length>1&&n.players[0].totalPoints===n.players[1].totalPoints&&n.players[0].totalTime===n.players[1].totalTime&&(!n.players[0].totalGateProgression||n.players[0].totalGateProgression===n.players[1].totalGateProgression)?(i=!0,o=t.createElement("div",{className:""},r("description.empate"))):o=t.createElement(t.Fragment,null,r("description.ganador"),": ",t.createElement("b",null,n.players[0].name)),t.createElement("div",{className:"gameContainer"},t.createElement("div",{className:"winnerBox importantNote rounded"},o),t.createElement("div",{className:"gameList rounded rounded2"},t.createElement(yS,{game:n}),t.createElement(TS,{game:n,isDraw:i})))},OS=i(14293),RS={};function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}RS.styleTagTransform=Ee(),RS.setAttributes=we(),RS.insert=ye().bind(null,"head"),RS.domAPI=me(),RS.insertStyleElement=Ie(),pe()(OS.Z,RS),OS.Z&&OS.Z.locals&&OS.Z.locals;var jS=function(e){var n,r=e.game,i=e.gamePosition,o=e.onGamePlay,a=e.readOnly,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return MS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState(null),2),c=s[0],l=s[1],u=window.crawlear.fb,d=t.createElement(t.Fragment,null);return 0===r.gameStatus||1===r.gameStatus?(c&&(n=t.createElement(xS,{game:r,gameProgression:c})),!r.jids.find((function(e){return window.crawlear.user.uid===e}))&&!qn.isCurrentUserIsOwner(r.owner)||a||(n=t.createElement(t.Fragment,null,t.createElement("button",{className:"importantNote playGameButton","data-gameposition":i,onClick:o}),n))):n=t.createElement(NS,{game:r}),qn.isCurrentUserIsOwner(r.owner)&&(d="(D) "),t.createElement("div",{key:i,className:"gameContainer rounded rounded1 closed"},t.createElement("span",{onClick:function(e){var t=e.target.parentElement;t.classList.toggle("closed"),t.classList.contains("closed")||c||u.getGameProgressionOnce(r.gid,(function(e,t){l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DS(Object(n),!0).forEach((function(t){LS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}),(function(){}))},className:"textOverflow gameName bold"},d,r.name," - ",r.date),n)},FS=i(9393),US={};function VS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}US.styleTagTransform=Ee(),US.setAttributes=we(),US.insert=ye().bind(null,"head"),US.domAPI=me(),US.insertStyleElement=Ie(),pe()(FS.Z,US),FS.Z&&FS.Z.locals&&FS.Z.locals;var BS=function(e){var n=e.games,r=e.gameProgressions,i=e.readOnly,o=e.onRemoveGame,a=e.onConfigureGame,s=e.title,c=e.onGamePlay,l=de().t,u=(window.crawlear.fb,0),d=[];function h(e){var t=e.target.getAttribute("data-gameposition"),r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VS(Object(n),!0).forEach((function(t){zS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n[t]);qn.init(r,qn.getGameTypeControlTextValuesInit(r.gameType),qn.getGameTypeFiascoControlTextValuesInit(r.gameType),!0),a(t)}return n&&n.forEach((function(e){d.push(t.createElement("div",{key:u},t.createElement(pS,{key:"menu".concat(u),gamePosition:u,onRegenerateClick:h,onRemoveClick:function(e){!function(e){var t=e.target.getAttribute("data-gameposition");window.confirm(l("content.seguroborrarjuego"))&&o&&o(Number(t))}(e)}}),t.createElement(jS,{key:"item".concat(u),game:e,onGamePlay:c,gamePosition:u,gameProgression:r&&r[e.gid],readOnly:i}))),u++})),n&&0!==n.length||d.push(t.createElement("div",{key:u,className:"centerText smallText"},l("description.nopartidas"))),t.createElement("div",{className:"gameList rounded rounded3"},t.createElement("div",{className:"headerText bold"},s),d)},qS=i(94649),GS={};GS.styleTagTransform=Ee(),GS.setAttributes=we(),GS.insert=ye().bind(null,"head"),GS.domAPI=me(),GS.insertStyleElement=Ie(),pe()(qS.Z,GS),qS.Z&&qS.Z.locals&&qS.Z.locals;var WS=i(61875),HS=i(15663);function KS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KS(Object(n),!0).forEach((function(t){YS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $S=function(e){var n=e.user,r=de().t,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return QS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState({}),2),o=i[0],a=i[1],s=window.crawlear.fb,c=t.useRef({}),l=[];function u(e){a(e)}function d(e){c.current=ZS(ZS({},c.current),e),a(ZS({},c.current))}function h(e){delete c.current[e],a(ZS({},c.current))}return t.useEffect((function(){s.getUserGameRequests(n.uid,u,(function(){}),d,h)}),[]),o&&Object.keys(o).forEach((function(e){l.push(t.createElement("div",{className:"gameRequestsItem smallText"},t.createElement("span",{className:"gameRequestsFrom"},r("description.peticionde"),": ",t.createElement("span",{className:"bold"},o[e].fromName)),t.createElement("div",{className:"gameRequestGameName"},r("description.parajuego"),": ",t.createElement("span",{className:"bold"},o[e].gameName)),t.createElement("span",{className:"acceptButton",onClick:function(){s.acceptGameRequest(n.uid,e)}},t.createElement("img",{src:WS,alt:"like icon"})),t.createElement("span",{className:"rejectButton",onClick:function(){s.rejectGameRequest(n.uid,e)}},t.createElement("img",{src:HS,alt:"dislike icon"}))))})),l.length>0?t.createElement("div",{className:"gameRequestsContainer rounded rounded1"},t.createElement("div",{className:"headerText bold"},r("description.peticionesdejuego")),l):t.createElement(t.Fragment,null)},JS=i(19114),XS={};XS.styleTagTransform=Ee(),XS.setAttributes=we(),XS.insert=ye().bind(null,"head"),XS.domAPI=me(),XS.insertStyleElement=Ie(),pe()(JS.Z,XS),JS.Z&&JS.Z.locals&&JS.Z.locals;var eP=function(e){var n=e.message;return!n||n.length<=0?t.createElement(t.Fragment,null):t.createElement("div",{className:"errorBoxContainer"},n)},tP=t.createContext();function nP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rP(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iP="waiting",oP="playing",aP="done",sP=function(e){var n,r=e.game,i=e.jidGroup,o=e.onZoneClick,a=de().t,s=nP(t.useState(-1),2),c=s[0],l=s[1],u=nP(t.useState(-1),2),d=u[0],h=u[1],f=t.useRef(),p=nP(t.useContext(tP),2),g=p[0],m=(p[1],[]),v=(window.crawlear.fb,0);function y(){o(-1,-1),h(-1),l(-1)}return m.push(t.createElement("div",{key:"eZ",className:""},a("content.estadozona"))),m.push(t.createElement("div",{key:"nAz"},(n=new Array(r.zones).fill(!1),g&&Object.entries(g).forEach((function(e,t){Object.entries(e[1]).forEach((function(e,t){Object.entries(e[1]).forEach((function(e,t){"playing"===e[1].status&&!n[t]&&(n[t]=!0)}))}))})),function(e){var n=[];return e.forEach((function(e,r){var i=[];i.push(t.createElement("span",{key:r},a("description.zona")," ",r+1,": ")),e?i.push(t.createElement("span",{key:"dG".concat(r),className:"directorGroup colorRed"},a("description.ocupado"))):i.push(t.createElement("span",{key:"div".concat(r)},t.createElement("span",{className:"directorGroup"},a("description.libre")),t.createElement("br",null))),n.push(t.createElement("div",{key:"dZ".concat(r),className:"directorZone"},i))})),t.createElement("div",{className:""},n)}(n)))),m.push(t.createElement("p",{key:"header"},a("content.seleccionapilotoyzona"),":")),r.players.forEach((function(e,n){var s,u=[],p=0;(e.group===i||qn.isCurrentUserIsOwner(r.owner))&&(e.zones.forEach((function(n){s=e.id===d&&p===c?"colorGrey rounded":"rounded",g&&g[e.group]&&g[e.group][e.id]&&(g[e.group][e.id][p].status!==iP?g[e.group][e.id][p].status===oP?s+=" colorOrange":"repair"===g[e.group][e.id][p].status?s+=" colorRed":g[e.group][e.id][p].status===aP&&(s+=" colorGreen"):g[e.group][e.id][p].data&&(s+=" colorClearGrey"),u.push(t.createElement("span",{"data-zone":p,onClick:function(t){!function(e,t){var n=Number(e.target.closest("[data-zone]").getAttribute("data-zone")),r=g[t.group][t.id][n].status;c===n&&d===t.id?y():r===iP||r===aP||r===oP?(h(t.id),l(n),o(t,n)):y()}(t,e)},key:p+1,className:s},t.createElement("div",null,a("description.zona")," ",p+1),t.createElement("br",null),t.createElement("div",null,a("description.estado"),":"),t.createElement("div",null,function(e,t,n){var r;switch(t){case"waiting":r=e(n?"description.reparacionfinalizada":"description.waiting");break;case"done":r=e("description.done");break;case"repair":r=e("description.repair");break;case"playing":r=e("description.playing");break;default:r=e("description.waiting")}return r}(a,g[e.group][e.id][p].status,g[e.group][e.id][p].data))))),p++})),m.push(t.createElement("div",{key:v+p,className:"gameProgressionItem rounded rounded1"},t.createElement("div",null,t.createElement("img",{src:e.avatar,alt:"player avatar"}),a("description.grupo")," ",e.group+1),t.createElement("div",{className:"horizontalScrollContainer"},u))),d>=0&&c>=0&&e.id===d&&g[e.group][d][c].data&&m.push(t.createElement("div",{key:"".concat(v+p,"Info"),className:"gameProgressionInfoItem smallText rounded rounded2"},t.createElement(_S,{gameType:r.gameType,innerRef:f,gameProgression:g[e.group][d][c]}))),v++)})),m},cP=function(e,t,n){e.addEventListener(t,n)},lP=function(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:n}))},uP=function(){function e(){this.container=document.querySelector(".AppMainContainer")}return e.prototype.listenMessages=function(e,t){cP(this.container,e,t)},e.prototype.sendMessage=function(e,t){lP(this.container,e,t)},e}(),dP="BT_GATES",hP="BT_POINTS",fP="BT_START",pP="BT_STOP",gP="BT_TIME",mP=function(){function e(){this.device={},this.timeCharacteristic={},this.timeValueCharacteristic={},this.pointsCharacteristic={},this.gatesCharacteristic={}}return e.prototype.discoverDevice=function(e){var t=this;navigator.bluetooth.requestDevice({filters:[{name:"CrawlearBluetoothDevice"},{services:["3feb1e8a-3981-4045-ad39-b225135013a0"]}]}).then((function(n){return t.device=n,e&&e(n),n.gatt.connect()})).then((function(e){return e.getPrimaryService("3feb1e8a-3981-4045-ad39-b225135013a0")})).then((function(e){var t=e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b26a8"),n=e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b1"),r=e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b2"),i=e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b3");return Promise.all([t,n,r,i])})).then((function(e){var n=e[0],r=e[1],i=e[2],o=e[3];t.timeCharacteristic=n,t.timeValueCharacteristic=r,t.pointsCharacteristic=i,t.gatesCharacteristic=o})).catch((function(e){console.error(e)}))},e.prototype.sendTime=function(e){this.timeValueCharacteristic&&this.timeValueCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendPoints=function(e){this.pointsCharacteristic&&this.pointsCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendGates=function(e){this.gatesCharacteristic&&this.gatesCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendStart=function(){if(this.timeCharacteristic){var e=Uint8Array.of(1);this.timeCharacteristic.writeValue(e)}},e.prototype.sendStop=function(){if(this.timeCharacteristic){var e=Uint8Array.of(0);this.timeCharacteristic.writeValue(e)}},e}(),vP=mP,yP=i(49090),bP={};function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wP(Object(n),!0).forEach((function(t){IP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}bP.styleTagTransform=Ee(),bP.setAttributes=we(),bP.insert=ye().bind(null,"head"),bP.domAPI=me(),bP.insertStyleElement=Ie(),pe()(yP.Z,bP),yP.Z&&yP.Z.locals&&yP.Z.locals;var EP="play",xP="pause",AP="stop",kP=function(e){var n=e.startTime,r=e.forceAction,i=e.label,o=e.onTimerChange,a=e.courtesyTime,s=e.maxTime,c=e.onPointBecauseLastMinute,l=e.onTimeFiasco,u=de().t,d=t.useRef(null),h=t.useRef(n||0),f=new uP,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState((function(){return{millis:n||0,timer:null,maxTime:s,state:xP,timeStart:Date.now()}})),2),g=p[0],m=p[1],v=Gt.millisToTime(g.millis);function y(){h.current=0,g.timer&&clearInterval(g.timer),d.current.classList.remove("blink"),m({maxTime:g.maxTime,millis:0,timer:null,state:AP}),o&&o(h.current),d.current.classList.contains("play")&&d.current.classList.toggle("play")}function b(){d.current.classList.toggle("play"),g.state===xP||g.state===AP?(g.state=EP,U.event("play","timePlay",""),d.current.classList.remove("blink")):(g.state=xP,U.event("play","timePause","")),m((function(e){return CP(CP({},e),{},{state:g.state})}))}return t.useEffect((function(){r===AP&&y(),r===xP&&g.state===EP&&b()}),[r]),t.useEffect((function(){var e=CP({},g);e.state===EP?(e.timer&&clearInterval(e.timer),e.millis=h.current,e.timer=setInterval((function(){!function(e){h.current<e.maxTime?(h.current=Date.now()-e.timeStart+e.millis,o&&o(h.current),m((function(e){return CP(CP({},e),{},{millis:h.current})})),Date.now()%2==0&&f.sendMessage(gP,Gt.printTime(Gt.millisToTime(h.current)))):c&&e.maxTime>0&&h.current>=e.maxTime&&h.current<e.maxTime+a||0===e.maxTime?(h.current=Date.now()-e.timeStart,o&&o(h.current),m((function(e){return CP(CP({},e),{},{millis:h.current})})),e.maxTime>0&&!d.current.classList.contains("blink")&&d.current.classList.add("blink"),e.maxTime>0&&(e.maxTime+h.current)%1e4==0&&c()):(d.current.classList.toggle("blink"),d.current.classList.toggle("foreColorRed"),b(),l&&l())}(e)}),10),e.timeStart=Date.now(),f.sendMessage(fP,{}),m((function(t){return CP(CP({},t),e)}))):e.state===xP?(e.timer&&clearInterval(g.timer),e.timer=null,f.sendMessage(pP,{}),m((function(t){return CP(CP({},t),e)}))):(e.millis=0,h.current=0,e.timer&&clearInterval(g.timer),e.timer=null,f.sendMessage(pP,{}),m((function(t){return CP(CP({},t),e)}))),f.sendMessage(gP,Gt.printTime(Gt.millisToTime(h.current)))}),[g.state]),t.createElement("div",{ref:d,className:"timerContainer"},t.createElement("div",{className:"timerLabel"},(i||u("description.tiempo")).toUpperCase(),":"),t.createElement("div",{className:"timer"},Gt.printTime(v)),t.createElement("button",{className:"timerPlayButton",onClick:b}),t.createElement("button",{onClick:y,className:"resetButton"}))},TP=i(25190),SP={};function PP(e){return function(e){if(Array.isArray(e))return DP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||RP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RP(e,t){if(e){if("string"==typeof e)return DP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DP(e,t):void 0}}function DP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}SP.styleTagTransform=Ee(),SP.setAttributes=we(),SP.insert=ye().bind(null,"head"),SP.domAPI=me(),SP.insertStyleElement=Ie(),pe()(TP.Z,SP),TP.Z&&TP.Z.locals&&TP.Z.locals;var LP=function(e){var n=e.game,r=e.onGameEnd,i=de().t,o=t.useState((function(){return Sn.texts=Sn.texts.map((function(e){return i(e)})),function(e){var t={game:e,order:PP(e.players)};qn.init(t.game,qn.getGameTypeControlTextValuesInit(t.game.gameType),qn.getGameTypeFiascoControlTextValuesInit(t.game.gameType),!1);for(var n=0;n<t.game.players.length;n++)t.game.players[n].zones[0].gateProgressionData[0].controlTextValues=new Array(Sn.steps.length).fill(0);return t}(n)})),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||RP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o,2),s=a[0],c=a[1];function l(e,t,n){var r,i,o,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NP(Object(n),!0).forEach((function(t){OP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s),l=a.game.players,u=l[n].zones[0],d=u.gateProgressionData[0];d.controlTextValues=PP(d.controlTextValues),d.controlTextValues[t]+=e,u.totalPoints+=e,u.points+=e,a.order=(r=a.order.findIndex((function(e){return e.id===l[n].id})),i=a.order,(o=PP(i)).push(o.splice(r,1)[0]),o),c(a)}t.useEffect((function(){U.pageview("/kinggame/")}),[]);var u=[];u.push(t.createElement(kP,{key:"tmC",courtesyTime:0,startTime:0,label:i("description.tiempo"),maxTime:s.game.maxTime})),u.push(t.createElement("div",{key:0},i("description.ordenruta"),":"));for(var d=0;d<s.game.players.length;d++){var h="";qn.isPointsFiasco(n,s.order[d].zones[0])&&(h="blink foreColorRed"),u.push(t.createElement("div",{key:d+1},t.createElement("div",{className:"controlTextContainerQueue rounded bold ".concat(h)},s.order[d].name,": ",s.order[d].zones[0].totalPoints," ptos")))}u.push(t.createElement("p",{key:s.game.players.length+1},i("description.puntos").toUpperCase(),":"));for(var f=0;f<s.game.players.length;f++){var p=s.game.players[f],g=p.zones[0];u.push(t.createElement("div",{key:s.game.players.length+f+2,className:"playerInfo"},t.createElement("div",{className:"headerPlayer importantNote rounded2 rounded"},t.createElement("div",{className:"bold"},p.name),i("description.total"),": ",g.totalPoints,void 0),t.createElement("div",{className:"controlTextContainer rounded rounded1"},Qt({controlTextValuesString:"controlTextValues",steps:Sn.steps,maxValues:Sn.maxValues,texts:Sn.texts,zone:0,player:f,onValueChange:l}))))}return u.push(t.createElement("button",{key:2*s.game.players.length+2,className:"importantNote",onClick:function(){r&&r(n)}},i("description.fin"))),t.createElement("div",{key:2*s.game.players.length+3,className:"gameContainer"},u)};function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MP(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var i=Me(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Le(this,n)}}var UP={};function VP(e,t){}var zP=function(e,t){!function(e,t,n){t||UP[n]||(e(!1,n),UP[n]=!0)}(VP,e,t)},BP=function(e){var n,r,i=e.className,o=e.included,a=e.vertical,s=e.style,c=e.length,l=e.offset,u=e.reverse;c<0&&(u=!u,c=Math.abs(c),l=100-l);var d=a?(W(n={},u?"top":"bottom","".concat(l,"%")),W(n,u?"bottom":"top","auto"),W(n,"height","".concat(c,"%")),n):(W(r={},u?"right":"left","".concat(l,"%")),W(r,u?"left":"right","auto"),W(r,"width","".concat(c,"%")),r),h=jP(jP({},s),d);return o?t.createElement("div",{className:i,style:h}):null};function qP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GP(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Me(e)););return e}function HP(){return HP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=WP(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},HP.apply(this,arguments)}function KP(e,t,r,i){var o=n.unstable_batchedUpdates?function(e){n.unstable_batchedUpdates(r,e)}:r;return e.addEventListener&&e.addEventListener(t,o,i),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o)}}}var ZP=i(94184),YP=i.n(ZP),QP=function(e){var n=e.prefixCls,r=e.vertical,i=e.reverse,o=e.marks,a=e.dots,s=e.step,c=e.included,l=e.lowerBound,u=e.upperBound,d=e.max,h=e.min,f=e.dotStyle,p=e.activeDotStyle,g=d-h,m=function(e,t,n,r,i,o){zP(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(t).map(parseFloat).sort((function(e,t){return e-t}));if(n&&r)for(var s=i;s<=o;s+=r)-1===a.indexOf(s)&&a.push(s);return a}(0,o,a,s,h,d).map((function(e){var o,a="".concat(Math.abs(e-h)/g*100,"%"),s=!c&&e===u||c&&e<=u&&e>=l,d=jP(jP({},f),{},W({},r?i?"top":"bottom":i?"right":"left",a));s&&(d=jP(jP({},d),p));var m=YP()((W(o={},"".concat(n,"-dot"),!0),W(o,"".concat(n,"-dot-active"),s),W(o,"".concat(n,"-dot-reverse"),i),o));return t.createElement("span",{className:m,style:d,key:e})}));return t.createElement("div",{className:"".concat(n,"-step")},m)},$P=function(e){var n=e.className,r=e.vertical,i=e.reverse,o=e.marks,a=e.included,s=e.upperBound,c=e.lowerBound,l=e.max,u=e.min,d=e.onClickLabel,h=Object.keys(o),f=l-u,p=h.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var l,h=o[e],p="object"===Ne(h)&&!t.isValidElement(h),g=p?h.label:h;if(!g&&0!==g)return null;var m=!a&&e===s||a&&e<=s&&e>=c,v=YP()((W(l={},"".concat(n,"-text"),!0),W(l,"".concat(n,"-text-active"),m),l)),y=W({marginBottom:"-50%"},i?"top":"bottom","".concat((e-u)/f*100,"%")),b=W({transform:"translateX(".concat(i?"50%":"-50%",")"),msTransform:"translateX(".concat(i?"50%":"-50%",")")},i?"right":"left","".concat((e-u)/f*100,"%")),w=r?y:b,C=p?jP(jP({},w),h.style):w;return t.createElement("span",{className:v,style:C,key:e,onMouseDown:function(t){return d(t,e)},onTouchStart:function(t){return d(t,e)}},g)}));return t.createElement("div",{className:n},p)},JP=function(e){De(i,e);var n=FP(i);function i(){var e;return H(this,i),(e=n.apply(this,arguments)).state={clickFocused:!1},e.setHandleRef=function(t){e.handle=t},e.handleMouseUp=function(){document.activeElement===e.handle&&e.setClickFocus(!0)},e.handleMouseDown=function(t){t.preventDefault(),e.focus()},e.handleBlur=function(){e.setClickFocus(!1)},e.handleKeyDown=function(){e.setClickFocus(!1)},e}return Z(i,[{key:"componentDidMount",value:function(){this.onMouseUpListener=KP(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,n,i,o=this.props,a=o.prefixCls,s=o.vertical,c=o.reverse,l=o.offset,u=o.style,d=o.disabled,h=o.min,f=o.max,p=o.value,g=o.tabIndex,m=o.ariaLabel,v=o.ariaLabelledBy,y=o.ariaValueTextFormatter,b=qP(o,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),w=YP()(this.props.className,W({},"".concat(a,"-handle-click-focused"),this.state.clickFocused)),C=s?(W(e={},c?"top":"bottom","".concat(l,"%")),W(e,c?"bottom":"top","auto"),W(e,"transform",c?null:"translateY(+50%)"),e):(W(n={},c?"right":"left","".concat(l,"%")),W(n,c?"left":"right","auto"),W(n,"transform","translateX(".concat(c?"+":"-","50%)")),n),I=jP(jP({},u),C),_=g||0;return(d||null===g)&&(_=null),y&&(i=y(p)),t.createElement("div",r({ref:this.setHandleRef,tabIndex:_},b,{className:w,style:I,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":h,"aria-valuemax":f,"aria-valuenow":p,"aria-disabled":!!d,"aria-label":m,"aria-labelledby":v,"aria-valuetext":i}))}}]),i}(t.Component),XP={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=XP.F1&&t<=XP.F12)return!1;switch(t){case XP.ALT:case XP.CAPS_LOCK:case XP.CONTEXT_MENU:case XP.CTRL:case XP.DOWN:case XP.END:case XP.ESC:case XP.HOME:case XP.INSERT:case XP.LEFT:case XP.MAC_FF_META:case XP.META:case XP.NUMLOCK:case XP.NUM_CENTER:case XP.PAGE_DOWN:case XP.PAGE_UP:case XP.PAUSE:case XP.PRINT_SCREEN:case XP.RIGHT:case XP.SHIFT:case XP.UP:case XP.WIN_KEY:case XP.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=XP.ZERO&&e<=XP.NINE)return!0;if(e>=XP.NUM_ZERO&&e<=XP.NUM_MULTIPLY)return!0;if(e>=XP.A&&e<=XP.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case XP.SPACE:case XP.QUESTION_MARK:case XP.NUM_PLUS:case XP.NUM_MINUS:case XP.NUM_PERIOD:case XP.NUM_DIVISION:case XP.SEMICOLON:case XP.DASH:case XP.EQUALS:case XP.COMMA:case XP.PERIOD:case XP.SLASH:case XP.APOSTROPHE:case XP.SINGLE_QUOTE:case XP.OPEN_SQUARE_BRACKET:case XP.BACKSLASH:case XP.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},eN=XP;function tN(e,t){try{return Object.keys(t).some((function(r){return e.target===(0,n.findDOMNode)(t[r])}))}catch(e){return!1}}function nN(e,t){var n=t.min,r=t.max;return e<n||e>r}function rN(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function iN(e,t){var n=t.marks,r=t.step,i=t.min,o=t.max,a=Object.keys(n).map(parseFloat);if(null!==r){var s=Math.pow(10,oN(r)),c=Math.floor((o*s-i*s)/(r*s)),l=Math.min((e-i)/r,c),u=Math.round(l)*r+i;a.push(u)}var d=a.map((function(t){return Math.abs(e-t)}));return a[d.indexOf(Math.min.apply(Math,GP(d)))]}function oN(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}function aN(e,t){return e?t.clientY:t.pageX}function sN(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function cN(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function lN(e,t){var n=t.max,r=t.min;return e<=r?r:e>=n?n:e}function uN(e,t){var n=t.step,r=isFinite(iN(e,t))?iN(e,t):0;return null===n?r:parseFloat(r.toFixed(oN(n)))}function dN(e){e.stopPropagation(),e.preventDefault()}function hN(e,t,n){var r="increase",i="decrease",o=r;switch(e.keyCode){case eN.UP:o=t&&n?i:r;break;case eN.RIGHT:o=!t&&n?i:r;break;case eN.DOWN:o=t&&n?r:i;break;case eN.LEFT:o=!t&&n?r:i;break;case eN.END:return function(e,t){return t.max};case eN.HOME:return function(e,t){return t.min};case eN.PAGE_UP:return function(e,t){return e+2*t.step};case eN.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return function(e,t,n){var r={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},i=r[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(n.marks)[i];return n.step?r[e](t,n.step):Object.keys(n.marks).length&&n.marks[o]?n.marks[o]:t}(o,e,t)}}function fN(){}function pN(e){var n;return n=function(e){De(r,e);var n=FP(r);function r(e){var t;H(this,r),(t=n.call(this,e)).onDown=function(e,n){var r=n,i=t.props,o=i.draggableTrack,a=i.vertical,s=t.state.bounds,c=o&&t.positionGetValue&&t.positionGetValue(r)||[],l=tN(e,t.handlesRefs);if(t.dragTrack=o&&s.length>=2&&!l&&!c.map((function(e,t){var n=!!t||e>=s[t];return t===c.length-1?e<=s[t]:n})).some((function(e){return!e})),t.dragTrack)t.dragOffset=r,t.startBounds=GP(s);else{if(l){var u=cN(a,e.target);t.dragOffset=r-u,r=u}else t.dragOffset=0;t.onStart(r)}},t.onMouseDown=function(e){if(0===e.button){t.removeDocumentEvents();var n=aN(t.props.vertical,e);t.onDown(e,n),t.addDocumentMouseEvents()}},t.onTouchStart=function(e){if(!rN(e)){var n=sN(t.props.vertical,e);t.onDown(e,n),t.addDocumentTouchEvents(),dN(e)}},t.onFocus=function(e){var n=t.props,r=n.onFocus,i=n.vertical;if(tN(e,t.handlesRefs)&&!t.dragTrack){var o=cN(i,e.target);t.dragOffset=0,t.onStart(o),dN(e),r&&r(e)}},t.onBlur=function(e){var n=t.props.onBlur;t.dragTrack||t.onEnd(),n&&n(e)},t.onMouseUp=function(){t.handlesRefs[t.prevMovedHandleIndex]&&t.handlesRefs[t.prevMovedHandleIndex].clickFocus()},t.onMouseMove=function(e){if(t.sliderRef){var n=aN(t.props.vertical,e);t.onMove(e,n-t.dragOffset,t.dragTrack,t.startBounds)}else t.onEnd()},t.onTouchMove=function(e){if(!rN(e)&&t.sliderRef){var n=sN(t.props.vertical,e);t.onMove(e,n-t.dragOffset,t.dragTrack,t.startBounds)}else t.onEnd()},t.onKeyDown=function(e){t.sliderRef&&tN(e,t.handlesRefs)&&t.onKeyboard(e)},t.onClickMarkLabel=function(e,n){e.stopPropagation(),t.onChange({value:n}),t.setState({value:n},(function(){return t.onEnd(!0)}))},t.saveSlider=function(e){t.sliderRef=e};var i=e.step,o=e.max,a=e.min,s=!isFinite(o-a)||(o-a)%i==0;return zP(!i||Math.floor(i)!==i||s,"Slider[max] - Slider[min] (".concat(o-a,") should be a multiple of Slider[step] (").concat(i,")")),t.handlesRefs={},t}return Z(r,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){HP(Me(r.prototype),"componentWillUnmount",this)&&HP(Me(r.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,r=t.reverse,i=e.getBoundingClientRect();return n?r?i.bottom:i.top:window.pageXOffset+(r?i.right:i.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=KP(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=KP(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=KP(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=KP(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var e;this.props.disabled||null===(e=this.handlesRefs[0])||void 0===e||e.focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach((function(t){var n,r;null===(n=e.handlesRefs[t])||void 0===n||null===(r=n.blur)||void 0===r||r.call(n)}))}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,i=t.max,o=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-o)*(i-r)+r:o*(i-r)+r}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min,r=(e-n)/(t.max-n);return Math.max(0,100*r)}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,n=this.props,i=n.prefixCls,o=n.className,a=n.marks,s=n.dots,c=n.step,l=n.included,u=n.disabled,d=n.vertical,h=n.reverse,f=n.min,p=n.max,g=n.children,m=n.maximumTrackStyle,v=n.style,y=n.railStyle,b=n.dotStyle,w=n.activeDotStyle,C=HP(Me(r.prototype),"render",this).call(this),I=C.tracks,_=C.handles,E=YP()(i,(W(e={},"".concat(i,"-with-marks"),Object.keys(a).length),W(e,"".concat(i,"-disabled"),u),W(e,"".concat(i,"-vertical"),d),W(e,o,o),e));return t.createElement("div",{ref:this.saveSlider,className:E,onTouchStart:u?fN:this.onTouchStart,onMouseDown:u?fN:this.onMouseDown,onMouseUp:u?fN:this.onMouseUp,onKeyDown:u?fN:this.onKeyDown,onFocus:u?fN:this.onFocus,onBlur:u?fN:this.onBlur,style:v},t.createElement("div",{className:"".concat(i,"-rail"),style:jP(jP({},m),y)}),I,t.createElement(QP,{prefixCls:i,vertical:d,reverse:h,marks:a,dots:s,step:c,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:f,dotStyle:b,activeDotStyle:w}),_,t.createElement($P,{className:"".concat(i,"-mark"),onClickLabel:u?fN:this.onClickMarkLabel,vertical:d,marks:a,included:l,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:f,reverse:h}),g)}}]),r}(e),n.displayName="ComponentEnhancer(".concat(e.displayName,")"),n.defaultProps=jP(jP({},e.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var n=e.index,i=qP(e,["index"]);return delete i.dragging,null===i.value?null:t.createElement(JP,r({},i,{key:n}))},onBeforeChange:fN,onChange:fN,onAfterChange:fN,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),n}var gN=function(e){De(r,e);var n=FP(r);function r(e){var t;H(this,r),(t=n.call(this,e)).positionGetValue=function(e){return[]},t.onEnd=function(e){var n=t.state.dragging;t.removeDocumentEvents(),(n||e)&&t.props.onAfterChange(t.getValue()),t.setState({dragging:!1})};var i=void 0!==e.defaultValue?e.defaultValue:e.min,o=void 0!==e.value?e.value:i;return t.state={value:t.trimAlignValue(o),dragging:!1},zP(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),zP(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),t}return Z(r,[{key:"calcValueByPos",value:function(e){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.min,i=n.max,o=n.value,a=n.onChange;if("min"in this.props||"max"in this.props){var s=void 0!==o?o:t.value,c=this.trimAlignValue(s,this.props);c!==t.value&&(this.setState({value:c}),r===e.min&&i===e.max||!nN(s,this.props)||a(c))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),r=e.value>this.props.max?jP(jP({},e),{},{value:this.props.max}):e;n&&this.setState(r);var i=r.value;t.onChange(i)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:r}))}},{key:"onMove",value:function(e,t){dN(e);var n=this.state.value,r=this.calcValueByPos(t);r!==n&&this.onChange({value:r})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=hN(e,t.vertical,n);if(r){dN(e);var i=this.state.value,o=r(i,this.props),a=this.trimAlignValue(o);if(a===i)return;this.onChange({value:a}),this.props.onAfterChange(a),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var e=this.props.startPoint||this.props.min;return this.state.value>e?e:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=jP(jP({},this.props),t),r=lN(e,n);return uN(r,n)}},{key:"render",value:function(){var e=this,n=this.props,r=n.prefixCls,i=n.vertical,o=n.included,a=n.disabled,s=n.minimumTrackStyle,c=n.trackStyle,l=n.handleStyle,u=n.tabIndex,d=n.ariaLabelForHandle,h=n.ariaLabelledByForHandle,f=n.ariaValueTextFormatterForHandle,p=n.min,g=n.max,m=n.startPoint,v=n.reverse,y=n.handle,b=this.state,w=b.value,C=b.dragging,I=this.calcOffset(w),_=y({className:"".concat(r,"-handle"),prefixCls:r,vertical:i,offset:I,value:w,dragging:C,disabled:a,min:p,max:g,reverse:v,index:0,tabIndex:u,ariaLabel:d,ariaLabelledBy:h,ariaValueTextFormatter:f,style:l[0]||l,ref:function(t){return e.saveHandle(0,t)}}),E=void 0!==m?this.calcOffset(m):0,x=c[0]||c;return{tracks:t.createElement(BP,{className:"".concat(r,"-track"),vertical:i,included:o,offset:E,reverse:v,length:I-E,style:jP(jP({},s),x)}),handles:_}}}]),r}(t.Component),mN=pN(gN),vN=function(e){var t=e.value,n=e.handle,r=e.bounds,i=e.props,o=i.allowCross,a=i.pushable,s=Number(a),c=lN(t,i),l=c;return o||null==n||void 0===r||(n>0&&c<=r[n-1]+s&&(l=r[n-1]+s),n<r.length-1&&c>=r[n+1]-s&&(l=r[n+1]-s)),uN(l,i)},yN=function(e){De(r,e);var n=FP(r);function r(e){var t;H(this,r),(t=n.call(this,e)).positionGetValue=function(e){var n=t.getValue(),r=t.calcValueByPos(e),i=t.getClosestBound(r),o=t.getBoundNeedMoving(r,i);if(r===n[o])return null;var a=GP(n);return a[o]=r,a},t.onEnd=function(e){var n=t.state.handle;t.removeDocumentEvents(),n||(t.dragTrack=!1),(null!==n||e)&&t.props.onAfterChange(t.getValue()),t.setState({handle:null})};var i=e.count,o=e.min,a=e.max,s=Array.apply(void 0,GP(Array(i+1))).map((function(){return o})),c="defaultValue"in e?e.defaultValue:s,l=(void 0!==e.value?e.value:c).map((function(t,n){return vN({value:t,handle:n,props:e})})),u=l[0]===a?0:l.length-1;return t.state={handle:null,recent:u,bounds:l},t}return Z(r,[{key:"calcValueByPos",value:function(e){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(e){return 0}},{key:"saveHandle",value:function(e,t){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,i=r.onChange,o=r.value,a=r.min,s=r.max;if(("min"in this.props||"max"in this.props)&&(a!==e.min||s!==e.max)){var c=o||t.bounds;if(c.some((function(e){return nN(e,n.props)}))){var l=c.map((function(e){return lN(e,n.props)}));i(l)}}}},{key:"onChange",value:function(e){var t=this.props;if("value"in t){var n={};["handle","recent"].forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),Object.keys(n).length&&this.setState(n)}else this.setState(e);var r=jP(jP({},this.state),e).bounds;t.onChange(r)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e;var o=this.getClosestBound(i);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(i,o),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),i!==r[this.prevMovedHandleIndex]){var a=GP(n.bounds);a[this.prevMovedHandleIndex]=i,this.onChange({bounds:a})}}},{key:"onMove",value:function(e,t,n,r){dN(e);var i=this.state,o=this.props,a=o.max||100,s=o.min||0;if(n){var c=o.vertical?-t:t;c=o.reverse?-c:c;var l=a-Math.max.apply(Math,GP(r)),u=s-Math.min.apply(Math,GP(r)),d=Math.min(Math.max(c/(this.getSliderLength()/(a-s)),u),l),h=r.map((function(e){return Math.floor(Math.max(Math.min(e+d,a),s))}));i.bounds.map((function(e,t){return e===h[t]})).some((function(e){return!e}))&&this.onChange({bounds:h})}else{var f=this.calcValueByPos(t);f!==i.bounds[i.handle]&&this.moveTo(f)}}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,r=hN(e,t.vertical,n);if(r){dN(e);var i=this.state,o=this.props,a=i.bounds,s=i.handle,c=a[null===s?i.recent:s],l=r(c,o),u=vN({value:l,handle:s,bounds:i.bounds,props:o});if(u===c)return;this.moveTo(u,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;r+=1)e>=t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,r=n.bounds,i=n.recent,o=t,a=r[t+1]===r[t];return a&&r[i]===r[t]&&(o=i),a&&e!==r[t+1]&&(o=e<r[t+1]?t:t+1),o}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,r=e.min,i=e.max,o=this.internalPointsCache;if(!o||o.marks!==t||o.step!==n){var a=jP({},t);if(null!==n)for(var s=r;s<=i;s+=n)a[s]=s;var c=Object.keys(a).map(parseFloat);c.sort((function(e,t){return e-t})),this.internalPointsCache={marks:t,step:n,points:c}}return this.internalPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,r=this.state,i=this.props,o=GP(r.bounds),a=null===r.handle?r.recent:r.handle;o[a]=e;var s=a;!1!==i.pushable?this.pushSurroundingHandles(o,s):i.allowCross&&(o.sort((function(e,t){return e-t})),s=o.indexOf(e)),this.onChange({recent:s,handle:s,bounds:o}),t&&(this.props.onAfterChange(o),this.setState({},(function(){n.handlesRefs[s].focus()})),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],r=this.props.pushable,i=Number(r),o=0;if(e[t+1]-n<i&&(o=1),n-e[t-1]<i&&(o=-1),0!==o){var a=t+o,s=o*(e[a]-n);this.pushHandle(e,a,o,i-s)||(e[t]=e[a]-o*i)}}},{key:"pushHandle",value:function(e,t,n,r){for(var i=e[t],o=e[t];n*(o-i)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=i,!1;o=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var r=this.getPoints(),i=r.indexOf(e[t])+n;if(i>=r.length||i<0)return!1;var o=t+n,a=r[i],s=this.props.pushable,c=Number(s),l=n*(e[o]-a);return!!this.pushHandle(e,o,n,c-l)&&(e[t]=a,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,n=t.handle,r=t.bounds;return vN({value:e,handle:n,bounds:r,props:this.props})}},{key:"render",value:function(){var e=this,n=this.state,r=n.handle,i=n.bounds,o=this.props,a=o.prefixCls,s=o.vertical,c=o.included,l=o.disabled,u=o.min,d=o.max,h=o.reverse,f=o.handle,p=o.trackStyle,g=o.handleStyle,m=o.tabIndex,v=o.ariaLabelGroupForHandles,y=o.ariaLabelledByGroupForHandles,b=o.ariaValueTextFormatterGroupForHandles,w=i.map((function(t){return e.calcOffset(t)})),C="".concat(a,"-handle"),I=i.map((function(t,n){var i,o=m[n]||0;(l||null===m[n])&&(o=null);var c=r===n;return f({className:YP()((i={},W(i,C,!0),W(i,"".concat(C,"-").concat(n+1),!0),W(i,"".concat(C,"-dragging"),c),i)),prefixCls:a,vertical:s,dragging:c,offset:w[n],value:t,index:n,tabIndex:o,min:u,max:d,reverse:h,disabled:l,style:g[n],ref:function(t){return e.saveHandle(n,t)},ariaLabel:v[n],ariaLabelledBy:y[n],ariaValueTextFormatter:b[n]})}));return{tracks:i.slice(0,-1).map((function(e,n){var r,i=n+1,o=YP()((W(r={},"".concat(a,"-track"),!0),W(r,"".concat(a,"-track-").concat(i),!0),r));return t.createElement(BP,{className:o,vertical:s,reverse:h,included:c,offset:w[i-1],length:w[i]-w[i-1],style:p[n],key:i})})),handles:I}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!("value"in e||"min"in e||"max"in e))return null;var n=e.value||t.bounds,r=n.map((function(n,r){return vN({value:n,handle:r,bounds:t.bounds,props:e})}));if(t.bounds.length===r.length){if(r.every((function(e,n){return e===t.bounds[n]})))return null}else r=n.map((function(t,n){return vN({value:t,handle:n,props:e})}));return jP(jP({},t),{},{bounds:r})}}]),r}(t.Component);yN.displayName="Range",yN.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};var bN=pN(yN),wN=function(e){return+setTimeout(e,16)},CN=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(wN=function(e){return window.requestAnimationFrame(e)},CN=function(e){return window.cancelAnimationFrame(e)});var IN=0,_N=new Map;function EN(e){_N.delete(e)}function xN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=IN+=1;function r(t){if(0===t)EN(n),e();else{var i=wN((function(){r(t-1)}));_N.set(n,i)}}return r(t),n}function AN(e,t){return!!e&&e.contains(t)}function kN(e){return e instanceof HTMLElement?e:n.findDOMNode(e)}xN.cancel=function(e){var t=_N.get(e);return EN(t),CN(t)};var TN=i(11805);function SN(e,t){"function"==typeof e?e(t):"object"===Ne(e)&&e&&"current"in e&&(e.current=t)}function PN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){SN(t,e)}))}}function NN(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var ON=(0,t.forwardRef)((function(e,r){var i=e.didUpdate,o=e.getContainer,a=e.children,s=(0,t.useRef)();(0,t.useImperativeHandle)(r,(function(){return{}}));var c=(0,t.useRef)(!1);return!c.current&&NN()&&(s.current=o(),c.current=!0),(0,t.useEffect)((function(){null==i||i(e)})),(0,t.useEffect)((function(){return function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?n.createPortal(a,s.current):null})),RN=ON;function DN(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function LN(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var MN,jN,FN,UN=(MN=NN(),jN="undefined"!=typeof window?window:{},FN={animationend:LN("Animation","AnimationEnd"),transitionend:LN("Transition","TransitionEnd")},MN&&("AnimationEvent"in jN||delete FN.animationend.animation,"TransitionEvent"in jN||delete FN.transitionend.transition),FN),VN={};if(NN()){var zN=document.createElement("div");VN=zN.style}var BN={};function qN(e){if(BN[e])return BN[e];var t=UN[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in VN)return BN[e]=t[o],BN[e]}return""}var GN=qN("animationend"),WN=qN("transitionend"),HN=!(!GN||!WN),KN=GN||"animationend",ZN=WN||"transitionend";function YN(e,t){return e?"object"===Ne(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var QN="none",$N="appear",JN="enter",XN="leave",eO="none",tO="prepare",nO="start",rO="active",iO="end";function oO(e){var n=(0,t.useRef)(!1),r=G((0,t.useState)(e),2),i=r[0],o=r[1];return(0,t.useEffect)((function(){return function(){n.current=!0}}),[]),[i,function(e){n.current||o(e)}]}var aO=NN()?t.useLayoutEffect:t.useEffect,sO=[tO,nO,rO,iO];function cO(e){return e===rO||e===iO}function lO(e,n,r,i){var o=i.motionEnter,a=void 0===o||o,s=i.motionAppear,c=void 0===s||s,l=i.motionLeave,u=void 0===l||l,d=i.motionDeadline,h=i.motionLeaveImmediately,f=i.onAppearPrepare,p=i.onEnterPrepare,g=i.onLeavePrepare,m=i.onAppearStart,v=i.onEnterStart,y=i.onLeaveStart,b=i.onAppearActive,w=i.onEnterActive,C=i.onLeaveActive,I=i.onAppearEnd,_=i.onEnterEnd,E=i.onLeaveEnd,x=i.onVisibleChanged,A=G(oO(),2),k=A[0],T=A[1],S=G(oO(QN),2),P=S[0],N=S[1],O=G(oO(null),2),R=O[0],D=O[1],L=(0,t.useRef)(!1),M=(0,t.useRef)(null),j=(0,t.useRef)(!1),F=(0,t.useRef)(null);function U(){return r()||F.current}var V=(0,t.useRef)(!1);function z(e){var t,n=U();e&&!e.deadline&&e.target!==n||(P===$N&&V.current?t=null==I?void 0:I(n,e):P===JN&&V.current?t=null==_?void 0:_(n,e):P===XN&&V.current&&(t=null==E?void 0:E(n,e)),!1===t||j.current||(N(QN),D(null)))}var B=function(e){var n=(0,t.useRef)(),r=(0,t.useRef)(e);r.current=e;var i=t.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener(ZN,i),e.removeEventListener(KN,i))}return t.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(ZN,i),e.addEventListener(KN,i),n.current=e)},o]}(z),q=G(B,1)[0],H=t.useMemo((function(){var e,t,n;switch(P){case"appear":return W(e={},tO,f),W(e,nO,m),W(e,rO,b),e;case"enter":return W(t={},tO,p),W(t,nO,v),W(t,rO,w),t;case"leave":return W(n={},tO,g),W(n,nO,y),W(n,rO,C),n;default:return{}}}),[P]),K=G(function(e,n){var r=G(t.useState(eO),2),i=r[0],o=r[1],a=function(){var e=t.useRef(null);function n(){xN.cancel(e.current)}return t.useEffect((function(){return function(){n()}}),[]),[function t(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=xN((function(){i<=1?r({isCanceled:function(){return o!==e.current}}):t(r,i-1)}));e.current=o},n]}(),s=G(a,2),c=s[0],l=s[1];return aO((function(){if(i!==eO&&i!==iO){var e=sO.indexOf(i),t=sO[e+1],r=n(i);!1===r?o(t):c((function(e){function n(){e.isCanceled()||o(t)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),t.useEffect((function(){return function(){l()}}),[]),[function(){o(tO)},i]}(P,(function(e){if(e===tO){var t=H.prepare;return!!t&&t(U())}var n;return Y in H&&D((null===(n=H[Y])||void 0===n?void 0:n.call(H,U(),null))||null),Y===rO&&(q(U()),d>0&&(clearTimeout(M.current),M.current=setTimeout((function(){z({deadline:!0})}),d))),!0})),2),Z=K[0],Y=K[1],Q=cO(Y);V.current=Q,aO((function(){T(n);var t,r=L.current;L.current=!0,e&&(!r&&n&&c&&(t=$N),r&&n&&a&&(t=JN),(r&&!n&&u||!r&&h&&!n&&u)&&(t=XN),t&&(N(t),Z()))}),[n]),(0,t.useEffect)((function(){(P===$N&&!c||P===JN&&!a||P===XN&&!u)&&N(QN)}),[c,a,u]),(0,t.useEffect)((function(){return function(){clearTimeout(M.current),j.current=!0}}),[]),(0,t.useEffect)((function(){void 0!==k&&P===QN&&(null==x||x(k))}),[k,P]);var $=R;return H.prepare&&Y===nO&&($=jP({transition:"none"},$)),[P,Y,$,null!=k?k:n]}var uO=function(e){De(n,e);var t=FP(n);function n(){return H(this,n),t.apply(this,arguments)}return Z(n,[{key:"render",value:function(){return this.props.children}}]),n}(t.Component),dO=uO,hO=function(e){var n=e;function r(e){return!(!e.motionName||!n)}"object"===Ne(e)&&(n=e.transitionSupport);var i=t.forwardRef((function(e,n){var i=e.visible,o=void 0===i||i,a=e.removeOnLeave,s=void 0===a||a,c=e.forceRender,l=e.children,u=e.motionName,d=e.leavedClassName,h=e.eventProps,f=r(e),p=(0,t.useRef)(),g=(0,t.useRef)(),m=G(lO(f,o,(function(){try{return kN(p.current||g.current)}catch(e){return null}}),e),4),v=m[0],y=m[1],b=m[2],w=m[3],C=t.useRef(w);w&&(C.current=!0);var I=(0,t.useRef)(n);I.current=n;var _,E=t.useCallback((function(e){p.current=e,SN(I.current,e)}),[]),x=jP(jP({},h),{},{visible:o});if(l)if(v!==QN&&r(e)){var A,k;y===tO?k="prepare":cO(y)?k="active":y===nO&&(k="start"),_=l(jP(jP({},x),{},{className:YP()(YN(u,v),(A={},W(A,YN(u,"".concat(v,"-").concat(k)),k),W(A,u,"string"==typeof u),A)),style:b}),E)}else _=w?l(jP({},x),E):!s&&C.current?l(jP(jP({},x),{},{className:d}),E):c?l(jP(jP({},x),{},{style:{display:"none"}}),E):null;else _=null;return t.createElement(dO,{ref:g},_)}));return i.displayName="CSSMotion",i}(HN),fO="add",pO="keep",gO="remove",mO="removed";function vO(e){var t;return jP(jP({},t=e&&"object"===Ne(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function yO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(vO)}function bO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=yO(e),a=yO(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return jP(jP({},e),{},{status:fO})}))),r=o),n.push(jP(jP({},s),{},{status:pO})),r+=1,t=!0;break}}t||n.push(jP(jP({},e),{},{status:gO}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return jP(jP({},e),{},{status:fO})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var c=Object.keys(s).filter((function(e){return s[e]>1}));return c.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==gO}))).forEach((function(t){t.key===e&&(t.status=pO)}))})),n}var wO=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hO,i=function(e){De(o,e);var i=FP(o);function o(){var e;return H(this,o),(e=i.apply(this,arguments)).state={keyEntities:[]},e.removeKey=function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:jP(jP({},e),{},{status:mO})}))}}))},e}return Z(o,[{key:"render",value:function(){var e=this,i=this.state.keyEntities,o=this.props,a=o.component,s=o.children,c=o.onVisibleChanged,l=qP(o,["component","children","onVisibleChanged"]),u=a||t.Fragment,d={};return wO.forEach((function(e){d[e]=l[e],delete l[e]})),delete l.keys,t.createElement(u,l,i.map((function(i){var o=i.status,a=qP(i,["status"]),l=o===fO||o===pO;return t.createElement(n,r({},d,{key:a.key,visible:l,eventProps:a,onVisibleChanged:function(t){null==c||c(t,{key:a.key}),t||e.removeKey(a.key)}}),s)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=yO(n);return{keyEntities:bO(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==mO||e.status!==gO}))}}}]),o}(t.Component);i.defaultProps={component:"div"}}(HN);var CO,IO=hO;function _O(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function EO(e){var n=e.prefixCls,i=e.visible,o=e.zIndex,a=e.mask,s=e.maskMotion,c=e.maskAnimation,l=e.maskTransitionName;if(!a)return null;var u={};return(s||l||c)&&(u=jP({motionAppear:!0},_O({motion:s,prefixCls:n,transitionName:l,animation:c}))),t.createElement(IO,r({},u,{visible:i,removeOnLeave:!0}),(function(e){var r=e.className;return t.createElement("div",{style:{zIndex:o},className:YP()("".concat(n,"-mask"),r)})}))}function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xO(Object(n),!0).forEach((function(t){TO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kO(e){return kO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kO(e)}function TO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SO={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function PO(){if(void 0!==CO)return CO;CO="";var e=document.createElement("p").style;for(var t in SO)t+"Transform"in e&&(CO=t);return CO}function NO(){return PO()?"".concat(PO(),"TransitionProperty"):"transitionProperty"}function OO(){return PO()?"".concat(PO(),"Transform"):"transform"}function RO(e,t){var n=NO();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function DO(e,t){var n=OO();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var LO,MO=/matrix\((.*)\)/,jO=/matrix3d\((.*)\)/;function FO(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function UO(e,t,n){var r=n;if("object"!==kO(t))return void 0!==r?("number"==typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):LO(e,t);for(var i in t)t.hasOwnProperty(i)&&UO(e,i,t[i])}function VO(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function zO(e){return VO(e)}function BO(e){return VO(e,!0)}function qO(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=zO(r),t.top+=BO(r),t}function GO(e){return null!=e&&e==e.window}function WO(e){return GO(e)?e.document:9===e.nodeType?e:e.ownerDocument}var HO=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),KO=/^(top|right|bottom|left)$/;function ZO(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function YO(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function QO(e,t,n){"static"===UO(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=ZO("left",n),a=ZO("top",n),s=YO(o),c=YO(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var l,u="",d=qO(e);("left"in t||"top"in t)&&(u=(l=e).style.transitionProperty||l.style[NO()]||"",RO(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[c]="",e.style[a]="".concat(i,"px")),FO(e);var h=qO(e),f={};for(var p in t)if(t.hasOwnProperty(p)){var g=ZO(p,n),m="left"===p?r:i,v=d[p]-h[p];f[g]=g===p?m+v:m-v}UO(e,f),FO(e),("left"in t||"top"in t)&&RO(e,u);var y={};for(var b in t)if(t.hasOwnProperty(b)){var w=ZO(b,n),C=t[b]-d[b];y[w]=b===w?f[w]+C:f[w]-C}UO(e,y)}function $O(e,t){for(var n=0;n<e.length;n++)t(e[n])}function JO(e){return"border-box"===LO(e,"boxSizing")}"undefined"!=typeof window&&(LO=window.getComputedStyle?function(e,t,n){var r=n,i="",o=WO(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(HO.test(n)&&!KO.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var XO=["margin","border","padding"];function eR(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function tR(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(LO(e,s))||0}return a}var nR={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function rR(e,t,n){var r=n;if(GO(e))return"width"===t?nR.viewportWidth(e):nR.viewportHeight(e);if(9===e.nodeType)return"width"===t?nR.docWidth(e):nR.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=JO(e),s=0;(null==o||o<=0)&&(o=void 0,(null==(s=LO(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var c=void 0!==o||a,l=o||s;return-1===r?c?l-tR(e,["border","padding"],i):s:c?1===r?l:l+(2===r?-tR(e,["border"],i):tR(e,["margin"],i)):s+tR(e,XO.slice(r),i)}$O(["Width","Height"],(function(e){nR["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],nR["viewport".concat(e)](n))},nR["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var iR={position:"absolute",visibility:"hidden",display:"block"};function oR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=rR.apply(void 0,t):eR(i,iR,(function(){r=rR.apply(void 0,t)})),r}function aR(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}$O(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);nR["outer".concat(t)]=function(t,n){return t&&oR(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];nR[e]=function(t,r){var i=r;return void 0!==i?t?(JO(t)&&(i+=tR(t,["padding","border"],n)),UO(t,e,i)):void 0:t&&oR(t,e,-1)}}));var sR={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:WO,offset:function(e,t,n){if(void 0===t)return qO(e);!function(e,t,n){if(n.ignoreShake){var r=qO(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?QO(e,t,n):n.useCssTransform&&OO()in document.body.style?function(e,t){var n=qO(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(OO());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(OO());if(r&&"none"!==r){var i,o=r.match(MO);o?((i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,DO(e,"matrix(".concat(i.join(","),")"))):((i=r.match(jO)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,DO(e,"matrix3d(".concat(i.join(","),")")))}else DO(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}(e,t):QO(e,t,n)}(e,t,n||{})},isWindow:GO,each:$O,css:UO,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:aR,getWindowScrollLeft:function(e){return zO(e)},getWindowScrollTop:function(e){return BO(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)sR.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};aR(sR,nR);var cR=sR.getParent;function lR(e){if(sR.isWindow(e)||9===e.nodeType)return null;var t,n=sR.getDocument(e).body,r=sR.css(e,"position");if("fixed"!==r&&"absolute"!==r)return"html"===e.nodeName.toLowerCase()?null:cR(e);for(t=cR(e);t&&t!==n&&9!==t.nodeType;t=cR(t))if("static"!==(r=sR.css(t,"position")))return t;return null}var uR=sR.getParent;function dR(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=lR(e),i=sR.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===sR.css(r,"overflow")){if(r===a||r===s)break}else{var c=sR.offset(r);c.left+=r.clientLeft,c.top+=r.clientTop,n.top=Math.max(n.top,c.top),n.right=Math.min(n.right,c.left+r.clientWidth),n.bottom=Math.min(n.bottom,c.top+r.clientHeight),n.left=Math.max(n.left,c.left)}r=lR(r)}var l=null;sR.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===sR.css(e,"position")&&(e.style.position="fixed"));var u=sR.getWindowScrollLeft(o),d=sR.getWindowScrollTop(o),h=sR.viewportWidth(o),f=sR.viewportHeight(o),p=s.scrollWidth,g=s.scrollHeight,m=window.getComputedStyle(a);if("hidden"===m.overflowX&&(p=o.innerWidth),"hidden"===m.overflowY&&(g=o.innerHeight),e.style&&(e.style.position=l),t||function(e){if(sR.isWindow(e)||9===e.nodeType)return!1;var t=sR.getDocument(e),n=t.body,r=null;for(r=uR(e);r&&r!==n&&r!==t;r=uR(r))if("fixed"===sR.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,d),n.right=Math.min(n.right,u+h),n.bottom=Math.min(n.bottom,d+f);else{var v=Math.max(p,u+h);n.right=Math.min(n.right,v);var y=Math.max(g,d+f);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function hR(e){var t,n,r;if(sR.isWindow(e)||9===e.nodeType){var i=sR.getWindow(e);t={left:sR.getWindowScrollLeft(i),top:sR.getWindowScrollTop(i)},n=sR.viewportWidth(i),r=sR.viewportHeight(i)}else t=sR.offset(e),n=sR.outerWidth(e),r=sR.outerHeight(e);return t.width=n,t.height=r,t}function fR(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function pR(e,t,n,r,i){var o=fR(t,n[1]),a=fR(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function gR(e,t,n){return e.left<n.left||e.left+t.width>n.right}function mR(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function vR(e,t,n){var r=[];return sR.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function yR(e,t){return e[t]=-e[t],e}function bR(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function wR(e,t){e[0]=bR(e[0],t.width),e[1]=bR(e[1],t.height)}function CR(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,c=n.source||e;o=[].concat(o),a=[].concat(a);var l={},u=0,d=dR(c,!(!(s=s||{})||!s.alwaysByViewport)),h=hR(c);wR(o,h),wR(a,t);var f=pR(h,t,i,o,a),p=sR.merge(h,f);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&gR(f,h,d)){var g=vR(i,/[lr]/gi,{l:"r",r:"l"}),m=yR(o,0),v=yR(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(pR(h,t,g,m,v),h,d)||(u=1,i=g,o=m,a=v)}if(s.adjustY&&mR(f,h,d)){var y=vR(i,/[tb]/gi,{t:"b",b:"t"}),b=yR(o,1),w=yR(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(pR(h,t,y,b,w),h,d)||(u=1,i=y,o=b,a=w)}u&&(f=pR(h,t,i,o,a),sR.mix(p,f));var C=gR(f,h,d),I=mR(f,h,d);if(C||I){var _=i;C&&(_=vR(i,/[lr]/gi,{l:"r",r:"l"})),I&&(_=vR(i,/[tb]/gi,{t:"b",b:"t"})),i=_,o=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&C,l.adjustY=s.adjustY&&I,(l.adjustX||l.adjustY)&&(p=function(e,t,n,r){var i=sR.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),sR.mix(i,o)}(f,h,d,l))}return p.width!==h.width&&sR.css(c,"width",sR.width(c)+p.width-h.width),p.height!==h.height&&sR.css(c,"height",sR.height(c)+p.height-h.height),sR.offset(c,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function IR(e,t,n){var r=n.target||t,i=hR(r),o=!function(e,t){var n=dR(e,t),r=hR(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return CR(e,i,n,o)}IR.__getOffsetParent=lR,IR.__getVisibleRectForElement=dR;var _R=i(18446),ER=i.n(_R),xR=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),AR="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,kR=void 0!==i.g&&i.g.Math===Math?i.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),TR="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(kR):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},SR=["top","right","bottom","left","width","height","size","weight"],PR="undefined"!=typeof MutationObserver,NR=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){TR(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,20);i=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){AR&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),PR?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){AR&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;SR.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),OR=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},RR=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||kR},DR=UR(0,0,0,0);function LR(e){return parseFloat(e)||0}function MR(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+LR(e["border-"+n+"-width"])}),0)}var jR="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof RR(e).SVGGraphicsElement}:function(e){return e instanceof RR(e).SVGElement&&"function"==typeof e.getBBox};function FR(e){return AR?jR(e)?function(e){var t=e.getBBox();return UR(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return DR;var r=RR(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=LR(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=LR(r.width),c=LR(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=MR(r,"left","right")+o),Math.round(c+a)!==n&&(c-=MR(r,"top","bottom")+a)),!function(e){return e===RR(e).document.documentElement}(e)){var l=Math.round(s+o)-t,u=Math.round(c+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return UR(i.left,i.top,s,c)}(e):DR}function UR(e,t,n,r){return{x:e,y:t,width:n,height:r}}var VR=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=UR(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=FR(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),zR=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return OR(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);OR(this,{target:e,contentRect:n})},BR=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new xR,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof RR(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new VR(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof RR(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new zR(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),qR="undefined"!=typeof WeakMap?new WeakMap:new xR,GR=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=NR.getInstance(),r=new BR(t,n,this);qR.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){GR.prototype[e]=function(){var t;return(t=qR.get(this))[e].apply(t,arguments)}}));var WR=void 0!==kR.ResizeObserver?kR.ResizeObserver:GR;function HR(e,t){var n=null,r=null,i=new WR((function(e){var i=G(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,c=Math.floor(a),l=Math.floor(s);n===c&&r===l||Promise.resolve().then((function(){t({width:c,height:l})})),n=c,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function KR(e){return"function"!=typeof e?null:e()}function ZR(e){return"object"===Ne(e)&&e?e:null}var YR=function(e,n){var r=e.children,i=e.disabled,o=e.target,a=e.align,s=e.onAlign,c=e.monitorWindowResize,l=e.monitorBufferTime,u=void 0===l?0:l,d=t.useRef({}),h=t.useRef(),f=t.Children.only(r),p=t.useRef({});p.current.disabled=i,p.current.target=o,p.current.align=a,p.current.onAlign=s;var g=function(e,n){var r=t.useRef(!1),i=t.useRef(null);function o(){window.clearTimeout(i.current)}return[function e(t){if(r.current&&!0!==t)o(),i.current=window.setTimeout((function(){r.current=!1,e()}),n);else{if(!1===function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=h.current,s=KR(n),c=ZR(n);d.current.element=s,d.current.point=c,d.current.align=r;var l=document.activeElement;return s&&function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1}(s)?o=IR(a,s,r):c&&(o=function(e,t,n){var r,i,o=sR.getDocument(e),a=o.defaultView||o.parentWindow,s=sR.getWindowScrollLeft(a),c=sR.getWindowScrollTop(a),l=sR.viewportWidth(a),u=sR.viewportHeight(a),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:c+t.clientY,width:0,height:0},h=r>=0&&r<=s+l&&i>=0&&i<=c+u,f=[n.points[0],"cc"];return CR(e,d,AO(AO({},n),{},{points:f}),h)}(a,c,r)),function(e,t){e!==document.activeElement&&AN(t,e)&&"function"==typeof e.focus&&e.focus()}(l,a),i&&o&&i(a,o),!0}return!1}())return;r.current=!0,o(),i.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,o()}]}(0,u),m=G(g,2),v=m[0],y=m[1],b=t.useRef({cancel:function(){}}),w=t.useRef({cancel:function(){}});t.useEffect((function(){var e,t,n=KR(o),r=ZR(o);h.current!==w.current.element&&(w.current.cancel(),w.current.element=h.current,w.current.cancel=HR(h.current,v)),d.current.element===n&&((e=d.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&ER()(d.current.align,a)||(v(),b.current.element!==n&&(b.current.cancel(),b.current.element=n,b.current.cancel=HR(n,v)))})),t.useEffect((function(){i?y():v()}),[i]);var C=t.useRef(null);return t.useEffect((function(){c?C.current||(C.current=KP(window,"resize",v)):C.current&&(C.current.remove(),C.current=null)}),[c]),t.useEffect((function(){return function(){b.current.cancel(),w.current.cancel(),C.current&&C.current.remove(),y()}}),[]),t.useImperativeHandle(n,(function(){return{forceAlign:function(){return v(!0)}}})),t.isValidElement(f)&&(f=t.cloneElement(f,{ref:PN(f.ref,h)})),f},QR=t.forwardRef(YR);QR.displayName="Align";var $R=QR,JR=i(87757),XR=i.n(JR);function eD(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function tD(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){eD(o,r,i,a,s,"next",e)}function s(e){eD(o,r,i,a,s,"throw",e)}a(void 0)}))}}var nD=["measure","align",null,"motion"],rD=t.forwardRef((function(e,n){var i=e.visible,o=e.prefixCls,a=e.className,s=e.style,c=e.children,l=e.zIndex,u=e.stretch,d=e.destroyPopupOnHide,h=e.forceRender,f=e.align,p=e.point,g=e.getRootDomNode,m=e.getClassNameFromAlign,v=e.onAlign,y=e.onMouseEnter,b=e.onMouseLeave,w=e.onMouseDown,C=e.onTouchStart,I=(0,t.useRef)(),_=(0,t.useRef)(),E=G((0,t.useState)(),2),x=E[0],A=E[1],k=function(e){var n=G(t.useState({width:0,height:0}),2),r=n[0],i=n[1];return[t.useMemo((function(){var t={};if(e){var n=r.width,i=r.height;-1!==e.indexOf("height")&&i?t.height=i:-1!==e.indexOf("minHeight")&&i&&(t.minHeight=i),-1!==e.indexOf("width")&&n?t.width=n:-1!==e.indexOf("minWidth")&&n&&(t.minWidth=n)}return t}),[e,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(u),T=G(k,2),S=T[0],P=T[1],N=function(e,n){var r=G((0,t.useState)(null),2),i=r[0],o=r[1],a=(0,t.useRef)(),s=(0,t.useRef)(!1);function c(e){s.current||o(e)}function l(){xN.cancel(a.current)}return(0,t.useEffect)((function(){c("measure")}),[e]),(0,t.useEffect)((function(){"measure"===i&&(u&&P(g())),i&&(a.current=xN(tD(XR().mark((function e(){var t,n;return XR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=nD.indexOf(i),(n=nD[t+1])&&-1!==t&&c(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,t.useEffect)((function(){return function(){s.current=!0,l()}}),[]),[i,function(e){l(),a.current=xN((function(){c((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(i),O=G(N,2),R=O[0],D=O[1],L=(0,t.useRef)();function M(){var e;null===(e=I.current)||void 0===e||e.forceAlign()}function j(e,t){var n=m(t);x!==n&&A(n),"align"===R&&(x!==n?Promise.resolve().then((function(){M()})):D((function(){var e;null===(e=L.current)||void 0===e||e.call(L)})),null==v||v(e,t))}var F=jP({},_O(e));function U(){return new Promise((function(e){L.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=F[e];F[e]=function(e,n){return D(),null==t?void 0:t(e,n)}})),t.useEffect((function(){F.motionName||"motion"!==R||D()}),[F.motionName,R]),t.useImperativeHandle(n,(function(){return{forceAlign:M,getElement:function(){return _.current}}}));var V=jP(jP({},S),{},{zIndex:l,opacity:"motion"!==R&&"stable"!==R&&i?0:void 0,pointerEvents:"stable"===R?void 0:"none"},s),z=!0;!(null==f?void 0:f.points)||"align"!==R&&"stable"!==R||(z=!1);var B=c;return t.Children.count(c)>1&&(B=t.createElement("div",{className:"".concat(o,"-content")},c)),t.createElement(IO,r({visible:i,ref:_,leavedClassName:"".concat(o,"-hidden")},F,{onAppearPrepare:U,onEnterPrepare:U,removeOnLeave:d,forceRender:h}),(function(e,n){var r=e.className,i=e.style,s=YP()(o,a,x,r);return t.createElement($R,{target:p||g,key:"popup",ref:I,monitorWindowResize:!0,disabled:z,align:f,onAlign:j},t.createElement("div",{ref:n,className:s,onMouseEnter:y,onMouseLeave:b,onMouseDownCapture:w,onTouchStartCapture:C,style:jP(jP({},i),V)},B))}))}));rD.displayName="PopupInner";var iD=rD,oD=t.forwardRef((function(e,n){var i=e.prefixCls,o=e.visible,a=e.zIndex,s=e.children,c=e.mobile,l=(c=void 0===c?{}:c).popupClassName,u=c.popupStyle,d=c.popupMotion,h=void 0===d?{}:d,f=c.popupRender,p=t.useRef();t.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return p.current}}}));var g=jP({zIndex:a},u),m=s;return t.Children.count(s)>1&&(m=t.createElement("div",{className:"".concat(i,"-content")},s)),f&&(m=f(m)),t.createElement(IO,r({visible:o,ref:p,removeOnLeave:!0},h),(function(e,n){var r=e.className,o=e.style,a=YP()(i,l,r);return t.createElement("div",{ref:n,className:a,style:jP(jP({},o),g)},m)}))}));oD.displayName="MobilePopupInner";var aD=oD,sD=["visible","mobile"],cD=t.forwardRef((function(e,n){var i=e.visible,o=e.mobile,a=qP(e,sD),s=G((0,t.useState)(i),2),c=s[0],l=s[1],u=G((0,t.useState)(!1),2),d=u[0],h=u[1],f=jP(jP({},a),{},{visible:c});(0,t.useEffect)((function(){l(i),i&&o&&h(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4)))}())}),[i,o]);var p=d?t.createElement(aD,r({},f,{mobile:o,ref:n})):t.createElement(iD,r({},f,{ref:n}));return t.createElement("div",null,t.createElement(EO,f),p)}));cD.displayName="Popup";var lD=cD,uD=t.createContext(null);function dD(){}var hD,fD,pD=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],gD=(hD=RN,fD=function(e){De(o,e);var i=FP(o);function o(e){var a,s;return H(this,o),(a=i.call(this,e)).popupRef=t.createRef(),a.triggerRef=t.createRef(),a.attachId=void 0,a.clickOutsideHandler=void 0,a.touchOutsideHandler=void 0,a.contextMenuOutsideHandler1=void 0,a.contextMenuOutsideHandler2=void 0,a.mouseDownTimeout=void 0,a.focusTime=void 0,a.preClickTime=void 0,a.preTouchTime=void 0,a.delayTimer=void 0,a.hasPopupMouseDown=void 0,a.onMouseEnter=function(e){var t=a.props.mouseEnterDelay;a.fireEvents("onMouseEnter",e),a.delaySetPopupVisible(!0,t,t?null:e)},a.onMouseMove=function(e){a.fireEvents("onMouseMove",e),a.setPoint(e)},a.onMouseLeave=function(e){a.fireEvents("onMouseLeave",e),a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)},a.onPopupMouseEnter=function(){a.clearDelayTimer()},a.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&AN(null===(t=a.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||a.delaySetPopupVisible(!1,a.props.mouseLeaveDelay)},a.onFocus=function(e){a.fireEvents("onFocus",e),a.clearDelayTimer(),a.isFocusToShow()&&(a.focusTime=Date.now(),a.delaySetPopupVisible(!0,a.props.focusDelay))},a.onMouseDown=function(e){a.fireEvents("onMouseDown",e),a.preClickTime=Date.now()},a.onTouchStart=function(e){a.fireEvents("onTouchStart",e),a.preTouchTime=Date.now()},a.onBlur=function(e){a.fireEvents("onBlur",e),a.clearDelayTimer(),a.isBlurToHide()&&a.delaySetPopupVisible(!1,a.props.blurDelay)},a.onContextMenu=function(e){e.preventDefault(),a.fireEvents("onContextMenu",e),a.setPopupVisible(!0,e)},a.onContextMenuClose=function(){a.isContextMenuToShow()&&a.close()},a.onClick=function(e){if(a.fireEvents("onClick",e),a.focusTime){var t;if(a.preClickTime&&a.preTouchTime?t=Math.min(a.preClickTime,a.preTouchTime):a.preClickTime?t=a.preClickTime:a.preTouchTime&&(t=a.preTouchTime),Math.abs(t-a.focusTime)<20)return;a.focusTime=0}a.preClickTime=0,a.preTouchTime=0,a.isClickToShow()&&(a.isClickToHide()||a.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!a.state.popupVisible;(a.isClickToHide()&&!n||n&&a.isClickToShow())&&a.setPopupVisible(!a.state.popupVisible,e)},a.onPopupMouseDown=function(){var e;a.hasPopupMouseDown=!0,clearTimeout(a.mouseDownTimeout),a.mouseDownTimeout=window.setTimeout((function(){a.hasPopupMouseDown=!1}),0),a.context&&(e=a.context).onPopupMouseDown.apply(e,arguments)},a.onDocumentClick=function(e){if(!a.props.mask||a.props.maskClosable){var t=e.target,n=a.getRootDomNode(),r=a.getPopupDomNode();AN(n,t)&&!a.isContextMenuOnly()||AN(r,t)||a.hasPopupMouseDown||a.close()}},a.getRootDomNode=function(){var e=a.props.getTriggerDOMNode;if(e)return e(a.triggerRef.current);try{var t=kN(a.triggerRef.current);if(t)return t}catch(e){}return n.findDOMNode(Oe(a))},a.getPopupClassNameFromAlign=function(e){var t=[],n=a.props,r=n.popupPlacement,i=n.builtinPlacements,o=n.prefixCls,s=n.alignPoint,c=n.getPopupClassNameFromAlign;return r&&i&&t.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(DN(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(i,o,e,s)),c&&t.push(c(e)),t.join(" ")},a.getComponent=function(){var e=a.props,n=e.prefixCls,i=e.destroyPopupOnHide,o=e.popupClassName,s=e.onPopupAlign,c=e.popupMotion,l=e.popupAnimation,u=e.popupTransitionName,d=e.popupStyle,h=e.mask,f=e.maskAnimation,p=e.maskTransitionName,g=e.maskMotion,m=e.zIndex,v=e.popup,y=e.stretch,b=e.alignPoint,w=e.mobile,C=e.forceRender,I=a.state,_=I.popupVisible,E=I.point,x=a.getPopupAlign(),A={};return a.isMouseEnterToShow()&&(A.onMouseEnter=a.onPopupMouseEnter),a.isMouseLeaveToHide()&&(A.onMouseLeave=a.onPopupMouseLeave),A.onMouseDown=a.onPopupMouseDown,A.onTouchStart=a.onPopupMouseDown,t.createElement(lD,r({prefixCls:n,destroyPopupOnHide:i,visible:_,point:b&&E,className:o,align:x,onAlign:s,animation:l,getClassNameFromAlign:a.getPopupClassNameFromAlign},A,{stretch:y,getRootDomNode:a.getRootDomNode,style:d,mask:h,zIndex:m,transitionName:u,maskAnimation:f,maskTransitionName:p,maskMotion:g,ref:a.popupRef,motion:c,mobile:w,forceRender:C}),"function"==typeof v?v():v)},a.attachParent=function(e){xN.cancel(a.attachId);var t,n=a.props,r=n.getPopupContainer,i=n.getDocument,o=a.getRootDomNode();r?(o||0===r.length)&&(t=r(o)):t=i(a.getRootDomNode()).body,t?t.appendChild(e):a.attachId=xN((function(){a.attachParent(e)}))},a.getContainer=function(){var e=(0,a.props.getDocument)(a.getRootDomNode()).createElement("div");return e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",a.attachParent(e),e},a.setPoint=function(e){a.props.alignPoint&&e&&a.setState({point:{pageX:e.pageX,pageY:e.pageY}})},a.handlePortalUpdate=function(){a.state.prevPopupVisible!==a.state.popupVisible&&a.props.afterPopupVisibleChange(a.state.popupVisible)},a.triggerContextValue={onPopupMouseDown:a.onPopupMouseDown},s="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,a.state={prevPopupVisible:s,popupVisible:s},pD.forEach((function(e){a["fire".concat(e)]=function(t){a.fireEvents(e,t)}})),a}return Z(o,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=KP(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=KP(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=KP(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=KP(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),xN.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return jP(jP({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,n=this.props,r=n.children,i=n.forceRender,o=n.alignPoint,a=n.className,s=n.autoDestroy,c=t.Children.only(r),l={key:"trigger"};this.isContextMenuToShow()?l.onContextMenu=this.onContextMenu:l.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMouseDown=this.onMouseDown,l.onTouchStart=this.onTouchStart):(l.onClick=this.createTwoChains("onClick"),l.onMouseDown=this.createTwoChains("onMouseDown"),l.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(l.onMouseEnter=this.onMouseEnter,o&&(l.onMouseMove=this.onMouseMove)):l.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?l.onMouseLeave=this.onMouseLeave:l.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=this.createTwoChains("onBlur"));var u=YP()(c&&c.props&&c.props.className,a);u&&(l.className=u);var d,h,f,p,g=jP({},l);d=c,"function"==typeof(p=(0,TN.isMemo)(d)?d.type.type:d.type)&&!(null===(h=p.prototype)||void 0===h?void 0:h.render)||"function"==typeof d&&!(null===(f=d.prototype)||void 0===f?void 0:f.render)||(g.ref=PN(this.triggerRef,c.ref));var m,v=t.cloneElement(c,g);return(e||this.popupRef.current||i)&&(m=t.createElement(hD,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&s&&(m=null),t.createElement(uD.Provider,{value:this.triggerContextValue},v,m)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),o}(t.Component),fD.contextType=uD,fD.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(e){return e?e.ownerDocument:window.document},onPopupVisibleChange:dD,afterPopupVisibleChange:dD,onPopupAlign:dD,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},fD),mD={adjustX:1,adjustY:1},vD=[0,0],yD={left:{points:["cr","cl"],overflow:mD,offset:[-4,0],targetOffset:vD},right:{points:["cl","cr"],overflow:mD,offset:[4,0],targetOffset:vD},top:{points:["bc","tc"],overflow:mD,offset:[0,-4],targetOffset:vD},bottom:{points:["tc","bc"],overflow:mD,offset:[0,4],targetOffset:vD},topLeft:{points:["bl","tl"],overflow:mD,offset:[0,-4],targetOffset:vD},leftTop:{points:["tr","tl"],overflow:mD,offset:[-4,0],targetOffset:vD},topRight:{points:["br","tr"],overflow:mD,offset:[0,-4],targetOffset:vD},rightTop:{points:["tl","tr"],overflow:mD,offset:[4,0],targetOffset:vD},bottomRight:{points:["tr","br"],overflow:mD,offset:[0,4],targetOffset:vD},rightBottom:{points:["bl","br"],overflow:mD,offset:[4,0],targetOffset:vD},bottomLeft:{points:["tl","bl"],overflow:mD,offset:[0,4],targetOffset:vD},leftBottom:{points:["br","bl"],overflow:mD,offset:[-4,0],targetOffset:vD}},bD=function(e){var n=e.overlay,r=e.prefixCls,i=e.id,o=e.overlayInnerStyle;return t.createElement("div",{className:"".concat(r,"-inner"),id:i,role:"tooltip",style:o},"function"==typeof n?n():n)},wD=function(e,n){var i=e.overlayClassName,o=e.trigger,a=void 0===o?["hover"]:o,s=e.mouseEnterDelay,c=void 0===s?0:s,l=e.mouseLeaveDelay,u=void 0===l?.1:l,d=e.overlayStyle,h=e.prefixCls,f=void 0===h?"rc-tooltip":h,p=e.children,g=e.onVisibleChange,m=e.afterVisibleChange,v=e.transitionName,y=e.animation,b=e.motion,w=e.placement,C=void 0===w?"right":w,I=e.align,_=void 0===I?{}:I,E=e.destroyTooltipOnHide,x=void 0!==E&&E,A=e.defaultVisible,k=e.getTooltipContainer,T=e.overlayInnerStyle,S=qP(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),P=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return P.current}));var N=jP({},S);"visible"in e&&(N.popupVisible=e.visible);var O=!1,R=!1;if("boolean"==typeof x)O=x;else if(x&&"object"===Ne(x)){var D=x.keepParent;O=!0===D,R=!1===D}return t.createElement(gD,r({popupClassName:i,prefixCls:f,popup:function(){var n=e.arrowContent,r=void 0===n?null:n,i=e.overlay,o=e.id;return[t.createElement("div",{className:"".concat(f,"-arrow"),key:"arrow"},r),t.createElement(bD,{key:"content",prefixCls:f,id:o,overlay:i,overlayInnerStyle:T})]},action:a,builtinPlacements:yD,popupPlacement:C,ref:P,popupAlign:_,getPopupContainer:k,onPopupVisibleChange:g,afterPopupVisibleChange:m,popupTransitionName:v,popupAnimation:y,popupMotion:b,defaultPopupVisible:A,destroyPopupOnHide:O,autoDestroy:R,mouseLeaveDelay:u,popupStyle:d,mouseEnterDelay:c},N),p)},CD=(0,t.forwardRef)(wD),ID=t.forwardRef((function(e,n){var i=e.visible,o=e.overlay,a=t.useRef(null),s=PN(n,a),c=t.useRef(null);function l(){xN.cancel(c.current)}return t.useEffect((function(){return i?c.current=xN((function(){var e;null===(e=a.current)||void 0===e||e.forcePopupAlign()})):l(),l}),[i,o]),t.createElement(CD,r({ref:s},e))})),_D=ID;function ED(e){var n;return n=function(n){De(o,n);var i=FP(o);function o(){var e;return H(this,o),(e=i.apply(this,arguments)).state={visibles:{}},e.handleTooltipVisibleChange=function(t,n){e.setState((function(e){return{visibles:jP(jP({},e.visibles),{},W({},t,n))}}))},e.handleWithTooltip=function(n){var i,o=n.value,a=n.dragging,s=n.index,c=n.disabled,l=qP(n,["value","dragging","index","disabled"]),u=e.props,d=u.tipFormatter,h=u.tipProps,f=u.handleStyle,p=u.getTooltipContainer,g=h.prefixCls,m=void 0===g?"rc-slider-tooltip":g,v=h.overlay,y=void 0===v?d(o):v,b=h.placement,w=void 0===b?"top":b,C=h.visible,I=void 0!==C&&C,_=qP(h,["prefixCls","overlay","placement","visible"]);return i=Array.isArray(f)?f[s]||f[0]:f,t.createElement(_D,r({},_,{getTooltipContainer:p,prefixCls:m,overlay:y,placement:w,visible:!c&&(e.state.visibles[s]||a)||I,key:s}),t.createElement(JP,r({},l,{style:jP({},i),value:o,onMouseEnter:function(){return e.handleTooltipVisibleChange(s,!0)},onMouseLeave:function(){return e.handleTooltipVisibleChange(s,!1)}})))},e}return Z(o,[{key:"render",value:function(){return t.createElement(e,r({},this.props,{handle:this.handleWithTooltip}))}}]),o}(t.Component),n.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{},getTooltipContainer:function(e){return e.parentNode}},n}var xD=mN;xD.Range=bN,xD.Handle=JP,xD.createSliderWithTooltip=ED;var AD=xD;function kD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return TD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TD(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var SD=function(){var e=kD(t.useState(0),2),n=e[0],r=e[1],i=kD(t.useState({}),2),o=i[0],a=i[1],s=new uP,c=new vP;function l(e){a(e),r(1),s.listenMessages(fP,u),s.listenMessages(pP,d),s.listenMessages(gP,h),s.listenMessages(hP,f),s.listenMessages(dP,p)}function u(){c.sendStart()}function d(){c.sendStop()}function h(e){c.sendTime(e.detail)}function f(e){c.sendPoints(e.detail)}function p(e){c.sendGates(e.detail)}return 0===n?t.createElement("div",{className:"controlText",onClick:function(){c.discoverDevice(l)}},"Discover Bluetooth Device"):t.createElement("div",{className:"controlText"},o.name)},PD=i(80008),ND={};ND.styleTagTransform=Ee(),ND.setAttributes=we(),ND.insert=ye().bind(null,"head"),ND.domAPI=me(),ND.insertStyleElement=Ie(),pe()(PD.Z,ND),PD.Z&&PD.Z.locals&&PD.Z.locals;var OD=i(17243),RD={};RD.styleTagTransform=Ee(),RD.setAttributes=we(),RD.insert=ye().bind(null,"head"),RD.domAPI=me(),RD.insertStyleElement=Ie(),pe()(OD.Z,RD),OD.Z&&OD.Z.locals&&OD.Z.locals;var DD=i(58458),LD={};function MD(e){return function(e){if(Array.isArray(e))return zD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||VD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jD(Object(n),!0).forEach((function(t){UD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VD(e,t){if(e){if("string"==typeof e)return zD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zD(e,t):void 0}}function zD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BD(e,t){var n={tickTime:0,forceAction:"",game:e};return qn.init(n.game,qn.getGameTypeControlTextValuesInit(e.gameType),qn.getGameTypeFiascoControlTextValuesInit(e.gameType),t),n}LD.styleTagTransform=Ee(),LD.setAttributes=we(),LD.insert=ye().bind(null,"head"),LD.domAPI=me(),LD.insertStyleElement=Ie(),pe()(DD.Z,LD),DD.Z&&DD.Z.locals&&DD.Z.locals;var qD=function(e){var n=e.children,r=e.game,i=e.onGameEnd,o=e.onRepair,a=e.playerIndex,s=e.zoneIndex,c=e.gameExtras,l=de().t,u=ED(AD),d=new uP,h=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||VD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState((function(){return window.scrollTo(0,0),BD(r)})),2),f=h[0],p=h[1],g=[];function m(e){var t=FD({},f),n=t.game.players[a].zones[s];n.gateProgression=e,d.sendMessage(dP,n.gateProgression),e===t.game.gates[s]&&(t.forceAction="pause"),c.onGateProgressionChange(n),p(t)}function v(e){var t="gatesPlusButton"===e.target.id,n=f.game.players[a].zones[s],r=f.game.gates[s];t?n.gateProgression<r&&m(n.gateProgression+1):n.gateProgression>0&&m(n.gateProgression-1)}n.length&&(g.push(t.cloneElement(n[0],{onValueChange:function(e,t){var n=FD({},f),r=n.game,i=r.players[a].zones[s],o=i.gateProgressionData[i.gateProgression];(!(r.maxPoints<=i.points&&r.maxPoints>0)&&!(r.maxTime<=f.tickTime&&r.maxTime>0)||i.points+e<=r.maxPoints&&0===i.fiascoControlTextValues.filter((function(e){return e>0})).length)&&(o.controlTextValues=MD(o.controlTextValues),o.controlTextValues[t]+=e,i.points+=e,i.gateProgression<r.gates[s]&&(o.gatePoints+=e),d.sendMessage(hP,i.points),c.onChangeScore(i),p(n),qn.isFiasco(n.game,a,s)&&p(FD(FD({},f),{},{forceAction:"pause"})))}})),n[2]?(g.push(t.cloneElement(n[1],{onValueChange:function(e,t){var n=FD({},f),r=n.game.players[a].zones[s];r.fiascoControlTextValues=MD(r.fiascoControlTextValues),r.fiascoControlTextValues[t]+=e,r.fiascoControlTextValues[t]>0&&(n.forceAction="pause"),c.onFiascoChangeScore(),p(n)}})),g.push(t.cloneElement(n[2]))):g.push(t.cloneElement(n[1])),n[3]&&g.push(t.cloneElement(n[3]))),t.useEffect((function(){var e=f.game.players[a].zones[s];p(FD(FD({},f),{},{tickTime:e.time,forceAction:"play"})),document.body.classList.add(qn.getGameTypeBodyClassName(r.gameType))}),[]);var y=t.createElement(t.Fragment,null),b=f.game,w=b.maxTime,C=b.players[a],I=C.zones[s];return qn.isFiasco(f.game,a,s)&&(U.event("play","fiasco",C.name),y=t.createElement("div",{className:"fiascoBox rounded importantNote"},"FiASCO!")),t.createElement("div",{className:"gameContainer"},t.createElement("div",{className:"playersList"},t.createElement("div",{className:"playerListItem importantNote rounded"},t.createElement("img",{src:C.avatar,alt:"avatar"}),C.name)),t.createElement("div",{className:"controlTextContainer rounded rounded2"},t.createElement("div",{className:"smallText"},l("description.zona"),": ",s+1),t.createElement("div",{className:"smallText"},l("description.puertas"),": ",b.gates[s]),t.createElement("div",{className:"smallText"},"max ",l("description.tiempo"),": ",Gt.printTime(Gt.millisToTime(r.maxTime))),t.createElement("div",{className:"smallText"},"max ",l("description.puntos"),": ",r.maxPoints),t.createElement("div",{className:"bold pointsText"},l("description.total"),": ",I.totalPoints),y),t.createElement("div",{className:"controlTextContainer rounded rounded2"},Gt.isIphone()?t.createElement(t.Fragment,null):t.createElement(SD,null),r.courtesyTime>0?t.createElement("div",{className:"pointsText"},l("description.puntos")," ",l("description.portiempo"),": ",I.simpathyPoints):t.createElement(t.Fragment,null),t.createElement("button",{className:"repairButton importantNote",onClick:function(){var e=FD({},f);e.game.players[a].zones[s].time=f.tickTime,e.forceAction="stop",p(e),o&&o(a,s)}},l("description.iniciarreparacion")),t.createElement(kP,{courtesyTime:r.courtesyTime,startTime:I.time,label:l("description.tiempo"),forceAction:f.forceAction,onTimerChange:function(e){var t=FD({},f);if(!e){var n=t.game.players[a].zones[s];n.simpathyPoints=0,c.onTimerChange(n)}I.time=e,p(FD(FD({},t),{},{tickTime:e,forceAction:"play"}))},onTimeFiasco:function(){var e=FD({},f);p(FD(FD({},e),{},{tickTime:r.maxTime+r.courtesyTime,forceAction:"pause"}))},onPointBecauseLastMinute:function(){var e=FD({},f),t=e.game.players[a].zones[s];t.simpathyPoints++,c.onPointBecauseLastMinute(t),p(e)},maxTime:w})),t.createElement("div",{className:"gateProgressionContainer controlTextContainer info rounded rounded2"},l("description.avancepuerta"),": ",I.gateProgression,t.createElement("button",{id:"gatesPlusButton",onClick:v,className:"buttonControlTextPlus"},"+"),t.createElement("button",{id:"gatesMinusButton",onClick:v,className:"buttonControlTextMinus"},"-"),t.createElement(u,{step:1,min:0,max:b.gates[s],dots:!0,vertical:6===r.gameType,value:I.gateProgression,onChange:m,marks:c.generateSliderMarksFromGates(I.gateProgressionData,I.gateProgression),tipFormatter:function(e){return I.gateProgression<b.gates[s]?String(e).concat("-").concat(I.gateProgressionData[I.gateProgression].gatePoints):"-"}})),t.createElement("div",{className:"controlTextContainer rounded rounded2"},g[2],I.gateProgression<r.gates[s]?g[0]:t.createElement(t.Fragment,null),I.gateProgression<r.gates[s]?g[1]:t.createElement(t.Fragment,null)),g[3],t.createElement("button",{onClick:function(){var e=FD({},f);window.scrollTo(0,0),U.event("play","reset",e.game.players[a].name),(e=BD(e.game,!0)).forceAction="stop",p((function(t){return FD(FD({},t),e)}))},className:"resetButton"},l("description.reset")),t.createElement("button",{className:"importantNote",onClick:function(){!function(){var e=FD({},f),t=e.game,n=t.players;window.scrollTo(0,0),c.onEndPlayer(t,f.tickTime,a,s),e.forceAction="stop",p(e),U.event("play","endPlayer",n[a].name),document.body.classList.remove(qn.getGameTypeBodyClassName(r.gameType)),i(e.game)}()}},l("description.finjugador")," (",C.name,")"),t.createElement("p",null))};function GD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WD=function(e){var n=e.game,r=e.player,i=e.zone,o=e.onGameEnd,a=e.onRepair,s=e.gameExtras,c=e.children,l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return GD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GD(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState(n),2),u=l[0],d=l[1],h=[];return t.useEffect((function(){s.doPageView()}),[]),1!==u.gameType?h.push(t.createElement(qD,{key:1,game:u,onGameEnd:function(e){o(e)},onRepair:a,playerIndex:r,gameExtras:s,zoneIndex:i},c)):h.push(t.createElement(LP,{key:0,game:u,onGameEnd:function(e){o(e)},onRepair:a})),t.createElement(Zt.Provider,{value:{game:u,setGame:d}},h)},HD=i(7169),KD={};KD.styleTagTransform=Ee(),KD.setAttributes=we(),KD.insert=ye().bind(null,"head"),KD.domAPI=me(),KD.insertStyleElement=Ie(),pe()(HD.Z,KD),HD.Z&&HD.Z.locals&&HD.Z.locals;var ZD=function(e){var n=e.onTimeFiasco,r=e.onRepairTimerChange,i=de().t;return t.createElement("div",{className:"repairTimeContainer"},t.createElement(kP,{courtesyTime:0,label:i("points.reparacion"),onTimeFiasco:n,onTimerChange:r,maxTime:18e5}))},YD=i(38874),QD={};QD.styleTagTransform=Ee(),QD.setAttributes=we(),QD.insert=ye().bind(null,"head"),QD.domAPI=me(),QD.insertStyleElement=Ie(),pe()(YD.Z,QD),YD.Z&&YD.Z.locals&&YD.Z.locals;var $D=function(e){var n=e.gameProgression,r=e.game,i=e.onRepairEnd,o=de().t,a=[];return n&&Object.entries(n).forEach((function(e,n){Object.entries(e[1]).forEach((function(s,c){Object.entries(s[1]).forEach((function(c,l){if("repair"===c[1].status){var u=new Date(c[1].repairData.setTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});a.push(t.createElement("div",{key:l+n,className:"repairProgressionItem rounded rounded2"},t.createElement("div",{className:"repairProgressionItemHead"},t.createElement("img",{src:r.players[s[0]].avatar,alt:"player avatar"}),t.createElement("span",{className:"repairProgressionItemZone"},o("description.zona"),": ",l+1),t.createElement("span",{className:"gameProgressionItemHour"},o("description.enreparaciondesde")," ",u)),t.createElement(ZD,null),t.createElement("button",{onClick:function(){!function(e,t,n,r){window.confirm(o("content.finalizarreparacion"))&&i&&i(e,t,n,r)}(r.players[[s[0]]].id,e[0],l,c[1])},className:"importantNote"},o("description.fin"))))}}))}))})),t.createElement("div",{className:"repairProgressionContainer"},a.length?a:o("description.nohayreparaciones"))},JD=i(56783),XD={};function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eL(Object(n),!0).forEach((function(t){nL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}XD.styleTagTransform=Ee(),XD.setAttributes=we(),XD.insert=ye().bind(null,"head"),XD.domAPI=me(),XD.insertStyleElement=Ie(),pe()(JD.Z,XD),JD.Z&&JD.Z.locals&&JD.Z.locals;var iL=function(e){var n=e.game,r=e.gameProgression,i=de().t,o=window.crawlear.fb,a=t.useRef(),s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState({}),2),c=(s[0],s[1]),l=[];function u(e,t){if("pending"===t.status){var n={};n[e]=t,a.current=tL(tL({},a.current),n),c(a.current)}}function d(e,t){if("pending"===t.status){var n={};n[e]=t,a.current=tL(tL({},a.current),n),c(a.current)}}l.push(t.createElement("div",{key:"zC",className:""},i("content.zonascompletadas"))),t.useEffect((function(){o.getDirectorPresenceRequest(n.gid,u,d)}),[]);for(var h=function(e){var n=[];Object.entries(r).forEach((function(r,o){var a=0;Object.entries(r[1]).forEach((function(t,n){t[1]&&t[1][e]&&"done"===t[1][e].status&&t[1][e].data&&a++})),a===Object.entries(r[1]).length&&n.push(t.createElement("span",{key:"dG".concat(e),className:"directorGroup"},i("description.grupo")," ",o+1))})),l.push(t.createElement("div",{key:"dZ".concat(e),className:"directorZone horizontalScrolling"},i("description.zona")," ",e+1,": ",n))},f=0;f<n.zones;f++)h(f);return l.push(t.createElement("p",{key:"pdp",className:"bold"},i("description.peticionesdepresencia"),":")),a.current||l.push(t.createElement("p",{key:"npsp",className:""},i("description.nopeticionespresencia"))),a.current&&Object.keys(a.current).forEach((function(e,r){var s=a.current[e];l.push(t.createElement("div",{key:"dR".concat(r),className:"directorRequestContainer blink"},t.createElement("div",null,t.createElement("div",null,i("description.de")," ",s.fromName),t.createElement("div",null,i("description.zona"),": ",s.zone+1),t.createElement("div",null,i("description.jugador"),": ",s.playerName),t.createElement("div",null,i("description.estado"),": ",s.status)),t.createElement("div",null,t.createElement("button",{onClick:function(){!function(e){if(window.confirm(i("content.aceptarpresencia"))){var t=tL({},a.current);delete t[e],c(t),a.current=t,o.acceptDirectorPresenceRequest(n.gid,e)}}(e)}},i("description.aceptar")))))})),l};function oL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oL(Object(n),!0).forEach((function(t){sL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lL=function(e){var n=e.game,r=e.playerName,i=e.fromName,o=e.zone,a=de().t,s=window.crawlear.fb,c=[],l=n.gid,u=[],d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState({}),2),h=d[0],f=d[1];function p(e,t){if("pending"===e.status){var n=aL({},h);n[t]=e,f(n)}else if("accepted"===e.status){var r=aL({},h);delete r[t],f(r)}}return l&&r&&i&&o>=0&&!qn.isCurrentUserIsOwner(n.owner)&&0===Object.entries(h).length&&c.push(t.createElement("button",{onClick:function(){window.confirm(a("content.quieresenviarpeticiondepresencia"))&&s.setDirectorPresenceRequest(l,o,r,i,p)}},a("description.reclamarpresencia"))),Object.keys(h).forEach((function(e,n){u.push(t.createElement("div",null,h[e].status))})),t.createElement("div",{className:"presenceButtonContainer"},c,u)},uL=i(92432),dL={};dL.styleTagTransform=Ee(),dL.setAttributes=we(),dL.insert=ye().bind(null,"head"),dL.domAPI=me(),dL.insertStyleElement=Ie(),pe()(uL.Z,dL),uL.Z&&uL.Z.locals&&uL.Z.locals;var hL=function(e){var n=e.game,r=e.onTrainingEnd,i=de().t,o=(qn.getMaxGroupNumber(n),[]),a=[],s=0,c=new Array(4).fill(new Array(8).fill(!1));a.push(t.createElement("td",null,"hora"));for(var l=0;l<8;l++)a.push(t.createElement("td",null,"zona ",l));o.push(t.createElement("tr",null,a)),a=[];for(var u=0;u<4;u++){a.push(t.createElement("td",null,"10:00"));for(var d=0;d<Math.min(8,4);d++)c[u][d]||(a.push(t.createElement("td",null,"grupo ",s)),s=(s+1)%4,c[u][d]=!0);o.push(t.createElement("tr",null,a)),a=[]}return t.createElement("div",{className:"TainingContainer"},i("description.grupos"),": ",4,i("description.zonas"),": ",n.zones,t.createElement("table",null,o),t.createElement("button",{onClick:function(){r&&r()},className:""},i("description.atras")))},fL=i(32202),pL={};function gL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}pL.styleTagTransform=Ee(),pL.setAttributes=we(),pL.insert=ye().bind(null,"head"),pL.domAPI=me(),pL.insertStyleElement=Ie(),pe()(fL.Z,pL),fL.Z&&fL.Z.locals&&fL.Z.locals;var mL=function(e){var n=e.onGameTypeChange,r=e.selectedGameType,i=void 0===r?0:r,o=(e.selectedPointsType,de().t),a=[o("gametype.aecar"),o("gametype.rey"),o("gametype.isrcc"),o("gametype.levante124"),o("gametype.copaespana"),o("gametype.minicrawlerpassion"),o("gametype.generic")],s=[t.createElement("div",null,o("gametype.modojuegoarcar")),t.createElement("div",null,o("gametype.modojuegorey")),t.createElement("div",null,o("gametype.modojuegoisrcc")),t.createElement("div",null,o("gametype.modojuegolevante124")),t.createElement("div",null,o("gametype.modojuegocopaespana")),t.createElement("div",null,o("gametype.modojuegominicrawlerpassion")),t.createElement("div",null,o("gametype.modojuegogeneric"))],c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState({gameType:i}),2),l=c[0],u=c[1],d=[];return a.forEach((function(e,n){d.push(t.createElement("option",{key:n,value:n},a[n]))})),t.createElement(t.Fragment,null,t.createElement("div",{className:"gameType rounded1 rounded"},t.createElement("label",{htmlFor:"gameTypeSelect",className:"headerText bold"},o("gametype.modojuego"),t.createElement("select",{id:"gameTypeSelect",defaultValue:i,onChange:function(e){var t=e.target.selectedIndex;n&&n(t),u({gameType:t})}},d)),t.createElement("div",{className:"gameSelectText smallText"},s[l.gameType])))},vL=i(24374),yL={};yL.styleTagTransform=Ee(),yL.setAttributes=we(),yL.insert=ye().bind(null,"head"),yL.domAPI=me(),yL.insertStyleElement=Ie(),pe()(vL.Z,yL),vL.Z&&vL.Z.locals&&vL.Z.locals;var bL=function(e){var n=e.player,r=e.i,i=e.onRemovePlayer,o=e.onClickPlayer,a=e.onGroupChange,s=e.maxGroups,c=e.editMode,l=e.isForJudge,u=e.onGameDirectorChange,d=de().t,h=[];if(c){for(var f=[],p=0;p<s;p++)f.push(t.createElement("option",{value:p},d("description.grupo")," ",p+1));h.push(t.createElement("button",{className:"buttonControlTextMinus",id:r,onClick:function(e){e.stopPropagation(),i&&i(e)}},"-")),h.push(t.createElement("div",null,t.createElement("select",{value:n.group,onChange:function(e){var t=e.target.selectedIndex;a&&a(n.id,t)}},f))),l&&h.push(t.createElement(t.Fragment,null,t.createElement("input",{type:"checkbox",onChange:function(e){u&&u(n.id,e.target.checked)}}),t.createElement("span",{className:"PlayerItemGameDirector"},d("description.directordepartida"))))}return t.createElement("li",{key:r,onClick:function(){o&&o(n.id)},className:"closed importantNote rounded playerListItem",value:n.name},t.createElement("div",{className:"playerBox"},t.createElement("img",{referrerPolicy:"no-referrer",src:n.avatar,alt:"avatar"}),t.createElement("div",{className:"textOverflow"},n.name),h))},wL=i(26401),CL={};CL.styleTagTransform=Ee(),CL.setAttributes=we(),CL.insert=ye().bind(null,"head"),CL.domAPI=me(),CL.insertStyleElement=Ie(),pe()(wL.Z,CL),wL.Z&&wL.Z.locals&&wL.Z.locals;var IL=i(23969);function _L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return EL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xL=function(e){var n=e.onUserSeachPlayerAdd,r=e.onUserClick,i=e.onPlusAddUserClick,o=e.mainText,a=e.secondaryText,s=e.iconSend,c=e.children,l=window.crawlear.fb,u=(de().t,_L(t.useState(""),2)),d=u[0],h=u[1],f=_L(t.useState([]),2),p=f[0],g=f[1],m=t.useRef(),v=t.useRef();function y(e){var t=e.target,r=t.getAttribute("data-uid"),i=t.getAttribute("data-displayname"),o=t.getAttribute("data-photourl");g([]),h(""),n&&n({uid:r,displayName:i,photoURL:o})}function b(e){var t=e.target.nextElementSibling.getAttribute("data-uid");r&&r(t)}var w,C=[],I=0;return p.length>0&&(C.push(t.createElement("div",{key:I,className:"userSearchResultsText smallText"},a)),I++),p.forEach((function(e){var r=s;n&&e.uid===window.crawlear.user.uid&&(r=IL),C.push(t.createElement("div",{className:"bold userSearchItem",key:I},t.createElement("span",{onClick:b,className:"userSearchResult textOverflow"},e.displayName),t.createElement("img",{src:r,alt:"send icon","data-uid":e.uid,"data-displayname":e.displayName,"data-photourl":e.photoURL,onClick:y}))),I++})),i&&(w=t.createElement("button",{className:"buttonControlTextPlus",onClick:function(){var e=v.current.value;g([]),h(""),i({uid:"",displayName:e})}},"+")),t.createElement("div",{className:"userSearchContainer rounded rounded3"},!dM||i?t.createElement(t.Fragment,null,t.createElement("div",{className:"userSearchText smallText"},o),t.createElement("input",{id:Date.now(),ref:v,className:"userSearchName",onChange:function(e){var t=e.target.value;h(t),!dM&&l.isUserLogged()&&(t.length>0?l.userSearch(t,(function(e){g(e)}),(function(){})):g([]))},value:d})):t.createElement(t.Fragment,null),w,c,t.createElement("div",{ref:m,className:"resultsContainer"},C))},AL=i(12451);function kL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var TL=function(e){var n=e.onUserSeachPlayerAdd,r=e.gameName,i=e.isForJudge,o=window.crawlear.fb,a=de().t,s=t.useRef(0),c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kL(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState(0),2),l=c[0],u=c[1],d=[];return s.current>0&&d.push(t.createElement("div",{key:0},s.current," ",a("description.peticionespendientes"))),t.createElement(xL,{onUserSeachPlayerAdd:function(e){var t=e.uid,i=e.displayName,c=e.photoURL;if(t&&(t===window.crawlear.user.uid||window.confirm(a("content.peticionjuegoconfirmacion"))))if(t===window.crawlear.user.uid){var d=window.crawlear.user;n({uid:d.uid,displayName:d.displayName,photoURL:d.photoURL,group:0})}else o.setUserGameRequest(window.crawlear.user.uid,window.crawlear.user.displayName,t,r,(function(e,r){"pending"===r?(s.current+=1,u(l+1)):"accepted"===r?(n({uid:t,displayName:i,photoURL:c,group:0}),s.current-=1,u(l-1)):(s.current-=1,u(l-1))}))},onPlusAddUserClick:i?void 0:n,mainText:o.isUserLogged()?a("content.usuariodesistema"):a("content.usuarionosistema"),secondaryText:"".concat(a("content.enviorequest"),". ").concat(a("content.enviorequest2")),iconSend:AL},d)},SL=i(42672),PL={};function NL(e,t){if(e){if("string"==typeof e)return OL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OL(e,t):void 0}}function OL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}PL.styleTagTransform=Ee(),PL.setAttributes=we(),PL.insert=ye().bind(null,"head"),PL.domAPI=me(),PL.insertStyleElement=Ie(),pe()(SL.Z,PL),SL.Z&&SL.Z.locals&&SL.Z.locals;var RL=function(e){var n=e.inPlayers,r=e.onPlayerNumerChange,i=e.onGameDirectorChange,o=e.gameName,a=e.isForJudge,s=e.maxGroups,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||NL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState(n||[]),2),l=c[0],u=c[1],d=de().t;function h(e){U.event("menu","removePlayer",l[e.target.id].name),delete l[e.target.id];var t=l.filter((function(e){return e}));u(t),r&&r(t)}function f(e,t){var n=function(e){return function(e){if(Array.isArray(e))return OL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||NL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(l);n[e].group=t,u(n)}function p(e,t){i&&i(e,t)}t.useEffect((function(){r&&r(l)}),[l]);var g=l.length?d("description.jugadores"):d("description.nojugadores");return a&&(g=l.length?d("description.jueces"):d("description.nojueces")),t.createElement(t.Fragment,null,t.createElement("div",{className:"players rounded rounded1"},t.createElement("div",{className:"headerText bold"},d(a?"description.jueces":"description.jugadores")),t.createElement(TL,{isForJudge:a,onUserSeachPlayerAdd:function(e){var t=e.displayName;!t||0===t.trim().length||l.find((function(t){return t.uid===e.uid&&e.uid.length>0}))||a&&!e.uid||(l.push({id:l.length,uid:e.uid||"",name:t,avatar:e.photoURL||"".concat("https://eu.ui-avatars.com/api/?background=345B63&color=FFFFFF&name=").concat(t),group:0,time:0,points:0,battery:!1}),U.event("menu","addPlayer",t),r&&r(l))},gameName:o}),t.createElement("div",{className:"headerText"},d(a?"description.juecesenpartida":"description.usuariosenpartida")),t.createElement("ul",{className:"playersList"},0===l.length?g:l.map((function(e,n){return t.createElement(bL,{key:n,player:e,i:n,onGameDirectorChange:p,maxGroups:s,onGroupChange:f,editMode:!0,isForJudge:a,onRemovePlayer:h})})))))},DL=i(9747),LL={};LL.styleTagTransform=Ee(),LL.setAttributes=we(),LL.insert=ye().bind(null,"head"),LL.domAPI=me(),LL.insertStyleElement=Ie(),pe()(DL.Z,LL),DL.Z&&DL.Z.locals&&DL.Z.locals;var ML=function(e){var n=e.onMaxTimeChange,r=[e.minutes,e.seconds];function i(e,t){var i=[].concat(r);i[t]=e,e=function(e){var t=Number(e[0])||0;return 1e3*(Number(e[1])||0)+60*t*1e3}(i),n&&n(e)}return t.createElement("div",{className:"pickerContainer rounded rounded2"},t.createElement(dn,{value:r[0],initialValue:0,minValue:0,maxValue:60,callback:function(e){i(e,0)}}),t.createElement("div",{className:"maxTimePickerContainer--separator"},"m"),t.createElement(dn,{value:r[1],initialValue:0,minValue:0,maxValue:60,callback:function(e){i(e,1)}}),t.createElement("div",{className:"maxTimePickerContainer--separator"},"s"))},jL=function(e){var n=e.onMaxTimeChange,r=e.onMaxPointsChange,i=e.showTimePicker,o=e.time,a=e.points,s=de().t,c=Gt.millisToTime(o),l=t.createElement(t.Fragment,null);return i&&(l=t.createElement(t.Fragment,null,t.createElement("p",null,s("content.maxTimeText1")),t.createElement(ML,{onMaxTimeChange:n,onMaxPointsChange:r,minutes:c.m,seconds:c.s,millis:c.mm}))),t.createElement("div",null,l,t.createElement("p",null,s("content.maxTimeText2")),t.createElement("div",{className:"pickerContainer rounded rounded2"},t.createElement(dn,{value:a,minValue:0,initialValue:0,callback:function(e){r(e)}})))},FL=function(e){var n=e.onZonesChange,r=e.value,i=void 0===r?1:r,o=de().t;return t.createElement("div",null,t.createElement("p",null,o("content.seleccionZonas"),":"),t.createElement("div",{className:"pickerContainer rounded rounded2"},t.createElement(dn,{value:i,minValue:1,maxValue:40,callback:function(e){n(e)},initialValue:1})))},UL=function(e){var n=e.onGroupsChange,r=e.value,i=e.minValue,o=e.maxValue,a=de().t;return dM?t.createElement(t.Fragment,null):t.createElement("div",null,t.createElement("p",null,a("content.selecciongrupos"),":"),t.createElement("div",{className:"pickerContainer horizontalScrollContainer rounded rounded2"},t.createElement(dn,{minValue:i||1,maxValue:o||10,value:r,callback:function(e){n(e)},initialValue:1})))},VL=function(e){for(var n=e.onGatesChange,r=e.zones,i=e.value,o=e.minValue,a=e.maxValue,s=de().t,c=[],l=function(e){c.push(t.createElement(t.Fragment,null,t.createElement("div",{key:e,className:"zoneName"},s("description.zona")," ",e+1,":"),t.createElement("br",null),t.createElement(dn,{key:"picker".concat(e),minValue:o||1,maxValue:a||40,value:i,callback:function(t){n(t,e)},initialValue:1})))},u=0;u<r;u++)l(u);return t.createElement("div",null,t.createElement("p",null,s("content.seleccionPuertas"),":"),t.createElement("div",{className:"gatesPickerContainer pickerContainer horizontalScrollContainer rounded rounded2"},c))},zL=i(89195),BL={};BL.styleTagTransform=Ee(),BL.setAttributes=we(),BL.insert=ye().bind(null,"head"),BL.domAPI=me(),BL.insertStyleElement=Ie(),pe()(zL.Z,BL),zL.Z&&zL.Z.locals&&zL.Z.locals;var qL=function(e){return t.createElement(t.Fragment,null,t.createElement("div",{className:"spinner"},t.createElement("div",null),t.createElement("div",null),t.createElement("div",null),t.createElement("div",null)))},GL=t.createContext(),WL=i(15062),HL={};function KL(e){return function(e){if(Array.isArray(e))return XL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZL(Object(n),!0).forEach((function(t){QL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||JL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JL(e,t){if(e){if("string"==typeof e)return XL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XL(e,t):void 0}}function XL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}HL.styleTagTransform=Ee(),HL.setAttributes=we(),HL.insert=ye().bind(null,"head"),HL.domAPI=me(),HL.insertStyleElement=Ie(),pe()(WL.Z,HL),WL.Z&&WL.Z.locals&&WL.Z.locals;var eM=function(e){var n,r=e.preconfiguredGame,i=e.onGameCreated,o=$L(t.useState((function(){var e=r||new Bn("",(new Date).toLocaleDateString(),{latitude:0,longitude:0},!1,3,[],[],6e5,40,new Array(1).fill(10),1,0,[],[],[]);return e.date=(new Date).toLocaleDateString(),e})),2),a=o[0],s=o[1],c=C(),l=$L(t.useState(""),2),u=l[0],d=l[1],h=$L(t.useState(0),2),f=h[0],p=h[1],g=$L(t.useState(1),2),m=g[0],v=g[1],y=de().t,b=[],w=t.useContext(GL).isUserLoged,I=window.crawlear.fb;function _(e){var t=YL({},a),n="addJudge";a.judges.length>e.length&&(n="removeJudge"),U.event("menu",n,e.length),t.judges=KL(e),dM&&!t.owner.length&&t.owner.push(zn),s(t),d("")}function E(e){var t=YL({},a),n="addPlayer";a.players.length>e.length&&(n="removePlayer"),U.event("menu",n,e.length),t.players=KL(e),s(t),d("")}function x(e){U.event("menu","maxPointsSet",e);var t=YL({},a);t.maxPoints=e,s(t)}function A(e){var t=YL({},a);t.maxTime=e,U.event("menu","maxTimeSet",e),s(t)}function k(e,t){var n=YL({},a);n.gates[t]=e,U.event("menu","gateSet",e),s(n)}return t.useEffect((function(){window.scrollTo(0,0),dM&&_([Gn])}),[]),navigator.geolocation?0===f?n=t.createElement("a",{className:"bold",href:"https://crawlear.com",onClick:function(e){e.preventDefault(),navigator.geolocation?(p(2),navigator.geolocation.getCurrentPosition((function(e){var t=YL({},a);p(1),t.location={latitude:e.coords.latitude,longitude:e.coords.longitude},s(t)}),(function(){p(0),d(y("error.nogeolocation"))}))):p(0)}},y("description.obtener")):2===f?n=t.createElement(qL,null):1===f&&(n=t.createElement(t.Fragment,null,t.createElement("span",null,"(","".concat(a.location.latitude,",").concat(a.location.longitude),")"),t.createElement("a",{href:Gt.getMapsURL(a.location.latitude,a.location.longitude),rel:"noreferrer",target:"_blank"},y("description.vergooglemaps")))):n=t.createElement("div",{className:""},y("content.nogeolocation")),b.push(t.createElement(jL,{key:0,mode:a.pointsType,onMaxPointsChange:x,onMaxTimeChange:A,time:a.maxTime,points:a.maxPoints,showTimePicker:!0})),1!==a.gameType&&(b.push(t.createElement(FL,{key:1,game:a,value:a.zones,onZonesChange:function(e){var t=YL({},a);a.zones<e?t.gates.push(10):t.gates.pop(),t.zones=e,U.event("menu","zonesSet",e),s(t)},onGatesChange:k,onMaxPointsChange:x,onMaxTimeChange:A})),b.push(t.createElement(VL,{key:2,zones:a.zones,value:10,onGatesChange:k})),b.push(t.createElement(UL,{key:3,onGroupsChange:function(e){v(e)},value:1,minValue:1,maxValue:10})),dM||b.push(t.createElement(RL,{key:4,isForJudge:!0,maxGroups:m,inPlayers:a.judges,gameName:a.name,onGameDirectorChange:function(e,t){var n=a.judges[e].uid,r=YL({},a);if(t&&!r.owner.find((function(e){return e===n})))r.owner.push(n),s(r);else if(!t&&r.owner.find((function(e){return e===n}))){var i=r.owner.indexOf(n);r.owner.splice(i,1),s(r)}},onPlayerNumerChange:_}))),w||dM?t.createElement(t.Fragment,null,t.createElement(eP,{message:u}),t.createElement("div",{className:"newGameContainer rounded rounded1"},t.createElement("div",{className:"newGame"},t.createElement("div",{className:"headerText bold"},y("description.nuevaPartida")),t.createElement("div",{className:"newGameRow"},t.createElement("span",{className:""},y("description.nombre")),": ",t.createElement("input",{value:a.name,className:"newGameNameInput",type:"text",onChange:function(e){var t=YL({},a),n=e.target.value;n&&(t.name=n,s(t),d(""))}})),t.createElement("div",{className:"newGameRow"},t.createElement("span",{className:""},y("description.fecha")),": ",a.date),t.createElement("div",{className:"newGameRow"},t.createElement("span",{className:""},y("description.esPublica")),": ",t.createElement("input",{type:"checkbox",checked:a.isPublic,onChange:function(e){var t=YL({},a);t.isPublic=e.target.value,s(t)}})),t.createElement("div",{className:"newGameRow"},t.createElement("span",{className:""},y("description.localizacion")),":",n))),t.createElement(mL,{selectedGameType:a.gameType,selectedPointsType:a.pointsType,onGameTypeChange:function(e){!function(e){var t=YL({},a),n=0,r=0;switch(U.event("menu","playModeChange",e),t.gameType=e,t.gameType){case 0:r=Jt.maxPoints,n=Jt.maxTime;break;case 1:r=Sn.maxPoints,n=Sn.maxTime;break;case 2:r=rn.maxPoints,n=rn.maxTime;break;case 3:r=xn.maxPoints,n=xn.maxTime;break;case 4:r=Cn.maxPoints,n=Cn.maxTime;break;case 5:r=On.maxPoints,n=On.maxTime;break;case 6:r=Mn.maxPoints,n=Mn.maxTime;break;default:r=0,n=0}t.maxPoints=r,t.maxTime=n,s(t)}(e)}}),b,t.createElement(RL,{gameName:a.name,isForJudge:!1,inPlayers:a.players,maxGroups:m,onPlayerNumerChange:function(e){E&&E(e)}}),t.createElement("p",null,t.createElement("button",{className:"importantNote",onClick:function(){!function(){var e=function(){for(var e=new Array(m).fill(0),t=0;t<a.players.length;t++)e[a.players[t].group]++;return void 0===e.find((function(e){return 0===e}))}();if(window.scrollTo(0,0),a.name&&a.name.length)if(1!==a.gameType&&e&&a.name&&a.players.length&&a.judges.length&&a.owner.length||1===a.gameType&&a.name&&a.players.length){var t=YL({},a);1===a.gameType&&(t.judges.push(YL({},window.crawlear.user)),t.zones=1,t.gates=new Array(1).fill(1)),t.uids=Gt.getUidsFromUsers(t.players),t.jids=Gt.getUidsFromUsers(t.judges),qn.redoPlayersIds(a),qn.init(t,qn.getGameTypeControlTextValuesInit(t.gameType),qn.getGameTypeFiascoControlTextValuesInit(t.gameType),!0),dM&&i?i(t):I.setGame(t,(function(e){t.gid=e.gid,I.createGameProgression(t),s(t),window.location.href.indexOf("completegame")<0?c("/completegame"):window.location.reload()}),(function(){}))}else e?a.judges.length||1===a.gameType?a.players.length?a.owner.length?a.judges.length||1===a.gameType?a.players.length||d(y("error.nojugadores")):d(y("error.nojueces")):d(y("error.nodirectordepartida")):d(y("error.nojugadores")):d(y("error.nojueces")):d(y("error.rellenargrupos"));else d(y("error.nonombre"))}()}},y("description.crear")),t.createElement("button",{onClick:function(){window.location.reload()}},y("description.atras")))):t.createElement(t.Fragment,null,"Not logged! go to ",t.createElement("a",{href:"https://crawlear.com"},"crawlear.com"))},tM=i(51739),nM=i(38052),rM={};rM.styleTagTransform=Ee(),rM.setAttributes=we(),rM.insert=ye().bind(null,"head"),rM.domAPI=me(),rM.insertStyleElement=Ie(),pe()(nM.Z,rM),nM.Z&&nM.Z.locals&&nM.Z.locals;var iM=function(){var e=de().t;return t.createElement("div",{className:"aboutUsContent"},t.createElement("figure",{className:"logoImg"},t.createElement("img",{alt:"crawlear logo",src:tM})),t.createElement("b",null,"crawlear.com")," ",e("content.welcomeMessage"))},oM=i(95128),aM={};function sM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}aM.styleTagTransform=Ee(),aM.setAttributes=we(),aM.insert=ye().bind(null,"head"),aM.domAPI=me(),aM.insertStyleElement=Ie(),pe()(oM.Z,aM),oM.Z&&oM.Z.locals&&oM.Z.locals;var lM=window.document.body;function uM(){var e=de().t,n=sM(t.useState(3),2),r=n[0],i=n[1],o=sM(t.useState(null),2),a=o[0],s=o[1];return t.useEffect((function(){lM.classList.add("offline"),window.crawlear=window.crawlear||{},window.crawlear.user={uid:zn}}),[]),0===r?t.createElement(eM,{onGameCreated:function(e){s(e),i(1)}}):1===r?t.createElement(_M,{inGame:a,onBackButtonClick:function(){i(3)}}):t.createElement(t.Fragment,null,t.createElement(iM,null),t.createElement("div",{className:"errorBoxContainer offlineContainer"},e("content.offlineMainText")),t.createElement("button",{onClick:function(){i(0)},className:"importantNote"},e("description.crearoffline")))}var dM=!navigator.onLine,hM=i(27332),fM={};function pM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pM(Object(n),!0).forEach((function(t){mM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yM(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}fM.styleTagTransform=Ee(),fM.setAttributes=we(),fM.insert=ye().bind(null,"head"),fM.domAPI=me(),fM.insertStyleElement=Ie(),pe()(hM.Z,fM),hM.Z&&hM.Z.locals&&hM.Z.locals;var bM="waiting",wM="playing",CM="repair",IM="done",_M=function(e){var n,r,i=e.inGame,o=e.onBackButtonClick,a=window.crawlear.fb,s=vM(t.useState(0),2),c=s[0],l=s[1],u=vM(t.useState(i),2),d=u[0],h=u[1],f=vM(t.useState(""),2),p=f[0],g=f[1],m=vM(t.useState(-1),2),v=m[0],y=m[1],b=vM(t.useState(-1),2),w=b[0],C=b[1],I=vM(t.useState((function(){return Gt.getGroupFromJid(d,window.crawlear.user.uid)})),2),_=I[0],E=(I[1],vM(t.useState({}),2)),x=E[0],A=E[1],k=t.useRef({}),T=de().t,S=t.createElement(t.Fragment,null),P=t.createElement(t.Fragment,null),N=t.createElement(t.Fragment,null);function O(e){var t=gM({},d);Object.entries(e).forEach((function(e,n){Object.entries(e[1]).forEach((function(n,r){n[1].data&&(t.players[e[0]].zones[n[0]]=n[1].data)}))})),h(t)}function R(){var e=!0;return!!D()||(Object.entries(x).forEach((function(t){Number(t[0])===_&&Object.entries(t[1]).forEach((function(t){Object.entries(t[1]).forEach((function(t){t[1].status!==bM&&t[1].status!==CM&&t[1].status!==wM||(e=!1)}))}))})),e)}function D(){return 1===d.gameType}function L(e){if(D()){n.onGameEnd(d);var t=Gt.getOrderedGameResult(d);t.gameStatus=2,a.updateGame(t),a.removeGameProgression(t.gid),a.removeDirectorPresenceRequest(t.gid),l(2),h(t)}else{var r=v.id,i=v.group,o=gM({},x),s=gM({},d);o[i][r][w].status=IM,o[i][r][w].data=e.players[r].zones[w],!o[i][r][w].data.judgedBy&&(o[i][r][w].data.judgedBy=[]),o[i][r][w].data.judgedBy.push(window.crawlear.user.uid),A(o),s.players[r].zones[w]=o[i][r][w].data,a.setGameProgression(s.gid,r,i,w,o[i][r][w]),l(0),h(s)}}if(0===d.gameType?(-1!=v&&-1!=w&&(r=Xt),n=tn):2===d.gameType?(-1!=v&&-1!=w&&(r=on),n=sn):3===d.gameType?(-1!=v&&-1!=w&&(r=An),n=Tn):4===d.gameType?(-1!=v&&-1!=w&&(r=In),n=En):1===d.gameType?n=Nn:5===d.gameType?(-1!=v&&-1!=w&&(r=Rn),n=Dn):6===d.gameType&&(-1!=v&&-1!=w&&(r=jn),n=Vn),r&&(N=r(T,v.id,w,d.players[v.id].zones[w].points)),t.useEffect((function(){dM?A(qn.createGameProgression(d.zones,d.players.length)):a.getGameProgression(d.gid,(function(){}),(function(){}),(function(e,t){var n={};n[e]=t,O(t),k.current=gM(gM({},k.current),n),A(gM(gM({},k.current),n))}),(function(e,t){var n={};n[e]=t,O(t),k.current=gM(gM({},k.current),n),A(gM(gM({},k.current),n))}))}),[]),1!==d.gameType)if(0===c){var M=[],j=qn.isCurrentUserIsOwner(d.owner);if(j&&M.push(t.createElement("div",{key:"dP",className:"directorContainer rounded rounded3"},t.createElement("div",{className:"bold"},T("description.directordepartida")),t.createElement("br",null),t.createElement(iL,{game:d,gameProgression:x}))),d.jids.find((function(e){return e===window.crawlear.user.uid}))){var F=t.createElement(t.Fragment,null);(v.group===_||j)&&(F=t.createElement("button",{onClick:function(){if(-1===v||-1===w)g(T("content.seleccionapilotoyzona"));else{var e=v.id,t=v.group,n=x[t][e][w];n.status===bM&&window.confirm(T("content.quieresempezarzona"))||n.status===IM&&window.confirm(T("content.quiereseditarpartida"))||n.status===wM&&window.confirm(T("content.seguroeditarpartidaenjuego"))?(g(""),l(1),x[t][e][w].status=wM,A(x),a.setGameProgression(d.gid,e,t,w,x[t][e][w])):n.status===wM?g(T("error.juegoencurso")):n.status===CM&&g(T("error.reparacionencurso"))}},className:"playButton importantNote"},T("description.empezar"))),P=t.createElement(t.Fragment,null,T("description.jugadorseleccionado"),": ",-1!==v?v.name:""," ",t.createElement("br",null),T("description.zonaseleccionada"),": ",-1!==w?w+1:"",t.createElement("br",null),F,t.createElement(lL,{fromUid:window.crawlear.user.uid,game:d,zone:w,playerName:v.name,fromName:window.crawlear.user.displayName}))}S=t.createElement(tP.Provider,{value:[x,A]},M,t.createElement("div",{className:"trackJudgeContainer rounded rounded3"},t.createElement("div",{className:"bold"},T("description.juezdepista")),t.createElement(sP,{onZoneClick:function(e,t){C(t),y(e),g("")},game:d,jidGroup:_}),t.createElement(eP,{message:p}),P),t.createElement("div",{className:"tendJudgeContainer rounded rounded3"},t.createElement("div",{className:"bold"},T("description.juezdecarpa")),t.createElement($D,{gameProgression:x,game:d,onRepairEnd:function(e,t,n,r){r.status=bM,delete r.repairData,a.setGameProgression(d.gid,e,t,n,r)}})),t.createElement("button",{className:"backButton",onClick:o},T("description.atras")),qn.isCurrentUserIsOwner(d.owner)&&R()?t.createElement("button",{className:"closeButton importantNote",onClick:function(){if(R()&&window.confirm(T("content.cerrarpartida"))&&!dM)a.getGameResult(d,(function(e){var t=gM({},e);t.gameStatus=2,n.onGameEnd(t),t=Gt.getOrderedGameResult(t),a.updateGame(t),a.removeGameProgression(t.gid),h(t),l(2)}),(function(){}));else if(dM){var e=Gt.getOrderedGameResult(d);h(qn.getGameResult(e,x)),l(2)}}},T("description.cerrarpartida")):t.createElement(t.Fragment,null))}else 1===c?S=t.createElement(WD,{player:v.id,zone:w,game:d,gameExtras:n,onGameEnd:L,onRepair:function(e,t){var n=gM({},x),r=d.players[e],i=r.group,o=r.id;n[i][e][t].status=CM,n[i][e][t].repairData={setTime:(new Date).getTime()},n[i][e][t].data=r.zones[t],A(n),a.setGameProgression(d.gid,o,i,t,n[i][o][t]),l(0)}},N):2===c?S=t.createElement("div",{className:"gameList"},t.createElement(NS,{game:d}),t.createElement("button",{className:"backButton",onClick:o},T("description.atras"))):3===c&&(S=t.createElement(hL,{game:d,onTrainingEnd:function(){l(0)}}));else S=0===c||1===S?t.createElement(WD,{game:d,onGameEnd:L,gameExtras:n}):t.createElement("div",{className:"gameList"},t.createElement(NS,{game:d}),t.createElement("button",{className:"backButton",onClick:o},T("description.atras")));return S},EM=i(48103),xM={};function AM(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function kM(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){AM(o,r,i,a,s,"next",e)}function s(e){AM(o,r,i,a,s,"throw",e)}a(void 0)}))}}function TM(e){return function(e){if(Array.isArray(e))return NM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||PM(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||PM(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PM(e,t){if(e){if("string"==typeof e)return NM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NM(e,t):void 0}}function NM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}xM.styleTagTransform=Ee(),xM.setAttributes=we(),xM.insert=ye().bind(null,"head"),xM.domAPI=me(),xM.insertStyleElement=Ie(),pe()(EM.Z,xM),EM.Z&&EM.Z.locals&&EM.Z.locals;var OM=function(e){e.onLogout;var n=window.crawlear.fb,r=de().t,i=SM(t.useState([]),2),o=i[0],a=i[1],s=SM(t.useState([]),2),c=s[0],l=s[1],u=SM(t.useState([]),2),d=u[0],h=u[1],f=SM(t.useState([]),2),g=f[0],m=f[1],v=SM(t.useState(0),2),y=v[0],b=v[1],w=SM(t.useState({}),2),I=w[0],_=w[1],E=C();if(t.useEffect((function(){U.pageview("/completegame/"),n.isUserLogged()&&x()}),[]),t.useEffect((function(){!function(e){var t=[],n=[],r=[];e.forEach((function(e){e.gameStatus<2?e.jids.indexOf(window.crawlear.user.uid)>=0||e.owner.indexOf(window.crawlear.user.uid)>=0?t.push(e):e.uids.indexOf(window.crawlear.user.uid)>=0&&n.push(e):r.push(e)})),l(n),h(t),m(r)}(o)}),[o]),!n.isUserLogged())return t.createElement(p,{to:{pathname:"/",state:{from:"/gameconfigurator"}}});function x(){n.getGamesFromUser(window.crawlear.user.uid,!1,(function(e){a((function(t){return[].concat(TM(t),TM(e))}))})),n.getGamesFromJudge(window.crawlear.user.uid,!1,(function(e){a((function(t){return[].concat(TM(t),TM(e))}))})),n.getGamesFromDirector(window.crawlear.user.uid,!1,(function(e){a((function(t){return[].concat(TM(t),TM(e))}))}))}function A(e,t,n){return k.apply(this,arguments)}function k(){return k=kM(regeneratorRuntime.mark((function e(t,r,i){var o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t[r],a=TM(t),s=window.crawlear.user.uid,!(o.uids.indexOf(s)>=0)){e.next=6;break}return e.next=5,n.removeIdFromGame(o,s,"uids");case 5:o=e.sent;case 6:if(!(o.jids.indexOf(s)>=0)){e.next=10;break}return e.next=9,n.removeIdFromGame(o,s,"jids");case 9:o=e.sent;case 10:if(!(o.owner.indexOf(s)>=0)){e.next=14;break}return e.next=13,n.removeIdFromGame(o,s,"owner");case 13:o=e.sent;case 14:if(0!==o.uids.length||0!==o.jids.length){e.next=17;break}return e.next=17,n.removeGame(o.gid);case 17:a.splice(r,1),i(a);case 19:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function T(e,t){window.scrollTo(0,0),b(2),_(e[t])}return t.createElement(t.Fragment,null,0===y?t.createElement(t.Fragment,null,t.createElement("div",{className:"headerText bold sectionTitle"},r("description.secciondejuego")),t.createElement($S,{user:window.crawlear.user}),t.createElement(BS,{title:r("description.partidascomopiloto"),games:c,readOnly:!0,onRemoveGame:function(e){A(c,e,l)},onConfigureGame:function(e){T(c,e)}}),t.createElement(BS,{title:r("description.partidasdejuez"),games:d,readOnly:!1,onGamePlay:function(e){!function(e,t){window.scrollTo(0,0),b(1),_(e[t])}(d,e.target.getAttribute("data-gameposition"))},onConfigureGame:function(e){T(d,e)},onRemoveGame:function(e){A(d,e,h)}}),t.createElement("button",{className:"newGameButton importantNote",onClick:function(){E("/gameconfigurator")}},r("description.crear")),t.createElement(BS,{title:r("description.partidasprevias"),games:g,readOnly:!1,onRemoveGame:function(e){A(g,e,m)},onConfigureGame:function(e){T(c,e)}})):1===y?t.createElement(_M,{inGame:I,onBackButtonClick:function(){window.scrollTo(0,0),b(0),_({}),a([]),l([]),h([]),m([]),x()}}):2===y?t.createElement(eM,{preconfiguredGame:I}):t.createElement(t.Fragment,null))},RM=i(42458),DM=function(e,n,r){(0,t.useEffect)((function(){var t=document.getElementById(n),i=document.createElement("script");return t||(i.id=n,i.src=e,i.async=!0,r&&(i.onload=r),document.body.appendChild(i)),function(){i.parentElement&&document.body.removeChild(i)}}),[e])},LM=i(13294),MM=i(34516),jM={};function FM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}jM.styleTagTransform=Ee(),jM.setAttributes=we(),jM.insert=ye().bind(null,"head"),jM.domAPI=me(),jM.insertStyleElement=Ie(),pe()(MM.Z,jM),MM.Z&&MM.Z.locals&&MM.Z.locals;var UM=function(e){var n,r=e.url;return DM("https://www.instagram.com/embed.js","instagram-embed-loader",(function(){window.instgrm&&window.instgrm.Embeds.process()})),t.createElement("div",{className:"instagram"},t.createElement("blockquote",{className:"instagram-media","data-instgrm-captioned":!0,"data-instgrm-permalink":"".concat(r,"?utm_source=ig_embed&amp;utm_campaign=loading"),"data-instgrm-version":"14",style:(n={background:"#FFF",border:"0",borderRadius:"3px",boxShadow:"0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15)",margin:"1px",maxWidth:"540px",minWidth:"326px",padding:"0",width:"99.375%"},FM(n,"width","-webkit-calc(100% - 2px)"),FM(n,"width","calc(100% - 2px)"),n)},t.createElement("div",{style:{padding:"16px"}},t.createElement("a",{href:"".concat(r,"?utm_source=ig_embed&amp;utm_campaign=loading"),style:{background:"#FFFFFF",lineHeight:"0",padding:"0 0",textAlign:"center",textDecoration:"none",width:"100%"},target:"_blank"},t.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",flexGrow:"0",height:"40px",marginRight:"14px",width:"40px"}}),t.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"center"}},t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",marginBottom:"6px",width:"100px"}}),t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"60px"}}))),t.createElement("div",{style:{padding:"19% 0"}}),t.createElement("div",{style:{display:"block",height:"50px",margin:"0 auto 12px",width:"50px"}},t.createElement("img",{src:LM,alt:"instagram logo"})),t.createElement("div",{style:{paddingTop:"8px"}},t.createElement("div",{style:{color:"#3897f0",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:"550",lineHeight:"18px"}},"View this post on Instagram")),t.createElement("div",{style:{padding:"12.5% 0"}}),t.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"14px"}},t.createElement("div",null,t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(0px) translateY(7px)"}}),t.createElement("div",{style:{backgroundColor:"#F4F4F4",height:"12.5px",transform:"rotate(-45deg) translateX(3px) translateY(1px)",width:"12.5px",flexGrow:"0",marginRight:"14px",marginLeft:"2px"}}),t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(9px) translateY(-18px)"}})),t.createElement("div",{style:{marginLeft:"8px"}},t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",flexGrow:"0",height:"20px",width:"20px"}}),t.createElement("div",{style:{width:"0",height:"0",borderTop:"2px solid transparent",borderLeft:"6px solid #f4f4f4",borderBottom:"2px solid transparent",transform:"translateX(16px) translateY(-4px) rotate(30deg)"}})),t.createElement("div",{style:{marginLeft:"auto"}},t.createElement("div",{style:{width:"0px",borderTop:"8px solid #F4F4F4",right:"8px solid transparent",transform:"translateY(16px)"}}),t.createElement("div",{style:{backgroundColor:"#F4F4F4",flexGrow:"0",height:"12px",width:"16px",transform:"translateY(-4px)"}}),t.createElement("div",{style:{width:"0",height:"0",borderTop:"8px solid #F4F4F4",borderLeft:"8px solid transparent",transform:"translateY(-4px) translateX(8px)"}}))),t.createElement("div",{style:{display:"flex",flexDirection:"column",flexGrow:"1",justifyContent:"center",marginBottom:"24px"}},t.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"224px",marginBottom:"6px"}}),t.createElement("div",{style:FM({backgroundColor:"#F4F4F4",borderRadius:"4px",flexGrow:"0",height:"14px",width:"224px",marginBottom:"6px"},"width","144px")}))),t.createElement("p",{style:{color:"#c9c8cd",fontFamily:"Arial,sans-serif",fontSize:"14px",lineHeight:"17px",marginBottom:"0",marginTop:"8px",overflow:"hidden",padding:"8px 0 7px",textAlign:"center",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t.createElement("a",{href:"".concat(r,"?utm_source=ig_embed&amp;utm_campaign=loading"),style:{color:"#c9c8cd",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:"normal",lineHeight:"17px",textDecoration:"none"},target:"_blank"},"A post shared by TakeZoRC (@takezorc)")))))},VM=i(9872),zM={};zM.styleTagTransform=Ee(),zM.setAttributes=we(),zM.insert=ye().bind(null,"head"),zM.domAPI=me(),zM.insertStyleElement=Ie(),pe()(VM.Z,zM),VM.Z&&VM.Z.locals&&VM.Z.locals;var BM=function(e){var n,r,i=(n=e.url,(r=n.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))&&11==r[2].length?r[2]:void 0);return i?t.createElement("div",{className:"youtube video-responsive"},t.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(i),title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",frameBorder:"0",allowFullScreen:!0})):t.createElement(t.Fragment,null)},qM=i(9117),GM={};GM.styleTagTransform=Ee(),GM.setAttributes=we(),GM.insert=ye().bind(null,"head"),GM.domAPI=me(),GM.insertStyleElement=Ie(),pe()(qM.Z,GM),qM.Z&&qM.Z.locals&&qM.Z.locals;var WM=function(e){var n=e.url,r=(new Date).getMilliseconds();return DM("https://www.tiktok.com/embed.js?t=".concat(r),"tiktok-embed-loader".concat(r)),t.createElement("blockquote",{className:"tiktok-embed",cite:n,"data-video-id":Gt.getTiktokVideoId(n),style:{maxWidth:"605px",minWidth:"325px"}},t.createElement("section",null))},HM=i(80910),KM={};KM.styleTagTransform=Ee(),KM.setAttributes=we(),KM.insert=ye().bind(null,"head"),KM.domAPI=me(),KM.insertStyleElement=Ie(),pe()(HM.Z,KM),HM.Z&&HM.Z.locals&&HM.Z.locals;var ZM=function(e){var n=e.url;return t.useEffect((function(){document.getElementById("fb-root")?FB&&FB.XFBML&&FB.XFBML.parse():document.createElement("DIV").id="fb-root"}),[]),DM("https://connect.facebook.net/es_ES/sdk.js","fbjdk",(function(){window.fbAsyncInit=function(){FB.init({appId:"",autoLogAppEvents:!0,xfbml:!0,version:"v14.0"})}})),t.createElement(t.Fragment,null,t.createElement("div",{className:"fb-post","data-show-text":"true","data-href":n,"data-width":"350"}))},YM=i(2409),QM={};function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$M(Object(n),!0).forEach((function(t){XM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tj(e){return window.crawlear.fb.isUserLogged()&&window.crawlear&&window.crawlear.user&&window.crawlear.user.uid===e}QM.styleTagTransform=Ee(),QM.setAttributes=we(),QM.insert=ye().bind(null,"head"),QM.domAPI=me(),QM.insertStyleElement=Ie(),pe()(YM.Z,QM),YM.Z&&YM.Z.locals&&YM.Z.locals;var nj=function(e){var n=e.post,r=e.onLikePost,i=e.onRemoveLikePost,o=(de().t,[]),a=window.crawlear.fb,s=t.useContext(GL).isUserLoged,c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ej(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ej(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState({status:-1,likes:0,lid:0}),2),l=c[0],u=c[1];return t.useEffect((function(){s&&a.getIfPostIsLiked(n.pid,window.crawlear.user.uid,(function(e,t){u(JM(JM({},l),{},e?{state:1,lid:t}:{state:0,lid:0}))}),(function(){})),!tj(n.uid)&&s||a.getPostLikesCount(n.pid,(function(e){u(JM(JM({},l),{},{likes:e}))}),(function(){}))}),[]),l.likes>10?o.push(t.createElement("div",{key:"likes+++",className:"bold"},"Likes 🔥🔥🔥")):l.likes>5?o.push(t.createElement("div",{key:"likes++",className:"bold"},"Likes 🔥🔥")):l.likes>0?o.push(t.createElement("div",{key:"likes+",className:"bold"},"Likes 🔥")):o.push(t.createElement("div",{key:"likes",className:"bold"},"Likes 🧊")),s?tj(n.uid)?t.createElement("div",{className:"likeContainer"},o):t.createElement("div",{className:"likeContainer"},t.createElement("span",{className:1===l.state?"press":""},t.createElement("img",{src:WS,onClick:function(e){-1!==l.state&&(1===l.state?a.removeLike(l.lid,(function(){u(JM(JM({},l),{},{state:0,lid:0})),i&&i()}),(function(){})):a.setLike(n.pid,window.crawlear.user.uid,(function(e){u(JM(JM({},l),{},{state:1,lid:e})),r&&r()})))},alt:"like button"}))):t.createElement("div",{className:"likeContainer"},o)};function rj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ij(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ij(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ij(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oj=function(e){var n=e.post,r=e.readOnly,i=e.onRemovePost,o=e.children,a=de().t,s=window.crawlear.fb,c=rj(t.useState({}),2),l=c[0],u=c[1],d=rj(t.useState({}),2),h=d[0],f=d[1],p=C();return t.useEffect((function(){r&&s.getUser(n.uid,(function(e){f(e)}),(function(){}))}),[]),t.createElement(t.Fragment,null,r?t.createElement(t.Fragment,null):t.createElement("button",{"data-id":n.pid,onClick:i,className:"removePostButton"},"-"),h.uid?t.createElement("a",{href:"https://crawlear.com/profile?uid=".concat(h.uid),className:"userProfileContainer",alt:"user profile name and link"},t.createElement("div",{className:"userProfilePhotoContainer"},t.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:h.photoURL,alt:"user avatar"})),t.createElement("div",{className:"userProfileInlineContainer"},t.createElement("div",{className:"name"},t.createElement("input",{type:"text",className:"bold textOverflow hidenInput",readOnly:!0,value:h.displayName})))):t.createElement(t.Fragment,null),t.createElement("div",{className:"postDate"},n.date.toDate().toLocaleDateString()),t.createElement("div",{className:"postText bold",onClick:function(e){U.event("navigation","post",n.uid),p("/post?pid=".concat(n.pid))}},n.text),o,t.createElement(nj,{post:n,isReadOnly:r}),t.createElement("div",{className:"postGameContainer"},l.gid?t.createElement("div",{className:"postGame bold"},l.gid?t.createElement(t.Fragment,null,t.createElement("div",{className:"gameAssigned bold"},a("description.juegoasignado"),":"),a("description.nombre"),":",t.createElement("span",{className:"gameName"},l.name," "),t.createElement(NS,{game:l})):t.createElement(t.Fragment,null),l.location&&l.location.longitude&&l.location.longitude&&l.isPublic?t.createElement(t.Fragment,null,t.createElement("div",{className:"gameName"},a("description.localizacion"),":"),t.createElement(gS,{location:l.location})):t.createElement(t.Fragment,null)):n.gid&&n.gid.length>2?t.createElement(t.Fragment,null,t.createElement("div",{className:"gameAssigned bold"},a("description.juegoasignado"),":"),t.createElement("button",{className:"getGameName importantNote",onClick:function(){var e;e=n.gid,s.getGame(e,(function(e){u(e)}),(function(){}))}},a("description.resolverjuego"))):t.createElement("div",{className:"getGameName bold"},a("description.sinjuego"))))},aj=i(78113),sj={};sj.styleTagTransform=Ee(),sj.setAttributes=we(),sj.insert=ye().bind(null,"head"),sj.domAPI=me(),sj.insertStyleElement=Ie(),pe()(aj.Z,sj),aj.Z&&aj.Z.locals&&aj.Z.locals;var cj=function(e){var n=e.url,r=e.text;return t.useEffect((function(){if(document.getElementById("fb-root"))FB&&FB.XFBML&&FB.XFBML.parse();else{var e=document.createElement(e);e.id="fb-root"}}),[]),DM("https://connect.facebook.net/es_ES/sdk.js#xfbml=1&version=v14.0","fb-root-script"),t.createElement("div",{className:"fb-share-button","data-href":n,"data-layout":"button","data-size":"small"},t.createElement("a",{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(n),"&amp;src=sdkpreparse"),className:"fb-xfbml-parse-ignore"},r))},lj=i(25516),uj={};uj.styleTagTransform=Ee(),uj.setAttributes=we(),uj.insert=ye().bind(null,"head"),uj.domAPI=me(),uj.insertStyleElement=Ie(),pe()(lj.Z,uj),lj.Z&&lj.Z.locals&&lj.Z.locals;var dj=function(e){var n=e.url,r=e.text;return t.useEffect((function(){window.twttr=function(e,t,n){var r,i=e.getElementsByTagName(t)[0],o=window.twttr||{};return e.getElementById(n)?(twttr&&twttr.widgets&&twttr.widgets.load(),o):((r=e.createElement(t)).id=n,r.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(r,i),o._e=[],o.ready=function(e){o._e.push(e)},o)}(document,"script","twitter-wjs")}),[]),t.createElement("a",{className:"twitter-share-button",href:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(n),"&text=").concat(encodeURI(r)),"data-size":"large"},"Tweet")},hj=i(15400),fj=i(28174),pj={};pj.styleTagTransform=Ee(),pj.setAttributes=we(),pj.insert=ye().bind(null,"head"),pj.domAPI=me(),pj.insertStyleElement=Ie(),pe()(fj.Z,pj),fj.Z&&fj.Z.locals&&fj.Z.locals;var gj=function(e){var n=e.url,r=e.text,i="https://telegram.me/share/url?url=".concat(encodeURIComponent(n),"&text=").concat(encodeURI(r));return t.createElement("a",{onClick:function(){U.event("share","telegram",i)},href:i,target:"_blank","data-action":"share/whatsapp/share"},t.createElement("img",{className:"telegramLogo",src:hj,alt:"whatsapp logo"}))},mj=i(59845),vj=i(34661),yj={};yj.styleTagTransform=Ee(),yj.setAttributes=we(),yj.insert=ye().bind(null,"head"),yj.domAPI=me(),yj.insertStyleElement=Ie(),pe()(vj.Z,yj),vj.Z&&vj.Z.locals&&vj.Z.locals;var bj=function(e){var n=e.url,r=e.text,i="https://api.whatsapp.com/send?text=".concat(encodeURI(r)," ").concat(encodeURIComponent(n));return t.createElement("a",{onClick:function(){U.event("share","whatsapp",i)},href:i,target:"_blank","data-action":"share/whatsapp/share"},t.createElement("img",{className:"whatsappLogo",src:mj,alt:"whatsapp logo"}))},wj=function(e){var n=e.url,r=e.text,i=e.headerText;return de().t,t.createElement("div",{className:"sharerContainer"},t.createElement("div",{className:"bold shareProfileText"},i),t.createElement("div",{className:"sharers"},t.createElement(cj,{url:"https://crawlear.com/".concat(n),text:r}),t.createElement(dj,{url:"https://crawlear.com/".concat(n),text:r}),t.createElement(bj,{url:"https://crawlear.com/".concat(n),text:r}),t.createElement(gj,{url:"https://crawlear.com/".concat(n),text:r})))},Cj=function(e,n){(0,t.useEffect)((function(){if(e){var t=new IntersectionObserver((function(e){n(e[0].isIntersecting)}),{});return t.observe(e),function(){e&&t.unobserve(e)}}}),[e])},Ij=i(5687),_j={};function Ej(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}_j.styleTagTransform=Ee(),_j.setAttributes=we(),_j.insert=ye().bind(null,"head"),_j.domAPI=me(),_j.insertStyleElement=Ie(),pe()(Ij.Z,_j),Ij.Z&&Ij.Z.locals&&Ij.Z.locals;var Aj=function(e){var n=e.post,r=e.readOnly,i=e.onRemovePost,o=de().t,a=t.useRef(null),s=Ej(t.useState(!1),2),c=s[0],l=s[1],u=Ej(t.useState(!1),2),d=(u[0],u[1]),h=t.createElement(t.Fragment,null);return t.useEffect((function(){d(!0)}),[]),Cj(a.current,(function(e){!c&&e&&(l(!0),n.url.indexOf("instagram")>=0&&window.instgrm&&window.instgrm.Embeds.process())})),n.url.indexOf("instagram")>=0?h=t.createElement(UM,{className:"postUrlContent",url:n.url}):n.url.indexOf("youtu")>=0?h=t.createElement(BM,{className:"postUrlContent",url:n.url}):n.url.indexOf("tiktok")>=0?h=t.createElement(WM,{className:"postUrlContent",url:n.url}):n.url.indexOf("facebook")>=0&&(h=t.createElement(ZM,{className:"postUrlContent",url:n.url})),c?t.createElement("div",{key:n.pid,className:"post rounded "},t.createElement(oj,{post:n,onRemovePost:i,readOnly:r},h),t.createElement(wj,{url:"post?pid=".concat(n.pid),headerText:o("content.comparteenredespost"),text:o("content.sharePostText")})):t.createElement("div",{className:"embedLoadingContainer",ref:a},t.createElement(qL,null))},kj=i(31124),Tj={};Tj.styleTagTransform=Ee(),Tj.setAttributes=we(),Tj.insert=ye().bind(null,"head"),Tj.domAPI=me(),Tj.insertStyleElement=Ie(),pe()(kj.Z,Tj),kj.Z&&kj.Z.locals&&kj.Z.locals;var Sj=function(e){var n=e.posts,r=e.removePostClick,i=e.readOnly,o=de().t,a=window.crawlear.fb;function s(e){var t=e.target.getAttribute("data-id");t&&window.confirm(o("content.seguroborrarpost"))&&r&&r(t)}if(t.useEffect((function(){window.instgrm&&window.instgrm.Embeds.process()}),[n]),n&&n.length){var c=[];return n.forEach((function(e,n){c.push(t.createElement(Aj,{key:n,post:e,onRemovePost:s,readOnly:i}))})),t.createElement("div",{className:"feedViewer"},a.isUserLogged()?t.createElement(t.Fragment,null):t.createElement("a",{href:"https://crawlear.com",target:"_blank"},t.createElement("img",{src:he,className:"userViewerLogo",alt:"web logo"})),t.createElement("div",{className:"posts"},c))}return t.createElement("div",{className:"posts"},t.createElement("div",{className:"rounded rounded3"},o("content.nofeedpost")))},Pj=i(69110),Nj={};function Oj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Nj.styleTagTransform=Ee(),Nj.setAttributes=we(),Nj.insert=ye().bind(null,"head"),Nj.domAPI=me(),Nj.insertStyleElement=Ie(),pe()(Pj.Z,Nj),Pj.Z&&Pj.Z.locals&&Pj.Z.locals;var Dj=function(e){var n=e.onVisible,r=t.useRef(null),i=Oj(t.useState(!1),2),o=(i[0],i[1]),a=Oj(t.useState(!1),2),s=a[0],c=a[1];return t.useEffect((function(){o(!0)}),[]),Cj(r.current,(function(e){!s&&e&&(c(!0),n(!0))})),t.createElement("div",{className:"loadingLogo"},t.createElement("a",{href:"https://crawlear.com",target:"_blank",rel:"noreferrer"},t.createElement("img",{ref:r,src:he,className:"userViewerLogo",alt:"web logo"})),t.createElement("br",null),t.createElement(qL,null))},Lj=i(72665);function Mj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||jj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jj(e,t){if(e){if("string"==typeof e)return Fj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fj(e,t):void 0}}function Fj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uj=function(e){var n=e.uid,r=de().t,i=window.crawlear.fb,o=Mj(t.useState([]),2),a=o[0],s=o[1],c=Mj(t.useState(0),2),l=c[0],u=c[1],d=Mj(t.useState(!1),2),h=d[0],f=d[1],p=t.useContext(GL).isUserLoged,g=C();function m(){h&&p&&i.getPostsFromFollowFeed(n,(function(e){s(function(e){return function(e){if(Array.isArray(e))return Fj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e)),u(1)}),(function(){}))}function v(e){g("/profile?uid=".concat(e))}return t.useEffect((function(){m(),h&&U.pageview("/feedviewer/")}),[h,p,n]),1===l&&a.length&&h?t.createElement("div",{className:"feedViewer"},i.isUserLogged()?t.createElement(t.Fragment,null,t.createElement("div",{className:"headerText bold"},r("description.buscarusuario")),t.createElement(xL,{onUserClick:v,mainText:r("content.puedesbuscarusuarios"),secondaryText:r("content.clickenusuariooseguir"),iconSend:Lj})):t.createElement("a",{href:"https://crawlear.com",target:"_blank"},t.createElement("img",{src:he,className:"userViewerLogo",alt:"web logo"})),t.createElement("div",{className:"posts"},t.createElement("div",{className:"headerText bold sectionTitle"},r("description.murodefollows")),t.createElement("div",{className:"refreshButton",onClick:function(){u(0),m()}},t.createElement("img",{src:RM,alt:"refresh icon"})),t.createElement(Sj,{posts:a,readOnly:!0,removePostClick:function(e){e&&i.removePost(e,(function(){var t=a.filter((function(t){return t.pid!==e}));s(t),U.event("post","removed")}),(function(){}))}}))):1===l&&h?t.createElement("div",{className:"posts"},t.createElement("div",{className:"headerText bold sectionTitle"},r("description.murodefollows")),t.createElement(xL,{onUserClick:v,mainText:r("content.puedesbuscarusuarios"),secondaryText:r("content.clickenusuariooseguir"),iconSend:Lj}),t.createElement("br",null),t.createElement("div",{className:"rounded rounded3"},r("content.nofeedpost"))):t.createElement(Dj,{onVisible:function(e){e&&f(e)}})},Vj=i(78742),zj=i(35180),Bj=i(54449),qj=function(){var e=de().t,n=window.crawlear.fb;return t.createElement("div",{className:"Footer"},"[©",t.createElement("a",{href:"https://crawlear.com"},"crawlear.com")," 2023",n.isUserLogged()?t.createElement(t.Fragment,null,"]"):t.createElement(t.Fragment,null,"- ",t.createElement("a",{href:"https://crawlear.com/aboutus"},e("description.aboutus"))," - ",t.createElement("a",{href:"https://crawlear.com/privacypolicy"},e("description.politicaprivacidad")),"]"),t.createElement("p",null,t.createElement("a",{href:"https://www.youtube.com/channel/UCNwhl3Mflf-hpTSI1Xo8dSg",target:"_blank"},t.createElement("img",{className:"youtubeLogo",src:Vj,alt:"youtube logo"})),t.createElement("a",{href:"https://www.instagram.com/crawlearcom/",target:"_blank"},t.createElement("img",{className:"instagramLogo",src:zj,alt:"instagram logo"})),t.createElement("a",{href:"https://www.facebook.com/Crawlearcom-106005795418134",target:"_blank"},t.createElement("img",{className:"facebookLogo",src:Bj,alt:"facebook logo"}))))},Gj=window.document.body,Wj=function(){var e=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid,n=t.useContext(GL).isUserLoged;return t.useEffect((function(){Gj.classList.add("feed")}),[]),n?t.createElement(t.Fragment,null,t.createElement(Uj,{uid:e}),t.createElement(qj,null)):t.createElement(t.Fragment,null,Mt("content.userprofilenotlogged")," ",t.createElement("a",{href:"https://crawlear.com"},"crawlear.com"))},Hj=i(90614),Kj={};function Zj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yj(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qj(e){return window.crawlear.fb.isUserLogged()&&window.crawlear&&window.crawlear.user&&window.crawlear.user.uid===e}Kj.styleTagTransform=Ee(),Kj.setAttributes=we(),Kj.insert=ye().bind(null,"head"),Kj.domAPI=me(),Kj.insertStyleElement=Ie(),pe()(Hj.Z,Kj),Hj.Z&&Hj.Z.locals&&Hj.Z.locals;var $j=function(e){var n=e.user,r=e.onLogout,i=de().t,o=window.crawlear.fb,a=C(),s=Zj(t.useState(n.displayName),2),c=s[0],l=s[1],u=Zj(t.useState(n.description),2),d=u[0],h=u[1],f=Zj(t.useState(n.instagram),2),p=f[0],g=f[1],m=t.useContext(GL).isUserLoged,v=Zj(t.useState(-1),2),y=v[0],b=v[1],w=[];return t.useEffect((function(){m&&!Qj(n.uid)&&o.getFidFromFollow(window.crawlear.user.uid,n.uid,(function(e){b(e)}),(function(){}))}),[m]),m&&!Qj(n.uid)&&(-1!==y?w.push(t.createElement("div",{key:"followAction",className:"follow",onClick:function(){o.removeFollow(y,(function(){b(-1)}),(function(){}))}},i("description.unfollow"))):w.push(t.createElement("div",{key:"followAction",className:"follow",onClick:function(){o.setFollow(window.crawlear.user.uid,n.uid,(function(e){e&&b(e)}),(function(){}))}},i("description.follow")))),t.createElement("div",{className:"userProfileContainer rounded rounded2"},t.createElement("div",{className:"userProfilePhotoContainer"},m&&Qj(n.uid)?t.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:n.photoURL,alt:"user avatar"}):t.createElement("a",{href:"https://crawlear.com/profile?uid=".concat(n.uid)},t.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:n.photoURL,alt:"user avatar"})),t.createElement("div",{className:"sharerContainer"},Qj(n.uid)?t.createElement("div",{className:"logout",onClick:function(){window.crawlear.fb.logout(),r&&r(),a("/")}},"Logout"):t.createElement(t.Fragment,null),w)),t.createElement("div",{className:"userProfileInlineContainer"},t.createElement("div",{className:"name"},t.createElement("input",{type:"text",className:"bold textOverflow hidenInput",readOnly:!m||!Qj(n.uid),value:c,onChange:function(e){var t=e.target.value;Qj(n.uid)&&t!==c&&t.length>0&&l(t)},onBlur:function(e){var t=e.target.value;Qj(n.uid)&&n.displayName!==t&&t.length>0&&(n.displayName=t,l(t),o.setUser(n,(function(){}),(function(){})))}})),Qj(n.uid)?t.createElement("div",{className:"registrationDate"},t.createElement("span",{className:"bold"},i("description.registro")),": ",new Date(n.registrationDate).toLocaleDateString()):t.createElement(t.Fragment,null),t.createElement("div",{className:"description"},Qj(n.uid)?t.createElement("span",{className:"bold"},i("description.descripcion"),":"):t.createElement(t.Fragment,null),t.createElement("textarea",{type:"text",readOnly:!m||!Qj(n.uid),className:"hidenInput textOverflow",value:d,onChange:function(e){var t=e.target.value;Qj(n.uid)&&t!==d&&h(t)},onBlur:function(e){var t=e.target.value;Qj(n.uid)&&n.description!==t&&(n.description=t,h(t),o.setUser(n,(function(){}),(function(){})))}})),(!m||!Qj(n.uid))&&p||Qj(n.uid)?t.createElement("div",{className:"instagram"},t.createElement("div",{className:"bold"},"Instagram: "),Qj(n.uid)?t.createElement("input",{type:"text",className:"textOverflow hidenInput",readOnly:!m||!Qj(n.uid),value:p,onChange:function(e){var t=e.target.value;Qj(n.uid)&&t!==p&&g(t)},onBlur:function(e){var t=e.target.value;Qj(n.uid)&&n.instagram!==t&&(n.instagram=t,g(t),o.setUser(n,(function(){}),(function(){})))}}):p?t.createElement("a",{href:"https://www.instagram.com/".concat(p,"/"),target:"_blank"},"@",p):t.createElement(t.Fragment,null)):t.createElement(t.Fragment,null),t.createElement(wj,{url:"profile?uid=".concat(n.uid),headerText:i("content.comparteenredespiloto"),text:i("content.shareProfileText")}),Qj(n.uid)?t.createElement("div",{className:"userProfileHelper"},t.createElement("p",null,t.createElement("span",{className:"bold"},i("description.ayuda"),":")," ",i("content.editprofile"))):t.createElement(t.Fragment,null)))},Jj=i(6901),Xj={};function eF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(n),!0).forEach((function(t){nF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iF(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Xj.styleTagTransform=Ee(),Xj.setAttributes=we(),Xj.insert=ye().bind(null,"head"),Xj.domAPI=me(),Xj.insertStyleElement=Ie(),pe()(Jj.Z,Xj),Jj.Z&&Jj.Z.locals&&Jj.Z.locals;var oF=function(e){var n=e.onPostEntry,r=e.isOpened,i=de().t,o=[],a=window.crawlear.fb,s=rF(t.useState(""),2),c=s[0],l=s[1],u=rF(t.useState(0),2),d=u[0],h=u[1],f=t.useRef([]),p=rF(t.useState({url:"",text:"",gid:-1,gameName:"",date:Qf.fromDate(new Date)}),2),g=p[0],m=p[1];function v(){m({url:"",text:"",gid:-1,gameName:"",date:Qf.fromDate(new Date)})}return t.useEffect((function(){var e=window.crawlear.user.uid;a.getGamesFromUser(e,!0,(function(e){e.length&&(f.current=e.concat(f.current))}),(function(){})),a.getGamesFromJudge(e,!0,(function(e){e.length&&(f.current=e.concat(f.current))}),(function(){})),a.getGamesFromDirector(e,!0,(function(e){e.length&&(f.current=e.concat(f.current))}),(function(){}))}),[]),o.push(t.createElement("option",{key:"initialValue",value:-1},i("description.noasignarjuego"))),f.current&&f.current.forEach((function(e,n){o.push(t.createElement("option",{key:n,value:e.gid},e.name))})),t.createElement("div",{className:"postForm rounded rounded3 ".concat(r?"":"closed")},t.createElement("div",{className:"headerText bold",onClick:function(e){e.target.parentElement.classList.toggle("closed")}},i("description.publicar")),t.createElement("form",{className:"postForm-form",onSubmit:function(e){e.preventDefault(),e.stopPropagation(),window.crawlear&&window.crawlear.user&&window.crawlear.user.uid&&(g.text.length<=0?l(i("error.noposttext")):g.url.length<=0||g.url.length>0&&(Gt.isYoutubeUrl(g.url)||Gt.isInstagramUrl(g.url)||Gt.isTiktokUrl(g.url))?(h(1),a.setPost(window.crawlear.user.uid,g.url,g.date,g.text,g.gid,(function(e){h(0),l(""),v(),n&&n(e)}),(function(){h(0),v()}))):g.url.length>0&&l(i("error.nosocialurl")))}},t.createElement("label",{className:"postForm-label"},"URL: ",t.createElement("input",{type:"text",name:"url",onChange:function(e){m(tF(tF({},g),{},{url:e.target.value}))},value:g.url})),t.createElement("br",null),t.createElement("span",{className:"postForm-help bold"},i("description.ayuda"),":")," ",t.createElement("span",{className:"postForm-help"},i("content.urlEmbed")),t.createElement("br",null),t.createElement("label",{className:"postForm-label"},i("description.texto"),": ",t.createElement("textarea",{value:g.text,onChange:function(e){m(tF(tF({},g),{},{text:e.target.value}))},type:"text",name:"text"})),t.createElement("br",null),t.createElement("span",{className:"postForm-help bold"},i("description.ayuda"),":")," ",t.createElement("span",{className:"postForm-help"},i("content.textEmbed")),t.createElement("br",null),t.createElement("br",null),t.createElement("label",{className:"postForm-label"},i("description.juegopublico"),": ",t.createElement("select",{onChange:function(e){m(tF(tF({},g),{},{gameName:e.target[e.target.selectedIndex].text,gid:e.target[e.target.selectedIndex].value}))}},o)),t.createElement("br",null),t.createElement("span",{className:"postForm-help bold"},i("description.ayuda"),":")," ",t.createElement("span",{className:"postForm-help"},i("content.gameEmbed")),t.createElement("br",null),t.createElement("br",null),t.createElement(eP,{message:c}),0===d?t.createElement("input",{type:"submit",value:i("description.publicar"),className:"submit importantNote"}):t.createElement(qL,null)))},aF=i(98108),sF={};function cF(e){return function(e){if(Array.isArray(e))return fF(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hF(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||hF(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hF(e,t){if(e){if("string"==typeof e)return fF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fF(e,t):void 0}}function fF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}sF.styleTagTransform=Ee(),sF.setAttributes=we(),sF.insert=ye().bind(null,"head"),sF.domAPI=me(),sF.insertStyleElement=Ie(),pe()(aF.Z,sF),aF.Z&&aF.Z.locals&&aF.Z.locals;var pF=function(e){var n,r=e.uid,i=e.onLogout,o=e.onLogin,a=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid===r,s=de().t,c=window.crawlear.fb,l=dF(t.useState({}),2),u=l[0],d=l[1],h=dF(t.useState({}),2),f=h[0],p=h[1],g=dF(t.useState([]),2),m=g[0],v=g[1],y=dF(t.useState(!1),2),b=y[0],w=y[1];return t.useEffect((function(){c.checkIfLogged((function(){o(!1)}))}),[]),t.useEffect((function(){r&&(c.getUser(r,(function(e){d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lF(Object(n),!0).forEach((function(t){uF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),c.getUserExtraData(r,(function(e){p(e)}))})),c.getPosts(r,(function(e){v([].concat(cF(m),cF(e)))}),(function(){})),b&&U.pageview("".concat(document.location.pathname).concat(document.location.search)))}),[b,r]),u.registrationDate&&m&&b?(n=f.judgeGames-f.pilotGames>0?1:f.judgeGames-f.pilotGames==0?2:0,t.createElement("div",{className:"userViewer"},c.isUserLogged()?t.createElement(t.Fragment,null,t.createElement("div",{className:"headerText bold sectionTitle"},s("description.perfilsocial"))):t.createElement("a",{href:"https://crawlear.com",target:"_blank"},t.createElement("img",{src:he,className:"userViewerLogo",alt:"web logo"})),t.createElement(t.Fragment,null,t.createElement($j,{onLogout:i,user:u}),t.createElement("div",{className:"statistics rounded rounded3"},t.createElement("div",{className:"headerText bold"},s("description.estadisticas")),t.createElement("div",null,s("description.partidascreadas"),": ",f.ownerGames||0),t.createElement("div",null,s("description.partidasdejuez"),": ",f.judgeGames||0),t.createElement("div",null,s("description.partidascomopiloto"),": ",f.pilotGames||0),t.createElement("p",{className:"bold"},s(1===n?"description.tendenciajuez":0===n?"description.tendenciapiloto":"description.tendencianeutral")),t.createElement("div",null,"".concat(s("description.siguiendo"),": ").concat(f.following)),t.createElement("div",null,"".concat(s("description.seguidores"),": ").concat(f.followers)))),t.createElement("div",{className:"posts"},t.createElement("div",{className:"sectionTitle headerText bold"},s("description.murodepiloto")),a?t.createElement(oF,{isOpened:!m.length,onPostEntry:function(e){var t=cF(m);t.unshift(e),v(t),U.event("post","added",function(e){return e.url?Gt.isInstagramUrl(e.url)?"instagram":"youtube":"text"}(e))}}):t.createElement(t.Fragment,null),t.createElement(Sj,{posts:m,readOnly:!a,removePostClick:function(e){e&&c.removePost(e,(function(){var t=m.filter((function(t){return t.pid!==e}));v(t),U.event("post","removed")}),(function(){}))}})))):t.createElement(Dj,{onVisible:function(e){e&&w(e)}})},gF=window.document.body,mF=function(e){var n=e.onLogin,r=e.onLogout,i=window.crawlear&&window.crawlear.user&&window.crawlear.user.uid,o=t.useContext(GL).isUserLoged;return t.useEffect((function(){gF.classList.add("profile")}),[]),o?t.createElement(t.Fragment,null,t.createElement(pF,{onLogin:function(){n(!1)},onLogout:r,uid:i}),t.createElement(qj,null)):t.createElement(t.Fragment,null,Mt("content.userprofilenotlogged")," ",t.createElement("a",{href:"https://crawlear.com"},"crawlear.com"))},vF=i(70635),yF=i(10359),bF=i(99449),wF=i(33024),CF={};CF.styleTagTransform=Ee(),CF.setAttributes=we(),CF.insert=ye().bind(null,"head"),CF.domAPI=me(),CF.insertStyleElement=Ie(),pe()(wF.Z,CF),wF.Z&&wF.Z.locals&&wF.Z.locals;var IF=function(){var e=de().t;return t.useEffect((function(){U.pageview("/aboutus/")}),[]),t.createElement("div",{className:"aboutUsContent"},t.createElement("b",null,"crawlear.com")," ",e("content.aboutus"),t.createElement("img",{src:vF,alt:"crawler en accion"}),t.createElement("p",null,e("content.aboutus1")),t.createElement("img",{src:yF,alt:"crawler en accion2"}),t.createElement("p",null,e("content.aboutus2")),t.createElement("img",{src:bF,alt:"crawler en accion3"}),t.createElement("p",null,t.createElement("a",{href:"/"},">"," Volver")))},_F=i(92762),EF={};EF.styleTagTransform=Ee(),EF.setAttributes=we(),EF.insert=ye().bind(null,"head"),EF.domAPI=me(),EF.insertStyleElement=Ie(),pe()(_F.Z,EF),_F.Z&&_F.Z.locals&&_F.Z.locals;var xF=function(){var e=[];return t.useEffect((function(){U.pageview("/privacypolicy/")}),[]),jt.language.indexOf("es")>=0?e.push(t.createElement("div",{className:"privacyPolicy"},t.createElement("b",null,"Politica de privacidad"),":",t.createElement("ul",null,t.createElement("li",null,"crawlear.com"),t.createElement("li",null,"contacto: Jose Angel Anguita en crawlear.com@gmail.com")),t.createElement("ul",null,t.createElement("li",null,"La información personal guardada y usada por crawlear.com es guardada simplemente para ofrecer una experiencia de usuario más completa."),t.createElement("li",null,"La información utilizada de la cuenta de google.com es tan sólo el displayName y photoURL"),t.createElement("li",null,"Cuando un juego es público, la localización y otras propiedades del juego serán usadas para enriquecer la experiencia de usuario")),"Publicidad:",t.createElement("ul",null,t.createElement("li",null,"Los proveedores de publicidad (google) usa cookies para mostrar anuncios relevantes basado en las visitas previas a su página web u otras páginas web."),t.createElement("li",null,"El uso de las cookies de publicidad permnite a los proveedores (google) y sus partners para mostrar anuncios basados en las visitas realizadas a sus páginas web u otras páginas de Internet."),t.createElement("li",null,"Usuarios pueden deshabilitar la publicidad personalizada. Para hacerlo, es necesario acceder a las preferencias de publicidad.")),"Cookies de otros proveedores o redes de publicidad  pueden también ser usadas para publicar publicidad en el sitio web:",t.createElement("ul",null,t.createElement("li",null,"Publicidad de otros proveedores o redes de publicidad se muestran."),t.createElement("li",null,"Puedes visitar las páginas web de dichos proveedores para deshabilitar el uso de cookies para la publicidad personalizada (en caso de que el proveedore de publicidad lo permita)."),t.createElement("li",null,"Tambien puedes visistar www.aboutads.info para deshabilitar el uso de cookies para la personalización de publicidad por otros proveedores.")))):e.push(t.createElement("div",{className:"privacyPolicy"},t.createElement("b",null,"Privacy Policy"),":",t.createElement("ul",null,t.createElement("li",null,"crawlear.com"),t.createElement("li",null,"contact: crawlear.com@gmail.com")),t.createElement("ul",null,t.createElement("li",null,"The personal information stored and used by crawlear.com are just stored to get a full user experience, game progresion and scores."),t.createElement("li",null,"Information used from google profile account is the displayName and photoURL"),t.createElement("li",null,"when a game is public, the location and other game information will be used to enrich the user experience")),"Advertising:",t.createElement("ul",null,t.createElement("li",null,"Advertising providers (google) use cookies to display relevant ads based on a user's previous visits to their website or other websites."),t.createElement("li",null,"The use of advertising cookies allows providers (google) and their partners to display advertisements based on the visits made by users to their websites or to other websites on the Internet."),t.createElement("li",null,"Users can disable personalized advertising. To do this, they will need to access Ads Preferences.")),"Cookies from other providers or advertising networks can also be used to publish advertisements on the site:",t.createElement("ul",null,t.createElement("li",null,"Advertisements from other providers and ad networks are displayed."),t.createElement("li",null,"You can visit the providers' websites to disable the use of cookies for personalized advertising (in case the provider or the ad network offers this option)."),t.createElement("li",null,"You can also access www.aboutads.info to disable the use of cookies for personalized advertising by other providers.")))),e.push(t.createElement("a",{href:"/"},"> Back")),e},AF=i(76157),kF=i(28033),TF=i(17914),SF=i(68831),PF=i(41242),NF={};NF.styleTagTransform=Ee(),NF.setAttributes=we(),NF.insert=ye().bind(null,"head"),NF.domAPI=me(),NF.insertStyleElement=Ie(),pe()(PF.Z,NF),PF.Z&&PF.Z.locals&&PF.Z.locals;var OF=function(e){var n=e.onLogin,r=de().t,i=C(),o=window.crawlear.fb;function a(){n(!0),i("/completegame")}return t.useEffect((function(){o.checkIfLogged(n),U.pageview("/landing/")}),[]),dM?t.createElement(t.Fragment,null,t.createElement(uM,null)):t.createElement(t.Fragment,null,t.createElement(iM,null),t.createElement("div",{className:"loginAndContent aboutUsContent"},t.createElement("p",null,r("content.landingMainText"),":"),t.createElement("img",{className:"crawlerImageSignIn",src:AF,alt:"t2 crawler",onClick:function(){o.signInWithGoogle(a)}}),t.createElement("p",null,r("content.licenseText")),t.createElement("p",null,r("content.colaboraciones"),t.createElement("br",null),t.createElement("img",{className:"collaborateLogo",src:kF,alt:"Levante 1/24 Logo"}),t.createElement("a",{href:"https://www.clubzonarc.es/",alt:"Club ZonaRc website",rel:"noreferrer",target:"_blank"},t.createElement("img",{className:"collaborateLogo",src:TF,alt:"ZonaRc Logo"})),t.createElement("img",{className:"collaborateLogo",src:SF,alt:"Mini Crawler Passion Logo"}))),t.createElement(qj,null))};function RF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return DF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DF(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var LF=function(e){var n=e.pid,r=e.onLogin,i=de().t,o=window.crawlear.fb,a=RF(t.useState({}),2),s=a[0],c=a[1],l=RF(t.useState({}),2),u=l[0],d=l[1],h=[];return t.useEffect((function(){return o.checkIfLogged((function(){r(!1)})),o.getPost(n,(function(e){c(e),o.getUser(e.uid,(function(e){d(e)}),(function(){}))}),(function(){})),U.pageview("".concat(document.location.pathname).concat(document.location.search)),window.document.body.classList.add("postview"),function(){window.document.body.classList.remove("postview")}}),[]),o.isUserLogged()&&h.push(t.createElement("button",{key:"backButton",onClick:function(){window.history&&window.history.back()}},i("description.atras"))),t.createElement("div",{className:"userViewer"},o.isUserLogged()?t.createElement(t.Fragment,null):t.createElement("a",{href:"https://crawlear.com",target:"_blank"},t.createElement("img",{src:he,className:"userViewerLogo",alt:"web logo"})),s.pid?t.createElement(t.Fragment,null,u.displayName?t.createElement($j,{user:u}):t.createElement(t.Fragment,null),t.createElement(Aj,{post:s,readOnly:!1})):t.createElement(t.Fragment,null,t.createElement("br",null),t.createElement(qL,null),t.createElement("br",null)),h)};window.onerror=function(e,t,n,r,i){console.error(e),U.event("error","js","".concat(e," ").concat(i.stack," ").concat(t))};var MF=i(23084),jF={};jF.styleTagTransform=Ee(),jF.setAttributes=we(),jF.insert=ye().bind(null,"head"),jF.domAPI=me(),jF.insertStyleElement=Ie(),pe()(MF.Z,jF),MF.Z&&MF.Z.locals&&MF.Z.locals;var FF=i(71740),UF={};UF.styleTagTransform=Ee(),UF.setAttributes=we(),UF.insert=ye().bind(null,"head"),UF.domAPI=me(),UF.insertStyleElement=Ie(),pe()(FF.Z,UF),FF.Z&&FF.Z.locals&&FF.Z.locals;var VF=i(98130),zF={};function BF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}zF.styleTagTransform=Ee(),zF.setAttributes=we(),zF.insert=ye().bind(null,"head"),zF.domAPI=me(),zF.insertStyleElement=Ie(),pe()(VF.Z,zF),VF.Z&&VF.Z.locals&&VF.Z.locals;var qF=function(){var e=new uS,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return BF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BF(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.useState(!1),2),r=n[0],i=n[1],o=C(),a=w(),s=new URLSearchParams(a.search);function c(e){i(!0),e&&o("/completegame")}function l(){i(!1)}return window.crawlear=window.crawlear||{},window.crawlear.fb=window.crawlear.fb||e,t.useEffect((function(){U.event("App","init","".concat(navigator.userAgent))}),[]),t.createElement(GL.Provider,{value:{isUserLoged:r}},t.createElement("div",{className:"App"},r?t.createElement(Pe,null):t.createElement(t.Fragment,null),t.createElement("div",{className:"AppMainContainer"},t.createElement(y,null,t.createElement(m,{path:"/",element:t.createElement(OF,{onLogin:function(){c(!0)}})}),t.createElement(m,{path:"/completegame",element:t.createElement(OM,{onLogin:function(){c(!1)},onLogout:l})}),t.createElement(m,{path:"/social",element:t.createElement(mF,{onLogin:function(){c(!1)},onLogout:l})}),t.createElement(m,{path:"/follows",element:t.createElement(Wj,null)}),t.createElement(m,{path:"/gameconfigurator",element:t.createElement(eM,null)}),t.createElement(m,{path:"/profile",element:t.createElement(pF,{onLogin:function(){c(!1)},onLogout:l,uid:s.get&&s.get("uid")})}),t.createElement(m,{path:"/post",element:t.createElement(LF,{onLogin:function(){c(!1)},pid:s.get&&s.get("pid")})}),t.createElement(m,{path:"/aboutus",element:t.createElement(IF,null)}),t.createElement(m,{path:"/privacypolicy",element:t.createElement(xF,null)}),t.createElement(m,{path:"/sitemap.xml",element:t.createElement(z,{filePath:"/sitemap.xml"})}))),t.createElement("div",{className:"adsContainer"})))};function GF(e){let{basename:n,children:i,window:a}=e,u=(0,t.useRef)();null==u.current&&(u.current=function(e){function t(){var e=d.location,t=h.state||{};return[t.idx,{pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"}]}function n(e){return"string"==typeof e?e:function(e){var t=e.pathname,n=e.search;return(void 0===t?"/":t)+(void 0===n?"":n)+(void 0===(e=e.hash)?"":e)}(e)}function i(e,t){return void 0===t&&(t=null),r({pathname:m.pathname,hash:"",search:""},"string"==typeof e?l(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function a(e){p=e,e=t(),g=e[0],m=e[1],v.call({action:p,location:m})}function u(e){h.go(e)}void 0===e&&(e={});var d=void 0===(e=e.window)?document.defaultView:e,h=d.history,f=null;d.addEventListener("popstate",(function(){if(f)y.call(f),f=null;else{var e=o.Pop,n=t(),r=n[0];if(n=n[1],y.length){if(null!=r){var i=g-r;i&&(f={action:e,location:n,retry:function(){u(-1*i)}},u(i))}}else a(e)}}));var p=o.Pop,g=(e=t())[0],m=e[1],v=c(),y=c();return null==g&&(g=0,h.replaceState(r({},h.state,{idx:g}),"")),{get action(){return p},get location(){return m},createHref:n,push:function e(t,r){var s=o.Push,c=i(t,r);if(!y.length||(y.call({action:s,location:c,retry:function(){e(t,r)}}),0)){var l=[{usr:c.state,key:c.key,idx:g+1},n(c)];c=l[0],l=l[1];try{h.pushState(c,"",l)}catch(e){d.location.assign(l)}a(s)}},replace:function e(t,r){var s=o.Replace,c=i(t,r);y.length&&(y.call({action:s,location:c,retry:function(){e(t,r)}}),1)||(c=[{usr:c.state,key:c.key,idx:g},n(c)],h.replaceState(c[0],"",c[1]),a(s))},go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(e){return v.push(e)},block:function(e){var t=y.push(e);return 1===y.length&&d.addEventListener("beforeunload",s),function(){t(),y.length||d.removeEventListener("beforeunload",s)}}}}({window:a}));let d=u.current,[h,f]=(0,t.useState)({action:d.action,location:d.location});return(0,t.useLayoutEffect)((()=>d.listen(f)),[d]),(0,t.createElement)(v,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:d})}var WF=[],HF=WF.forEach,KF=WF.slice;function ZF(e){return HF.call(KF.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var YF=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,QF=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=e+"="+encodeURIComponent(t);if(r.maxAge>0){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(o)}if(r.domain){if(!YF.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!YF.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},$F={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=QF(e,encodeURIComponent(t),i)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},JF={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("=");i>0&&n[r].substring(0,i)===e.lookupQuerystring&&(t=n[r].substring(i+1))}return t}},XF=null,eU=function(){if(null!==XF)return XF;try{XF="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){XF=!1}return XF},tU={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&eU()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&eU()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},nU=null,rU=function(){if(null!==nU)return nU;try{nU="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){nU=!1}return nU},iU={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&rU()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&rU()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},oU={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},aU={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},sU={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},cU={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}},lU=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return Z(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=ZF(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector($F),this.addDetector(JF),this.addDetector(tU),this.addDetector(iU),this.addDetector(oU),this.addDetector(aU),this.addDetector(sU),this.addDetector(cU)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();lU.type="languageDetector";var uU,dU=lU;jt.use(dU).use(re).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:{content:{aboutus:"arises from the hobby of a group of friends after discovering the world of the rc crawler, entering the 1/24 scale.",aboutus1:"After going out on the field a couple of times, we realized that it would be a good idea to have a scoreboard for the matches, where we can manage the points in the different game modes that we practice.",aboutus2:"If you have any questions, comments or suggestions, do not hesitate to contact us at crawlear.com@gmail.com",aboutus3:"Barcelona (Spain) 2021",welcomeMessage:"is a professional and social score board for your 1/10 or 1/24 crawler AECAR, ISRCC, Levante 1/24, Mini Crawler Passion and ZonaRc regional Championship compatible events or competitions.",instrucciones:"First add the players, select the game mode, the points type and push the Begin button.",instrucciones1:"By clicking on the player you can define a positive (initial advantage) or negative (initial disadvantage) handicap. At the end of the game, the handicap will be added to the player's points to calculate the total points.",maxTimeText1:"Select the maximum time (0 if you do not want to apply maximum time):",maxTimeText2:"Select the maximum points (0 if you do not want to apply a maximum score):",usuariodesistema:"You can search and add a crawlear registered user, or add a non-registered one:",usuarionosistema:"You can search users:",puedesbuscarusuarios:"You can search for users:",clickenusuariooseguir:"Click on user to view his pilot profile and click on follow/unfollow tol fill your pilot's wall",enviorequest:"To add a registered player, send him play request",enviorequest2:"The player must accept the request to be added to the game",peticionjuegoconfirmacion:"Do you want to send a game request?",seguroborrarjuego:"Do you want to delete the game?",seguroborrarpost:"Do you want to delete the post?",nogeolocation:"Your browser does not support geolocation",landingMainText:"Sign In with your Google.com account to get all the functionality",landingSecondText:"Or just play a",seleccionZonas:"Select the number of zones",seleccionPuertas:"Select the number of progression gates for each zone",seleccionapilotoyzona:"Select a player and a zone to continue",pulsafinjugador:"Push End Player to finish the zone",quiereseditarpartida:"Do you want to edit the previous saved play?",cerrarpartida:"Do you want to close the play? you will not be abe to edit it again",finalizarreparacion:"Do you wanna finish the repair status?",marcarfiascoreparacion:"Do you want to set the repair fiasco?",quieresempezarzona:"Do you want to begin the play?",seguroeditarpartidaenjuego:"If you edit a zone and player and they are still going on, you can lose play data. ¿Are you sure that you want to edit the game?",licenseText:"Contact us if you are interested in license the crawlear tool for an official event or competition at crawlear.com@gmail.com",zonascompletadas:"Completed zones by group:",estadozona:"Zone status:",quieresenviarpeticiondepresencia:"Do you want to send a presence request?",aceptarpresencia:"Do you want to clean the presence request?",selecciongrupos:"Select the number of groups",colaboraciones:"Collaborates:",editprofile:"You can edit the user profile clicking on name, description or instagram username",userprofilenotlogged:"You must be logged with a google account to see the user profile",urlEmbed:"(optional) url to an instagram, youtube or tiktok post",textEmbed:"text message of the post",gameEmbed:"if the post is related with one of your public games, select it to asociate it to the post and the users will see the results and location (if available).",nopost:"There is no posts at youy profile. Fill the profile with your lastest photos and videos from instagram, tiktok and youtube",nofeedpost:"There is no posts at your pilot feed. Follow to your friends or favorite pilots to get their posts.",shareProfileText:"Hey! Check this crawlear.com pilot profile ",sharePostText:"Hey! Check this crawlear.com post ",comparteenredespiloto:"Share this pilot profile in social networks:",comparteenredespost:"Share this post in social networks:",ayudasocialprofile:"Are you looking to view or edit your pilot profile? Open the lateral menu and go to Social Profile or click this help",offlineMainText:"Your browser is offline, check again in minutes or create an offline game (it will be not be saved!)"},error:{nojugadores:"Add the players",nojueces:"Add the judges",nonombre:"Fill in at least the name of the game to continue",nogeolocation:"Cant get geolocation or there is a permission error",juegoencurso:"Player is already playing the zone",reparacionencurso:"Player is currently repairing",rellenargrupos:"Check the configuration, there is a group with no pilots",nodirectordepartida:"Check at least one judge as Game director",noposttext:"The post text is empty",noposturl:"The post url is empty",nosocialurl:"The url must be a youtube, instagram or tiktok public post"},description:{juego:"game",juegopublico:"public game",nojugadores:"No players",nojueces:"No judges",nopartidas:"No current games",norequests:"No current game requests",jugadores:"Players",juezdepista:"Track Judge",juezdecarpa:"Tent Judge",iniciarreparacion:"Start repair",enreparaciondesde:"Since:",jueces:"Judges",nuevojugador:"New player",ordenaleatorio:"Random order",empezar:"Begin",crear:"New game",crearoffline:"New offline game",atras:"Back",ganador:"WINNER",empate:"TIE GAME",tiempo:"TIME",puntos:"POINTS",finjugador:"end player",total:"TOTAL",ordenruta:"Rute ORDER",fin:"End",reset:"Reset",continuar:"Continue",tiempomaximo:"MAX TIME",zonas:"Zones",zona:"Zone",puntosmaximo:"MAX POINTS",handicap:"handicap",instrucciones:"Instructions",paginaprincipal:"Main page",aboutus:"About us",politicaprivacidad:"Privacy policy",registro:"Registration",descripcion:"Description",partidascomopiloto:"Pilot games",partidasenjuego:"Current Games",partidasdejuez:"Judge Games",partidascreadas:"Created Games",partidasprevias:"Previous Games",jugador:"Player",nuevaPartida:"New Game",nombre:"Name",fecha:"Date",esPublica:"Is public",localizacion:"Location",obtener:"Get",obteniendo:"Getting",buscarusuario:"User search",resultado:"Result",vergooglemaps:"View in Google Maps",verperfil:"View social profile",ver:"View",usuariosenpartida:"Players in game",juecesenpartida:"Judges in game",peticionesdejuego:"Game requests",peticionde:"Request from",parajuego:"para el juego",peticionespendientes:"pending requests",enviar:"send",resumen:"Brief",detalle:"Detail",penalizaciones:"Penalties",penalizacionesadicionales:"Additional penalties",avancepuerta:"Gate",fallospuerta:"gate fails",puertas:"gates",bonificacion:"bonification",jugadorseleccionado:"Selected player",zonaseleccionada:"Selected zone",nohayreparaciones:"There is no repairs",cerrarpartida:"Cerrar partida",waiting:"waiting",repair:"repair",done:"done",playing:"playing",estado:"Status",reparacionfinalizada:"repair end",portiempo:"by time",grupo:"Group",grupos:"Groups",directordepartida:"Game director",ocupado:"Busy",libre:"Free",peticionesdepresencia:"Presence requests",nopeticionespresencia:"No presence requests",de:"De:",aceptar:"Accept",reclamarpresencia:"Claim presence",entrenamientos:"Mange trainings",bonificacionaccesorios:"Accessory bonification",ayuda:"Help",estadisticas:"Statistics",posts:"Posts",texto:"Text",publicar:"Post an entry",compartir:"Share",noasignarjuego:"don't assign a game",sinjuego:"no game assigned",juegoasignado:"Game assigned",murodepiloto:"Pilot Wall",murodefollows:"Follows Wall",secciondejuego:"Game tool",resolverjuego:"get game result",herramientajuego:"Game Tool",volverherramientajuego:"go back to the game tool",tendenciapiloto:"Profile trend: PiLOT",tendenciajuez:"Profile trend: JUDGE",tendencianeutral:"Profile trend: PiLOT and JUDGE",perfilsocial:"Social profile",follow:"Follow",unfollow:"Unfollow",logout:"Logout",refrescar:"Reload",seguidores:"Followers",siguiendo:"Following",eliminarpartida:"Remove game",jugarpartida:"Play game",regenerarpartida:"Regenerate play"},points:{vuelco:"overturn",tocar:"touch",puerta:"gate",saltoobstaculo:"obstacle jump",reparacion:"repair",winch:"winch",puertaprogresion:"progression gate",distancia:"distance",equipaje:"baggage",anclajeindebido:"improper anchor",juez:"judge",saltopelota:"ball jump",nocomunicarcambio:"change not comunicated",bateria:"battery load",conductaincivica:"unsportsmanlike conduct",perdidacarnet:"loss of road license",modificarpista:"modify track conditions",perdidadorsal:"loss of bib",modificarcoche:"car manipulation",sacarcoche:"take the car out of the compound",nodorsal:"no dorsal",incumplimientotecnico:"Non-compliance with Technical Regulations",recolocacionbateria:"car body/battery relocation",puertamarchaatras:"reverse gate",retroceso:"backward",direcciondelcurso:"direction way",limite:"límite",fueraespecificacion:"out of specification",usodispositivo:"device used",noempezado:"not started",fiascos:"Fiascos",fiasco:"fiasco",noterminado:"not finished",tocarcochenoavanzar:"car touch",tocarcochepuerta:"car touch (passing gate)","empujarcocheacompañar":"Push car when accompanying",reparacion30mins:"Repair in Pits maximum 30min",conectarentiempoajuste:"Connect transmitter and receiver at time of adjustment",nococheparquecerrado:"Do not have the car in a closed park at the beginning of the zone","acaompañarcoche":"Accompany car (car and a half)",saltarsepuerta:"Skip gate",reparacionherramientasinsitu:"Repair with tools in situ",manipulacionvehiculocarpa:"Vehicle handling on the way to the tent",saltarzona:"Skip tricky zone (car + medium)",tocarcocheiniciovuelco:"Touch car when turning over",vuelcoasistidotoque:"Assisted rollover with a touch on the door or pilot",vuelcoasistido:"Assisted rollover",caidapuente:"Bridge fall",recolocarpuente:"Relocate on bridge",utilizacionextrawinch:"EXTRA use of the WINCH",vuelcotoquepuertapiloto:"Rollover touching door or pilot",terminarzonasinobjeto:"Zone end without an object",tocarcoche:"Touch the car",tocarpuerta:"Touch the door",vuelconoasistido:"Non-assisted rollover",interferiraccionjuez:"Interfere in the action of a Judge",moverwinch:"Move the vehicle >2cm when using the WINCH",tiemposentrenamiento:"Not respecting the training times",unaruedaejetrasero:"Pass only one wheel of the rear axle through the door",tocarpuertaunarueda:"To knock on a door and pass only 1 rear wheel through it",puertabonificada:"gate bonification",masuno:"+1",masdos:"+2",mastres:"+3",mascuatro:"+4",mascinco:"+5",bonificacion:"bonus"},gametype:{partidarapida:"Partida rápida",modojuego:"Game mode",tipopuntuacion:"Points type",modojuegotiempo:"A section is chosen and all participants will run it one by one and in the pre-established order. You run to points with time and maximum score and the possibility of making a fiasco. The winner will be the player with less points with a time tiebreaker.",modojuegopuntos:"A section is chosen and all participants will run it one by one and in the pre-established order. Points are run and the winner will be the player with the lowest score.",modojuegorey:"There is no pre-established route and the first participant, the King, chooses the path when playing. All participants run at the same time in line following the same route as the King. If a player scores he goes to the end of the queue. The winner will be the player with the lowest score.",modojuegoarcar:"By points game using the AECAR rules and scores",modojuegoisrcc:"By points game using the ISRCC rules and scores",modojuegolevante124:"By points game using the Levante 1/24 rules and scores",modojuegominicrawlerpassion:"By points game with basic but effective rules and scores",modojuegogeneric:"By pointa using generic rules and scores",simple:"Simple",completa:"Complete",descripcionPuntosSimple:"Score: Winch, touch, obstacle jump, repair, door, overturn and progression door. There is no time or maximum points. There is no max time or max points",descripcionPuntosCompleta:"Score: Winch, touch, distance, obstacle jump, repair, door, overturn, progression door, improper anchor, baggage, judge, ball jump, change not comunicated, battery load, unsportsmanlike conduct,loss of road license,modify track conditions, loss of bib, car manipulation, car out of the compound,no dorsal,non-compliance with Technical Regulations,car body/battery relocation, reverse gate. Variable number of zones, progression gates, optional time and maximum points. In this mode it is possible to apply maximum time and / or maximum score and make a fiasco in case of exceeding it. In the event of a fiasco, the player will score the maximum between the defined times / points and the current score.",tiempo:"Time",puntos:"Points",rey:"The King",isrcc:"ISRCC Rules",aecar:"AECAR Rules",levante124:"1/24 Levante Rules",generic:"Generic Rules",copaespana:"Regional ZonaRc",minicrawlerpassion:"Mini Crawler Passion",modojuegocopaespana:"By points game with full ZonaRc Regional Championship rules and scores"}}},es:{translation:{content:{aboutus:"surge a partir de la afición de un grupo de amigos después de descubrir el mundo del crawler rc, entrando por la escala 1/24.",aboutus1:"Después de salir al terreno de juego un par de veces nos dimos cuenta que sería una buena idea tener un marcador para las partidas, donde poder gestionar los puntos en los diferentes modos de juegos que practicamos.",aboutus2:"Si tienes alguna duda, comentario o sugerencia no dudes en contactar con nosotros en crawlear.com@gmail.com",aboutus3:"takezoRc, Barcelona 2022",welcomeMessage:"es un tablero profesional y social de puntuación para tus eventos o competiciones de Crawler 1/10 o 1/24 compatible con las reglas de AECAR, ISRCC, Levante 1/24, Mini Crawler Passion y el Campeonato Regional de ZonaRc.",instrucciones:"Primero añade los jugadores, selecciona el modo de juego, el tipo de puntuación y pulsa Empezar.",instrucciones1:"Pulsando en el jugador podrás definir un handicap positivo (ventaja inicial) o negativo (desventaja inicial). A final de partida el handicap se sumará a los puntos del jugador para calcular el total de puntos.",maxTimeText1:"Selecciona el tiempo máximo (0 si no quieres aplicar tiempo máximo):",maxTimeText2:"Selecciona el máximo de puntos (0 si no quieres aplicar puntuación máxima):",usuariodesistema:"Puedes buscar y añadir un usuario registrado en crawlear, o añadir un usuario no registrado:",usuarionosistema:"Puedes añadir usuarios:",puedesbuscarusuarios:"Puedes buscar usuarios:",clickenusuariooseguir:"Pulsa un usuario para ir a su perfil de piloto y pulsa seguir/dejar de seguir para rellenar tu muro de pilotos",enviorequest:"Para agregar un usuario registrado, envía una petición de juego",enviorequest2:"El usuario deberá aceptar la petición para poder ser agregado a la partida",peticionjuegoconfirmacion:"¿Quieres enviar una petición de juego?",seguroborrarjuego:"¿Quieres ELIMINAR el juego?",seguroborrarpost:"¿Quieres ELIMINAR la entrada?",nogeolocation:"Tu navegador no soporta geolocalizacíon",landingMainText:"Ingresa con tu cuenta de Google.com para acceder a las funcionalidades completas",landingSecondText:"O si lo prefieres, puedes jugar simplemente una",seleccionZonas:"Selecciona el número de zonas o sectores",seleccionPuertas:"Selecciona el número de puertas de progresión por cada zona",seleccionapilotoyzona:"Selecciona un piloto y una zona para continuar",pulsafinjugador:"Pulsa Fin Jugador para acabar la zona",quiereseditarpartida:"¿Quieres editar las puntuaciones previamente guardadas?",cerrarpartida:"¿Quieres cerrar la partida? No será posible volver a editar las puntuaciones",finalizarreparacion:"¿Quieres finalizar la reparación?",marcarfiascoreparacion:"¿Quieres marcar fiasco de reparación?",quieresempezarzona:"¿Quieres empezar el juego?",seguroeditarpartidaenjuego:"Si editas un juego en marcha podrás perder datos de la partida. ¿Estás seguro que quieres editar una zona en curso?",licenseText:"Contacta con nosotros en crawlear.com@gmail.com si estás interesado en licenciar la herramienta crawlear para un evento o competición oficial",zonascompletadas:"Zonas completadas por grupo:",estadozona:"Estado de zonas:",quieresenviarpeticiondepresencia:"¿Quieres enviar una petición de presencia al director del juego?",aceptarpresencia:"¿Quieres limpiar la petición de presencia?",selecciongrupos:"Selecciona el número de grupos en la partida",colaboraciones:"Colabora:",editprofile:"Puedes editar los datos haciendo click en el nombre, descripción o nombre de usuario en instagram",userprofilenotlogged:"Haz Sign In en crawlear.com con una cuenta de google para poder ver la información del perfil de usuario",urlEmbed:"(opcional) url a un post de insagram, youtube o tiktok",textEmbed:"mensaje de la entrada",gameEmbed:"si está relacionado con la entrada puedes seleccionar unos de tus juegos marcados como PÚBLICO y los usuarios podrán ver el resultado y la localización (si hubiese)",nopost:"No hay ninguna entrada en tu perfil. Rellénalo con tus últimas fotografías y videos de instagram. Tiktok, Facebook y Youtube",nofeedpost:"No hay ninguna entrada en tu muro de pilotos seguidos. Sigue a tus amigos o pilotos favoritos para ver aquí sus entradas.",shareProfileText:"Hey! Echa un ojo a éste perfil de piloto en crawlear.com ",sharePostText:"Hey! Echa un ojo a ésta entrada en crawlear.com ",comparteenredespost:"Comparte ésta entrada en redes sociales:",comparteenredespiloto:"Comparte éste perfil de piloto en redes sociales:",ayudasocialprofile:"Nuevo Perfil de Piloto Social en Crawlear.com! Accede desde el menú lateral > Perfil Social o haciendo click aqui.",offlineMainText:"Tu navegador no tiene conexión, comprueba de nuevo en unos minutos  o crea un juego sin conexión (no será guardado!)"},error:{nojugadores:"Añade a los jugadores",nojueces:"Añade a los jueces",nonombre:"Rellena al menos el nombre de la partida para continuar",nogeolocation:"No se puede obtener la geolocalización o no hay permisos",juegoencurso:"El jugador y la zona ya está en juego",reparacionencurso:"El jugador está en estado de reparación",rellenargrupos:"Repasa la configuración, existe algun grupo sin pilotos",nodirectordepartida:"Marca al menos un juez como director de partida",noposttext:"El texto de la entrada está vacío",noposturl:"La url de la entrada está vacía",nosocialurl:"La url debe apuntar a una entrada de youtube, tiktok o instagram"},description:{juego:"juego",juegopublico:"juego público",nojugadores:"No hay jugadores",nojueces:"No hay jueces",nopartidas:"No hay partidas en curso",norequests:"No hay peticiones de juego en curso",jugadores:"Jugadores",jueces:"Jueces",enreparaciondesde:"Desde:",iniciarreparacion:"Iniciar reparación",juezdepista:"Juez de Pista",juezdecarpa:"Juez de Carpa",nuevojugador:"Nuevo jugador",ordenaleatorio:"Orden aleatorio",empezar:"Empezar",crear:"Crear juego",crearoffline:"Crear juego offline",atras:"Atrás",ganador:"GANADOR",empate:"EMPATE",tiempo:"TIEMPO",puntos:"PUNTOS",finjugador:"fin jugador",total:"TOTAL",ordenruta:"ORDEN de Ruta",fin:"Fin",reset:"Reiniciar",continuar:"Continuar",tiempomaximo:"TIEMPO MAX",zonas:"Zonas",zona:"Zona",puntosmaximo:"MAX PUNTOS",handicap:"handicap",instrucciones:"Instrucciones",paginaprincipal:"Página principal",aboutus:"Sobre nosotros",politicaprivacidad:"Política de privacidad",registro:"Registro",descripcion:"Descripción",partidascomopiloto:"Partidas como Piloto",partidasenjuego:"Partidas en proceso",partidasdejuez:"Partidas como Juez",partidascreadas:"Partidas creadas",partidasprevias:"Partidas previas",jugador:"Jugador",nuevaPartida:"Nuevo juego",nombre:"Nombre",fecha:"Fecha",esPublica:"Es pública",localizacion:"Localización",obtener:"Obtener",obteniendo:"Obteniendo",buscarusuario:"Buscar usuario",resultado:"Resultado",vergooglemaps:"Ver en Google Maps",verperfil:"Ver perfil social",ver:"Ver",usuariosenpartida:"Jugadores en partida",juecesenpartida:"Jueces en partida",peticionesdejuego:"Peticiones de Juego",peticionde:"Petición de",parajuego:"para el juego",peticionespendientes:"peticiones pendientes",enviar:"enviar",resumen:"Resumen",detalle:"Detalle",penalizaciones:"Penalizaciones",penalizacionesadicionales:"Penalizaciones adicionales",avancepuerta:"Puertas",fallospuerta:"puertas fallidas",puertas:"puertas",bonificacion:"bonificación",jugadorseleccionado:"Piloto seleccionado",zonaseleccionada:"Zona seleccionada",nohayreparaciones:"No hay reparaciones",cerrarpartida:"Cerrar partida",waiting:"espera",repair:"reparación",done:"hecho",playing:"en juego",estado:"Estado",reparacionfinalizada:"reparación finalizada",portiempo:"por tiempo",grupo:"Grupo",grupos:"Grupos",directordepartida:"Director de juego",ocupado:"Ocupado",libre:"Libre",peticionesdepresencia:"Peticiones de presencia",nopeticionespresencia:"Sin peticiones de presencia",de:"de:",aceptar:"Aceptar",reclamarpresencia:"Reclamar presencia",entrenamientos:"Gestionar entrenamientos",bonificacionaccesorios:"Bonificación de accesorios",ayuda:"Ayuda",estadisticas:"Estadísticas",posts:"Entradas",texto:"Texto",publicar:"Publicar entrada",compartir:"Compartir",noasignarjuego:"no asignar juego",sinjuego:"sin juego asignado",juegoasignado:"Juego asignado",murodepiloto:"Muro de Piloto",murodefollows:"Muro de Pilotos",secciondejuego:"Herramienta de juego",resolverjuego:"ver resultado del juego",herramientajuego:"Herramienta de juego",volverherramientajuego:"volver a la herramienta de juego",tendenciapiloto:"Tendencia del perfil: PiLOTO",tendenciajuez:"Tendencia del perfil: JUEZ",tendencianeutral:"Tendencia del perfil: JUEZ y PiLOTO",perfilsocial:"Perfil social",follow:"Seguir",unfollow:"Dejar de serguir",logout:"Salir",refrescar:"Recargar",seguidores:"Seguidores",siguiendo:"Siguiendo",eliminarpartida:"Eliminar partida",jugarpartida:"Jugar partida",regenerarpartida:"Regenerar partida"},points:{vuelco:"vuelco",tocar:"tocar",puerta:"puerta",saltoobstaculo:"salto obstaculo",reparacion:"reparación",winch:"winch",puertaprogresion:"puerta de progresion",distancia:"distancia",equipaje:"equipaje",anclajeindebido:"anclaje indebido",juez:"juez",saltopelota:"salto de pelota",nocomunicarcambio:"cambio no comunicado",bateria:"carga de bateria",conductaincivica:"conducta incívica",perdidacarnet:"pérdida de carnet",modificarpista:"modificar condición de pista",perdidadorsal:"perdida de dorsal",modificarcoche:"manipulación del coche",sacarcoche:"coche fuera del recinto",nodorsal:"no dorsal",incumplimientotecnico:"no cumplir reglamento técnico",recolocacionbateria:"recolocación bateria/carrocería",puertamarchaatras:"puerta marcha atrás",retroceso:"retroceso",direcciondelcurso:"dirección del curso",limite:"límite",fueraespecificacion:"fuera especificación",usodispositivo:"uso de dispositivo",noempezado:"no empezado",fiascos:"Fiascos",fiasco:"fiasco",noterminado:"no terminado",tocarcochenoavanzar:"tocar coche (sin avanzar)",tocarcochepuerta:"tocar coche (pasando puerta)","empujarcocheacompañar":"Empujar coche al acompañar",reparacion30mins:"Reparación en Boxes máximo 30min",conectarentiempoajuste:"Conectar emisora y receptor en tiempo de Ajuste",nococheparquecerrado:"No tener el coche en parque cerrado al inicio de la zona",manipulacionvehiculocarpa:"Manipulación Vehículo en trayecto a carpa",tiemposentrenamiento:"No respetar los tiempos de entrenamiento","acaompañarcoche":"Acompañar coche (coche y medio)",saltarsepuerta:"Saltarse Puerta",reparacionherramientasinsitu:"Reparación con herramientas in situ",saltarzona:"Saltar zona complicada (coche + medio)",tocarcocheiniciovuelco:"Tocar coche al iniciar vuelco",vuelcoasistidotoque:"Vuelco Asistido con toque en puerta o piloto",vuelcoasistido:"Vuelco Asistido ",caidapuente:"Caída de puente",recolocarpuente:"Recolocar en puente",utilizacionextrawinch:"Utilización EXTRA del WINCH",vuelcotoquepuertapiloto:"Vuelco con toque en puerta o piloto",terminarzonasinobjeto:"Terminar la zona sin algún objeto",tocarcoche:"Tocar el coche",tocarpuerta:"Tocar puerta",vuelconoasistido:"Vuelco no asistido",interferiraccionjuez:"Interferir en la acción de un Juez",moverwinch:"Mover el vehículo >2cm al sacar el WINCH",unaruedaejetrasero:"Pasar solo una rueda del eje trasero por la puerta",tocarpuertaunarueda:"Tocar puerta y pasar solo 1 rueda trasera por ella",puertabonificada:"Puerta bonificada",masuno:"+1",masdos:"+2",mastres:"+3",mascuatro:"+4",mascinco:"+5",bonificacion:"bonus"},gametype:{partidarapida:"Partida rápida",modojuego:"Modo de juego",tipopuntuacion:"Tipo de puntuacion",modojuegotiempo:"Se escoge un tramo y todos los participantes lo correrán uno por uno y en el orden preestablecido. Se corre a puntos con tiempo y puntuación máxima y la posibilidad de hacer fiasco. El ganador será el jugador con menor puntos con desempate de tiempo.",modojuegopuntos:"Se escoge un tramo y todos los participantes lo correrán uno por uno y en el orden preestablecido. Se corre a puntos y el ganador será el jugador con menor puntuación.",modojuegorey:"No hay ruta preestablecida y el primer participante, el Rey, escoge el camino al jugar. Todos los participantes corren a la vez en línea siguiendo la misma ruta que el Rey. Si un jugador puntúa pasa al final de la cola. El ganador será el jugador con menor puntuación.",modojuegoarcar:"Por puntos usando el reglamento y puntuaciones del reglamento ARCAR",modojuegoisrcc:"Por puntos usando el reglamento y puntuaciones del reglamento ISRCC",modojuegolevante124:"Por puntos usando reglas y puntuaciones del regalmento Levante 1/24",modojuegocopaespana:"Por puntos usando reglas y puntuaciones completas del Campeonato Regional de ZonaRc",modojuegominicrawlerpassion:"Por puntos usando reglas y puntuaciones básicas pero efectivas",modojuegogeneric:"Por puntos usando reglas y puntuaciones genéricas",simple:"Simple",completa:"Completa",descripcionPuntosSimple:"Puntuación: Winch, tocar, salto obstaculo, reparacion, puerta, vuelco y puerta progresion. No hay tiempo ni puntos máximos. No se aplica tiempo ni puntuación máxima.",descripcionPuntosCompleta:"Puntuación: Winch, tocar, distancia, salto obstaculo, reparacion, puerta, vuelco, puerta progresion, anclaje indebido, equipaje, juez, salto de pelota ,cambio no comunicado, carga de bateria, conducta incívica, pérdida de carnet, modificar condición de pista, perdida de dorsal, manipulación del coche, coche fuera del recinto, no dorsal, no cumplir reglamento técnico, recolocación bateria/carrocería y puerta marcha atrás. Número de zonas variables, puertas de progresión, Tiempo y puntos máximos opcionales. En éste modo es posible aplicar tiempo máximo y/o puntuación máxima y realizar un fiasco en caso de superarla. En caso de fiasco el jugador puntuará el máximo entre los tiempos / puntos definidos y la puntuación actual.",tiempo:"Tiempo",puntos:"Puntos",rey:"El Rey",isrcc:"Reglas ISRCC",aecar:"Reglas AECAR",levante124:"1/24 Levante",generic:"Reglas genéricas",copaespana:"Regional ZonaRc",minicrawlerpassion:"Mini Crawler Passion"}}}}}),U.init("G-J1NH6FT6E3"),n.render(t.createElement(t.StrictMode,null,t.createElement(GF,null,t.createElement(qF,null))),document.getElementById("root")),uU&&uU instanceof Function&&i.e(131).then(i.bind(i,82131)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;t(uU),n(uU),r(uU),i(uU),o(uU)})),"serviceWorker"in navigator?window.addEventListener("load",(function(){var e=document.location.href.indexOf("localhost")>=0?"service-worker-dev.js":"service-worker.js";navigator.serviceWorker.register(e).then((function(e){U.event("App","pwa","registered")}),(function(e){U.event("App","pwa","registration error"),console.log("ServiceWorker registration failed: ",e)})).catch((function(e){console.log(e)}))})):(U.event("App","pwa","service worker not supported"),console.log("service worker is not supported"))}()}();