"use strict";(self.webpackChunkcrawlear_com=self.webpackChunkcrawlear_com||[]).push([[6689],{16514:function(e,t,r){r.r(t);var n=r(67294),a=r(26793),o=r(98875),i=r(29525),s=r(98493);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u="waiting",m="playing",d="done";t.default=function(e){var t,r=e.game,c=e.jidGroup,f=e.onZoneClick,p=(0,a.$)(["main"]).t,g=l(n.useState(-1),2),y=g[0],b=g[1],v=l(n.useState(-1),2),h=v[0],E=v[1],T=n.useRef(),S=l(n.useContext(s.GameProgressionContext),2),_=S[0],P=(S[1],[]),x=0;function A(){f(-1,-1),E(-1),b(-1)}return P.push(n.createElement("div",{key:"eZ",className:""},p("content.estadozona"))),P.push(n.createElement("div",{key:"nAz"},(t=new Array(r.zones).fill(!1),_&&Object.entries(_).forEach((function(e,r){Object.entries(e[1]).forEach((function(e,r){Object.entries(e[1]).forEach((function(e,r){"playing"===e[1].status&&!t[r]&&(t[r]=!0)}))}))})),function(e){var t=[];return e.forEach((function(e,r){var a=[];a.push(n.createElement("span",{key:r},p("description.zona")," ",r+1,": ")),e?a.push(n.createElement("span",{key:"dG".concat(r),className:"directorGroup colorRed"},p("description.ocupado"))):a.push(n.createElement("span",{key:"div".concat(r)},n.createElement("span",{className:"directorGroup"},p("description.libre")),n.createElement("br",null))),t.push(n.createElement("div",{key:"dZ".concat(r),className:"directorZone"},a))})),n.createElement("div",{className:""},t)}(t)))),P.push(n.createElement("p",{key:"header"},p("content.seleccionapilotoyzona"),":")),r.players.forEach((function(e,t){var a,s=[],l=0;(e.group===c||i.GameUtils.isCurrentUserIsOwner(r.owner))&&(e.zones.forEach((function(t){a=e.id===h&&l===y?"colorGrey rounded":"rounded",_&&_[e.group]&&_[e.group][e.id]&&(_[e.group][e.id][l].status!==u?_[e.group][e.id][l].status===m?a+=" colorOrange":"repair"===_[e.group][e.id][l].status?a+=" colorRed":_[e.group][e.id][l].status===d&&(a+=" colorGreen"):_[e.group][e.id][l].data&&(a+=" colorClearGrey"),s.push(n.createElement("span",{"data-zone":l,onClick:function(t){!function(e,t){var r=Number(e.target.closest("[data-zone]").getAttribute("data-zone")),n=_[t.group][t.id][r].status;y===r&&h===t.id?A():n===u||n===d||n===m?(E(t.id),b(r),f(t,r)):A()}(t,e)},key:l+1,className:a},n.createElement("div",null,p("description.zona")," ",l+1),n.createElement("br",null),n.createElement("div",null,p("description.estado"),":"),n.createElement("div",null,function(e,t,r){var n;switch(t){case"waiting":n=e(r?"description.reparacionfinalizada":"description.waiting");break;case"done":n=e("description.done");break;case"repair":n=e("description.repair");break;case"playing":n=e("description.playing");break;default:n=e("description.waiting")}return n}(p,_[e.group][e.id][l].status,_[e.group][e.id][l].data))))),l++})),P.push(n.createElement("div",{key:x+l,className:"gameProgressionItem rounded rounded1"},n.createElement("div",null,n.createElement("img",{src:e.avatar,alt:"player avatar"}),e.name," ",n.createElement("br",null),p("description.grupo")," ",e.group+1),n.createElement("div",{className:"horizontalScrollContainer"},s))),h>=0&&y>=0&&e.id===h&&_[e.group][h][y].data&&P.push(n.createElement("div",{key:"".concat(x+l,"Info"),className:"gameProgressionInfoItem smallText rounded rounded2"},n.createElement(o.Z,{gameType:r.gameType,innerRef:T,gameProgression:_[e.group][h][y]}))),x++)})),n.createElement(n.Fragment,null,P)}},65150:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r(67294),a=r(26793),o=r(93379),i=r.n(o),s=r(7795),l=r.n(s),c=r(90569),u=r.n(c),m=r(3565),d=r.n(m),f=r(19216),p=r.n(f),g=r(44589),y=r.n(g),b=r(56783),v={};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){var n,a,o;n=e,a=t,o=r[t],(a=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===h(t)?t:String(t)}(a))in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}v.styleTagTransform=y(),v.setAttributes=d(),v.insert=u().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=p(),i()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals;var _=function(e){var t=e.game,r=e.gameProgression,o=(0,a.$)(["main"]).t,i=window.crawlear.fb,s=n.useRef(),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState({}),2),c=(l[0],l[1]),u=[];function m(e,t){if("pending"===t.status){var r={};r[e]=t,s.current=T(T({},s.current),r),c(s.current)}}function d(e,t){if("pending"===t.status){var r={};r[e]=t,s.current=T(T({},s.current),r),c(s.current)}}u.push(n.createElement("div",{key:"zC",className:""},o("content.zonascompletadas"))),n.useEffect((function(){i.getDirectorPresenceRequest(t.gid,m,d)}),[]);for(var f=function(e){var t=[];Object.entries(r).forEach((function(r,a){var i=0;Object.entries(r[1]).forEach((function(t,r){t[1]&&t[1][e]&&"done"===t[1][e].status&&t[1][e].data&&i++})),i===Object.entries(r[1]).length&&t.push(n.createElement("span",{key:"dG".concat(e),className:"directorGroup"},o("description.grupo")," ",a+1))})),u.push(n.createElement("div",{key:"dZ".concat(e),className:"directorZone horizontalScrolling"},o("description.zona")," ",e+1,": ",t))},p=0;p<t.zones;p++)f(p);return u.push(n.createElement("p",{key:"pdp",className:"bold"},o("description.peticionesdepresencia"),":")),s.current||u.push(n.createElement("p",{key:"npsp",className:""},o("description.nopeticionespresencia"))),s.current&&Object.keys(s.current).forEach((function(e,r){var a=s.current[e];u.push(n.createElement("div",{key:"dR".concat(r),className:"directorRequestContainer blink"},n.createElement("div",null,n.createElement("div",null,o("description.de")," ",a.fromName),n.createElement("div",null,o("description.zona"),": ",a.zone+1),n.createElement("div",null,o("description.jugador"),": ",a.playerName),n.createElement("div",null,o("description.estado"),": ",a.status)),n.createElement("div",null,n.createElement("button",{onClick:function(){!function(e){if(window.confirm(o("content.aceptarpresencia"))){var r=T({},s.current);delete r[e],c(r),s.current=r,i.acceptDirectorPresenceRequest(t.gid,e)}}(e)}},o("description.aceptar")))))})),n.createElement(n.Fragment,null,[u])}},98875:function(e,t,r){var n=r(26793),a=r(67294),o=r(13093),i=r(5103),s=r(32181),l=r(38690),c=r(75793),u=r(56573),m=r(42274),d=r(53177),f=r(29525);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}t.Z=function(e){var t=e.gameType,r=e.gameProgression,g=(0,n.$)(["main"]).t;if(r.data){var y=r.data.points,b=r.data.totalPoints,v=r.data.time,h=r.data.gatesWithFail,E=r.data.gateProgression,T=r.data.simpathyPoints,S=r.data.handicap,_=r.data.gatesWithBonification,P=i.default.tokenToTexts(g,s.AecarGameScores.texts),x=i.default.tokenToTexts(g,s.AecarGameScores.fiascoTexts);return t===f.GAME_TYPE_ISRCC&&(P=i.default.tokenToTexts(g,u.IsrccGameScores.texts),x=i.default.tokenToTexts(g,u.IsrccGameScores.fiascoTexts)),t===f.GAME_TYPE_LEVANTE&&(P=i.default.tokenToTexts(g,c.Levante124GameScores.texts),x=i.default.tokenToTexts(g,c.Levante124GameScores.fiascoTexts)),t===f.GAME_TYPE_COPAESPANA&&(P=i.default.tokenToTexts(g,l.RegionalZonaRcGameScores.texts),x=i.default.tokenToTexts(g,l.RegionalZonaRcGameScores.fiascoTexts)),t===f.GAME_TYPE_MINICRAWLERPASSION&&(P=i.default.tokenToTexts(g,m.MiniCrawlerPassionGameScores.texts),x=i.default.tokenToTexts(g,m.MiniCrawlerPassionGameScores.fiascoTexts)),t===f.GAME_TYPE_GENERIC&&(P=i.default.tokenToTexts(g,d.GenericGameScores.texts),x=i.default.tokenToTexts(g,d.GenericGameScores.fiascoTexts)),a.createElement(a.Fragment,null,a.createElement("ul",null,a.createElement("li",null,g("description.puntos"),": ",a.createElement("span",{className:"bold"},y)),E?a.createElement("li",null,g("description.avancepuerta"),": ",a.createElement("span",{className:"bold"},E)):a.createElement(a.Fragment,null),void 0!==p(h)&&void 0!==p(_)?a.createElement(a.Fragment,null,a.createElement("li",null,g("description.fallospuerta"),": ",a.createElement("span",{className:"bold"},h)),a.createElement("li",null,g("description.bonificacion"),": ",a.createElement("span",{className:"bold"},-2*_))):a.createElement(a.Fragment,null),void 0!==p(T)?a.createElement("li",null,g("description.portiempo"),": ",a.createElement("span",{className:"bold"},T)):a.createElement(a.Fragment,null),void 0!==p(S)?a.createElement("li",null,g("description.handicap"),": ",a.createElement("span",{className:"bold"},S)):a.createElement(a.Fragment,null),a.createElement("li",null,g("description.total"),": ",a.createElement("span",{className:"bold"},b)),a.createElement("li",null,g("description.tiempo"),": ",a.createElement("span",{className:"bold"},i.default.printTime(i.default.millisToTime(v))))),a.createElement(o.Z,{controlTextValues:r.data.gateProgressionData?f.GameUtils.sumControlTextValues(r.data.gateProgressionData):r.data.controlTextValues,texts:P}),r.data.fiascoControlTextValues&&r.data.fiascoControlTextValues.filter((function(e){return e>0})).length>0?a.createElement(a.Fragment,null,a.createElement("div",{className:"fiascosText left bold"},g("points.fiascos"),":"),a.createElement(o.Z,{controlTextValues:r.data.fiascoControlTextValues,texts:x})):a.createElement(a.Fragment,null))}return a.createElement(a.Fragment,null)}},98493:function(e,t,r){r.r(t),r.d(t,{GameProgressionContext:function(){return n}});var n=r(67294).createContext()},56689:function(e,t,r){r.r(t),r.d(t,{default:function(){return ee}});var n=r(67294),a=r(26793),o=r(82232),i=r.n(o),s=r(85382),l=r.n(s),c=r(42742),u=r(87165),m=r(29525),d=r(75607),f=r.n(d),p=r(5368),g=r(93379),y=r.n(g),b=r(7795),v=r.n(b),h=r(90569),E=r.n(h),T=r(3565),S=r.n(T),_=r(19216),P=r.n(_),x=r(44589),A=r.n(x),O=r(53304),G={};function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}G.styleTagTransform=A(),G.setAttributes=S(),G.insert=E().bind(null,"head"),G.domAPI=v(),G.insertStyleElement=P(),y()(O.Z,G),O.Z&&O.Z.locals&&O.Z.locals;var w=function(e){var t=e.onGameEnd,r=(0,a.$)(["main"]).t,o=[],i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(f()({onGameEnd:t}),3),s=i[0],l=i[1],d=i[2],g=s.game;o.push(n.createElement(u.default,{key:"tmC",courtesyTime:0,startTime:0,label:r("description.tiempo"),maxTime:g.maxTime})),o.push(n.createElement("div",{key:0},r("description.ordenruta"),":"));for(var y=0;y<g.players.length;y++){var b="";m.GameUtils.isPointsFiasco(g,s.order[y].zones[0])&&(b="blink foreColorRed"),o.push(n.createElement("div",{key:y+1},n.createElement("div",{className:"controlTextContainerQueue rounded bold ".concat(b)},s.order[y].name,": ",s.order[y].zones[0].totalPoints," ptos")))}o.push(n.createElement("p",{key:g.players.length+1},r("description.puntos").toUpperCase(),":"));for(var v=0;v<g.players.length;v++){var h=g.players[v],E=h.zones[0];o.push(n.createElement("div",{key:g.players.length+v+2,className:"playerInfo"},n.createElement("div",{className:"headerPlayer importantNote rounded2 rounded"},n.createElement("div",{className:"bold"},h.name),r("description.total"),": ",E.totalPoints,void 0),n.createElement("div",{className:"controlTextContainer rounded rounded1"},(0,c.Z)({controlTextValuesString:"controlTextValues",steps:p.KingGameScores.steps,maxValues:p.KingGameScores.maxValues,texts:p.KingGameScores.texts,zone:0,player:v,onValueChange:l}))))}return o.push(n.createElement("button",{key:2*g.players.length+2,className:"importantNote",onClick:d},r("description.fin"))),n.createElement("div",{key:2*g.players.length+3,className:"gameContainer"},o)},j=r(35456),I=r.n(j),M=r(85901),N=r.n(M),k=r(63518),D=r.n(k),R=r(2460),U=r.n(R),z=r(93897),Z={};function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Z.styleTagTransform=A(),Z.setAttributes=S(),Z.insert=E().bind(null,"head"),Z.domAPI=v(),Z.insertStyleElement=P(),y()(z.Z,Z),z.Z&&z.Z.locals&&z.Z.locals;var F=function(e){var t,r,o=e.children,i=e.onGameEnd,s=e.onRepair,l=e.playerIndex,c=e.zoneIndex,u=(0,a.$)(["main"]).t,m=[],d=(t=I()(i,s,l,c),r=10,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],p=d[1],g=d[2],y=d[3],b=d[4],v=d[5],h=d[6],E=d[7],T=d[8],S=d[9],_=f.game,P=_.players[l],x=P.zones[c];return o.length&&(m.push(n.cloneElement(o[0],{onValueChange:g})),o[2]?(m.push(n.cloneElement(o[1],{onValueChange:h})),m.push(n.cloneElement(o[2]))):m.push(n.cloneElement(o[1])),o[3]&&m.push(n.cloneElement(o[3]))),n.createElement("div",{className:"gameContainer"},n.createElement(N(),{playerIndex:l,zoneIndex:c}),n.createElement(D(),{playerZone:x,forceAction:f.forceAction,setRepairStatus:S,onTimerChange:p,onTimeFiasco:T,onPointBecauseLastMinute:E}),n.createElement(U(),{playerIndex:l,zoneIndex:c,onGateProgressionChange:v}),n.createElement("div",{className:"controlTextContainer rounded rounded2"},m[2],x.gateProgression<_.gates[c]?m[0]:n.createElement(n.Fragment,null),x.gateProgression<_.gates[c]?m[1]:n.createElement(n.Fragment,null)),m[3],n.createElement("button",{onClick:y,className:"resetButton"},u("description.reset")),n.createElement("button",{className:"importantNote",onClick:function(){b()}},u("description.finjugador")," (",P.name,")"),n.createElement("p",null))},V=r(25082);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y=function(e){var t,r,a=e.game,o=e.player,i=e.zone,s=e.onGameEnd,l=e.onRepair,c=e.gameExtras,u=e.children,m=(t=n.useState(a),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=m[0],f=m[1],p=[];return n.useEffect((function(){c.doPageView()}),[]),1!==d.gameType?p.push(n.createElement(F,{key:1,onGameEnd:function(e){s(e)},onRepair:l,playerIndex:o,zoneIndex:i},u)):p.push(n.createElement(w,{key:0,onGameEnd:function(e){s(e)},onRepair:l})),n.createElement(V.GameContext.Provider,{value:{game:d,setGame:f,gameExtras:c}},p)},$=r(98493),q=r(8697),H=r(96281),W=r.n(H),K=r(34418),J={};function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}J.styleTagTransform=A(),J.setAttributes=S(),J.insert=E().bind(null,"head"),J.domAPI=v(),J.insertStyleElement=P(),y()(K.Z,J),K.Z&&K.Z.locals&&K.Z.locals;var ee=function(e){var t=e.inGame,r=e.onBackButtonClick,o=n.createElement(n.Fragment,null),s=(0,a.$)(["main"]).t,c=i().getGameExtras(t.gameType),u=Q(W()(t,c),10),d=u[0],f=u[1],p=u[2],g=u[3],y=u[4],b=u[5],v=u[6],h=u[7],E=u[8],T=u[9],S=i().getGameContent(f.gameType,y.id,b),_=Q(n.useState((function(){return i().getGroupFromJid(f,window.crawlear.user.uid)})),1)[0];return d===H.GAME_STATUS_CREATED?o=f.gameType===m.GAME_TYPE_KING?n.createElement(Y,{game:f,onGameEnd:E,gameExtras:c}):n.createElement($.GameProgressionContext.Provider,{value:[p,g]},n.createElement(l(),{game:f,gameProgression:p,jidGroup:_,onBeginGame:v,onBackButtonClick:r,onCloseButonClick:h})):d===H.GAME_STATUS_PLAYING?o=n.createElement(Y,{player:y.id,zone:b,game:f,gameExtras:c,onGameEnd:E,onRepair:T},S):d===H.GAME_STATUS_FINISHED&&(o=n.createElement("div",{className:"gameList"},n.createElement(q.default,{game:f}),n.createElement("button",{className:"backButton",onClick:r},s("description.atras")))),o}},51923:function(e,t,r){r.r(t);var n=r(67294),a=r(5351),o=r.n(a),i=r(82639);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(){var e=s(n.useState(0),2),t=e[0],r=e[1],a=s(n.useState({}),2),l=a[0],c=a[1],u=new(o()),m=new i.default;function d(e){c(e),r(1),u.listenMessages(i.MSG_START,f),u.listenMessages(i.MSG_STOP,p),u.listenMessages(i.MSG_TIME,g),u.listenMessages(i.MSG_POINTS,y),u.listenMessages(i.MSG_GATES,b)}function f(){m.sendStart()}function p(){m.sendStop()}function g(e){m.sendTime(e.detail)}function y(e){m.sendPoints(e.detail)}function b(e){m.sendGates(e.detail)}return 0===t?n.createElement("div",{className:"controlText",onClick:function(){m.discoverDevice(d)}},"Discover Bluetooth Device"):n.createElement("div",{className:"controlText"},l.name)}},55495:function(e,t,r){r.r(t);var n=r(67294),a=r(26793),o=r(29525);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){var n,a,o;n=e,a=t,o=r[t],(a=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(a))in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.default=function(e){var t,r,i=e.game,s=e.playerName,u=e.fromName,m=e.zone,d=(0,a.$)(["main"]).t,f=window.crawlear.fb,p=[],g=i.gid,y=[],b=(t=n.useState({}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=b[0],h=b[1];function E(e,t){if("pending"===e.status){var r=l({},v);r[t]=e,h(r)}else if("accepted"===e.status){var n=l({},v);delete n[t],h(n)}}return g&&s&&u&&m>=0&&!o.GameUtils.isCurrentUserIsOwner(i.owner)&&0===Object.entries(v).length&&p.push(n.createElement("button",{onClick:function(){window.confirm(d("content.quieresenviarpeticiondepresencia"))&&f.setDirectorPresenceRequest(g,m,s,u,E)}},d("description.reclamarpresencia"))),Object.keys(v).forEach((function(e,t){y.push(n.createElement("div",null,v[e].status))})),n.createElement("div",{className:"presenceButtonContainer"},p,y)}},57124:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r(67294),a=r(26793),o=r(87165),i=r(93379),s=r.n(i),l=r(7795),c=r.n(l),u=r(90569),m=r.n(u),d=r(3565),f=r.n(d),p=r(19216),g=r.n(p),y=r(44589),b=r.n(y),v=r(56040),h={};h.styleTagTransform=b(),h.setAttributes=f(),h.insert=m().bind(null,"head"),h.domAPI=c(),h.insertStyleElement=g(),s()(v.Z,h),v.Z&&v.Z.locals&&v.Z.locals;var E=function(e){var t=e.onTimeFiasco,r=e.onRepairTimerChange,i=(0,a.$)(["main"]).t;return n.createElement("div",{className:"repairTimeContainer"},n.createElement(o.default,{courtesyTime:0,label:i("points.reparacion"),onTimeFiasco:t,onTimerChange:r,maxTime:18e5}))},T=r(27969),S={};S.styleTagTransform=b(),S.setAttributes=f(),S.insert=m().bind(null,"head"),S.domAPI=c(),S.insertStyleElement=g(),s()(T.Z,S),T.Z&&T.Z.locals&&T.Z.locals;var _=function(e){var t=e.gameProgression,r=e.game,o=e.onRepairEnd,i=(0,a.$)(["main"]).t,s=[];return t&&Object.entries(t).forEach((function(e,t){Object.entries(e[1]).forEach((function(a,l){Object.entries(a[1]).forEach((function(l,c){if("repair"===l[1].status){var u=new Date(l[1].repairData.setTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});s.push(n.createElement("div",{key:c+t,className:"repairProgressionItem rounded rounded2"},n.createElement("div",{className:"repairProgressionItemHead"},n.createElement("img",{src:r.players[a[0]].avatar,alt:"player avatar"}),n.createElement("span",{className:"repairProgressionItemZone"},i("description.zona"),": ",c+1),n.createElement("span",{className:"gameProgressionItemHour"},i("description.enreparaciondesde")," ",u)),n.createElement(E,null),n.createElement("button",{onClick:function(){!function(e,t,r,n,a){window.confirm(i("content.finalizarreparacion"))&&o&&o(e,t,r,n,a)}(r.gid,r.players[[a[0]]].id,e[0],c,l[1])},className:"importantNote"},i("description.fin"))))}}))}))})),n.createElement("div",{className:"repairProgressionContainer"},s.length?s:i("description.nohayreparaciones"))}},87165:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(67294),a=r(26793),o=r(77721),i=r(5103),s=r(5351),l=r.n(s),c=r(82639),u=r(93379),m=r.n(u),d=r(7795),f=r.n(d),p=r(90569),g=r.n(p),y=r(3565),b=r.n(y),v=r(19216),h=r.n(v),E=r(44589),T=r.n(E),S=r(7174),_={};function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){var n,a,o;n=e,a=t,o=r[t],(a=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===P(t)?t:String(t)}(a))in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}_.styleTagTransform=T(),_.setAttributes=b(),_.insert=g().bind(null,"head"),_.domAPI=f(),_.insertStyleElement=h(),m()(S.Z,_),S.Z&&S.Z.locals&&S.Z.locals;var G="play",C="pause",w="stop",j=function(e){var t,r,s=e.startTime,u=e.forceAction,m=e.label,d=e.onTimerChange,f=e.courtesyTime,p=e.maxTime,g=e.onPointBecauseLastMinute,y=e.onTimeFiasco,b=(0,a.$)(["main"]).t,v=n.useRef(null),h=n.useRef(s||0),E=new(l()),T=(t=n.useState((function(){return{millis:s||0,timer:null,maxTime:p,state:C,timeStart:Date.now()}})),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(t,r)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),S=T[0],_=T[1],P=i.default.millisToTime(S.millis);function x(){h.current=0,S.timer&&clearInterval(S.timer),v.current.classList.remove("blink"),_({maxTime:S.maxTime,millis:0,timer:null,state:w}),d&&d(h.current),v.current.classList.contains("play")&&v.current.classList.toggle("play")}function j(){v.current.classList.toggle("play"),S.state===C||S.state===w?(S.state=G,o.default.event("play","timePlay",""),v.current.classList.remove("blink")):(S.state=C,o.default.event("play","timePause","")),_((function(e){return A(A({},e),{},{state:S.state})}))}return n.useEffect((function(){u===w&&x(),u===C&&S.state===G&&j()}),[u]),n.useEffect((function(){var e=A({},S);e.state===G?(e.timer&&clearInterval(e.timer),e.millis=h.current,e.timer=setInterval((function(){!function(e){h.current<e.maxTime?(h.current=Date.now()-e.timeStart+e.millis,d&&d(h.current),_((function(e){return A(A({},e),{},{millis:h.current})})),Date.now()%2==0&&E.sendMessage(c.MSG_TIME,i.default.printTime(i.default.millisToTime(h.current)))):g&&e.maxTime>0&&h.current>=e.maxTime&&h.current<e.maxTime+f||0===e.maxTime?(h.current=Date.now()-e.timeStart,d&&d(h.current),_((function(e){return A(A({},e),{},{millis:h.current})})),e.maxTime>0&&!v.current.classList.contains("blink")&&v.current.classList.add("blink"),e.maxTime>0&&(e.maxTime+h.current)%1e4==0&&g()):(v.current.classList.toggle("blink"),v.current.classList.toggle("foreColorRed"),j(),y&&y())}(e)}),10),e.timeStart=Date.now(),E.sendMessage(c.MSG_START,{}),_((function(t){return A(A({},t),e)}))):e.state===C?(e.timer&&clearInterval(S.timer),e.timer=null,E.sendMessage(c.MSG_STOP,{}),_((function(t){return A(A({},t),e)}))):(e.millis=0,h.current=0,e.timer&&clearInterval(S.timer),e.timer=null,E.sendMessage(c.MSG_STOP,{}),_((function(t){return A(A({},t),e)}))),E.sendMessage(c.MSG_TIME,i.default.printTime(i.default.millisToTime(h.current)))}),[S.state]),n.createElement("div",{ref:v,className:"timerContainer"},n.createElement("div",{className:"timerLabel"},(m||b("description.tiempo")).toUpperCase(),":"),n.createElement("div",{className:"timer"},i.default.printTime(P)),n.createElement("button",{className:"timerPlayButton",onClick:j}),n.createElement("button",{onClick:x,className:"resetButton"}))}},93897:function(e,t,r){var n=r(8081),a=r.n(n),o=r(23645),i=r.n(o)()(a());i.push([e.id,".totalValue{font-size:26px}.totalTimeContainer{margin:10px;padding:10px;font-size:.8em}.repairButton{display:block;margin:10px auto}.generic .gateProgressionContainer{width:26%;float:left;margin:0 10px 0 10px}.generic .gatePoints{padding:0px;width:18px}.generic .controlTextText{width:auto}.gateProgressionContainer .buttonControlTextPlus,.gateProgressionContainer .buttonControlTextMinus{width:35px;height:35px}.gatesContainer{margin:10px;padding:10px;font-size:.8em}.player{padding-bottom:10px}.pointsText{display:inline-block}.fiascoBox{font-size:17px;width:65px;padding:10px;float:left;margin:10px}.fiascoBox .importantNote{margin-bottom:15px}.info{font-size:.8em}.controlTextContainer .timerContainer{float:none;margin:0 auto}",""]),t.Z=i},34418:function(e,t,r){var n=r(8081),a=r.n(n),o=r(23645),i=r.n(o)()(a());i.push([e.id,".gameProgressionItem{padding:15px;font-size:.7em;display:flex;margin-bottom:10px}.gameProgressionItem img{display:block;max-width:90px;max-height:45px;width:auto;height:auto;border-radius:15px}.gameProgressionItem .rounded{background-image:none;margin:8px;box-shadow:none}.tendJudgeContainer{margin-top:15px}.directorContainer{margin-bottom:15px}.directorGroup{background-color:green;color:#fff;border-radius:8px;padding:3px;font-size:.8em;margin-right:5px}.directorZone{margin:5px 0}.gatePoints{padding:5px;border-radius:15px;color:#fff}",""]),t.Z=i},53304:function(e,t,r){var n=r(8081),a=r.n(n),o=r(23645),i=r.n(o)()(a());i.push([e.id,".controlTextContainerQueue{background-color:#ffa602;border-radius:15px;margin:10px;font-size:15px;padding:5px}",""]),t.Z=i},27969:function(e,t,r){var n=r(8081),a=r.n(n),o=r(23645),i=r.n(o)()(a());i.push([e.id,".repairProgressionContainer{margin:25px}.repairProgressionItem{margin:10px}.repairProgressionItem .repairProgressionItemHead{font-size:.8em}.repairProgressionItem .repairProgressionItemHead{text-align:left}.repairProgressionItem img{border-radius:15px;margin-right:15px;display:inline-block;max-width:40px}.repairProgressionItem .timerContainer{margin:0 auto;width:100%}.gameProgressionItemHour{margin:0 10px}",""]),t.Z=i},56040:function(e,t,r){var n=r(8081),a=r.n(n),o=r(23645),i=r.n(o)()(a());i.push([e.id,".repairTimerContainer .timerContainer{padding:0}",""]),t.Z=i},7174:function(e,t,r){var n=r(8081),a=r.n(n),o=r(23645),i=r.n(o),s=r(61667),l=r.n(s),c=new URL(r(63442),r.b),u=new URL(r(95019),r.b),m=new URL(r(21926),r.b),d=i()(a()),f=l()(c),p=l()(u),g=l()(m);d.push([e.id,".timerContainer{font-size:.8em;width:43%;margin:0 auto}.timerContainer button{width:36px;height:48px;background-repeat:no-repeat;background-size:25px;background-position:center;margin:5px 11px}.timerContainer .timer{border:1px solid;border-radius:15px;max-width:163px;margin:0 auto}.timerContainer .timerPlayButton{background-image:url("+f+")}.timerContainer .resetButton{background-image:url("+p+")}.timerContainer.play .timerPlayButton{background-image:url("+g+")}",""]),t.Z=d},38639:function(e,t,r){var n=r(8081),a=r.n(n),o=r(23645),i=r.n(o)()(a());i.push([e.id,".rc-slider{width:80%;height:47px;margin:15px auto}.generic .rc-slider{height:61px;width:61%;min-height:325px;margin:15px auto}.rc-slider-rail{background-color:#333}.rc-slider-track{background-color:#aaa}.rc-slider-dot{border-color:#666}.rc-slider-handle,.rc-slider-dot.rc-slider-dot-active{border-color:#fff;border-top-left-radius:0px;border-bottom-left-radius:0px;border-top-right-radius:75px;border-bottom-right-radius:75px}.rc-slider-mark-text{color:#000;padding-bottom:50%}body.lightMode .rc-slider-handle{background-color:#333}body.lightMode .rc-slider-rail{background-color:#333}body.lightMode .rc-slider-track{background-color:#aaa}body.lightMode .rc-slider-dot{border-color:#666}",""]),t.Z=i},56783:function(e,t,r){var n=r(8081),a=r.n(n),o=r(23645),i=r.n(o)()(a());i.push([e.id,".directorRequestContainer{margin-top:15px;border:1px solid red;border-radius:15px}",""]),t.Z=i},332:function(e,t,r){r.r(t);var n=r(93379),a=r.n(n),o=r(7795),i=r.n(o),s=r(90569),l=r.n(s),c=r(3565),u=r.n(c),m=r(19216),d=r.n(m),f=r(44589),p=r.n(f),g=r(38639),y={};y.styleTagTransform=p(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=d(),a()(g.Z,y),t.default=g.Z&&g.Z.locals?g.Z.locals:void 0},5351:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(52518)),o=function(){function e(){this.container=document.querySelector(".AppMainContainer")}return e.prototype.listenMessages=function(e,t){a.default.listenEvent(this.container,e,t)},e.prototype.sendMessage=function(e,t){a.default.sendEvent(this.container,e,t)},e}();t.default=o},52518:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={listenEvent:function(e,t,r){e.addEventListener(t,r)},sendEvent:function(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:r}))}};t.default=r},82639:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MSG_TIME=t.MSG_STOP=t.MSG_START=t.MSG_POINTS=t.MSG_GATES=void 0,t.MSG_GATES="BT_GATES",t.MSG_POINTS="BT_POINTS",t.MSG_START="BT_START",t.MSG_STOP="BT_STOP",t.MSG_TIME="BT_TIME";var r=function(){function e(){this.device={},this.timeCharacteristic={},this.timeValueCharacteristic={},this.pointsCharacteristic={},this.gatesCharacteristic={}}return e.prototype.discoverDevice=function(e){var t=this;navigator.bluetooth.requestDevice({filters:[{name:"CrawlearBluetoothDevice"},{services:["3feb1e8a-3981-4045-ad39-b225135013a0"]}]}).then((function(r){return t.device=r,e&&e(r),r.gatt&&r.gatt.connect()})).then((function(e){return e&&e.getPrimaryService("3feb1e8a-3981-4045-ad39-b225135013a0")})).then((function(e){var t=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b26a8"),r=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b1"),n=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b2"),a=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b3");return Promise.all([t,r,n,a])})).then((function(e){var r=e[0],n=e[1],a=e[2],o=e[3];t.timeCharacteristic=r,t.timeValueCharacteristic=n,t.pointsCharacteristic=a,t.gatesCharacteristic=o})).catch((function(e){console.error(e)}))},e.prototype.sendTime=function(e){this.timeValueCharacteristic&&this.timeValueCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendPoints=function(e){this.pointsCharacteristic&&this.pointsCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendGates=function(e){this.gatesCharacteristic&&this.gatesCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendStart=function(){if(this.timeCharacteristic){var e=Uint8Array.of(1);this.timeCharacteristic.writeValue(e)}},e.prototype.sendStop=function(){if(this.timeCharacteristic){var e=Uint8Array.of(0);this.timeCharacteristic.writeValue(e)}},e}();t.default=r},82232:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_DONE=t.STATUS_REPAIR=t.STATUS_PLAYING=t.STATUS_WAITING=void 0;var a=r(29525),o=r(32181),i=r(56573),s=r(75793),l=r(38690),c=r(42274),u=r(53177),m=r(5368),d={isIndividualGame:function(e){return e.gameType===a.GAME_TYPE_KING},isGroupGameFinished:function(e,r,n){var a=!0;return!!d.isIndividualGame(e)||(Object.entries(r).forEach((function(e){Number(e[0])===n&&Object.entries(e[1]).forEach((function(e){Object.entries(e[1]).forEach((function(e){e[1].status!==t.STATUS_WAITING&&e[1].status!==t.STATUS_REPAIR&&e[1].status!==t.STATUS_PLAYING||(a=!1)}))}))})),a)},onRepairEnd:function(e,r,n,a,o){var i,s=null===(i=window.crawlear)||void 0===i?void 0:i.fb;o.status=t.STATUS_WAITING,delete o.repairData,s.setGameProgression(e,r,n,a,o)},updateGameFromProgression:function(e,t){var r=n({},t);return Object.entries(e).forEach((function(e){Object.entries(e[1]).forEach((function(t){t[1].data&&(r.players[e[0]].zones[t[0]]=t[1].data)}))})),r},getGroupFromJid:function(e,t){var r=e.judges.find((function(e){return e.uid===t}));return r?r.group:0},getGameExtras:function(e){var t;return e===a.GAME_TYPE_AECAR?t=o.gameExtras:e===a.GAME_TYPE_ISRCC?t=i.gameExtras:e===a.GAME_TYPE_LEVANTE?t=s.gameExtras:e===a.GAME_TYPE_COPAESPANA?t=l.gameExtras:e===a.GAME_TYPE_KING?t=m.gameExtras:e===a.GAME_TYPE_MINICRAWLERPASSION?t=c.gameExtras:e===a.GAME_TYPE_GENERIC&&(t=u.gameExtras),t},getGameContent:function(e,t,r){var n,m;return e===a.GAME_TYPE_AECAR?n=o.getGameContent:e===a.GAME_TYPE_ISRCC?n=i.getGameContent:e===a.GAME_TYPE_LEVANTE?n=s.getGameContent:e===a.GAME_TYPE_COPAESPANA?n=l.getGameContent:e===a.GAME_TYPE_KING||(e===a.GAME_TYPE_MINICRAWLERPASSION?n=c.getGameContent:e===a.GAME_TYPE_GENERIC&&(n=u.getGameContent)),n&&(m=n(t,r)),m}};t.STATUS_WAITING="waiting",t.STATUS_PLAYING="playing",t.STATUS_REPAIR="repair",t.STATUS_DONE="done",t.default=d},85382:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(67294)),l=r(62936),c=r(29525),u=i(r(55495)),m=i(r(57124)),d=i(r(65150)),f=i(r(16514)),p=i(r(98695)),g=i(r(82232)),y=i(r(7490));t.default=function(e){var t,r=e.game,n=e.jidGroup,a=e.onBeginGame,o=e.onBackButtonClick,i=e.onCloseButonClick,b=[],v=c.GameUtils.isCurrentUserIsOwner(r.owner),h=(0,l.useTranslation)(["main"]).t,E=(0,y.default)(a),T=E[0],S=E[1],_=E[2],P=E[3],x=E[4],A=E[5];if(v&&b.push(s.createElement("div",{key:"dP",className:"directorContainer rounded rounded3"},s.createElement("div",{className:"bold"},h("description.directordepartida")),s.createElement("br",null),s.createElement(d.default,{game:r,gameProgression:P}))),r.jids.find((function(e){return e===window.crawlear.user.uid}))){var O=s.createElement(s.Fragment,null);(T&&T.group===n||v)&&(O=s.createElement("button",{onClick:A,className:"playButton importantNote"},h("description.empezar"))),t=s.createElement(s.Fragment,null,h("description.jugadorseleccionado"),": ",T?T.name:""," ",s.createElement("br",null),h("description.zonaseleccionada"),": ",-1!==S?S+1:"",s.createElement("br",null),O,s.createElement(u.default,{game:r,zone:S,playerName:T&&T.name,fromName:window.crawlear.user.displayName}))}return s.createElement(s.Fragment,null,b,s.createElement(p.default,{message:_}),s.createElement("div",{className:"trackJudgeContainer rounded rounded3"},s.createElement("div",{className:"bold"},h("description.juezdepista")),s.createElement(f.default,{onZoneClick:x,game:r,jidGroup:n}),s.createElement(p.default,{message:_}),t),s.createElement("div",{className:"tendJudgeContainer rounded rounded3"},s.createElement("div",{className:"bold"},h("description.juezdecarpa")),s.createElement(m.default,{gameProgression:P,game:r,onRepairEnd:g.default.onRepairEnd})),s.createElement("button",{className:"backButton",onClick:o},h("description.atras")),c.GameUtils.isCurrentUserIsOwner(r.owner)&&g.default.isGroupGameFinished(r,P,n)?s.createElement("button",{className:"closeButton importantNote",onClick:function(){i(r)}},h("description.cerrarpartida")):s.createElement(s.Fragment,null))}},2460:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(67294)),s=o(r(83319)),l=r(62936),c=r(29525),u=r(25082);r(13541),r(332),t.default=function(e){var t=e.playerIndex,r=e.zoneIndex,n=e.onGateProgressionChange,a=(0,l.useTranslation)(["main"]).t,o=i.useContext(u.GameContext),m=o.game,d=o.gameExtras,f=(0,s.createSliderWithTooltip)(s.default);function p(e){var a="gatesPlusButton"===e.target.id,o=m.players[t].zones[r],i=m.gates[r];a?o.gateProgression<i&&n(o.gateProgression+1):o.gateProgression>0&&n(o.gateProgression-1)}var g=m.players[t].zones[r];return i.createElement("div",{className:"gateProgressionContainer controlTextContainer info rounded rounded2"},a("description.avancepuerta"),": ",g.gateProgression,i.createElement("button",{id:"gatesPlusButton",onClick:p,className:"buttonControlTextPlus"},"+"),i.createElement("button",{id:"gatesMinusButton",onClick:p,className:"buttonControlTextMinus"},"-"),i.createElement(f,{step:1,min:0,max:m.gates[r],dots:!0,vertical:m.gameType===c.GAME_TYPE_GENERIC,value:g.gateProgression,onChange:n,marks:d.generateSliderMarksFromGates(g.gateProgressionData,g.gateProgression),tipFormatter:function(e){return g.gateProgression<m.gates[r]?String(e).concat("-").concat(g.gateProgressionData[g.gateProgression].gatePoints):"-"}}))}},85901:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(67294)),l=r(62936),c=r(25082),u=i(r(5103)),m=r(29525),d=i(r(77721));t.default=function(e){var t=e.zoneIndex,r=e.playerIndex,n=s.createElement(s.Fragment,null),a=(0,l.useTranslation)(["main"]).t,o=s.useContext(c.GameContext).game,i=o.players[r],f=i.zones[t];return m.GameUtils.isFiasco(o,r,t)&&(d.default.event("play","fiasco",i.name),n=s.createElement("div",{className:"fiascoBox rounded importantNote"},"FiASCO!")),s.createElement(s.Fragment,null,s.createElement("div",{className:"playersList"},s.createElement("div",{className:"playerListItem importantNote rounded"},s.createElement("img",{src:i.avatar,alt:"avatar"}),i.name)),s.createElement("div",{className:"controlTextContainer rounded rounded2"},s.createElement("div",{className:"smallText"},a("description.zona"),": ",t+1),s.createElement("div",{className:"smallText"},a("description.puertas"),": ",o.gates[t]),s.createElement("div",{className:"smallText"},"max ",a("description.tiempo"),": ",u.default.printTime(u.default.millisToTime(o.maxTime))),s.createElement("div",{className:"smallText"},"max ",a("description.puntos"),": ",o.maxPoints),s.createElement("div",{className:"bold pointsText"},a("description.total"),": ",f.totalPoints),n))}},63518:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(r(67294)),l=i(r(5103)),c=i(r(51923)),u=i(r(87165)),m=r(62936),d=r(25082);t.default=function(e){var t=e.playerZone,r=e.forceAction,n=e.setRepairStatus,a=e.onTimerChange,o=e.onTimeFiasco,i=e.onPointBecauseLastMinute,f=(0,m.useTranslation)(["main"]).t,p=s.useContext(d.GameContext).game;return s.createElement("div",{className:"controlTextContainer rounded rounded2"},l.default.isIphone()?s.createElement(s.Fragment,null):s.createElement(c.default,null),p.courtesyTime>0?s.createElement("div",{className:"pointsText"},f("description.puntos")," ",f("description.portiempo"),": ",t.simpathyPoints):s.createElement(s.Fragment,null),s.createElement("button",{className:"repairButton importantNote",onClick:n},f("description.iniciarreparacion")),s.createElement(u.default,{courtesyTime:p.courtesyTime,startTime:t.time,label:f("description.tiempo"),forceAction:r,onTimerChange:a,onTimeFiasco:o,onPointBecauseLastMinute:i,maxTime:p.maxTime}))}},35456:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(r(67294)),u=l(r(5351)),m=r(29525),d=r(82639),f=l(r(77721)),p=r(25082);function g(e,t){var r={tickTime:0,forceAction:"",game:e};return m.GameUtils.init(r.game,m.GameUtils.getGameTypeControlTextValuesInit(r.game.gameType),m.GameUtils.getGameTypeFiascoControlTextValuesInit(r.game.gameType),t),r}t.default=function(e,t,r,a){var o=new u.default,i=c.useContext(p.GameContext),l=i.game,y=i.gameExtras,b=c.useState((function(){return window.scrollTo(0,0),g(l,!1)})),v=b[0],h=b[1],E=v.game.players[r].zones[a];return c.useEffect((function(){var e=v.game.players[r].zones[a];h(n(n({},v),{tickTime:e.time,forceAction:"play"})),document.body.classList.add(m.GameUtils.getGameTypeBodyClassName(l.gameType))}),[]),[v,function(e){var t=n({},v);if(!e){var o=t.game.players[r].zones[a];o.simpathyPoints=0,y.onTimerChange(o)}E.time=e,h(n(n({},t),{tickTime:e,forceAction:"play"}))},function(e,t){var i=n({},v),l=i.game,c=l.players[r].zones[a],u=c.gateProgressionData[c.gateProgression];(l.maxPoints<=c.points&&l.maxPoints>0||l.maxTime<=v.tickTime&&l.maxTime>0)&&!(c.points+e<=l.maxPoints&&0===c.fiascoControlTextValues.filter((function(e){return e>0})).length)||(u.controlTextValues=s([],u.controlTextValues,!0),u.controlTextValues[t]+=e,c.points+=e,c.gateProgression<l.gates[a]&&(u.gatePoints+=e),o.sendMessage(d.MSG_POINTS,c.points),y.onChangeScore(c),h(i),m.GameUtils.isFiasco(i.game,r,a)&&h(n(n({},v),{forceAction:"pause"})))},function(){var e=n({},v);window.scrollTo(0,0),f.default.event("play","reset",e.game.players[r].name),(e=g(e.game,!0)).forceAction="stop",h((function(t){return n(n({},t),e)}))},function(){var t=n({},v),o=t.game,i=o.players;window.scrollTo(0,0),y.onEndPlayer(o,v.tickTime,r,a),t.forceAction="stop",h(t),f.default.event("play","endPlayer",i[r].name),document.body.classList.remove(m.GameUtils.getGameTypeBodyClassName(l.gameType)),e(t.game)},function(e){var t=n({},v),i=t.game.players[r].zones[a];i.gateProgression=e,o.sendMessage(d.MSG_GATES,i.gateProgression),e===t.game.gates[a]&&(t.forceAction="pause"),y.onGateProgressionChange(i),h(t)},function(e,t){var o=n({},v),i=o.game.players[r].zones[a];i.fiascoControlTextValues=s([],i.fiascoControlTextValues,!0),i.fiascoControlTextValues[t]+=e,i.fiascoControlTextValues[t]>0&&(o.forceAction="pause"),y.onFiascoChangeScore(),h(o)},function(){var e=n({},v),t=e.game.players[r].zones[a];t.simpathyPoints++,y.onPointBecauseLastMinute(t),h(e)},function(){var e=n({},v);h(n(n({},e),{tickTime:l.maxTime+l.courtesyTime,forceAction:"pause"}))},function(){var e=n({},v);e.game.players[r].zones[a].time=v.tickTime,e.forceAction="stop",h(e),t&&t(r,a)}]}},96281:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_STATUS_FINISHED=t.GAME_STATUS_PLAYING=t.GAME_STATUS_CREATED=void 0;var l=i(r(67294)),c=r(11569),u=s(r(82232)),m=r(62936),d=r(29525),f=r(82232),p=s(r(5103));t.GAME_STATUS_CREATED=0,t.GAME_STATUS_PLAYING=1,t.GAME_STATUS_FINISHED=2,t.default=function(e,r){var a=l.useState(t.GAME_STATUS_CREATED),o=a[0],i=a[1],s=l.useState(e),g=s[0],y=s[1],b=l.useState([]),v=b[0],h=b[1],E=l.useRef([]),T=l.useState(-1),S=T[0],_=T[1],P=window.crawlear.fb,x=(0,m.useTranslation)(["main"]).t,A=l.useState({name:"",avatar:"",group:0,id:0,zones:[],uid:""}),O=A[0],G=A[1];return l.useEffect((function(){c.isOffline?h(d.GameUtils.createGameProgression(g.zones,g.players.length)):P.getGameProgression(g.gid,(function(){}),(function(){}),(function(e,t){var r={};r[e]=t,y(u.default.updateGameFromProgression(t,g)),E.current=n(n({},E.current),r),h(n(n({},E.current),r))}),(function(e,t){var r={};r[e]=t,y(u.default.updateGameFromProgression(t,g)),E.current=n(n({},E.current),r),h(n(n({},E.current),r))}))}),[]),[o,g,v,h,O,S,function(e,r){var n=e.id,a=e.group;i(t.GAME_STATUS_PLAYING),G(e),_(r),v[a][n][r].status=f.STATUS_PLAYING,h(v),P.setGameProgression(g.gid,n,a,r,v[a][n][r])},function(e,a){if(u.default.isGroupGameFinished(e,v,a)&&window.confirm(x("content.cerrarpartida"))&&!c.isOffline)P.getGameResult(e,(function(e){var a=n({},e);a.gameStatus=2,r.onGameEnd(a),a=p.default.getOrderedGameResult(a),P.updateGame(a),P.removeGameProgression(a.gid),y(a),i(t.GAME_STATUS_FINISHED)}),(function(){}));else if(c.isOffline){var o=p.default.getOrderedGameResult(e);y(d.GameUtils.getGameResult(o,v)),i(t.GAME_STATUS_FINISHED)}},function(e){if(u.default.isIndividualGame(g))r.onGameEnd(g),(l=p.default.getOrderedGameResult(g)).gameStatus=2,P.updateGame(l),P.removeGameProgression(l.gid),P.removeDirectorPresenceRequest(l.gid),i(t.GAME_STATUS_FINISHED),y(l);else{var a=O.id,o=O.group,s=n({},v),l=n({},g);s[o][a][S].status=f.STATUS_DONE,s[o][a][S].data=e.players[a].zones[S],!s[o][a][S].data.judgedBy&&(s[o][a][S].data.judgedBy=[]),s[o][a][S].data.judgedBy.push(window.crawlear.user.uid),h(s),l.players[a].zones[S]=s[o][a][S].data,P.setGameProgression(l.gid,a,o,S,s[o][a][S]),i(t.GAME_STATUS_CREATED),y(l)}},function(e,r){var a=n({},v),o=g.players[e],s=o.group,l=o.id;a[s][e][r].status=f.STATUS_REPAIR,a[s][e][r].repairData={setTime:(new Date).getTime()},a[s][e][r].data=o.zones[r],h(a),P.setGameProgression(g.gid,l,s,r,a[s][l][r]),i(t.GAME_STATUS_CREATED)}]}},7490:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(67294)),s=r(62936),l=r(98493),c=r(82232);t.default=function(e){var t=i.useState(null),r=t[0],n=t[1],a=i.useState(-1),o=a[0],u=a[1],m=i.useState(""),d=m[0],f=m[1],p=i.useContext(l.GameProgressionContext)[0],g=(0,s.useTranslation)(["main"]).t;return[r,o,d,p,function(e,t){u(t),n(e),f("")},function(){if(r&&-1!==o){var t=r.id,n=r.group,a=p[n][t][o];a.status===c.STATUS_WAITING&&window.confirm(g("content.quieresempezarzona"))||a.status===c.STATUS_DONE&&window.confirm(g("content.quiereseditarpartida"))||a.status===c.STATUS_PLAYING&&window.confirm(g("content.seguroeditarpartidaenjuego"))?(f(""),e(r,o)):a.status===c.STATUS_PLAYING?f(g("error.juegoencurso")):a.status===c.STATUS_REPAIR&&f(g("error.reparacionencurso"))}}]}},75607:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return o(t,e),t},s=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(r(67294)),u=l(r(77721)),m=r(5368),d=r(62936),f=r(29525),p=r(25082);t.default=function(e){var t=e.onGameEnd,r=(0,d.useTranslation)(["main"]).t,a=c.useContext(p.GameContext).game,o=c.useState((function(){return m.KingGameScores.texts=m.KingGameScores.texts.map((function(e){return r(e)})),function(e){var t={game:e,order:s([],e.players,!0)};f.GameUtils.init(t.game,f.GameUtils.getGameTypeControlTextValuesInit(t.game.gameType),f.GameUtils.getGameTypeFiascoControlTextValuesInit(t.game.gameType),!1);for(var r=0;r<t.game.players.length;r++)t.game.players[r].zones[0].gateProgressionData[0].controlTextValues=new Array(m.KingGameScores.steps.length).fill(0);return t}(a)})),i=o[0],l=o[1];return c.useEffect((function(){u.default.pageview("/kinggame/")}),[]),[i,function(e,t,r){var a,o,c,u=n({},i),m=u.game.players,d=m[r].zones[0],f=d.gateProgressionData[0];f.controlTextValues=s([],f.controlTextValues,!0),f.controlTextValues[t]+=e,d.totalPoints+=e,d.points+=e,u.order=(a=u.order.findIndex((function(e){return e.id===m[r].id})),o=u.order,(c=s([],o,!0)).push(c.splice(a,1)[0]),c),l(u)},function(){t&&t(a)}]}},21926:function(e,t,r){e.exports=r.p+"c3934397bbea4f4b413d.png"},63442:function(e,t,r){e.exports=r.p+"4e8d84bf42ab7e35ed38.png"},95019:function(e,t,r){e.exports=r.p+"7df5afd41f704db43dad.png"}}]);