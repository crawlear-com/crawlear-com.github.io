"use strict";(self.webpackChunkcrawlear_com=self.webpackChunkcrawlear_com||[]).push([[675],{16514:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(9226),r=n(26793),o=n(98875),i=n(29525),s=n(98493);const l="waiting",c="playing",u="done",m=function(e){let{game:t,jidGroup:n,onZoneClick:m}=e;const{t:d}=(0,r.$)(["main"]),[p,g]=a.useState(-1),[f,E]=a.useState(-1),h=a.useRef(),[v,T]=a.useContext(s.GameProgressionContext),y=[];let b=0;function x(){m(-1,-1),E(-1),g(-1)}return y.push(a.createElement("div",{key:"eZ",className:""},d("content.estadozona"))),y.push(a.createElement("div",{key:"nAz"},function(){const e=new Array(t.zones).fill(!1);return v&&Object.entries(v).forEach(((t,n)=>{Object.entries(t[1]).forEach(((t,n)=>{Object.entries(t[1]).forEach(((t,n)=>{"playing"===t[1].status&&!e[n]&&(e[n]=!0)}))}))})),function(e){const t=[];return e.forEach(((e,n)=>{const r=[];r.push(a.createElement("span",{key:n},d("description.zona")," ",n+1,": ")),e?r.push(a.createElement("span",{key:"dG".concat(n),className:"directorGroup colorRed"},d("description.ocupado"))):r.push(a.createElement("span",{key:"div".concat(n)},a.createElement("span",{className:"directorGroup"},d("description.libre")),a.createElement("br",null))),t.push(a.createElement("div",{key:"dZ".concat(n),className:"directorZone"},r))})),a.createElement("div",{className:""},t)}(e)}())),y.push(a.createElement("p",{key:"header"},d("content.seleccionapilotoyzona"),":")),t.players.forEach(((e,r)=>{let s,T=[],_=0;(e.group===n||i.GameUtils.isCurrentUserIsOwner(t.owner))&&(e.zones.forEach((t=>{s=e.id===f&&_===p?"colorGrey rounded":"rounded",v&&v[e.group]&&v[e.group][e.id]&&(v[e.group][e.id][_].status!==l?v[e.group][e.id][_].status===c?s+=" colorOrange":"repair"===v[e.group][e.id][_].status?s+=" colorRed":v[e.group][e.id][_].status===u&&(s+=" colorGreen"):v[e.group][e.id][_].data&&(s+=" colorClearGrey"),T.push(a.createElement("span",{"data-zone":_,onClick:t=>{!function(e,t){const n=Number(e.target.closest("[data-zone]").getAttribute("data-zone")),a=v[t.group][t.id][n].status;p===n&&f===t.id?x():a===l||a===u||a===c?(E(t.id),g(n),m(t,n)):x()}(t,e)},key:_+1,className:s},a.createElement("div",null,d("description.zona")," ",_+1),a.createElement("br",null),a.createElement("div",null,d("description.estado"),":"),a.createElement("div",null,function(e,t,n){let a;switch(t){case"waiting":a=e(n?"description.reparacionfinalizada":"description.waiting");break;case"done":a=e("description.done");break;case"repair":a=e("description.repair");break;case"playing":a=e("description.playing");break;default:a=e("description.waiting")}return a}(d,v[e.group][e.id][_].status,v[e.group][e.id][_].data))))),_++})),y.push(a.createElement("div",{key:b+_,className:"gameProgressionItem rounded rounded1"},a.createElement("div",null,a.createElement("img",{src:e.avatar,alt:"player avatar"}),e.name," ",a.createElement("br",null),d("description.grupo")," ",e.group+1),a.createElement("div",{className:"horizontalScrollContainer"},T))),f>=0&&p>=0&&e.id===f&&v[e.group][f][p].data&&y.push(a.createElement("div",{key:"".concat(b+_,"Info"),className:"gameProgressionInfoItem smallText rounded rounded2"},a.createElement(o.Z,{gameType:t.gameType,innerRef:h,gameProgression:v[e.group][f][p]}))),b++)})),a.createElement(a.Fragment,null,y)}},65150:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(9226),r=n(26793),o=n(93379),i=n.n(o),s=n(7795),l=n.n(s),c=n(90569),u=n.n(c),m=n(3565),d=n.n(m),p=n(19216),g=n.n(p),f=n(44589),E=n.n(f),h=n(56783),v={};v.styleTagTransform=E(),v.setAttributes=d(),v.insert=u().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=g(),i()(h.Z,v),h.Z&&h.Z.locals&&h.Z.locals;const T=function(e){let{game:t,gameProgression:n}=e;const{t:o}=(0,r.$)(["main"]),i=window.crawlear.fb,s=a.useRef(),[l,c]=a.useState({}),u=[];function m(e,t){if("pending"===t.status){const n={};n[e]=t,s.current={...s.current,...n},c(s.current)}}function d(e,t){if("pending"===t.status){const n={};n[e]=t,s.current={...s.current,...n},c(s.current)}}u.push(a.createElement("div",{key:"zC",className:""},o("content.zonascompletadas"))),a.useEffect((()=>{i.getDirectorPresenceRequest(t.gid,m,d)}),[]);for(let e=0;e<t.zones;e++){let t=[];Object.entries(n).forEach(((n,r)=>{let i=0;Object.entries(n[1]).forEach(((t,n)=>{t[1]&&t[1][e]&&"done"===t[1][e].status&&t[1][e].data&&i++})),i===Object.entries(n[1]).length&&t.push(a.createElement("span",{key:"dG".concat(e),className:"directorGroup"},o("description.grupo")," ",r+1))})),u.push(a.createElement("div",{key:"dZ".concat(e),className:"directorZone horizontalScrolling"},o("description.zona")," ",e+1,": ",t))}return u.push(a.createElement("p",{key:"pdp",className:"bold"},o("description.peticionesdepresencia"),":")),s.current||u.push(a.createElement("p",{key:"npsp",className:""},o("description.nopeticionespresencia"))),s.current&&Object.keys(s.current).forEach(((e,n)=>{const r=s.current[e];u.push(a.createElement("div",{key:"dR".concat(n),className:"directorRequestContainer blink"},a.createElement("div",null,a.createElement("div",null,o("description.de")," ",r.fromName),a.createElement("div",null,o("description.zona"),": ",r.zone+1),a.createElement("div",null,o("description.jugador"),": ",r.playerName),a.createElement("div",null,o("description.estado"),": ",r.status)),a.createElement("div",null,a.createElement("button",{onClick:()=>{!function(e){if(window.confirm(o("content.aceptarpresencia"))){const n={...s.current};delete n[e],c(n),s.current=n,i.acceptDirectorPresenceRequest(t.gid,e)}}(e)}},o("description.aceptar")))))})),a.createElement(a.Fragment,null,[u])}},98875:(e,t,n)=>{n.d(t,{Z:()=>g});var a=n(36609),r=n(9226),o=n(13093),i=n(5103),s=n(32181),l=n(38690),c=n(75793),u=n(56573),m=n(42274),d=n(53177),p=n(29525);const g=function(e){let{gameType:t,gameProgression:n}=e;if(n.data){const e=n.data.points,g=n.data.totalPoints,f=n.data.time,E=n.data.gatesWithFail,h=n.data.gateProgression,v=n.data.simpathyPoints,T=n.data.handicap,y=n.data.gatesWithBonification;let b=i.default.tokenToTexts(s.AecarGameScores.texts),x=i.default.tokenToTexts(s.AecarGameScores.fiascoTexts);return t===p.GAME_TYPE_ISRCC&&(b=i.default.tokenToTexts(u.IsrccGameScores.texts),x=i.default.tokenToTexts(u.IsrccGameScores.fiascoTexts)),t===p.GAME_TYPE_LEVANTE&&(b=i.default.tokenToTexts(c.Levante124GameScores.texts),x=i.default.tokenToTexts(c.Levante124GameScores.fiascoTexts)),t===p.GAME_TYPE_COPAESPANA&&(b=i.default.tokenToTexts(l.RegionalZonaRcGameScores.texts),x=i.default.tokenToTexts(l.RegionalZonaRcGameScores.fiascoTexts)),t===p.GAME_TYPE_MINICRAWLERPASSION&&(b=i.default.tokenToTexts(m.MiniCrawlerPassionGameScores.texts),x=i.default.tokenToTexts(m.MiniCrawlerPassionGameScores.fiascoTexts)),t===p.GAME_TYPE_GENERIC&&(b=i.default.tokenToTexts(d.GenericGameScores.texts),x=i.default.tokenToTexts(d.GenericGameScores.fiascoTexts)),r.createElement(r.Fragment,null,r.createElement("ul",null,r.createElement("li",null,(0,a.t)("description.puntos"),": ",r.createElement("span",{className:"bold"},e)),h?r.createElement("li",null,(0,a.t)("description.avancepuerta"),": ",r.createElement("span",{className:"bold"},h)):r.createElement(r.Fragment,null),void 0!==typeof E&&void 0!==typeof y?r.createElement(r.Fragment,null,r.createElement("li",null,(0,a.t)("description.fallospuerta"),": ",r.createElement("span",{className:"bold"},E)),r.createElement("li",null,(0,a.t)("description.bonificacion"),": ",r.createElement("span",{className:"bold"},-2*y))):r.createElement(r.Fragment,null),void 0!==typeof v?r.createElement("li",null,(0,a.t)("description.portiempo"),": ",r.createElement("span",{className:"bold"},v)):r.createElement(r.Fragment,null),void 0!==typeof T?r.createElement("li",null,(0,a.t)("description.handicap"),": ",r.createElement("span",{className:"bold"},T)):r.createElement(r.Fragment,null),r.createElement("li",null,(0,a.t)("description.total"),": ",r.createElement("span",{className:"bold"},g)),r.createElement("li",null,(0,a.t)("description.tiempo"),": ",r.createElement("span",{className:"bold"},i.default.printTime(i.default.millisToTime(f))))),r.createElement(o.Z,{controlTextValues:n.data.gateProgressionData?p.GameUtils.sumControlTextValues(n.data.gateProgressionData):n.data.controlTextValues,texts:b}),n.data.fiascoControlTextValues&&n.data.fiascoControlTextValues.filter((e=>e>0)).length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:"fiascosText left bold"},(0,a.t)("points.fiascos"),":"),r.createElement(o.Z,{controlTextValues:n.data.fiascoControlTextValues,texts:x})):r.createElement(r.Fragment,null))}return r.createElement(r.Fragment,null)}},98493:(e,t,n)=>{n.r(t),n.d(t,{GameProgressionContext:()=>a});const a=n(9226).createContext()},12381:(e,t,n)=>{n.r(t),n.d(t,{default:()=>X});var a=n(9226),r=n(89250),o=n(29525),i=n(26793),s=n(93379),l=n.n(s),c=n(7795),u=n.n(c),m=n(90569),d=n.n(m),p=n(3565),g=n.n(p),f=n(19216),E=n.n(f),h=n(44589),v=n.n(h),T=n(88076),y={};y.styleTagTransform=v(),y.setAttributes=g(),y.insert=d().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=E(),l()(T.Z,y),T.Z&&T.Z.locals&&T.Z.locals;const b=function(e){let{onGameTypeChange:t,selectedGameType:n=0,selectedPointsType:r=0}=e;const{t:o}=(0,i.$)(["main"]),s=[o("gametype.aecar"),o("gametype.rey"),o("gametype.isrcc"),o("gametype.levante124"),o("gametype.copaespana"),o("gametype.minicrawlerpassion"),o("gametype.generic")],l=[a.createElement("div",null,o("gametype.modojuegoarcar")),a.createElement("div",null,o("gametype.modojuegorey")),a.createElement("div",null,o("gametype.modojuegoisrcc")),a.createElement("div",null,o("gametype.modojuegolevante124")),a.createElement("div",null,o("gametype.modojuegocopaespana")),a.createElement("div",null,o("gametype.modojuegominicrawlerpassion")),a.createElement("div",null,o("gametype.modojuegogeneric"))],[c,u]=a.useState({gameType:n}),m=[];return s.forEach(((e,t)=>{m.push(a.createElement("option",{key:t,value:t},s[t]))})),a.createElement(a.Fragment,null,a.createElement("div",{className:"gameType rounded1 rounded"},a.createElement("label",{htmlFor:"gameTypeSelect",className:"headerText bold"},o("gametype.modojuego"),a.createElement("select",{id:"gameTypeSelect",defaultValue:n,onChange:function(e){const n=e.target.selectedIndex;t&&t(n),u({gameType:n})}},m)),a.createElement("div",{className:"gameSelectText smallText"},l[c.gameType])))};var x=n(14305),_={};_.styleTagTransform=v(),_.setAttributes=g(),_.insert=d().bind(null,"head"),_.domAPI=u(),_.insertStyleElement=E(),l()(x.Z,_),x.Z&&x.Z.locals&&x.Z.locals;const P=function(e){let{player:t,i:n,onRemovePlayer:r,onClickPlayer:o,onGroupChange:s,maxGroups:l,editMode:c,isForJudge:u,onGameDirectorChange:m}=e;const{t:d}=(0,i.$)(["main"]),p=[];if(c){const e=[];for(let t=0;t<l;t++)e.push(a.createElement("option",{value:t},d("description.grupo")," ",t+1));p.push(a.createElement("button",{className:"buttonControlTextMinus",id:n,onClick:function(e){e.stopPropagation(),r&&r(e)}},"-")),p.push(a.createElement("div",null,a.createElement("select",{value:t.group,onChange:function(e){const n=e.target.selectedIndex;s&&s(t.id,n)}},e))),u&&p.push(a.createElement(a.Fragment,null,a.createElement("input",{type:"checkbox",onChange:function(e){m&&m(t.id,e.target.checked)}}),a.createElement("span",{className:"PlayerItemGameDirector"},d("description.directordepartida"))))}return a.createElement("li",{key:n,onClick:function(){o&&o(t.id)},className:"closed importantNote rounded playerListItem",value:t.name},a.createElement("div",{className:"playerBox"},a.createElement("img",{referrerPolicy:"no-referrer",src:t.avatar,alt:"avatar"}),a.createElement("div",{className:"textOverflow"},t.name),p))};var G=n(11569),C=n(58731),S={};S.styleTagTransform=v(),S.setAttributes=g(),S.insert=d().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=E(),l()(C.Z,S),C.Z&&C.Z.locals&&C.Z.locals;const w=n.p+"78b7bb4a554381a9ba80.png",A=function(e){let{onUserSeachPlayerAdd:t,onUserClick:n,onPlusAddUserClick:r,mainText:o,secondaryText:s,iconSend:l,children:c}=e;const u=window.crawlear.fb,{t:m}=(0,i.$)(["main"]),[d,p]=a.useState(""),[g,f]=a.useState([]),E=a.useRef(),h=a.useRef();function v(e){const n=e.target,a=n.getAttribute("data-uid"),r=n.getAttribute("data-displayname"),o=n.getAttribute("data-photourl");f([]),p(""),t&&t({uid:a,displayName:r,photoURL:o})}function T(e){const t=e.target.nextElementSibling.getAttribute("data-uid");n&&n(t)}const y=[];let b,x=0;return g.length>0&&(y.push(a.createElement("div",{key:x,className:"userSearchResultsText smallText"},s)),x++),g.forEach((e=>{let n=l;t&&e.uid===window.crawlear.user.uid&&(n=w),y.push(a.createElement("div",{className:"bold userSearchItem",key:x},a.createElement("span",{onClick:T,className:"userSearchResult textOverflow"},e.displayName),a.createElement("img",{src:n,alt:"send icon","data-uid":e.uid,"data-displayname":e.displayName,"data-photourl":e.photoURL,onClick:v}))),x++})),r&&(b=a.createElement("button",{className:"buttonControlTextPlus",onClick:()=>{const e=h.current.value;f([]),p(""),r({uid:"",displayName:e})}},"+")),a.createElement("div",{className:"userSearchContainer rounded rounded3"},!G.isOffline||r?a.createElement(a.Fragment,null,a.createElement("div",{className:"userSearchText smallText"},o),a.createElement("input",{id:Date.now(),ref:h,className:"userSearchName",onChange:function(e){const t=e.target.value;p(t),!G.isOffline&&u.isUserLogged()&&(t.length>0?u.userSearch(t,(e=>{f(e)}),(()=>{})):f([]))},value:d})):a.createElement(a.Fragment,null),b,c,a.createElement("div",{ref:E,className:"resultsContainer"},y))},N=n.p+"9f5743cc8ab0daaa6f24.png",M=function(e){let{onUserSeachPlayerAdd:t,gameName:n,isForJudge:r}=e;const o=window.crawlear.fb,{t:s}=(0,i.$)(["main"]),l=a.useRef(0),[c,u]=a.useState(0),m=[];return l.current>0&&m.push(a.createElement("div",{key:0},l.current," ",s("description.peticionespendientes"))),a.createElement(A,{onUserSeachPlayerAdd:function(e){let{uid:a,displayName:r,photoURL:i}=e;if(a&&(a===window.crawlear.user.uid||window.confirm(s("content.peticionjuegoconfirmacion"))))if(a===window.crawlear.user.uid){const e=window.crawlear.user;t({uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,group:0})}else o.setUserGameRequest(window.crawlear.user.uid,window.crawlear.user.displayName,a,n,((e,n)=>{"pending"===n?(l.current+=1,u(c+1)):"accepted"===n?(t({uid:a,displayName:r,photoURL:i,group:0}),l.current-=1,u(c-1)):(l.current-=1,u(c-1))}))},onPlusAddUserClick:r?void 0:t,mainText:o.isUserLogged()?s("content.usuariodesistema"):s("content.usuarionosistema"),secondaryText:"".concat(s("content.enviorequest"),". ").concat(s("content.enviorequest2")),iconSend:N},m)};var k=n(77721),O=n(72504),I={};I.styleTagTransform=v(),I.setAttributes=g(),I.insert=d().bind(null,"head"),I.domAPI=u(),I.insertStyleElement=E(),l()(O.Z,I),O.Z&&O.Z.locals&&O.Z.locals;const j=function(e){let{inPlayers:t,onPlayerNumerChange:n,onGameDirectorChange:r,gameName:o,isForJudge:s,maxGroups:l}=e;const[c,u]=a.useState(t||[]),{t:m}=(0,i.$)(["main"]);function d(e){k.default.event("menu","removePlayer",c[e.target.id].name),delete c[e.target.id];const t=c.filter((e=>e));u(t),n&&n(t)}function p(e,t){const n=[...c];n[e].group=t,u(n)}function g(e,t){r&&r(e,t)}a.useEffect((()=>{n&&n(c)}),[c]);let f=c.length?m("description.jugadores"):m("description.nojugadores");return s&&(f=c.length?m("description.jueces"):m("description.nojueces")),a.createElement(a.Fragment,null,a.createElement("div",{className:"players rounded rounded1"},a.createElement("div",{className:"headerText bold"},m(s?"description.jueces":"description.jugadores")),a.createElement(M,{isForJudge:s,onUserSeachPlayerAdd:function(e){const t=e.displayName;!t||0===t.trim().length||c.find((t=>t.uid===e.uid&&e.uid.length>0))||s&&!e.uid||(c.push({id:c.length,uid:e.uid||"",name:t,avatar:e.photoURL||"".concat("https://eu.ui-avatars.com/api/?background=345B63&color=FFFFFF&name=").concat(t),group:0,time:0,points:0,battery:!1}),k.default.event("menu","addPlayer",t),n&&n(c))},gameName:o}),a.createElement("div",{className:"headerText"},m(s?"description.juecesenpartida":"description.usuariosenpartida")),a.createElement("ul",{className:"playersList"},0===c.length?f:c.map(((e,t)=>a.createElement(P,{key:t,player:e,i:t,onGameDirectorChange:g,maxGroups:l,onGroupChange:p,editMode:!0,isForJudge:s,onRemovePlayer:d}))))))};var R=n(18146),Z=n(42929),U={};U.styleTagTransform=v(),U.setAttributes=g(),U.insert=d().bind(null,"head"),U.domAPI=u(),U.insertStyleElement=E(),l()(Z.Z,U),Z.Z&&Z.Z.locals&&Z.Z.locals;const z=function(e){let{onMaxTimeChange:t,minutes:n,seconds:r}=e;const o=[n,r];function i(e,n){const a=[...o];a[n]=e,e=function(e){const t=Number(e[0])||0;return 1e3*(Number(e[1])||0)+60*t*1e3}(a),t&&t(e)}return a.createElement("div",{className:"pickerContainer rounded rounded2"},a.createElement(R.Z,{value:o[0],initialValue:0,minValue:0,maxValue:60,callback:e=>{i(e,0)}}),a.createElement("div",{className:"maxTimePickerContainer--separator"},"m"),a.createElement(R.Z,{value:o[1],initialValue:0,minValue:0,maxValue:60,callback:e=>{i(e,1)}}),a.createElement("div",{className:"maxTimePickerContainer--separator"},"s"))};var F=n(5103);const D=function(e){let{onMaxTimeChange:t,onMaxPointsChange:n,showTimePicker:r,time:o,points:s}=e;const{t:l}=(0,i.$)(["main"]),c=F.default.millisToTime(o);let u=a.createElement(a.Fragment,null);return r&&(u=a.createElement(a.Fragment,null,a.createElement("p",null,l("content.maxTimeText1")),a.createElement(z,{onMaxTimeChange:t,onMaxPointsChange:n,minutes:c.m,seconds:c.s,millis:c.mm}))),a.createElement("div",null,u,a.createElement("p",null,l("content.maxTimeText2")),a.createElement("div",{className:"pickerContainer rounded rounded2"},a.createElement(R.Z,{value:s,minValue:0,initialValue:0,callback:e=>{n(e)}})))},L=function(e){let{onZonesChange:t,value:n=1}=e;const{t:r}=(0,i.$)(["main"]);return a.createElement("div",null,a.createElement("p",null,r("content.seleccionZonas"),":"),a.createElement("div",{className:"pickerContainer rounded rounded2"},a.createElement(R.Z,{value:n,minValue:1,maxValue:40,callback:e=>{t(e)},initialValue:1})))},V=function(e){let{onGroupsChange:t,value:n,minValue:r,maxValue:o}=e;const{t:s}=(0,i.$)(["main"]);return G.isOffline?a.createElement(a.Fragment,null):a.createElement("div",null,a.createElement("p",null,s("content.selecciongrupos"),":"),a.createElement("div",{className:"pickerContainer horizontalScrollContainer rounded rounded2"},a.createElement(R.Z,{minValue:r||1,maxValue:o||10,value:n,callback:e=>{t(e)},initialValue:1})))},B=function(e){let{onGatesChange:t,zones:n,value:r,minValue:o,maxValue:s}=e;const{t:l}=(0,i.$)(["main"]),c=[];for(let e=0;e<n;e++)c.push(a.createElement("div",{key:"pickerContainer".concat(e)},a.createElement("div",{key:e,className:"zoneName"},l("description.zona")," ",e+1,":"),a.createElement("br",{key:"br".concat(e)}),a.createElement(R.Z,{key:"picker".concat(e),minValue:o||1,maxValue:s||40,value:r,callback:n=>{t(n,e)},initialValue:1})));return a.createElement("div",null,a.createElement("p",null,l("content.seleccionPuertas"),":"),a.createElement("div",{className:"gatesPickerContainer pickerContainer horizontalScrollContainer rounded rounded2"},c))};var Y=n(98695),$=n(81683),K=n(77230),J=n.n(K),q=n(19850),W=n.n(q),H=n(46274),Q={};Q.styleTagTransform=v(),Q.setAttributes=g(),Q.insert=d().bind(null,"head"),Q.domAPI=u(),Q.insertStyleElement=E(),l()(H.Z,Q),H.Z&&H.Z.locals&&H.Z.locals;const X=function(e){let{preconfiguredGame:t,onGameCreated:n}=e;const{t:s}=(0,i.$)(["main"]),l=[],{isUserLoged:c}=a.useContext($.Y);if(a.useEffect((()=>{k.default.pageview("/gameconfigurator")}),[]),!c&&!G.isOffline)return a.createElement(r.Fg,{state:{from:"/gameconfigurator"},to:{pathname:"/"}});const[u,m,d,p,g,f,E,h,v,T,y,x,_,P,C,S,w]=W()({preconfiguredGame:t,onGameCreated:n});return l.push(a.createElement(D,{key:0,mode:u.pointsType,onMaxPointsChange:h,onMaxTimeChange:v,time:u.maxTime,points:u.maxPoints,showTimePicker:!0})),u.gameType!==o.GAME_TYPE_KING&&(l.push(a.createElement(L,{key:1,game:u,value:u.zones,onZonesChange:T,onGatesChange:y,onMaxPointsChange:h,onMaxTimeChange:v})),l.push(a.createElement(B,{key:2,zones:u.zones,value:10,onGatesChange:y})),l.push(a.createElement(V,{key:3,onGroupsChange:_,value:1,minValue:1,maxValue:10})),G.isOffline||l.push(a.createElement(j,{key:4,isForJudge:!0,maxGroups:d,inPlayers:u.judges,gameName:u.name,onGameDirectorChange:C,onPlayerNumerChange:f}))),a.createElement(a.Fragment,null,a.createElement(Y.default,{message:m}),a.createElement("div",{className:"newGameContainer rounded rounded1"},a.createElement("div",{className:"newGame"},a.createElement("div",{className:"headerText bold"},s("description.nuevaPartida")),a.createElement("div",{className:"newGameRow"},a.createElement("span",{className:""},s("description.nombre")),": ",a.createElement("input",{value:u.name,className:"newGameNameInput",type:"text",onChange:x})),a.createElement("div",{className:"newGameRow"},a.createElement("span",{className:""},s("description.fecha")),": ",u.date.toLocaleString()),a.createElement("div",{className:"newGameRow"},a.createElement("span",{className:""},s("description.esPublica")),": ",a.createElement("input",{type:"checkbox",checked:u.isPublic,onChange:P})),a.createElement("div",{className:"newGameRow"},a.createElement("span",{className:""},s("description.localizacion")),":",a.createElement(J(),{onLocationResolved:g})))),a.createElement(b,{selectedGameType:u.gameType,selectedPointsType:u.pointsType,onGameTypeChange:e=>{p(e)}}),l,a.createElement(j,{gameName:u.name,isForJudge:!1,inPlayers:u.players,maxGroups:d,onPlayerNumerChange:e=>{E&&E(e)}}),a.createElement("input",{type:"checkbox",onChange:S}),s("description.ordenRamdomJugadores"),a.createElement("p",null,a.createElement("button",{className:"importantNote",onClick:()=>{w(d,u)}},s("description.crearjuego")),a.createElement("button",{onClick:()=>{window.location.reload()}},s("description.atras"))))}},56689:(e,t,n)=>{n.d(t,{Z:()=>q});var a=n(9226),r=n(26793),o=n(82232),i=n.n(o),s=n(85382),l=n.n(s),c=n(42742),u=n(87165),m=n(29525),d=n(75607),p=n.n(d),g=n(5368),f=n(93379),E=n.n(f),h=n(7795),v=n.n(h),T=n(90569),y=n.n(T),b=n(3565),x=n.n(b),_=n(19216),P=n.n(_),G=n(44589),C=n.n(G),S=n(53304),w={};w.styleTagTransform=C(),w.setAttributes=x(),w.insert=y().bind(null,"head"),w.domAPI=v(),w.insertStyleElement=P(),E()(S.Z,w),S.Z&&S.Z.locals&&S.Z.locals;const A=function(e){let{onGameEnd:t}=e;const{t:n}=(0,r.$)(["main"]);let o=[];const[i,s,l]=p()({onGameEnd:t}),d=i.game;o.push(a.createElement(u.default,{key:"tmC",courtesyTime:0,startTime:0,label:n("description.tiempo"),maxTime:d.maxTime})),o.push(a.createElement("div",{key:0},n("description.ordenruta"),":"));for(let e=0;e<d.players.length;e++){let t="";m.GameUtils.isPointsFiasco(d,i.order[e].zones[0])&&(t="blink foreColorRed"),o.push(a.createElement("div",{key:e+1},a.createElement("div",{className:"controlTextContainerQueue rounded bold ".concat(t)},i.order[e].name,": ",i.order[e].zones[0].totalPoints," ptos")))}o.push(a.createElement("p",{key:d.players.length+1},n("description.puntos").toUpperCase(),":"));for(let e=0;e<d.players.length;e++){let t,r=d.players[e],i=r.zones[0];o.push(a.createElement("div",{key:d.players.length+e+2,className:"playerInfo"},a.createElement("div",{className:"headerPlayer importantNote rounded2 rounded"},a.createElement("div",{className:"bold"},r.name),n("description.total"),": ",i.totalPoints,t),a.createElement("div",{className:"controlTextContainer rounded rounded1"},(0,c.Z)({controlTextValuesString:"controlTextValues",steps:g.KingGameScores.steps,maxValues:g.KingGameScores.maxValues,texts:g.KingGameScores.texts,zone:0,player:e,onValueChange:s}))))}return o.push(a.createElement("button",{key:2*d.players.length+2,className:"importantNote",onClick:l},n("description.fin"))),a.createElement("div",{key:2*d.players.length+3,className:"gameContainer"},o)};var N=n(35456),M=n.n(N),k=n(85901),O=n.n(k),I=n(63518),j=n.n(I),R=n(2460),Z=n.n(R),U=n(93897),z={};z.styleTagTransform=C(),z.setAttributes=x(),z.insert=y().bind(null,"head"),z.domAPI=v(),z.insertStyleElement=P(),E()(U.Z,z),U.Z&&U.Z.locals&&U.Z.locals;const F=function(e){let{children:t,onGameEnd:n,onRepair:o,playerIndex:i,zoneIndex:s}=e;const{t:l}=(0,r.$)(["main"]),c=[],[u,m,d,p,g,f,E,h,v,T]=M()(n,o,i,s),y=u.game,b=y.players[i],x=b.zones[s];return t.length&&(c.push(a.cloneElement(t[0],{onValueChange:d})),t[2]?(c.push(a.cloneElement(t[1],{onValueChange:E})),c.push(a.cloneElement(t[2]))):c.push(a.cloneElement(t[1])),t[3]&&c.push(a.cloneElement(t[3]))),a.createElement("div",{className:"gameContainer"},a.createElement(O(),{playerIndex:i,zoneIndex:s}),a.createElement(j(),{playerZone:x,forceAction:u.forceAction,setRepairStatus:T,onTimerChange:m,onTimeFiasco:v,onPointBecauseLastMinute:h}),a.createElement(Z(),{playerIndex:i,zoneIndex:s,onGateProgressionChange:f}),a.createElement("div",{className:"controlTextContainer rounded rounded2"},c[2],x.gateProgression<y.gates[s]?c[0]:a.createElement(a.Fragment,null),x.gateProgression<y.gates[s]?c[1]:a.createElement(a.Fragment,null)),c[3],a.createElement("button",{onClick:p,className:"resetButton"},l("description.reset")),a.createElement("button",{className:"importantNote",onClick:()=>{g()}},l("description.finjugador")," (",b.name,")"),a.createElement("p",null))};var D=n(25082);const L=function(e){let{game:t,player:n,zone:r,onGameEnd:o,onRepair:i,gameExtras:s,children:l}=e;const[c,u]=a.useState(t),m=[];return a.useEffect((()=>{s.doPageView()}),[]),1!==c.gameType?m.push(a.createElement(F,{key:1,onGameEnd:e=>{o(e)},onRepair:i,playerIndex:n,zoneIndex:r},l)):m.push(a.createElement(A,{key:0,onGameEnd:e=>{o(e)},onRepair:i})),a.createElement(D.GameContext.Provider,{value:{game:c,setGame:u,gameExtras:s}},m)};var V=n(98493),B=n(8697),Y=n(96281),$=n.n(Y),K=n(34418),J={};J.styleTagTransform=C(),J.setAttributes=x(),J.insert=y().bind(null,"head"),J.domAPI=v(),J.insertStyleElement=P(),E()(K.Z,J),K.Z&&K.Z.locals&&K.Z.locals;const q=function(e){let{inGame:t,onBackButtonClick:n}=e,o=a.createElement(a.Fragment,null);const{t:s}=(0,r.$)(["main"]),c=i().getGameExtras(t.gameType),[u,d,p,g,f,E,h,v,T,y]=$()(t,c),b=i().getGameContent(d.gameType,f.id,E),[x]=a.useState((()=>i().getGroupFromJid(d,window.crawlear.user.uid)));return u===Y.GAME_STATUS_CREATED?o=d.gameType===m.GAME_TYPE_KING?a.createElement(L,{game:d,onGameEnd:T,gameExtras:c}):a.createElement(V.GameProgressionContext.Provider,{value:[p,g]},a.createElement(l(),{game:d,gameProgression:p,jidGroup:x,onBeginGame:h,onBackButtonClick:n,onCloseButonClick:v})):u===Y.GAME_STATUS_PLAYING?o=a.createElement(L,{player:f.id,zone:E,game:d,gameExtras:c,onGameEnd:T,onRepair:y},b):u===Y.GAME_STATUS_FINISHED&&(o=a.createElement("div",{className:"gameList"},a.createElement(B.default,{game:d}),a.createElement("button",{className:"backButton",onClick:n},s("description.atras")))),o}},51923:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(9226),r=n(5351),o=n.n(r),i=n(82639);const s=function(){const[e,t]=a.useState(0),[n,r]=a.useState({}),s=new(o()),l=new i.default;function c(e){r(e),t(1),s.listenMessages(i.MSG_START,u),s.listenMessages(i.MSG_STOP,m),s.listenMessages(i.MSG_TIME,d),s.listenMessages(i.MSG_POINTS,p),s.listenMessages(i.MSG_GATES,g)}function u(){l.sendStart()}function m(){l.sendStop()}function d(e){l.sendTime(e.detail)}function p(e){l.sendPoints(e.detail)}function g(e){l.sendGates(e.detail)}return 0===e?a.createElement("div",{className:"controlText",onClick:function(){l.discoverDevice(c)}},"Discover Bluetooth Device"):a.createElement("div",{className:"controlText"},n.name)}},55495:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(9226),r=n(26793),o=n(29525);const i=function(e){let{game:t,playerName:n,fromName:i,zone:s}=e;const{t:l}=(0,r.$)(["main"]),c=window.crawlear.fb,u=[],m=t.gid,d=[],[p,g]=a.useState({});function f(e,t){if("pending"===e.status){const n={...p};n[t]=e,g(n)}else if("accepted"===e.status){const e={...p};delete e[t],g(e)}}return m&&n&&i&&s>=0&&!o.GameUtils.isCurrentUserIsOwner(t.owner)&&0===Object.entries(p).length&&u.push(a.createElement("button",{onClick:function(){window.confirm(l("content.quieresenviarpeticiondepresencia"))&&c.setDirectorPresenceRequest(m,s,n,i,f)}},l("description.reclamarpresencia"))),Object.keys(p).forEach(((e,t)=>{d.push(a.createElement("div",null,p[e].status))})),a.createElement("div",{className:"presenceButtonContainer"},u,d)}},57124:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var a=n(9226),r=n(26793),o=n(87165),i=n(93379),s=n.n(i),l=n(7795),c=n.n(l),u=n(90569),m=n.n(u),d=n(3565),p=n.n(d),g=n(19216),f=n.n(g),E=n(44589),h=n.n(E),v=n(56040),T={};T.styleTagTransform=h(),T.setAttributes=p(),T.insert=m().bind(null,"head"),T.domAPI=c(),T.insertStyleElement=f(),s()(v.Z,T),v.Z&&v.Z.locals&&v.Z.locals;const y=function(e){let{onTimeFiasco:t,onRepairTimerChange:n}=e;const{t:i}=(0,r.$)(["main"]);return a.createElement("div",{className:"repairTimeContainer"},a.createElement(o.default,{courtesyTime:0,label:i("points.reparacion"),onTimeFiasco:t,onTimerChange:n,maxTime:18e5}))};var b=n(27969),x={};x.styleTagTransform=h(),x.setAttributes=p(),x.insert=m().bind(null,"head"),x.domAPI=c(),x.insertStyleElement=f(),s()(b.Z,x),b.Z&&b.Z.locals&&b.Z.locals;const _=function(e){let{gameProgression:t,game:n,onRepairEnd:o}=e;const{t:i}=(0,r.$)(["main"]),s=[];return t&&Object.entries(t).forEach(((e,t)=>{Object.entries(e[1]).forEach(((r,l)=>{Object.entries(r[1]).forEach(((l,c)=>{if("repair"===l[1].status){const u=new Date(l[1].repairData.setTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});s.push(a.createElement("div",{key:c+t,className:"repairProgressionItem rounded rounded2"},a.createElement("div",{className:"repairProgressionItemHead"},a.createElement("img",{src:n.players[r[0]].avatar,alt:"player avatar"}),a.createElement("span",{className:"repairProgressionItemZone"},i("description.zona"),": ",c+1),a.createElement("span",{className:"gameProgressionItemHour"},i("description.enreparaciondesde")," ",u)),a.createElement(y,null),a.createElement("button",{onClick:()=>{!function(e,t,n,a,r){window.confirm(i("content.finalizarreparacion"))&&o&&o(e,t,n,a,r)}(n.gid,n.players[[r[0]]].id,e[0],c,l[1])},className:"importantNote"},i("description.fin"))))}}))}))})),a.createElement("div",{className:"repairProgressionContainer"},s.length?s:i("description.nohayreparaciones"))}},87165:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var a=n(9226),r=n(26793),o=n(77721),i=n(5103),s=n(5351),l=n.n(s),c=n(82639),u=n(93379),m=n.n(u),d=n(7795),p=n.n(d),g=n(90569),f=n.n(g),E=n(3565),h=n.n(E),v=n(19216),T=n.n(v),y=n(44589),b=n.n(y),x=n(7174),_={};_.styleTagTransform=b(),_.setAttributes=h(),_.insert=f().bind(null,"head"),_.domAPI=p(),_.insertStyleElement=T(),m()(x.Z,_),x.Z&&x.Z.locals&&x.Z.locals;const P="play",G="pause",C="stop",S=function(e){let{startTime:t,forceAction:n,label:s,onTimerChange:u,courtesyTime:m,maxTime:d,onPointBecauseLastMinute:p,onTimeFiasco:g}=e;const{t:f}=(0,r.$)(["main"]),E=a.useRef(null),h=a.useRef(t||0),v=new(l()),[T,y]=a.useState((()=>({millis:t||0,timer:null,maxTime:d,state:G,timeStart:Date.now()}))),b=i.default.millisToTime(T.millis);function x(){h.current=0,T.timer&&clearInterval(T.timer),E.current.classList.remove("blink"),y({maxTime:T.maxTime,millis:0,timer:null,state:C}),u&&u(h.current),E.current.classList.contains("play")&&E.current.classList.toggle("play")}function _(){E.current.classList.toggle("play"),T.state===G||T.state===C?(T.state=P,o.default.event("play","timePlay",""),E.current.classList.remove("blink")):(T.state=G,o.default.event("play","timePause","")),y((e=>({...e,state:T.state})))}return a.useEffect((()=>{n===C&&x(),n===G&&T.state===P&&_()}),[n]),a.useEffect((()=>{const e={...T};e.state===P?(e.timer&&clearInterval(e.timer),e.millis=h.current,e.timer=setInterval((()=>{!function(e){h.current<e.maxTime?(h.current=Date.now()-e.timeStart+e.millis,u&&u(h.current),y((e=>({...e,millis:h.current}))),Date.now()%2==0&&v.sendMessage(c.MSG_TIME,i.default.printTime(i.default.millisToTime(h.current)))):p&&e.maxTime>0&&h.current>=e.maxTime&&h.current<e.maxTime+m||0===e.maxTime?(h.current=Date.now()-e.timeStart,u&&u(h.current),y((e=>({...e,millis:h.current}))),e.maxTime>0&&!E.current.classList.contains("blink")&&E.current.classList.add("blink"),e.maxTime>0&&(e.maxTime+h.current)%1e4==0&&p()):(E.current.classList.toggle("blink"),E.current.classList.toggle("foreColorRed"),_(),g&&g())}(e)}),10),e.timeStart=Date.now(),v.sendMessage(c.MSG_START,{}),y((t=>({...t,...e})))):e.state===G?(e.timer&&clearInterval(T.timer),e.timer=null,v.sendMessage(c.MSG_STOP,{}),y((t=>({...t,...e})))):(e.millis=0,h.current=0,e.timer&&clearInterval(T.timer),e.timer=null,v.sendMessage(c.MSG_STOP,{}),y((t=>({...t,...e})))),v.sendMessage(c.MSG_TIME,i.default.printTime(i.default.millisToTime(h.current)))}),[T.state]),a.createElement("div",{ref:E,className:"timerContainer"},a.createElement("div",{className:"timerLabel"},(s||f("description.tiempo")).toUpperCase(),":"),a.createElement("div",{className:"timer"},i.default.printTime(b)),a.createElement("button",{className:"timerPlayButton",onClick:_}),a.createElement("button",{onClick:x,className:"resetButton"}))}},11569:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G,isOffline:()=>P});var a=n(9226),r=n(26793),o=n(12381),i=n(56689),s=n(29525),l=n(64491),c=n(93379),u=n.n(c),m=n(7795),d=n.n(m),p=n(90569),g=n.n(p),f=n(3565),E=n.n(f),h=n(19216),v=n.n(h),T=n(44589),y=n.n(T),b=n(59484),x={};x.styleTagTransform=y(),x.setAttributes=E(),x.insert=g().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=v(),u()(b.Z,x),b.Z&&b.Z.locals&&b.Z.locals;const _=window.document.body,P=!navigator.onLine,G=function(){const{t:e}=(0,r.$)(["main"]),[t,n]=a.useState(3),[c,u]=a.useState(null);return a.useEffect((()=>{_.classList.add("offline"),window.crawlear=window.crawlear||{},window.crawlear.user={uid:s.OFFLINE_USER_UID}}),[]),0===t?a.createElement(o.default,{onGameCreated:function(e){u(e),n(1)}}):1===t?a.createElement(i.Z,{inGame:c,onBackButtonClick:function(){n(3)}}):a.createElement(a.Fragment,null,a.createElement(l.Z,null),a.createElement("div",{className:"errorBoxContainer offlineContainer"},e("content.offlineMainText")),a.createElement("button",{onClick:function(){n(0)},className:"importantNote"},e("description.crearoffline")))}},64491:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(9226),r=n(26793),o=n(13385),i=n(93379),s=n.n(i),l=n(7795),c=n.n(l),u=n(90569),m=n.n(u),d=n(3565),p=n.n(d),g=n(19216),f=n.n(g),E=n(44589),h=n.n(E),v=n(8380),T={};T.styleTagTransform=h(),T.setAttributes=p(),T.insert=m().bind(null,"head"),T.domAPI=c(),T.insertStyleElement=f(),s()(v.Z,T),v.Z&&v.Z.locals&&v.Z.locals;const y=function(){const{t:e}=(0,r.$)(["main"]);return a.createElement("div",{className:"aboutUsContent"},a.createElement("figure",{className:"logoImg"},a.createElement("img",{width:234,height:168,alt:"crawlear logo",src:o})),a.createElement("p",null,a.createElement("b",null,"crawlear.com")," ",e("content.welcomeMessage")),a.createElement("p",null,e("content.welcomeMessage2")))}},46274:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".gatesPickerContainer .picker,.gatesPickerContainer .zoneName{margin:0 15px}",""]);const s=i},88076:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".gameType{margin:25px 0}.gameSelectText{line-height:1.5;font-size:16px;padding:25px;text-align:left;margin-bottom:15px;text-align:justify}",""]);const s=i},42929:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".pickerContainer{display:flex;font-size:18px;padding:15px;margin:15px}.maxTimePickerContainer--separator{max-width:40px;height:112px;line-height:112px}",""]);const s=i},72504:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".players{margin-bottom:25px;padding-bottom:15px}.playersList{margin:10px;padding:0}.playerListItem{margin-bottom:10px;line-height:42px;text-align:right;padding-right:10px}",""]);const s=i},14305:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".playerListItem.closed{width:auto;height:155px;overflow:hidden}.pickerContainer.handicapBox{margin:5px;padding:25px}.playerBox .textOverflow{max-width:190px;display:inline-block}.playerBox button{float:right}.handicapBox .handicapLabel{width:50%;text-align:center;line-height:6}.textOverflow{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}",""]);const s=i},58731:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".userSearchContainer img{margin:5px 0 5px 5px}.userSearchContainer .userSearchResultsText{margin-bottom:15px}.userSearchContainer .userSearchText{padding:25px}.userSearchContainer .resultsContainer{border:1px solid;width:85%;border-radius:14px;padding:15px;margin-top:15px}.userSearchContainer .resultsContainer .userSearchItem{text-align:right}.userSearchContainer .resultsContainer .userSearchItem .userSearchResult{max-width:230px;display:block;float:left}.userSearchContainer .resultsContainer .userSearchItem button{float:left;margin:0 0 0 5px}.userSearchContainer .resultsContainer:empty{border:0px solid}",""]);const s=i},93897:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".totalValue{font-size:26px}.totalTimeContainer{margin:10px;padding:10px;font-size:.8em}.repairButton{display:block;margin:10px auto}.generic .gateProgressionContainer{width:26%;float:left;margin:0 10px 0 10px}.generic .gatePoints{padding:0px;width:18px}.generic .controlTextText{width:auto}.gateProgressionContainer .buttonControlTextPlus,.gateProgressionContainer .buttonControlTextMinus{width:35px;height:35px}.gatesContainer{margin:10px;padding:10px;font-size:.8em}.player{padding-bottom:10px}.pointsText{display:inline-block}.fiascoBox{font-size:17px;width:65px;padding:10px;float:left;margin:10px}.fiascoBox .importantNote{margin-bottom:15px}.info{font-size:.8em}.controlTextContainer .timerContainer{float:none;margin:0 auto}",""]);const s=i},34418:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".gameProgressionItem{padding:15px;font-size:.7em;display:flex;margin-bottom:10px}.gameProgressionItem img{display:block;max-width:90px;max-height:45px;width:auto;height:auto;border-radius:15px}.gameProgressionItem .rounded{background-image:none;margin:8px;box-shadow:none}.tendJudgeContainer{margin-top:15px}.directorContainer{margin-bottom:15px}.directorGroup{background-color:green;color:#fff;border-radius:8px;padding:3px;font-size:.8em;margin-right:5px}.directorZone{margin:5px 0}.gatePoints{padding:5px;border-radius:15px;color:#fff}",""]);const s=i},53304:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".controlTextContainerQueue{background-color:#ffa602;border-radius:15px;margin:10px;font-size:15px;padding:5px}",""]);const s=i},27969:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".repairProgressionContainer{margin:25px}.repairProgressionItem{margin:10px}.repairProgressionItem .repairProgressionItemHead{font-size:.8em}.repairProgressionItem .repairProgressionItemHead{text-align:left}.repairProgressionItem img{border-radius:15px;margin-right:15px;display:inline-block;max-width:40px}.repairProgressionItem .timerContainer{margin:0 auto;width:100%}.gameProgressionItemHour{margin:0 10px}",""]);const s=i},56040:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".repairTimerContainer .timerContainer{padding:0}",""]);const s=i},7174:(e,t,n)=>{n.d(t,{Z:()=>E});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o),s=n(61667),l=n.n(s),c=new URL(n(63442),n.b),u=new URL(n(95019),n.b),m=new URL(n(21926),n.b),d=i()(r()),p=l()(c),g=l()(u),f=l()(m);d.push([e.id,`.timerContainer{font-size:.8em;width:43%;margin:0 auto}.timerContainer button{width:36px;height:48px;background-repeat:no-repeat;background-size:25px;background-position:center;margin:5px 11px}.timerContainer .timer{border:1px solid;border-radius:15px;max-width:163px;margin:0 auto}.timerContainer .timerPlayButton{background-image:url(${p})}.timerContainer .resetButton{background-image:url(${g})}.timerContainer.play .timerPlayButton{background-image:url(${f})}`,""]);const E=d},38639:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".rc-slider{width:80%;height:47px;margin:15px auto}.generic .rc-slider{height:61px;width:61%;min-height:325px;margin:15px auto}.rc-slider-rail{background-color:#333}.rc-slider-track{background-color:#aaa}.rc-slider-dot{border-color:#666}.rc-slider-handle,.rc-slider-dot.rc-slider-dot-active{border-color:#fff;border-top-left-radius:0px;border-bottom-left-radius:0px;border-top-right-radius:75px;border-bottom-right-radius:75px}.rc-slider-mark-text{color:#000;padding-bottom:50%}body.lightMode .rc-slider-handle{background-color:#333}body.lightMode .rc-slider-rail{background-color:#333}body.lightMode .rc-slider-track{background-color:#aaa}body.lightMode .rc-slider-dot{border-color:#666}",""]);const s=i},8380:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".contentImg{margin:0;padding:0;width:100%}.logoImg{margin:auto;padding:15px;width:50%}.video-responsive{overflow:hidden;padding-bottom:56.25%;position:relative;height:0}.video-responsive iframe{left:0;top:0;height:100%;width:100%;position:absolute}",""]);const s=i},59484:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,"body.offline .offlineContainer{width:95%;margin:10px auto;padding:15px;text-decoration:underline}",""]);const s=i},56783:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(8081),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".directorRequestContainer{margin-top:15px;border:1px solid red;border-radius:15px}",""]);const s=i},332:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(93379),r=n.n(a),o=n(7795),i=n.n(o),s=n(90569),l=n.n(s),c=n(3565),u=n.n(c),m=n(19216),d=n.n(m),p=n(44589),g=n.n(p),f=n(38639),E={};E.styleTagTransform=g(),E.setAttributes=u(),E.insert=l().bind(null,"head"),E.domAPI=i(),E.insertStyleElement=d(),r()(f.Z,E);const h=f.Z&&f.Z.locals?f.Z.locals:void 0},5351:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(52518)),o=function(){function e(){this.container=document.querySelector(".AppMainContainer")}return e.prototype.listenMessages=function(e,t){r.default.listenEvent(this.container,e,t)},e.prototype.sendMessage=function(e,t){r.default.sendEvent(this.container,e,t)},e}();t.default=o},52518:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n={listenEvent:function(e,t,n){e.addEventListener(t,n)},sendEvent:function(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:n}))}};t.default=n},45658:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(32181),r=n(56573),o=n(75793),i=n(38690),s=n(5368),l=n(42274),c=n(53177),u=n(29525),m={getMaxTimeAndPointsFromGameType:function(e){var t=0,n=0;switch(e){case u.GAME_TYPE_AECAR:t=a.AecarGameScores.maxPoints,n=a.AecarGameScores.maxTime;break;case u.GAME_TYPE_KING:t=s.KingGameScores.maxPoints,n=s.KingGameScores.maxTime;break;case u.GAME_TYPE_ISRCC:t=r.IsrccGameScores.maxPoints,n=r.IsrccGameScores.maxTime;break;case u.GAME_TYPE_LEVANTE:t=o.Levante124GameScores.maxPoints,n=o.Levante124GameScores.maxTime;break;case u.GAME_TYPE_COPAESPANA:t=i.RegionalZonaRcGameScores.maxPoints,n=i.RegionalZonaRcGameScores.maxTime;break;case u.GAME_TYPE_MINICRAWLERPASSION:t=l.MiniCrawlerPassionGameScores.maxPoints,n=l.MiniCrawlerPassionGameScores.maxTime;break;case u.GAME_TYPE_GENERIC:t=c.GenericGameScores.maxPoints,n=c.GenericGameScores.maxTime;break;default:t=0,n=0}return[n,t]}};t.default=m},77230:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=i(n(83172)),c=i(n(5103)),u=n(62936);t.default=function(e){var t,n=e.onLocationResolved,a=s.useState(0),r=a[0],o=a[1],i=s.useState({latitude:0,longitude:0}),m=i[0],d=i[1],p=(0,u.useTranslation)(["main"]).t;return navigator.geolocation?0===r?t=s.createElement("a",{className:"bold",href:"https://crawlear.com",onClick:function(e){e.preventDefault(),navigator.geolocation?(o(2),navigator.geolocation.getCurrentPosition((function(e){var t={latitude:e.coords.latitude,longitude:e.coords.longitude};n(t),o(1),d(t)}),(function(){n({}),o(0)}))):o(0)}},p("description.obtener")):2===r?t=s.createElement(l.default,null):1===r&&(t=s.createElement(s.Fragment,null,s.createElement("span",null,"(","".concat(m.latitude,",").concat(m.longitude),")"),s.createElement("a",{href:c.default.getMapsURL(m.latitude,m.longitude),rel:"noreferrer",target:"_blank"},p("description.vergooglemaps")))):t=s.createElement("div",{className:""},p("content.nogeolocation")),t}},19850:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(n(9226)),u=n(29525),m=n(29525),d=l(n(45658)),p=n(11569),g=n(79655),f=n(62936),E=l(n(77721)),h=l(n(5103));t.default=function(e){var t=e.preconfiguredGame,n=e.onGameCreated,r=c.useState((function(){var e=t||new u.Game("",(new Date).toLocaleDateString(),{latitude:0,longitude:0},!0,m.GAME_TYPE_LEVANTE,[],[],6e5,40,new Array(1).fill(10),1,0,[],[],[]);return e.date=(new Date).toLocaleDateString(),e})),o=r[0],i=r[1],l=(0,g.useNavigate)(),v=c.useState(""),T=v[0],y=v[1],b=c.useState(!1),x=b[0],_=b[1],P=c.useState(1),G=P[0],C=P[1],S=(0,f.useTranslation)(["main"]).t,w=window.crawlear.fb;function A(e){var t=a({},o),n="addJudge";o.judges.length>e.length&&(n="removeJudge"),E.default.event("menu",n,e.length),t.judges=s([],e,!0),p.isOffline&&!t.owner.length&&t.owner.push(m.OFFLINE_USER_UID),i(t),y("")}return c.useEffect((function(){window.scrollTo(0,0),p.isOffline&&A([u.OfflinePlayer])}),[]),[o,T,G,function(e){var t,n=a({},o);E.default.event("menu","playModeChange",e),n.gameType=e,t=d.default.getMaxTimeAndPointsFromGameType(n.gameType),n.maxTime=t[0],n.maxPoints=t[1],i(n)},function(e){if(e.latitude&&e.longitude){var t=a({},o);t.location=e,i(t)}else y(S("error.nogeolocation"))},A,function(e){var t=a({},o),n="addPlayer";o.players.length>e.length&&(n="removePlayer"),E.default.event("menu",n,e.length),t.players=s([],e,!0),i(t),y("")},function(e){var t=a({},o);E.default.event("menu","maxPointsSet",e),t.maxPoints=e,i(t)},function(e){var t=a({},o);t.maxTime=e,E.default.event("menu","maxTimeSet",e),i(t)},function(e){var t=a({},o);o.zones<e?t.gates.push(10):t.gates.pop(),t.zones=e,E.default.event("menu","zonesSet",e),i(t)},function(e,t){var n=a({},o);n.gates[t]=e,E.default.event("menu","gateSet",e),i(n)},function(e){var t=a({},o),n=e.target.value;n&&(t.name=n,i(t),y(""))},function(e){C(e)},function(e){var t=a({},o);t.isPublic=e.target.value,i(t)},function(e,t){var n=o.judges[e].uid,r=a({},o);if(t&&!r.owner.find((function(e){return e===n})))r.owner.push(n),i(r);else if(!t&&r.owner.find((function(e){return e===n}))){var s=r.owner.indexOf(n);r.owner.splice(s,1),i(r)}},function(e){var t=e.target.checked;_(t)},function(e,t){var r=function(e,t){for(var n=new Array(e).fill(0),a=0;a<t.players.length;a++)n[t.players[a].group]++;return void 0===n.find((function(e){return 0===e}))}(e,t);if(window.scrollTo(0,0),t.name&&t.name.length)if(r)if(t.judges.length||t.gameType===m.GAME_TYPE_KING)if(t.players.length)if(t.gameType===m.GAME_TYPE_KING||t.owner.length){if(t.gameType!==m.GAME_TYPE_KING&&r||t.gameType===m.GAME_TYPE_KING){var o=a({},t);t.gameType===m.GAME_TYPE_KING&&(o.judges.push(a({},window.crawlear.user)),o.zones=1,o.gates=new Array(1).fill(1)),o.uids=h.default.getUidsFromUsers(o.players),o.jids=h.default.getUidsFromUsers(o.judges),x&&function(e){if(e.players.length){var t=s([],e.players,!0);t=t.sort((function(e,t){return Math.random()-.5})),e.players=t,u.GameUtils.redoPlayersIds(e)}}(o),u.GameUtils.init(o,u.GameUtils.getGameTypeControlTextValuesInit(o.gameType),u.GameUtils.getGameTypeFiascoControlTextValuesInit(o.gameType),!0),p.isOffline&&n?n(o):w.setGame(o,(function(e){o.gid=e.gid,w.createGameProgression(o),i(o),l("/game")}),(function(){}))}}else y(S("error.nodirectordepartida"));else y(S("error.nojugadores"));else y(S("error.nojueces"));else y(S("error.rellenargrupos"));else y(S("error.nonombre"))}]}},82639:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MSG_TIME=t.MSG_STOP=t.MSG_START=t.MSG_POINTS=t.MSG_GATES=void 0,t.MSG_GATES="BT_GATES",t.MSG_POINTS="BT_POINTS",t.MSG_START="BT_START",t.MSG_STOP="BT_STOP",t.MSG_TIME="BT_TIME";var n=function(){function e(){this.device={},this.timeCharacteristic={},this.timeValueCharacteristic={},this.pointsCharacteristic={},this.gatesCharacteristic={}}return e.prototype.discoverDevice=function(e){var t=this;navigator.bluetooth.requestDevice({filters:[{name:"CrawlearBluetoothDevice"},{services:["3feb1e8a-3981-4045-ad39-b225135013a0"]}]}).then((function(n){return t.device=n,e&&e(n),n.gatt&&n.gatt.connect()})).then((function(e){return e&&e.getPrimaryService("3feb1e8a-3981-4045-ad39-b225135013a0")})).then((function(e){var t=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b26a8"),n=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b1"),a=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b2"),r=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b3");return Promise.all([t,n,a,r])})).then((function(e){var n=e[0],a=e[1],r=e[2],o=e[3];t.timeCharacteristic=n,t.timeValueCharacteristic=a,t.pointsCharacteristic=r,t.gatesCharacteristic=o})).catch((function(e){console.error(e)}))},e.prototype.sendTime=function(e){this.timeValueCharacteristic&&this.timeValueCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendPoints=function(e){this.pointsCharacteristic&&this.pointsCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendGates=function(e){this.gatesCharacteristic&&this.gatesCharacteristic.writeValue((new TextEncoder).encode(e))},e.prototype.sendStart=function(){if(this.timeCharacteristic){var e=Uint8Array.of(1);this.timeCharacteristic.writeValue(e)}},e.prototype.sendStop=function(){if(this.timeCharacteristic){var e=Uint8Array.of(0);this.timeCharacteristic.writeValue(e)}},e}();t.default=n},82232:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_DONE=t.STATUS_REPAIR=t.STATUS_PLAYING=t.STATUS_WAITING=void 0;var r=n(29525),o=n(32181),i=n(56573),s=n(75793),l=n(38690),c=n(42274),u=n(53177),m=n(5368),d={isIndividualGame:function(e){return e.gameType===r.GAME_TYPE_KING},isGroupGameFinished:function(e,n,a){var r=!0;return!!d.isIndividualGame(e)||(Object.entries(n).forEach((function(e){Number(e[0])===a&&Object.entries(e[1]).forEach((function(e){Object.entries(e[1]).forEach((function(e){e[1].status!==t.STATUS_WAITING&&e[1].status!==t.STATUS_REPAIR&&e[1].status!==t.STATUS_PLAYING||(r=!1)}))}))})),r)},onRepairEnd:function(e,n,a,r,o){var i,s=null===(i=window.crawlear)||void 0===i?void 0:i.fb;o.status=t.STATUS_WAITING,delete o.repairData,s.setGameProgression(e,n,a,r,o)},updateGameFromProgression:function(e,t){var n=a({},t);return Object.entries(e).forEach((function(e){Object.entries(e[1]).forEach((function(t){t[1].data&&(n.players[e[0]].zones[t[0]]=t[1].data)}))})),n},getGroupFromJid:function(e,t){var n=e.judges.find((function(e){return e.uid===t}));return n?n.group:0},getGameExtras:function(e){var t;return e===r.GAME_TYPE_AECAR?t=o.gameExtras:e===r.GAME_TYPE_ISRCC?t=i.gameExtras:e===r.GAME_TYPE_LEVANTE?t=s.gameExtras:e===r.GAME_TYPE_COPAESPANA?t=l.gameExtras:e===r.GAME_TYPE_KING?t=m.gameExtras:e===r.GAME_TYPE_MINICRAWLERPASSION?t=c.gameExtras:e===r.GAME_TYPE_GENERIC&&(t=u.gameExtras),t},getGameContent:function(e,t,n){var a,m;return e===r.GAME_TYPE_AECAR?a=o.getGameContent:e===r.GAME_TYPE_ISRCC?a=i.getGameContent:e===r.GAME_TYPE_LEVANTE?a=s.getGameContent:e===r.GAME_TYPE_COPAESPANA?a=l.getGameContent:e===r.GAME_TYPE_KING||(e===r.GAME_TYPE_MINICRAWLERPASSION?a=c.getGameContent:e===r.GAME_TYPE_GENERIC&&(a=u.getGameContent)),a&&(m=a(t,n)),m}};t.STATUS_WAITING="waiting",t.STATUS_PLAYING="playing",t.STATUS_REPAIR="repair",t.STATUS_DONE="done",t.default=d},85382:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(62936),c=n(29525),u=i(n(55495)),m=i(n(57124)),d=i(n(65150)),p=i(n(16514)),g=i(n(98695)),f=i(n(82232)),E=i(n(7490));t.default=function(e){var t,n=e.game,a=e.jidGroup,r=e.onBeginGame,o=e.onBackButtonClick,i=e.onCloseButonClick,h=[],v=c.GameUtils.isCurrentUserIsOwner(n.owner),T=(0,l.useTranslation)(["main"]).t,y=(0,E.default)(r),b=y[0],x=y[1],_=y[2],P=y[3],G=y[4],C=y[5];if(v&&h.push(s.createElement("div",{key:"dP",className:"directorContainer rounded rounded3"},s.createElement("div",{className:"bold"},T("description.directordepartida")),s.createElement("br",null),s.createElement(d.default,{game:n,gameProgression:P}))),n.jids.find((function(e){return e===window.crawlear.user.uid}))){var S=s.createElement(s.Fragment,null);(b&&b.group===a||v)&&(S=s.createElement("button",{onClick:C,className:"playButton importantNote"},T("description.empezar"))),t=s.createElement(s.Fragment,null,T("description.jugadorseleccionado"),": ",b?b.name:""," ",s.createElement("br",null),T("description.zonaseleccionada"),": ",-1!==x?x+1:"",s.createElement("br",null),S,s.createElement(u.default,{game:n,zone:x,playerName:b&&b.name,fromName:window.crawlear.user.displayName}))}return s.createElement(s.Fragment,null,h,s.createElement(g.default,{message:_}),s.createElement("div",{className:"trackJudgeContainer rounded rounded3"},s.createElement("div",{className:"bold"},T("description.juezdepista")),s.createElement(p.default,{onZoneClick:G,game:n,jidGroup:a}),s.createElement(g.default,{message:_}),t),s.createElement("div",{className:"tendJudgeContainer rounded rounded3"},s.createElement("div",{className:"bold"},T("description.juezdecarpa")),s.createElement(m.default,{gameProgression:P,game:n,onRepairEnd:f.default.onRepairEnd})),s.createElement("button",{className:"backButton",onClick:o},T("description.atras")),c.GameUtils.isCurrentUserIsOwner(n.owner)&&f.default.isGroupGameFinished(n,P,a)?s.createElement("button",{className:"closeButton importantNote",onClick:function(){i(n)}},T("description.cerrarpartida")):s.createElement(s.Fragment,null))}},2460:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(9226)),s=o(n(83319)),l=n(62936),c=n(29525),u=n(25082);n(13541),n(332),t.default=function(e){var t=e.playerIndex,n=e.zoneIndex,a=e.onGateProgressionChange,r=(0,l.useTranslation)(["main"]).t,o=i.useContext(u.GameContext),m=o.game,d=o.gameExtras,p=(0,s.createSliderWithTooltip)(s.default);function g(e){var r="gatesPlusButton"===e.target.id,o=m.players[t].zones[n],i=m.gates[n];r?o.gateProgression<i&&a(o.gateProgression+1):o.gateProgression>0&&a(o.gateProgression-1)}var f=m.players[t].zones[n];return i.createElement("div",{className:"gateProgressionContainer controlTextContainer info rounded rounded2"},r("description.avancepuerta"),": ",f.gateProgression,i.createElement("button",{id:"gatesPlusButton",onClick:g,className:"buttonControlTextPlus"},"+"),i.createElement("button",{id:"gatesMinusButton",onClick:g,className:"buttonControlTextMinus"},"-"),i.createElement(p,{step:1,min:0,max:m.gates[n],dots:!0,vertical:m.gameType===c.GAME_TYPE_GENERIC,value:f.gateProgression,onChange:a,marks:d.generateSliderMarksFromGates(f.gateProgressionData,f.gateProgression),tipFormatter:function(e){return f.gateProgression<m.gates[n]?String(e).concat("-").concat(f.gateProgressionData[f.gateProgression].gatePoints):"-"}}))}},85901:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=n(62936),c=n(25082),u=i(n(5103)),m=n(29525),d=i(n(77721));t.default=function(e){var t=e.zoneIndex,n=e.playerIndex,a=s.createElement(s.Fragment,null),r=(0,l.useTranslation)(["main"]).t,o=s.useContext(c.GameContext).game,i=o.players[n],p=i.zones[t];return m.GameUtils.isFiasco(o,n,t)&&(d.default.event("play","fiasco",i.name),a=s.createElement("div",{className:"fiascoBox rounded importantNote"},"FiASCO!")),s.createElement(s.Fragment,null,s.createElement("div",{className:"playersList"},s.createElement("div",{className:"playerListItem importantNote rounded"},s.createElement("img",{src:i.avatar,alt:"avatar"}),i.name)),s.createElement("div",{className:"controlTextContainer rounded rounded2"},s.createElement("div",{className:"smallText"},r("description.zona"),": ",t+1),s.createElement("div",{className:"smallText"},r("description.puertas"),": ",o.gates[t]),s.createElement("div",{className:"smallText"},"max ",r("description.tiempo"),": ",u.default.printTime(u.default.millisToTime(o.maxTime))),s.createElement("div",{className:"smallText"},"max ",r("description.puntos"),": ",o.maxPoints),s.createElement("div",{className:"bold pointsText"},r("description.total"),": ",p.totalPoints),a))}},63518:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(9226)),l=i(n(5103)),c=i(n(51923)),u=i(n(87165)),m=n(62936),d=n(25082);t.default=function(e){var t=e.playerZone,n=e.forceAction,a=e.setRepairStatus,r=e.onTimerChange,o=e.onTimeFiasco,i=e.onPointBecauseLastMinute,p=(0,m.useTranslation)(["main"]).t,g=s.useContext(d.GameContext).game;return s.createElement("div",{className:"controlTextContainer rounded rounded2"},l.default.isIphone()?s.createElement(s.Fragment,null):s.createElement(c.default,null),g.courtesyTime>0?s.createElement("div",{className:"pointsText"},p("description.puntos")," ",p("description.portiempo"),": ",t.simpathyPoints):s.createElement(s.Fragment,null),s.createElement("button",{className:"repairButton importantNote",onClick:a},p("description.iniciarreparacion")),s.createElement(u.default,{courtesyTime:g.courtesyTime,startTime:t.time,label:p("description.tiempo"),forceAction:n,onTimerChange:r,onTimeFiasco:o,onPointBecauseLastMinute:i,maxTime:g.maxTime}))}},35456:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(n(9226)),u=l(n(5351)),m=n(29525),d=n(82639),p=l(n(77721)),g=n(25082);function f(e,t){var n={tickTime:0,forceAction:"",game:e};return m.GameUtils.init(n.game,m.GameUtils.getGameTypeControlTextValuesInit(n.game.gameType),m.GameUtils.getGameTypeFiascoControlTextValuesInit(n.game.gameType),t),n}t.default=function(e,t,n,r){var o=new u.default,i=c.useContext(g.GameContext),l=i.game,E=i.gameExtras,h=c.useState((function(){return window.scrollTo(0,0),f(l,!1)})),v=h[0],T=h[1],y=v.game.players[n].zones[r];return c.useEffect((function(){var e=v.game.players[n].zones[r];T(a(a({},v),{tickTime:e.time,forceAction:"play"})),document.body.classList.add(m.GameUtils.getGameTypeBodyClassName(l.gameType))}),[]),[v,function(e){var t=a({},v);if(!e){var o=t.game.players[n].zones[r];o.simpathyPoints=0,E.onTimerChange(o)}y.time=e,T(a(a({},t),{tickTime:e,forceAction:"play"}))},function(e,t){var i=a({},v),l=i.game,c=l.players[n].zones[r],u=c.gateProgressionData[c.gateProgression];(l.maxPoints<=c.points&&l.maxPoints>0||l.maxTime<=v.tickTime&&l.maxTime>0)&&!(c.points+e<=l.maxPoints&&0===c.fiascoControlTextValues.filter((function(e){return e>0})).length)||(u.controlTextValues=s([],u.controlTextValues,!0),u.controlTextValues[t]+=e,c.points+=e,c.gateProgression<l.gates[r]&&(u.gatePoints+=e),o.sendMessage(d.MSG_POINTS,c.points),E.onChangeScore(c),T(i),m.GameUtils.isFiasco(i.game,n,r)&&T(a(a({},v),{forceAction:"pause"})))},function(){var e=a({},v);window.scrollTo(0,0),p.default.event("play","reset",e.game.players[n].name),(e=f(e.game,!0)).forceAction="stop",T((function(t){return a(a({},t),e)}))},function(){var t=a({},v),o=t.game,i=o.players;window.scrollTo(0,0),E.onEndPlayer(o,v.tickTime,n,r),t.forceAction="stop",T(t),p.default.event("play","endPlayer",i[n].name),document.body.classList.remove(m.GameUtils.getGameTypeBodyClassName(l.gameType)),e(t.game)},function(e){var t=a({},v),i=t.game.players[n].zones[r];i.gateProgression=e,o.sendMessage(d.MSG_GATES,i.gateProgression),e===t.game.gates[r]&&(t.forceAction="pause"),E.onGateProgressionChange(i),T(t)},function(e,t){var o=a({},v),i=o.game.players[n].zones[r];i.fiascoControlTextValues=s([],i.fiascoControlTextValues,!0),i.fiascoControlTextValues[t]+=e,i.fiascoControlTextValues[t]>0&&(o.forceAction="pause"),E.onFiascoChangeScore(),T(o)},function(){var e=a({},v),t=e.game.players[n].zones[r];t.simpathyPoints++,E.onPointBecauseLastMinute(t),T(e)},function(){var e=a({},v);T(a(a({},e),{tickTime:l.maxTime+l.courtesyTime,forceAction:"pause"}))},function(){var e=a({},v);e.game.players[n].zones[r].time=v.tickTime,e.forceAction="stop",T(e),t&&t(n,r)}]}},96281:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GAME_STATUS_FINISHED=t.GAME_STATUS_PLAYING=t.GAME_STATUS_CREATED=void 0;var l=i(n(9226)),c=n(11569),u=s(n(82232)),m=n(62936),d=n(29525),p=n(82232),g=s(n(5103));t.GAME_STATUS_CREATED=0,t.GAME_STATUS_PLAYING=1,t.GAME_STATUS_FINISHED=2,t.default=function(e,n){var r=l.useState(t.GAME_STATUS_CREATED),o=r[0],i=r[1],s=l.useState(e),f=s[0],E=s[1],h=l.useState([]),v=h[0],T=h[1],y=l.useRef([]),b=l.useState(-1),x=b[0],_=b[1],P=window.crawlear.fb,G=(0,m.useTranslation)(["main"]).t,C=l.useState({name:"",avatar:"",group:0,id:0,zones:[],uid:""}),S=C[0],w=C[1];return l.useEffect((function(){c.isOffline?T(d.GameUtils.createGameProgression(f.zones,f.players.length)):P.getGameProgression(f.gid,(function(){}),(function(){}),(function(e,t){var n={};n[e]=t,E(u.default.updateGameFromProgression(t,f)),y.current=a(a({},y.current),n),T(a(a({},y.current),n))}),(function(e,t){var n={};n[e]=t,E(u.default.updateGameFromProgression(t,f)),y.current=a(a({},y.current),n),T(a(a({},y.current),n))}))}),[]),[o,f,v,T,S,x,function(e,n){var a=e.id,r=e.group;i(t.GAME_STATUS_PLAYING),w(e),_(n),v[r][a][n].status=p.STATUS_PLAYING,T(v),P.setGameProgression(f.gid,a,r,n,v[r][a][n])},function(e,r){if(u.default.isGroupGameFinished(e,v,r)&&window.confirm(G("content.cerrarpartida"))&&!c.isOffline)P.getGameResult(e,(function(e){var r=a({},e);r.gameStatus=2,n.onGameEnd(r),r=g.default.getOrderedGameResult(r),P.updateGame(r),P.removeGameProgression(r.gid),E(r),i(t.GAME_STATUS_FINISHED)}),(function(){}));else if(c.isOffline){var o=g.default.getOrderedGameResult(e);E(d.GameUtils.getGameResult(o,v)),i(t.GAME_STATUS_FINISHED)}},function(e){if(u.default.isIndividualGame(f))n.onGameEnd(f),(l=g.default.getOrderedGameResult(f)).gameStatus=2,P.updateGame(l),P.removeGameProgression(l.gid),P.removeDirectorPresenceRequest(l.gid),i(t.GAME_STATUS_FINISHED),E(l);else{var r=S.id,o=S.group,s=a({},v),l=a({},f);s[o][r][x].status=p.STATUS_DONE,s[o][r][x].data=e.players[r].zones[x],!s[o][r][x].data.judgedBy&&(s[o][r][x].data.judgedBy=[]),s[o][r][x].data.judgedBy.push(window.crawlear.user.uid),T(s),l.players[r].zones[x]=s[o][r][x].data,P.setGameProgression(l.gid,r,o,x,s[o][r][x]),i(t.GAME_STATUS_CREATED),E(l)}},function(e,n){var r=a({},v),o=f.players[e],s=o.group,l=o.id;r[s][e][n].status=p.STATUS_REPAIR,r[s][e][n].repairData={setTime:(new Date).getTime()},r[s][e][n].data=o.zones[n],T(r),P.setGameProgression(f.gid,l,s,n,r[s][l][n]),i(t.GAME_STATUS_CREATED)}]}},7490:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(9226)),s=n(62936),l=n(98493),c=n(82232);t.default=function(e){var t=i.useState(null),n=t[0],a=t[1],r=i.useState(-1),o=r[0],u=r[1],m=i.useState(""),d=m[0],p=m[1],g=i.useContext(l.GameProgressionContext)[0],f=(0,s.useTranslation)(["main"]).t;return[n,o,d,g,function(e,t){u(t),a(e),p("")},function(){if(n&&-1!==o){var t=n.id,a=n.group,r=g[a][t][o];r.status===c.STATUS_WAITING&&window.confirm(f("content.quieresempezarzona"))||r.status===c.STATUS_DONE&&window.confirm(f("content.quiereseditarpartida"))||r.status===c.STATUS_PLAYING&&window.confirm(f("content.seguroeditarpartidaenjuego"))?(p(""),e(n,o)):r.status===c.STATUS_PLAYING?p(f("error.juegoencurso")):r.status===c.STATUS_REPAIR&&p(f("error.reparacionencurso"))}}]}},75607:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(n(9226)),u=l(n(77721)),m=n(5368),d=n(62936),p=n(29525),g=n(25082);t.default=function(e){var t=e.onGameEnd,n=(0,d.useTranslation)(["main"]).t,r=c.useContext(g.GameContext).game,o=c.useState((function(){return m.KingGameScores.texts=m.KingGameScores.texts.map((function(e){return n(e)})),function(e){var t={game:e,order:s([],e.players,!0)};p.GameUtils.init(t.game,p.GameUtils.getGameTypeControlTextValuesInit(t.game.gameType),p.GameUtils.getGameTypeFiascoControlTextValuesInit(t.game.gameType),!1);for(var n=0;n<t.game.players.length;n++)t.game.players[n].zones[0].gateProgressionData[0].controlTextValues=new Array(m.KingGameScores.steps.length).fill(0);return t}(r)})),i=o[0],l=o[1];return c.useEffect((function(){u.default.pageview("/kinggame/")}),[]),[i,function(e,t,n){var r,o,c,u=a({},i),m=u.game.players,d=m[n].zones[0],p=d.gateProgressionData[0];p.controlTextValues=s([],p.controlTextValues,!0),p.controlTextValues[t]+=e,d.totalPoints+=e,d.points+=e,u.order=(r=u.order.findIndex((function(e){return e.id===m[n].id})),o=u.order,(c=s([],o,!0)).push(c.splice(r,1)[0]),c),l(u)},function(){t&&t(r)}]}},21926:(e,t,n)=>{e.exports=n.p+"c3934397bbea4f4b413d.png"},63442:(e,t,n)=>{e.exports=n.p+"4e8d84bf42ab7e35ed38.png"},95019:(e,t,n)=>{e.exports=n.p+"7df5afd41f704db43dad.png"}}]);