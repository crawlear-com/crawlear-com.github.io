"use strict";(self.webpackChunkcrawlear_com=self.webpackChunkcrawlear_com||[]).push([[6720],{51741:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(31601),r=n.n(a),o=n(76314),i=n.n(o)()(r());i.push([e.id,".lovedRoutesContainer{margin-top:15px}",""]);const l=i},69258:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(31601),r=n.n(a),o=n(76314),i=n.n(o)()(r());i.push([e.id,".routesManagementCreation input,.routesManagementCreation textarea,.routesManagementCreation select{margin:15px auto;max-width:none}.routesManagementCreation label{margin-top:25px;display:block}.routesManagementCreation .center{width:98%;margin:0 auto}.routesManagementCreation .routeName,.routesManagementCreation .routeDescription,.routesManagementCreation .routeScale,.routesManagementCreation .routeDifficulty,.routesManagementCreation .routePoint,.routesManagementCreation .youtubeVideo{margin-bottom:25px}.routesManagementCreation .routeName input,.routesManagementCreation .routeName textarea,.routesManagementCreation .routeName select,.routesManagementCreation .routeDescription input,.routesManagementCreation .routeDescription textarea,.routesManagementCreation .routeDescription select,.routesManagementCreation .routeScale input,.routesManagementCreation .routeScale textarea,.routesManagementCreation .routeScale select,.routesManagementCreation .routeDifficulty input,.routesManagementCreation .routeDifficulty textarea,.routesManagementCreation .routeDifficulty select,.routesManagementCreation .routePoint input,.routesManagementCreation .routePoint textarea,.routesManagementCreation .routePoint select,.routesManagementCreation .youtubeVideo input,.routesManagementCreation .youtubeVideo textarea,.routesManagementCreation .youtubeVideo select{width:97%}.routesManagementCreation .routeIsPublic{margin-bottom:25px}.routesManagementCreation .routeMap{margin-bottom:25px;text-align:center}.routesManagementCreation .routeMap label{margin-bottom:10px;display:block}.routesManagementCreation .routeMap button{margin:15px}.routesManagementCreation .endButtons{margin-bottom:25px;text-align:center}",""]);const l=i},87395:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(31601),r=n.n(a),o=n(76314),i=n.n(o)()(r());i.push([e.id,".createRoute{font-size:.9em;text-align:left;padding:25px}.createRoute button{display:block;margin:15px auto}",""]);const l=i},16720:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var a=n(6108),r=n(96540),o=n(83224),i=n(34816),l=n(17539),c=n(13907),u=n(55038);var s=n(60144),m=n(85072),d=n.n(m),p=n(97825),g=n.n(p),E=n(77659),f=n.n(E),b=n(55056),C=n.n(b),w=n(10540),v=n.n(w),M=n(41113),h=n.n(M),y=n(69258),x={};x.styleTagTransform=h(),x.setAttributes=C(),x.insert=f().bind(null,"head"),x.domAPI=g(),x.insertStyleElement=v(),d()(y.A,x),y.A&&y.A.locals&&y.A.locals;const N=function({inRoute:e,onRouteCreated:t,onBackClick:n}){const[a,o,m,d,p,g,E]=function(e,t){const{t:n}=(0,c.B)(["main"]),[a,o]=r.useState(e),[i,s]=r.useState(""),m=window.crawlear.fb;function d(){return a.name.length>0&&a.description.length>0&&a.scale.length>0&&a.locationMapUrl.length>0&&a.gpx.data.length>0&&(!a.youtubeVideo||(0,u.Ty)(a.youtubeVideo))}return[a,i,function(){window.scrollTo(0,0),d()?(s(""),m.setRoute(a,(e=>{}),(()=>{})),t()):s(n("error.nodatosrequired"))},function(e){const t=e.target.selectedIndex+1,n=new l.A(a.name,a.description,a.isPublic,a.locationMapUrl,a.gpx,a.point,a.quadrant,a.uids,a.scale,t,a.likes,a.youtubeVideo,a.rid);o(n)},function(e,t){const n="checkbox"===t.target.type?t.target.checked:t.target.value,r=new l.A(a.name,a.description,a.isPublic,a.locationMapUrl,a.gpx,a.point,a.quadrant,a.uids,a.scale,a.dificulty,a.likes,a.youtubeVideo,a.rid);r[e]=n,o(r)},function(e,t){const n={lat:Math.trunc(t.lat/36),lon:Math.trunc(t.lon/72)};o((a=>new l.A(a.name,a.description,a.isPublic,a.locationMapUrl,{gid:a.gpx.gid,data:e||""},t||{lat:0,lon:0},n,a.uids,a.scale,a.dificulty,a.likes,a.youtubeVideo,a.rid)))},d]}(e,t),{t:f}=(0,c.B)(["main"]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"headerText bold sectionTitle"},f("description.seccionderutas")),r.createElement("div",{className:"routesManagement routesManagementCreation rounded rounded2"},r.createElement("div",{className:"routeMap center"},r.createElement("label",{htmlFor:"gpxData",className:"formRequiredValue"},f("description.mapaderuta")),!a.gpx.data&&r.createElement("div",{className:"formError"},f("error.noruta")," "),r.createElement("input",{minLength:1,id:"gpxData",type:"hidden",value:a.gpx.data}),r.createElement(s.$,{gpx:a.gpx.data,onFileResolved:g,onRouteRecorded:g})),r.createElement("div",{className:"routeName center"},r.createElement("label",{htmlFor:"routeName",className:"formRequiredValue"},f("description.nombrederuta")),!a.name&&r.createElement("div",{className:"formError"},f("error.nonombre")," "),r.createElement("input",{minLength:1,id:"routeName",name:"name",value:a.name,onChange:e=>{p("name",e)}})),r.createElement("div",{className:"routeDescription center"},r.createElement("label",{htmlFor:"routeDescription",className:"formRequiredValue"},f("description.descripcion")),!a.description&&r.createElement("div",{className:"formError"},f("error.nodescripcion")," "),r.createElement("textarea",{minLength:1,id:"routeDescription",name:"description",value:a.description,onChange:e=>{p("description",e)}})),r.createElement("div",{className:"routeIsPublic center"},r.createElement("label",{htmlFor:"routeIsPublic"},f("description.publico")),r.createElement("input",{id:"routeIsPublic",type:"checkbox",defaultChecked:a.isPublic,name:"isPublic",onChange:e=>{p("isPublic",e)}})),r.createElement("div",{className:"routeScale center"},r.createElement("label",{htmlFor:"routeScale",className:"formRequiredValue"},f("description.escala")),!a.scale&&r.createElement("div",{className:"formError"},f("error.noescala")," "),r.createElement("input",{minLength:1,id:"routeScale",name:"scale",value:a.scale,onChange:e=>{p("scale",e)}})),r.createElement("div",{className:"routeDifficulty center"},r.createElement("label",{htmlFor:"routeDifficult"},f("description.dificultad")),r.createElement("select",{id:"routeDifficult",onChange:d,value:a.dificulty},r.createElement("option",{value:"1"},"1"),r.createElement("option",{value:"2"},"2"),r.createElement("option",{value:"3"},"3"),r.createElement("option",{value:"4"},"4"),r.createElement("option",{value:"5"},"5"))),r.createElement("div",{className:"youtubeVideo center"},r.createElement("label",{htmlFor:"youtubeVideo"},f("description.video")),a.youtubeVideo&&!(0,u.Ty)(a.youtubeVideo)&&r.createElement("div",{className:"formError"},f("error.invalidyoutube")," "),r.createElement("input",{id:"youtubeVideo",name:"youtubeVideo",value:a.youtubeVideo,onChange:e=>{p("youtubeVideo",e)}})),r.createElement("div",{className:"routePoint center"},r.createElement("label",{htmlFor:"routeLocation",className:"formRequiredValue"},f("description.puntoencuentro")),!a.locationMapUrl&&r.createElement("div",{className:"formError"},f("error.nolocalizacion")," "),a.locationMapUrl.length>0&&!(0,u.gS)(a.locationMapUrl)&&r.createElement("div",{className:"formError"},f("error.invalidmaps")," "),r.createElement("input",{minLength:1,id:"routeLocation",name:"locationMapUrl",value:a.locationMapUrl,onChange:e=>{p("locationMapUrl",e)}})),r.createElement(i.A,{message:o}),r.createElement("div",{className:"endButtons"},r.createElement("button",{className:"importantNote",onClick:m,disabled:!E()},a.rid?f("description.modificar"):f("description.crear")),r.createElement("button",{onClick:n},f("description.atras")))))};var A=n(89159);function R(e){return e.rid}function k(e){return{title:e.name,content:r.createElement("div",{className:"routeListItem rounded rounded1"},r.createElement("span",null,e.description))}}var V=n(3700);var S=n(51741),P={};P.styleTagTransform=h(),P.setAttributes=C(),P.insert=f().bind(null,"head"),P.domAPI=g(),P.insertStyleElement=v(),d()(S.A,P),S.A&&S.A.locals&&S.A.locals;const T=function({onViewRoute:e}){const{t}=(0,c.B)(["main"]),[n,a]=function(){const e=window.crawlear.fb,{t}=(0,c.B)(["main"]),[n,a]=r.useState([]),[o,i]=r.useState("");return r.useEffect((()=>{window.crawlear.user.uid&&e.getLovedRoutes(window.crawlear.user.uid,(e=>{a((t=>[...t,e]))}),(()=>{i(t("error.errordecarga"))}))}),[e,t]),[n,o]}(),o={transform:k,key:R};return r.createElement("div",{className:"lovedRoutesContainer"},r.createElement(i.A,{message:a}),r.createElement(A.A,{title:t("description.rutasguardadas"),data:n,readOnly:!1,transformer:o,onItemAction:t=>{const[a]=(0,u.CL)(n,t,((e,t)=>e.rid===t));a&&(window.scrollTo(0,0),e(a))}}))};var D=n(87395),L={};L.styleTagTransform=h(),L.setAttributes=C(),L.insert=f().bind(null,"head"),L.domAPI=g(),L.insertStyleElement=v(),d()(D.A,L),D.A&&D.A.locals&&D.A.locals;const F=function({onCreateRoute:e,onViewRoute:t}){const{t:n}=(0,c.B)(["main"]),[a,o,l]=function(){const[e,t]=r.useState([]),[n,a]=r.useState(""),{t:o}=(0,c.B)(["main"]),i=window.crawlear.fb,[l,s]=r.useState(!1);return r.useEffect((()=>{window.crawlear&&window.crawlear.user&&window.crawlear.user.uid&&!l&&(s(!0),i.getRoutesFromUser(window.crawlear.user.uid,(e=>{t(e)}),(()=>{a(o("error.errordecarga"))})))}),[i,o,l]),[e,function(n){var a;const r=[...e];let[o,l]=(0,u.CL)(r,n,((e,t)=>e.rid===n));o&&i.removeRoute(o.rid,null===(a=r[l].gpx)||void 0===a?void 0:a.gid,(()=>{r.splice(l,1),t(r)}),(()=>{}))},n]}(),s={transform:k,key:R};return r.createElement(r.Fragment,null,r.createElement("div",{className:"headerText bold sectionTitle"},n("description.seccionderutas")),r.createElement("div",{className:"createRoute rounded rounded3"},n("description.crearruta"),r.createElement("button",{className:"importantNote",onClick:()=>{window.scrollTo(0,0),e()}},n("description.crear"))),r.createElement(V.default,null),r.createElement("div",{className:"routesManagement rounded rounded3"},r.createElement(i.A,{message:l}),r.createElement(A.A,{data:a,readOnly:!1,transformer:s,onRemoveItem:o,onConfigureItem:t=>{const[n]=(0,u.CL)(a,t,((e,n)=>e.rid===t));n&&(window.scrollTo(0,0),e(n))},title:n("description.misrutas"),onItemAction:e=>{const[n]=(0,u.CL)(a,e,((t,n)=>t.rid===e));n&&(window.scrollTo(0,0),t(n))}})),r.createElement(T,{onViewRoute:t}))};var I=n(38791);const B=(0,a.A)((function(){const[e,t,n,a,i,c]=function(){const[e,t]=r.useState(0),[n,a]=r.useState(new l.A("","",!0,"",{data:""},{lat:0,lon:0},{lat:0,lon:0},[""],"",0,0));return r.useEffect((()=>(I.A.pageview("/routesmanagement/"),window.document.body.classList.add("route"),()=>{window.document.body.classList.remove("route")})),[]),[e,n,function(e){a(e),t(2)},function(e){a(e||new l.A("","",!0,"",{data:""},{lat:0,lon:0},{lat:0,lon:0},[window.crawlear.user.uid],"",0,0)),t(1)},function(e){t(0)},function(e){t(1)}]}();return r.createElement(r.Fragment,null,0===e?r.createElement(F,{onCreateRoute:a,onViewRoute:n}):1===e?r.createElement(N,{inRoute:t,onRouteCreated:i,onBackClick:i}):r.createElement(o.A,{route:t,onBackClick:i,onEditClick:c}))}))}}]);