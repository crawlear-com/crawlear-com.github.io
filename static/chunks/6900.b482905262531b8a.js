(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6900],{14842:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(57437),i=n(2265),s=n(50362);n(67872);var o=function(e){let{itemPosition:t,onClickFunction:n,text:i}=e;return(0,r.jsx)("div",{"data-itemposition":t,onClick:e=>{e.stopPropagation(),n(e)},className:"itemListMenuItem",children:i})},a=function(e){let{itemPosition:t,onRemoveClick:n,onConfigureClick:a}=e,{t:c}=(0,s.$G)(["main"]),l=i.useRef(null);function u(){l.current.classList.toggle("closed")}return(0,r.jsxs)("span",{ref:l,className:"listItemMenu rounded closed",children:[(0,r.jsxs)("div",{onClick:u,children:[(0,r.jsx)("div",{className:"burguerMenuBar"}),(0,r.jsx)("div",{className:"burguerMenuBar"}),(0,r.jsx)("div",{className:"burguerMenuBar"})]}),(0,r.jsx)(o,{text:c("description.eliminar"),itemPosition:t,onClickFunction:e=>{u(),n(e)}}),(0,r.jsx)(o,{text:c("description.editar"),itemPosition:t,onClickFunction:a})]})},c=n(6078);n(8900);var l=function(e){let{data:t,readOnly:n,onRemoveItem:i,onConfigureItem:o,title:l,onItemAction:u,transformer:d}=e,{t:m}=(0,s.$G)(["main"]),f=0,x=[];function w(e){let t=Number(e.target.getAttribute("data-itemposition"));window.confirm(m("content.seguroborrarpost"))&&i&&i(t)}function p(e){let t=Number(e.target.getAttribute("data-itemposition"));o&&o(t)}function h(){}return t&&t.forEach(e=>{x.push((0,r.jsxs)("div",{children:[o&&i&&(0,r.jsx)(a,{itemPosition:f,onConfigureClick:p,onRemoveClick:w},`menu${f}`),(0,r.jsx)(c.Z,{item:d(e),onItemAction:u,itemPosition:f,onOpenClose:h},`item${f}`)]},f)),f++}),t&&0!==t.length||x.push((0,r.jsx)("div",{className:"centerText smallText",children:m("description.noentradas")},f)),(0,r.jsxs)("div",{className:"list rounded rounded3",children:[(0,r.jsx)("div",{className:"headerText bold",children:l}),x]})}},6078:function(e,t,n){"use strict";var r=n(57437);n(2265),n(98169),t.Z=function(e){let{item:t,itemPosition:n,onOpenClose:i,onItemAction:s}=e;return(0,r.jsxs)("div",{className:"listItemContainer rounded rounded1 closed",children:[(0,r.jsx)("span",{onClick:function(e){let t=e.target.parentElement;t&&(t.classList.toggle("closed"),t.classList.contains("closed")||i(n))},className:"textOverflow listItemName bold",children:t.title}),s?(0,r.jsx)("span",{className:"editButton",onClick:function(e){s&&s(n)},children:(0,r.jsx)("button",{className:"importantNote playButton"})}):(0,r.jsx)(r.Fragment,{}),t.content]},n)}},96900:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(57437),i=n(2265),s=n(50362),o=n(14842);function a(e){return{title:e.name,content:(0,r.jsx)("div",{className:"routeListItem rounded rounded1",children:(0,r.jsx)("span",{children:e.description})})}}var c=n(60107),l=function(){let{t:e}=(0,s.$G)(["main"]),[t,n]=i.useState([]),[r,o]=i.useState("");return i.useEffect(()=>{let r=window.crawlear.fb;window.crawlear?.user?.uid&&r.getLovedRoutes(window.crawlear.user.uid,e=>{let r=[...t];r.push(e),n(r)},()=>{o(e("error.errordecarga"))})},[window.crawlear.user]),[t,r]},u=n(11517);n(83490);var d=function(e){let{onViewRoute:t}=e,{t:n}=(0,s.$G)(["main"]),[i,c]=l();return(0,r.jsxs)("div",{className:"lovedRoutesContainer",children:[(0,r.jsx)(u.Z,{message:c}),(0,r.jsx)(o.Z,{title:n("description.rutasguardadas"),data:i,readOnly:!1,transformer:a,onItemAction:e=>{window.scrollTo(0,0),t(i[e])}})]})},m=function(){let[e,t]=i.useState([]),[n,r]=i.useState(""),{t:o}=(0,s.$G)(["main"]);return i.useEffect(()=>{let e=window.crawlear.fb;window.crawlear&&window.crawlear.user&&window.crawlear.user.uid&&e.getRoutesFromUser(window.crawlear.user.uid,e=>{t(e)},()=>{r(o("error.errordecarga"))})},[window.crawlear.user]),[e,function(n){let r=[...e];window.crawlear.fb.removeRoute(r[n].rid,r[n].gpx?.gid,()=>{delete r[n],t(r)},()=>{})},n]},f=function(e){let{onCreateRoute:t,onViewRoute:n}=e,{t:i}=(0,s.$G)("main"),[l,f,x]=m();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"headerText bold sectionTitle",children:i("description.seccionderutas")}),(0,r.jsx)(c.default,{}),(0,r.jsxs)("div",{className:"routesManagement rounded rounded3",children:[(0,r.jsx)(u.Z,{message:x}),(0,r.jsx)(o.Z,{data:l,readOnly:!1,transformer:a,onRemoveItem:f,onConfigureItem:e=>{window.scrollTo(0,0),t(l[e])},title:i("description.misrutas"),onItemAction:e=>{window.scrollTo(0,0),n(l[e])}})]}),(0,r.jsx)(d,{onViewRoute:n}),(0,r.jsx)("button",{className:"importantNote",onClick:()=>{window.scrollTo(0,0),t()},children:i("description.crear")})]})}},60107:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(57437),i=n(2265),s=n(50362),o=n(57818);n(18451);var a=function(e){let{children:t,onClose:n}=e,[s,o]=i.useState(!1),a=i.useRef(null);return i.useEffect(()=>{o(!0)},[t]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{title:"popup",ref:a,className:`popup rounded rounded2 ${s?"":"closed"}`,children:[(0,r.jsx)("div",{title:"closeButton",className:"bold closeButton",onClick:function(e){a.current?.classList.toggle("closed"),o(!1)},children:"x"}),t]})})},c=n(78710),l=n(76968),u=function(){let[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null);return[e,n,function(e,n){let r=window.crawlear.fbBase,i=Math.abs(n._northEast.lat-n._southWest.lat)/2,s=Math.abs(n._northEast.lng-n._southWest.lng)/4;l.Z.event("route","search",`${e.lat},${e.lng}`),r.routeSearchByLatLon(e,{lat:i,lon:s},e=>{t(e)},()=>{})},function(t){let n=window.crawlear.fbBase,i=e[t];l.Z.event("route","view",`${i.rid}`),n.getGpx(i.gpx.gid?i.gpx.gid:i.gpx,e=>{i.gpx=e,r(i)})},function(){r(null)}]};n(44123);let d=(0,o.default)(()=>Promise.all([n.e(2733),n.e(4212),n.e(6027),n.e(6645),n.e(2298)]).then(n.bind(n,42298)),{loadableGenerated:{webpack:()=>[42298]},loading:()=>(0,r.jsx)("p",{children:"Loading MapPointPicker..."}),ssr:!1});var m=function(){let{t:e}=(0,s.$G)("main"),[t,n,i,o,m]=u();return(0,r.jsxs)("div",{className:"rounded rounded3 routesSearchContainer",children:[(0,r.jsx)("div",{className:"headerText bold",children:e("description.buscar")}),(0,r.jsx)("div",{className:"searchText",children:e("content.busquedaderuta")}),n?(0,r.jsx)(a,{onClose:m,children:(0,r.jsx)(c.Z,{route:n})}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)(d,{points:t.map((e,t)=>{let n=document.createElement("div");return n.classList.add("routeAltDiv"),n.innerText=e.name,l.Z.event("route","click",`${e.rid}`),n.addEventListener("click",()=>{o(t)}),{point:e.point,content:n}}),onMapClick:i})]})}},8900:function(){},98169:function(){},67872:function(){},83490:function(){},44123:function(){},18451:function(){}}]);