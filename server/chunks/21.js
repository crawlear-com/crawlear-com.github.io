exports.id=21,exports.ids=[21],exports.modules={16023:(e,t,s)=>{var a={"./en/landing.json":[92888,761],"./en/main.json":[32468,468],"./es/landing.json":[86568,568],"./es/main.json":[70830,830]};function n(e){if(!s.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],n=t[0];return s.e(t[1]).then(()=>s.t(n,19))}n.keys=()=>Object.keys(a),n.id=16023,e.exports=n},39970:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var a=s(18562),n=s(48173),i=s(55037);let r=["es","en"],o="landing",c=async(e,t)=>{let c=(0,a.Fs)();return await c.use(i.D).use((0,n.Z)((e,t)=>s(16023)(`./${e}/${t}.json`))).init(function(e="es",t=o){return{supportedLngs:r,fallbackLng:"es",lng:e,fallbackNS:o,defaultNS:o,ns:t}}(e,t)),c};async function l(e,t,s={}){let a=await c(e,t);return{t:a.getFixedT(e,Array.isArray(t)?t[0]:t,s.keyPrefix),i18n:a}}},43021:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eb});var a=s(10326),n=s(17577),i=s(10425),r=s(30999),o=s(60892),c=s(23784),l=s(41917),d=s(63854),m=s(14895),u=s(37005),p=s(19541);let g={isIndividualGame:e=>e.gameType===r.te,isGroupGameFinished:(e,t,s)=>{let a=!0;return!!g.isIndividualGame(e)||(Object.entries(t).forEach(e=>{Number(e[0])===s&&Object.entries(e[1]).forEach(e=>{Object.entries(e[1]).forEach(e=>{(e[1].status===x||e[1].status===j||e[1].status===h)&&(a=!1)})})}),a)},onRepairEnd(e,t,s,a,n){let i=window.crawlear?.fb;n.status=x,delete n.repairData,i.setGameProgression(e,t,s,a,n)},updateGameFromProgression:(e,t)=>{let s={...t};return Object.entries(e).forEach(e=>{Object.entries(e[1]).forEach(t=>{t[1].data&&(s.players[e[0]].zones[t[0]]=t[1].data)})}),s},getGroupFromJid:(e,t)=>{let s=e.judges.find(e=>e.uid===t);return s?s.group:0},getGameExtras:e=>{let t;return e===r.oP?t=o.vc:e===r.UZ?t=c.vc:e===r.HF?t=l.vc:e===r.uG?t=d.vc:e===r.te?t=p.vc:e===r.Jo?t=m.vc:e===r.Oh&&(t=u.vc),t},getGameContent:(e,t,s)=>{let a,n;return e===r.oP?a=o.n_:e===r.UZ?a=c.n_:e===r.HF?a=l.n_:e===r.uG?a=d.n_:e===r.te||(e===r.Jo?a=m.n_:e===r.Oh&&(a=u.n_)),a&&(n=a(t,s)),n}},x="waiting",h="playing",j="repair",f="done",T=function({game:e,playerName:t,fromName:s,zone:o}){let{t:c}=(0,i.$G)(["main"]),l=window.crawlear.fb,d=[],m=e.gid,u=[],[p,g]=n.useState({});function x(e,t){if("pending"===e.status){let s={...p};s[t]=e,g(s)}else if("accepted"===e.status){let e={...p};delete e[t],g(e)}}return m&&t&&s&&o>=0&&!r.zo.isCurrentUserIsOwner(e.owner)&&0===Object.entries(p).length&&d.push(a.jsx("button",{onClick:function(){window.confirm(c("content.quieresenviarpeticiondepresencia"))&&l.setDirectorPresenceRequest(m,o,t,s,x)},children:c("description.reclamarpresencia")})),Object.keys(p).forEach((e,t)=>{u.push(a.jsx("div",{children:p[e].status}))}),(0,a.jsxs)("div",{className:"presenceButtonContainer",children:[d,u]})};var v=s(28186),b=s(87428);let y={listenEvent:(e,t,s)=>{e.addEventListener(t,s)},sendEvent:(e,t,s)=>{e.dispatchEvent(new CustomEvent(t,{detail:s}))}};class w{constructor(){this.container=document.querySelector(".AppMainContainer")}listenMessages(e,t){y.listenEvent(this.container,e,t)}sendMessage(e,t){y.sendEvent(this.container,e,t)}}let N="BT_GATES",C="BT_POINTS",P="BT_START",A="BT_STOP",G="BT_TIME";class z{constructor(){this.device={},this.timeCharacteristic={},this.timeValueCharacteristic={},this.pointsCharacteristic={},this.gatesCharacteristic={}}discoverDevice(e){navigator.bluetooth.requestDevice({filters:[{name:"CrawlearBluetoothDevice"},{services:["3feb1e8a-3981-4045-ad39-b225135013a0"]}]}).then(t=>(this.device=t,e&&e(t),t.gatt&&t.gatt.connect())).then(e=>e&&e.getPrimaryService("3feb1e8a-3981-4045-ad39-b225135013a0")).then(e=>{let t=e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b26a8");return Promise.all([t,e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b1"),e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b2"),e&&e.getCharacteristic("beb5483e-36e1-4688-b7f5-ea07361b25b3")])}).then(([e,t,s,a])=>{this.timeCharacteristic=e,this.timeValueCharacteristic=t,this.pointsCharacteristic=s,this.gatesCharacteristic=a}).catch(e=>{console.error(e)})}sendTime(e){this.timeValueCharacteristic&&this.timeValueCharacteristic.writeValue(new TextEncoder().encode(e))}sendPoints(e){this.pointsCharacteristic&&this.pointsCharacteristic.writeValue(new TextEncoder().encode(e))}sendGates(e){this.gatesCharacteristic&&this.gatesCharacteristic.writeValue(new TextEncoder().encode(e))}sendStart(){if(this.timeCharacteristic){let e=Uint8Array.of(1);this.timeCharacteristic.writeValue(e)}}sendStop(){if(this.timeCharacteristic){let e=Uint8Array.of(0);this.timeCharacteristic.writeValue(e)}}}s(6184);let k="play",E="pause",F="stop",Z=function({startTime:e,forceAction:t,label:s,onTimerChange:r,courtesyTime:o,maxTime:c,onPointBecauseLastMinute:l,onTimeFiasco:d}){let{t:m}=(0,i.$G)(["main"]),u=n.useRef(null),p=n.useRef(e||0),g=new w,[x,h]=n.useState(()=>({millis:e||0,timer:null,maxTime:c,state:E,timeStart:Date.now()})),j=b.Z.millisToTime(x.millis);function f(){p.current=0,x.timer&&clearInterval(x.timer),u.current.classList.remove("blink"),h({maxTime:x.maxTime,millis:0,timer:null,state:F}),r&&r(p.current),u.current.classList.contains("play")&&u.current.classList.toggle("play")}function T(){u.current.classList.toggle("play"),x.state===E||x.state===F?(x.state=k,v.Z.event("play","timePlay",""),u.current.classList.remove("blink")):(x.state=E,v.Z.event("play","timePause","")),h(e=>({...e,state:x.state}))}return n.useEffect(()=>{t===F&&f(),t===E&&x.state===k&&T()},[t]),n.useEffect(()=>{let e={...x};e.state===k?(e.timer&&clearInterval(e.timer),e.millis=p.current,e.timer=setInterval(()=>{p.current<e.maxTime?(p.current=Date.now()-e.timeStart+e.millis,r&&r(p.current),h(e=>({...e,millis:p.current})),Date.now()%2==0&&g.sendMessage(G,b.Z.printTime(b.Z.millisToTime(p.current)))):l&&e.maxTime>0&&p.current>=e.maxTime&&p.current<e.maxTime+o||0===e.maxTime?(p.current=Date.now()-e.timeStart,r&&r(p.current),h(e=>({...e,millis:p.current})),e.maxTime>0&&!u.current.classList.contains("blink")&&u.current.classList.add("blink"),e.maxTime>0&&(e.maxTime+p.current)%1e4==0&&l()):(u.current.classList.toggle("blink"),u.current.classList.toggle("foreColorRed"),T(),d&&d())},10),e.timeStart=Date.now(),g.sendMessage(P,{}),h(t=>({...t,...e}))):e.state===E?(e.timer&&clearInterval(x.timer),e.timer=null,g.sendMessage(A,{}),h(t=>({...t,...e}))):(e.millis=0,p.current=0,e.timer&&clearInterval(x.timer),e.timer=null,g.sendMessage(A,{}),h(t=>({...t,...e}))),g.sendMessage(G,b.Z.printTime(b.Z.millisToTime(p.current)))},[x.state]),(0,a.jsxs)("div",{ref:u,className:"timerContainer",children:[(0,a.jsxs)("div",{className:"timerLabel",children:[(s||m("description.tiempo")).toUpperCase(),":"]}),a.jsx("div",{role:"timer",className:"timer",children:b.Z.printTime(j)}),a.jsx("button",{className:"timerPlayButton",onClick:T}),a.jsx("button",{onClick:f,className:"resetButton"})]})};s(91401);let V=function({onTimeFiasco:e,onRepairTimerChange:t}){let{t:s}=(0,i.$G)(["main"]);return a.jsx("div",{className:"repairTimeContainer",children:a.jsx(Z,{courtesyTime:0,label:s("points.reparacion"),onTimeFiasco:e,onTimerChange:t,maxTime:18e5})})};s(9800);let B=function({gameProgression:e,game:t,onRepairEnd:s}){let{t:n}=(0,i.$G)(["main"]),r=[];return e&&Object.entries(e).forEach((e,i)=>{Object.entries(e[1]).forEach((o,c)=>{Object.entries(o[1]).forEach((c,l)=>{if("repair"===c[1].status){let d=new Date(c[1].repairData.setTime).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});r.push((0,a.jsxs)("div",{className:"repairProgressionItem rounded rounded2",children:[(0,a.jsxs)("div",{className:"repairProgressionItemHead",children:[a.jsx("img",{src:t.players[o[0]].avatar,alt:"player avatar"}),(0,a.jsxs)("span",{className:"repairProgressionItemZone",children:[n("description.zona"),": ",l+1]}),(0,a.jsxs)("span",{className:"gameProgressionItemHour",children:[n("description.enreparaciondesde")," ",d]})]}),a.jsx(V,{}),a.jsx("button",{onClick:()=>{var a,i,r,d;a=t.gid,i=t.players[[o[0]]].id,r=e[0],d=c[1],window.confirm(n("content.finalizarreparacion"))&&s&&s(a,i,r,l,d)},className:"importantNote",children:n("description.fin")})]},l+i))}})})}),a.jsx("div",{className:"repairProgressionContainer",children:r.length?r:n("description.nohayreparaciones")})};s(7081);let I=function({game:e,gameProgression:t}){let{t:s}=(0,i.$G)(["main"]),r=window.crawlear.fb,o=n.useRef(),[c,l]=n.useState({}),d=[];function m(e,t){if("pending"===t.status){let s={};s[e]=t,o.current={...o.current,...s},l(o.current)}}function u(e,t){if("pending"===t.status){let s={};s[e]=t,o.current={...o.current,...s},l(o.current)}}d.push(a.jsx("div",{className:"",children:s("content.zonascompletadas")},"zC")),n.useEffect(()=>{r.getDirectorPresenceRequest(e.gid,m,u)},[]);for(let n=0;n<e.zones;n++){let e=[];Object.entries(t).forEach((t,i)=>{let r=0;Object.entries(t[1]).forEach((e,t)=>{e[1]&&e[1][n]&&"done"===e[1][n].status&&e[1][n].data&&r++}),r===Object.entries(t[1]).length&&e.push((0,a.jsxs)("span",{className:"directorGroup",children:[s("description.grupo")," ",i+1]},`dG${n}`))}),d.push((0,a.jsxs)("div",{className:"directorZone horizontalScrolling",children:[s("description.zona")," ",n+1,": ",e]},`dZ${n}`))}return d.push((0,a.jsxs)("p",{className:"bold",children:[s("description.peticionesdepresencia"),":"]},"pdp")),o.current||d.push(a.jsx("p",{className:"",children:s("description.nopeticionespresencia")},"npsp")),o.current&&Object.keys(o.current).forEach((t,n)=>{let i=o.current[t];d.push((0,a.jsxs)("div",{className:"directorRequestContainer blink",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[s("description.de")," ",i.fromName]}),(0,a.jsxs)("div",{children:[s("description.zona"),": ",i.zone+1]}),(0,a.jsxs)("div",{children:[s("description.jugador"),": ",i.playerName]}),(0,a.jsxs)("div",{children:[s("description.estado"),": ",i.status]})]}),a.jsx("div",{children:a.jsx("button",{onClick:()=>{!function(t){if(window.confirm(s("content.aceptarpresencia"))){let s={...o.current};delete s[t],l(s),o.current=s,r.acceptDirectorPresenceRequest(e.gid,t)}}(t)},children:s("description.aceptar")})})]},`dR${n}`))}),a.jsx(a.Fragment,{children:[d]})};s(37984);let L=function({controlTextValues:e,texts:t}){let s=0,n=[];return e&&e.forEach(e=>{0!==e&&n.push((0,a.jsxs)("div",{className:"controlTextValues",children:[t[s],": ",e]},s)),s++}),n},S=function({gameType:e,gameProgression:t}){let{t:s}=(0,i.$G)(["main"]);if(t.data){let n=t.data.points,i=t.data.totalPoints,p=t.data.time,g=t.data.gatesWithFail,x=t.data.gateProgression,h=t.data.simpathyPoints,j=t.data.handicap,f=t.data.gatesWithBonification,T=b.Z.tokenToTexts(s,o.zR.texts),v=b.Z.tokenToTexts(s,o.zR.fiascoTexts);return e===r.UZ&&(T=b.Z.tokenToTexts(s,c.nz.texts),v=b.Z.tokenToTexts(s,c.nz.fiascoTexts)),e===r.HF&&(T=b.Z.tokenToTexts(s,l.$z.texts),v=b.Z.tokenToTexts(s,l.$z.fiascoTexts)),e===r.uG&&(T=b.Z.tokenToTexts(s,d.UC.texts),v=b.Z.tokenToTexts(s,d.UC.fiascoTexts)),e===r.Jo&&(T=b.Z.tokenToTexts(s,m.Kp.texts),v=b.Z.tokenToTexts(s,m.Kp.fiascoTexts)),e===r.Oh&&(T=b.Z.tokenToTexts(s,u.GQ.texts),v=b.Z.tokenToTexts(s,u.GQ.fiascoTexts)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[s("description.puntos"),": ",a.jsx("span",{className:"bold",children:n})]}),x?(0,a.jsxs)("li",{children:[s("description.avancepuerta"),": ",a.jsx("span",{className:"bold",children:x})]}):a.jsx(a.Fragment,{}),void 0!==g&&void 0!==f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("li",{children:[s("description.fallospuerta"),": ",a.jsx("span",{className:"bold",children:g})]}),(0,a.jsxs)("li",{children:[s("description.bonificacion"),": ",a.jsx("span",{className:"bold",children:-2*f})]})]}):a.jsx(a.Fragment,{}),void 0!==h?(0,a.jsxs)("li",{children:[s("description.portiempo"),": ",a.jsx("span",{className:"bold",children:h})]}):a.jsx(a.Fragment,{}),void 0!==j?(0,a.jsxs)("li",{children:[s("description.handicap"),": ",a.jsx("span",{className:"bold",children:j})]}):a.jsx(a.Fragment,{}),(0,a.jsxs)("li",{children:[s("description.total"),": ",a.jsx("span",{className:"bold",children:i})]}),(0,a.jsxs)("li",{children:[s("description.tiempo"),": ",a.jsx("span",{className:"bold",children:b.Z.printTime(b.Z.millisToTime(p))})]})]}),a.jsx(L,{controlTextValues:t.data.gateProgressionData?r.zo.sumControlTextValues(t.data.gateProgressionData):t.data.controlTextValues,texts:T}),t.data.fiascoControlTextValues&&t.data.fiascoControlTextValues.filter(e=>e>0).length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fiascosText left bold",children:[s("points.fiascos"),":"]}),a.jsx(L,{controlTextValues:t.data.fiascoControlTextValues,texts:v})]}):a.jsx(a.Fragment,{})]})}return a.jsx(a.Fragment,{})},R=n.createContext(),$="waiting",D="playing",O="done",U=function({game:e,jidGroup:t,onZoneClick:s}){let{t:o}=(0,i.$G)(["main"]),[c,l]=n.useState(-1),[d,m]=n.useState(-1),u=n.useRef(),[p]=n.useContext(R),g=[],x=0;function h(){s(-1,-1),m(-1),l(-1)}return g.push(a.jsx("div",{className:"",children:o("content.estadozona")},"eZ")),g.push(a.jsx("div",{children:function(){let t=Array(e.zones).fill(!1);return p&&Object.entries(p).forEach((e,s)=>{Object.entries(e[1]).forEach((e,s)=>{Object.entries(e[1]).forEach((e,s)=>{"playing"===e[1].status&&(t[s]||(t[s]=!0))})})}),function(e){let t=[];return e.forEach((e,s)=>{let n=[];n.push((0,a.jsxs)("span",{children:[o("description.zona")," ",s+1,": "]},s)),e?n.push(a.jsx("span",{className:"directorGroup colorRed",children:o("description.ocupado")},`dG${s}`)):n.push((0,a.jsxs)("span",{children:[a.jsx("span",{className:"directorGroup",children:o("description.libre")}),a.jsx("br",{})]},`div${s}`)),t.push(a.jsx("div",{className:"directorZone",children:n},`dZ${s}`))}),a.jsx("div",{className:"",children:t})}(t)}()},"nAz")),g.push((0,a.jsxs)("p",{children:[o("content.seleccionapilotoyzona"),":"]},"header")),e.players.forEach((n,i)=>{let j=[],f=0,T;(n.group===t||r.zo.isCurrentUserIsOwner(e.owner))&&(n.zones.forEach(e=>{T=n.id===d&&f===c?"colorGrey rounded":"rounded",p&&p[n.group]&&p[n.group][n.id]&&(p[n.group][n.id][f].status!==$?p[n.group][n.id][f].status===D?T+=" colorOrange":"repair"===p[n.group][n.id][f].status?T+=" colorRed":p[n.group][n.id][f].status===O&&(T+=" colorGreen"):p[n.group][n.id][f].data&&(T+=" colorClearGrey"),j.push((0,a.jsxs)("span",{"data-zone":f,onClick:t=>{!function(e,t){let a=Number(e.target.closest("[data-zone]").getAttribute("data-zone")),n=p[t.group][t.id][a].status;c===a&&d===t.id?h():n===$||n===O||n===D?(m(t.id),l(a),s(t,a)):h()}(t,n,e)},className:T,children:[(0,a.jsxs)("div",{children:[o("description.zona")," ",f+1]}),a.jsx("br",{}),(0,a.jsxs)("div",{children:[o("description.estado"),":"]}),a.jsx("div",{children:function(e,t,s){let a;switch(t){case"waiting":a=e(s?"description.reparacionfinalizada":"description.waiting");break;case"done":a=e("description.done");break;case"repair":a=e("description.repair");break;case"playing":a=e("description.playing");break;default:a=e("description.waiting")}return a}(o,p[n.group][n.id][f].status,p[n.group][n.id][f].data)})]},f+1))),f++}),g.push((0,a.jsxs)("div",{className:"gameProgressionItem rounded rounded1",children:[(0,a.jsxs)("div",{children:[a.jsx("img",{src:n.avatar,alt:"player avatar"}),n.name," ",a.jsx("br",{}),o("description.grupo")," ",n.group+1]}),a.jsx("div",{className:"horizontalScrollContainer",children:j})]},x+f)),d>=0&&c>=0&&n.id===d&&p[n.group][d][c].data&&g.push(a.jsx("div",{className:"gameProgressionInfoItem smallText rounded rounded2",children:a.jsx(S,{gameType:e.gameType,innerRef:u,gameProgression:p[n.group][d][c]})},`${x+f}Info`)),x++)}),a.jsx(a.Fragment,{children:g})};var M=s(30774);let _=function(e){let[t,s]=n.useState(null),[a,r]=n.useState(-1),[o,c]=n.useState(""),[l]=n.useContext(R),{t:d}=(0,i.$G)(["main"]);return[t,a,o,l,function(e,t){r(t),s(e),c("")},function(){if(t&&-1!==a){let s=t.id,n=l[t.group][s][a];n.status===x&&window.confirm(d("content.quieresempezarzona"))||n.status===f&&window.confirm(d("content.quiereseditarpartida"))||n.status===h&&window.confirm(d("content.seguroeditarpartidaenjuego"))?(c(""),e(t,a)):n.status===h?c(d("error.juegoencurso")):n.status===j&&c(d("error.reparacionencurso"))}}]},q=function({game:e,jidGroup:t,onBeginGame:s,onBackButtonClick:n,onCloseButonClick:o}){let c;let l=[],d=r.zo.isCurrentUserIsOwner(e.owner),{t:m}=(0,i.$G)(["main"]),[u,p,x,h,j,f]=_(s);if(d&&l.push((0,a.jsxs)("div",{className:"directorContainer rounded rounded3",children:[a.jsx("div",{className:"bold",children:m("description.directordepartida")}),a.jsx("br",{}),a.jsx(I,{game:e,gameProgression:h})]},"dP")),e.jids.find(e=>e===window.crawlear.user.uid)){let s=a.jsx(a.Fragment,{});(u&&u.group===t||d)&&(s=a.jsx("button",{onClick:f,className:"playButton importantNote",children:m("description.empezar")})),c=(0,a.jsxs)(a.Fragment,{children:[m("description.jugadorseleccionado"),": ",u?u.name:""," ",a.jsx("br",{}),m("description.zonaseleccionada"),": ",-1!==p?p+1:"",a.jsx("br",{}),s,a.jsx(T,{game:e,zone:p,playerName:u&&u.name,fromName:window.crawlear.user.displayName})]})}return(0,a.jsxs)(a.Fragment,{children:[l,a.jsx(M.Z,{message:x}),(0,a.jsxs)("div",{className:"trackJudgeContainer rounded rounded3",children:[a.jsx("div",{className:"bold",children:m("description.juezdepista")}),a.jsx(U,{onZoneClick:j,game:e,jidGroup:t}),a.jsx(M.Z,{message:x}),c]}),(0,a.jsxs)("div",{className:"tendJudgeContainer rounded rounded3",children:[a.jsx("div",{className:"bold",children:m("description.juezdecarpa")}),a.jsx(B,{gameProgression:h,game:e,onRepairEnd:g.onRepairEnd})]}),a.jsx("button",{className:"backButton",onClick:n,children:m("description.atras")}),r.zo.isCurrentUserIsOwner(e.owner)&&g.isGroupGameFinished(e,h,t)?a.jsx("button",{className:"closeButton importantNote",onClick:()=>{o(e)},children:m("description.cerrarpartida")}):a.jsx(a.Fragment,{})]})};var H=s(70935),Q=s(42622);let J=function({onGameEnd:e}){let{t}=(0,i.$G)(["main"]),{game:s}=n.useContext(Q.G),[a,o]=n.useState(()=>(p.wG.texts=p.wG.texts.map(function(e){return t(e)}),function(e){let t={game:e,order:[...e.players]};r.zo.init(t.game,r.zo.getGameTypeControlTextValuesInit(t.game.gameType),r.zo.getGameTypeFiascoControlTextValuesInit(t.game.gameType),!1);for(let e=0;e<t.game.players.length;e++)t.game.players[e].zones[0].gateProgressionData[0].controlTextValues=Array(p.wG.steps.length).fill(0);return t}(s)));return n.useEffect(()=>{v.Z.pageview("/kinggame/")},[]),[a,function(e,t,s){let n={...a},i=n.game.players,r=i[s].zones[0],c=r.gateProgressionData[0];c.controlTextValues=[...c.controlTextValues],c.controlTextValues[t]+=e,r.totalPoints+=e,r.points+=e,n.order=function(e,t){let s=[...t];return s.push(s.splice(e,1)[0]),s}(n.order.findIndex(e=>e.id===i[s].id),n.order),o(n)},function(){e&&e(s)}]};s(36069);let K=function({onGameEnd:e}){let{t}=(0,i.$G)(["main"]),s=[],[n,o,c]=J({onGameEnd:e}),l=n.game;s.push(a.jsx(Z,{courtesyTime:0,startTime:0,label:t("description.tiempo"),maxTime:l.maxTime},"tmC")),s.push((0,a.jsxs)("div",{children:[t("description.ordenruta"),":"]},0));for(let e=0;e<l.players.length;e++){let t="";r.zo.isPointsFiasco(l,n.order[e].zones[0])&&(t="blink foreColorRed"),s.push(a.jsx("div",{children:(0,a.jsxs)("div",{className:`controlTextContainerQueue rounded bold ${t}`,children:[n.order[e].name,": ",n.order[e].zones[0].totalPoints," ptos"]})},e+1))}s.push((0,a.jsxs)("p",{children:[t("description.puntos").toUpperCase(),":"]},l.players.length+1));for(let e=0;e<l.players.length;e++){let n,i=l.players[e],r=i.zones[0];s.push((0,a.jsxs)("div",{className:"playerInfo",children:[(0,a.jsxs)("div",{className:"headerPlayer importantNote rounded2 rounded",children:[a.jsx("div",{className:"bold",children:i.name}),t("description.total"),": ",r.totalPoints,n]}),a.jsx("div",{className:"controlTextContainer rounded rounded1",children:(0,H.Z)({controlTextValuesString:"controlTextValues",steps:p.wG.steps,maxValues:p.wG.maxValues,texts:p.wG.texts,zone:0,player:e,onValueChange:o})})]},l.players.length+e+2))}return s.push(a.jsx("button",{className:"importantNote",onClick:c,children:t("description.fin")},2*l.players.length+2)),a.jsx("div",{className:"gameContainer",children:s},2*l.players.length+3)};function W(e,t){let s={tickTime:0,forceAction:"",game:e};return r.zo.init(s.game,r.zo.getGameTypeControlTextValuesInit(s.game.gameType),r.zo.getGameTypeFiascoControlTextValuesInit(s.game.gameType),t),s}let X=function(e,t,s,a){let i=new w,{game:o,gameExtras:c}=n.useContext(Q.G),[l,d]=n.useState(()=>(window.scrollTo(0,0),W(o,!1))),m=l.game.players[s].zones[a];return n.useEffect(()=>{let e=l.game.players[s].zones[a];d({...l,tickTime:e.time,forceAction:"play"}),document.body.classList.add(r.zo.getGameTypeBodyClassName(o.gameType))},[]),[l,function(e){let t={...l};if(!e){let e=t.game.players[s].zones[a];e.simpathyPoints=0,c.onTimerChange(e)}m.time=e,d({...t,tickTime:e,forceAction:"play"})},function(e,t){let n={...l},o=n.game,m=o.players[s].zones[a],u=m.gateProgressionData[m.gateProgression];(!(o.maxPoints<=m.points&&o.maxPoints>0)&&!(o.maxTime<=l.tickTime&&o.maxTime>0)||m.points+e<=o.maxPoints&&0===m.fiascoControlTextValues.filter(e=>e>0).length)&&(u.controlTextValues=[...u.controlTextValues],u.controlTextValues[t]+=e,m.points+=e,m.gateProgression<o.gates[a]&&(u.gatePoints+=e),i.sendMessage(C,m.points),c.onChangeScore(m),d(n),r.zo.isFiasco(n.game,s,a)&&d({...l,forceAction:"pause"}))},function(){let e={...l};window.scrollTo(0,0),v.Z.event("play","reset",e.game.players[s].name),(e=W(e.game,!0)).forceAction="stop",d(t=>({...t,...e}))},function(){let t={...l},n=t.game,i=n.players;window.scrollTo(0,0),c.onEndPlayer(n,l.tickTime,s,a),t.forceAction="stop",d(t),v.Z.event("play","endPlayer",i[s].name),document.body.classList.remove(r.zo.getGameTypeBodyClassName(o.gameType)),e(t.game)},function(e){let t={...l},n=t.game.players[s].zones[a];n.gateProgression=e,i.sendMessage(N,n.gateProgression),e===t.game.gates[a]&&(t.forceAction="pause"),c.onGateProgressionChange(n),d(t)},function(e,t){let n={...l},i=n.game.players[s].zones[a];i.fiascoControlTextValues=[...i.fiascoControlTextValues],i.fiascoControlTextValues[t]+=e,i.fiascoControlTextValues[t]>0&&(n.forceAction="pause"),c.onFiascoChangeScore(),d(n)},function(){let e={...l},t=e.game.players[s].zones[a];t.simpathyPoints++,c.onPointBecauseLastMinute(t),d(e)},function(){d({...{...l},tickTime:o.maxTime+o.courtesyTime,forceAction:"pause"})},function(){let e={...l};e.game.players[s].zones[a].time=l.tickTime,e.forceAction="stop",d(e),t&&t(s,a)}]},Y=function({zoneIndex:e,playerIndex:t}){let s=a.jsx(a.Fragment,{}),{t:o}=(0,i.$G)(["main"]),{game:c}=n.useContext(Q.G),l=c.players[t],d=l.zones[e];return r.zo.isFiasco(c,t,e)&&(v.Z.event("play","fiasco",l.name),s=a.jsx("div",{className:"fiascoBox rounded importantNote",children:"FiASCO!"})),(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"playersList",children:(0,a.jsxs)("div",{className:"playerListItem importantNote rounded",children:[a.jsx("img",{src:l.avatar,alt:"avatar"}),l.name]})}),(0,a.jsxs)("div",{className:"controlTextContainer rounded rounded2",children:[(0,a.jsxs)("div",{className:"smallText",children:[o("description.zona"),": ",e+1]}),(0,a.jsxs)("div",{className:"smallText",children:[o("description.puertas"),": ",c.gates[e]]}),(0,a.jsxs)("div",{className:"smallText",children:["max ",o("description.tiempo"),": ",b.Z.printTime(b.Z.millisToTime(c.maxTime))]}),(0,a.jsxs)("div",{className:"smallText",children:["max ",o("description.puntos"),": ",c.maxPoints]}),(0,a.jsxs)("div",{className:"bold pointsText",children:[o("description.total"),": ",d.totalPoints]}),s]})]})},ee=function(){let[e,t]=n.useState(0),[s,i]=n.useState({}),r=new w,o=new z;function c(e){i(e),t(1),r.listenMessages(P,l),r.listenMessages(A,d),r.listenMessages(G,m),r.listenMessages(C,u),r.listenMessages(N,p)}function l(){o.sendStart()}function d(){o.sendStop()}function m(e){o.sendTime(e.detail)}function u(e){o.sendPoints(e.detail)}function p(e){o.sendGates(e.detail)}return 0===e?a.jsx("div",{className:"controlText",onClick:function(){o.discoverDevice(c)},children:"Discover Bluetooth Device"}):a.jsx("div",{className:"controlText",children:s.name})},et=function({playerZone:e,forceAction:t,setRepairStatus:s,onTimerChange:r,onTimeFiasco:o,onPointBecauseLastMinute:c}){let{t:l}=(0,i.$G)(["main"]),{game:d}=n.useContext(Q.G);return(0,a.jsxs)("div",{className:"controlTextContainer rounded rounded2",children:[b.Z.isIphone()?a.jsx(a.Fragment,{}):a.jsx(ee,{}),d.courtesyTime>0?(0,a.jsxs)("div",{className:"pointsText",children:[l("description.puntos")," ",l("description.portiempo"),": ",e.simpathyPoints]}):a.jsx(a.Fragment,{}),a.jsx("button",{className:"repairButton importantNote",onClick:s,children:l("description.iniciarreparacion")}),a.jsx(Z,{courtesyTime:d.courtesyTime,startTime:e.time,label:l("description.tiempo"),forceAction:t,onTimerChange:r,onTimeFiasco:o,onPointBecauseLastMinute:c,maxTime:d.maxTime})]})};var es=s(90307);s(44185),s(59919);let ea=function({playerIndex:e,zoneIndex:t,onGateProgressionChange:s}){let{t:o}=(0,i.$G)(["main"]),{game:c,gameExtras:l}=n.useContext(Q.G),d=(0,es.u7)(es.ZP);function m(a){let n="gatesPlusButton"===a.target.id,i=c.players[e].zones[t],r=c.gates[t];n?i.gateProgression<r&&s(i.gateProgression+1):i.gateProgression>0&&s(i.gateProgression-1)}let u=c.players[e].zones[t];return(0,a.jsxs)("div",{className:"gateProgressionContainer controlTextContainer info rounded rounded2",children:[o("description.avancepuerta"),": ",u.gateProgression,a.jsx("button",{id:"gatesPlusButton",onClick:m,className:"buttonControlTextPlus",children:"+"}),a.jsx("button",{id:"gatesMinusButton",onClick:m,className:"buttonControlTextMinus",children:"-"}),a.jsx(d,{step:1,min:0,max:c.gates[t],dots:!0,vertical:c.gameType===r.Oh,value:u.gateProgression,onChange:s,marks:l.generateSliderMarksFromGates(u.gateProgressionData,u.gateProgression),tipFormatter:e=>u.gateProgression<c.gates[t]?String(e).concat("-").concat(u.gateProgressionData[u.gateProgression].gatePoints):"-"})]})};s(34225);let en=function({children:e,onGameEnd:t,onRepair:s,playerIndex:r,zoneIndex:o}){let{t:c}=(0,i.$G)(["main"]),l=[],[d,m,u,p,g,x,h,j,f,T]=X(t,s,r,o),v=d.game,b=v.players[r],y=b.zones[o];return e.length&&(l.push(n.cloneElement(e[0],{onValueChange:u})),e[2]?(l.push(n.cloneElement(e[1],{onValueChange:h})),l.push(n.cloneElement(e[2]))):l.push(n.cloneElement(e[1])),e[3]&&l.push(n.cloneElement(e[3]))),(0,a.jsxs)("div",{className:"gameContainer",children:[a.jsx(Y,{playerIndex:r,zoneIndex:o}),a.jsx(et,{playerZone:y,forceAction:d.forceAction,setRepairStatus:T,onTimerChange:m,onTimeFiasco:f,onPointBecauseLastMinute:j}),a.jsx(ea,{playerIndex:r,zoneIndex:o,onGateProgressionChange:x}),(0,a.jsxs)("div",{className:"controlTextContainer rounded rounded2",children:[l[2],y.gateProgression<v.gates[o]?l[0]:a.jsx(a.Fragment,{}),y.gateProgression<v.gates[o]?l[1]:a.jsx(a.Fragment,{})]}),l[3],a.jsx("button",{onClick:p,className:"resetButton",children:c("description.reset")}),(0,a.jsxs)("button",{className:"importantNote",onClick:()=>{g()},children:[c("description.finjugador")," (",b.name,")"]}),a.jsx("p",{})]})},ei=function({game:e,player:t,zone:s,onGameEnd:i,onRepair:r,gameExtras:o,children:c}){let[l,d]=n.useState(e),m=[];return n.useEffect(()=>{o.doPageView()},[]),1!==l.gameType?m.push(a.jsx(en,{onGameEnd:e=>{i(e)},onRepair:r,playerIndex:t,zoneIndex:s,children:c},1)):m.push(a.jsx(K,{onGameEnd:e=>{i(e)},onRepair:r},0)),a.jsx(Q.G.Provider,{value:{game:l,setGame:d,gameExtras:o},children:m})};var er=s(39970);let eo={src:"/_next/static/media/iconFiasco.2d816ec2.png",height:20,width:20,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAXVBMVEXx8fHv7+/s7Ozr6+vn5+fd3d3b29vZ2dnY2Nj19fXe3d0AAADCwsLW1tbl5eXk5OTa2trk5OTZ2dno6Oju7u7j4+Po6Oj8/Pzn5+fb29vw8PDh4eH5+fnv7+/09PTplhA8AAAAH3RSTlMAAAAAAAAAAAABAQIGCRQVFRccHiIiJC0xMTY3SlNaSM9/+AAAAEFJREFUeNoFQIMRwDAA/Cq2vf+YPfALteLiuM1Z65gbzy5Slv0gDZWzGgmxvd6/LeKb3do+PxDdQ+iaQFDmHKPiB4oGA9U4Mn9uAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},ec={src:"/_next/static/media/iconWinner.ab3194f6.png",height:19,width:19,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAvUlEQVR42l2NywqCUBCGR4sIgi67HqBVq9a5aBk+QdTWJ3DfOno/RV2c40kRFFEUb6CrfoNT0Ac/wwwz31DTNCqBsix3bdse67o+CSE+syzLFBpJkmTbdZ05DMO97/tHVVU653xOElzrMBkEUGdYeIZhuCFJmqZanuc3AkVRrKE2GWM/g+/7C7w5x3FsjImi6GBb1lTqFQIvIS7Q6sgV2RMIgkD9GnzOdc91l5wxjSEEMFPoH9txJp7nrWT/BtDNef5t3HscAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},el={src:"/_next/static/media/iconBattery.be8f0f3d.png",height:20,width:20,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAzUlEQVR42oVPsQqCUBR9GW8PGtxb+oKKhmhu6ouiL3BqbCki+wIXDZyfhDmkIojo0HsqKqLgpq/r0lgH7nAP555zD+pRVZXQti0OwxAbhoEty8KmaeK6rgeIcy6gfyjLctF13S1N06Pv+2dwOgVBcAF+glzXnRZF8W6ahlNK72C9dxxHAv4AESsE6jVjjMdxzJMkkUA8z7JsA7OFfYl62La9i6KIG4R4iqI8NE17qqr68jxv9v2DEDKCiHGe5yJci5Qx8SrLQ6Tr+uBXgQ8Lc4cbeab7lwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};var ed=s(23790);async function em({game:e,isDraw:t}){let{t:s}=await (0,er.$)("es","main"),n=[],i=b.Z.tokenToTexts(s,o.zR.texts),p=0,g=0;switch(e.gameType){case r.UZ:i=b.Z.tokenToTexts(s,c.nz.texts);break;case r.HF:i=b.Z.tokenToTexts(s,l.$z.texts);break;case r.uG:i=b.Z.tokenToTexts(s,d.UC.texts);break;case r.Jo:i=b.Z.tokenToTexts(s,m.Kp.texts);break;case r.Oh:i=b.Z.tokenToTexts(s,u.GQ.texts);break;default:i=b.Z.tokenToTexts(s,o.zR.texts)}function x(e){let t=e.target;(t="IMG"===t.tagName?t.parentElement:t).parentElement.nextElementSibling.classList.toggle("closed")}return n.push((0,a.jsxs)("tr",{children:[a.jsx("td",{}),a.jsx("td",{className:""}),a.jsx("td",{children:s("description.puntos")}),a.jsx("td",{children:s("description.puertas")}),a.jsx("td",{children:s("description.bonificacion")}),(0,a.jsxs)("td",{children:[s("description.puntos")," ",s("description.portiempo")]}),a.jsx("td",{})]},`game${new Date().getMilliseconds()}`)),e.players.forEach(o=>{n.push((0,a.jsxs)("tr",{children:[t?a.jsx("td",{}):a.jsx("td",{className:"bold gameListPosition",children:0===p?a.jsx("img",{src:ec,alt:"winner"}):p+1}),1===e.gameType?a.jsx("td",{className:"bold gameListPlayerName gameListPoints bold textOverflow",children:o.name}):a.jsx("td",{className:"bold gameListPlayerName gameListPoints bold withTime textOverflow",children:o.name}),a.jsx("td",{className:"bold gameListPoints",children:o.totalPoints}),a.jsx("td",{className:"gameListPoints",children:"."}),a.jsx("td",{className:"gameListPoints",children:"."}),a.jsx("td",{className:"gameListPoints",children:"."}),1!==e.gameType?a.jsx("td",{className:"bold gameListPoints gameListTime",children:o.totalTime?b.Z.printTime(b.Z.millisToTime(o.totalTime)):a.jsx(a.Fragment,{children:"00:00:000"})}):a.jsx(a.Fragment,{})]},`header${g+p}`)),o.zones.forEach(t=>{let l;l=t.fiascoControlTextValues?t.fiascoControlTextValues[4]?a.jsx("img",{src:el,alt:"battery"}):e.maxTime&&t.time===e.maxTime+e.courtesyTime||e.maxPoints&&t.totalPoints===e.maxPoints||t.fiascoControlTextValues.filter(e=>e>0).length>0?a.jsx("img",{src:eo,alt:"fiasco"}):a.jsx(a.Fragment,{}):t.battery?a.jsx("img",{src:el,alt:"fiasco"}):e.maxTime&&t.time===e.maxTime+e.courtesyTime||e.maxPoints&&t.totalPoints===e.maxPoints?a.jsx("img",{src:eo,alt:"battery"}):a.jsx(a.Fragment,{}),n.push((0,a.jsxs)("tr",{children:[a.jsx("td",{children:l}),(0,a.jsxs)("td",{onClick:x,children:[`${s("description.zona")} ${g%o.zones.length+1}`,a.jsx("img",{className:"iconArrowDown",src:ed.Z,alt:"click open"})]}),a.jsx("td",{className:"gameListPoints",children:t.totalPoints}),a.jsx("td",{className:"gameListPoints",children:t.gateProgression}),a.jsx("td",{className:"gameListPoints",children:t.gatesWithBonification?-2*t.gatesWithBonification:"0"}),a.jsx("td",{className:"gameListPoints",children:t.simpathyPoints?t.simpathyPoints:"0"}),1!==e.gameType?a.jsx("td",{className:"gameListTime",children:b.Z.printTime(b.Z.millisToTime(t.time))}):a.jsx(a.Fragment,{})]},`row0${g+p+1}`)),n.push(a.jsx("tr",{className:"closed",children:(0,a.jsxs)("td",{colSpan:7,children:[0!==t.handicap?(0,a.jsxs)("div",{className:"controlTextValues",children:[s("description.bonificacionaccesorios"),": ",t.handicap]}):a.jsx(a.Fragment,{}),a.jsx(L,{controlTextValues:r.zo.sumControlTextValues(t.gateProgressionData),texts:i}),t.fiascoControlTextValues&&t.fiascoControlTextValues.filter(e=>e>0).length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"left bold",children:[s("points.fiascos"),":"]}),a.jsx(L,{controlTextValues:t.fiascoControlTextValues,texts:b.Z.tokenToTexts(s,c.nz.fiascoTexts)})]}):a.jsx(a.Fragment,{})]})},`row1${g+p+2}`)),g++}),p++}),a.jsx("div",{"data-testid":"gameParticipants",className:"gameParticipants",children:a.jsx("table",{children:a.jsx("tbody",{children:n})})})}let eu=function({location:e}){return a.jsx("div",{className:"mapouter",children:(0,a.jsxs)("div",{className:"gmap_canvas",children:[a.jsx("iframe",{"data-testid":"gmap_canvas",title:"googleMapsLocation",id:"gmap_canvas",src:`https://maps.google.com/maps?q=${e.latitude},${e.longitude}&t=&z=13&ie=UTF8&iwloc=&output=embed`,frameBorder:"0",scrolling:"no",marginHeight:"0",marginWidth:"0"}),a.jsx("style",{children:".mapouter{position:relative;text-align:right;}"}),a.jsx("style",{children:".gmap_canvas {overflow:hidden;background:none!important;}"})]})})};async function ep({game:e}){let{t}=await (0,er.$)("es","main");return(0,a.jsxs)("div",{className:"gameHeaderInfo rounded",children:[(0,a.jsxs)("div",{className:"gameGameType",children:[t("gametype.modojuego"),": ",a.jsx("span",{className:"bold",children:t(r.zo.resolveGameTypeName(e.gameType))})]}),(0,a.jsxs)("div",{className:"gamePointsType",children:[t("description.zonas"),": ",a.jsx("span",{className:"bold",children:e.zones})]}),a.jsx("div",{className:"gameIsPublic",children:a.jsx("span",{className:"bold",children:e.isPublic?t("description.esPublica"):""})}),e.location&&e.location.longitude&&e.location.longitude?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"gameName",children:[t("description.localizacion")," :"]}),a.jsx(eu,{location:e.location})]}):a.jsx(a.Fragment,{}),a.jsx("div",{className:"gamePointsType",children:e.maxPoints>0?`${t("description.puntosmaximo")}: ${e.maxPoints}`:""}),a.jsx("div",{className:"gamePointsType",children:e.maxTime>0?`${t("description.tiempomaximo")}: ${b.Z.printTime(b.Z.millisToTime(e.maxTime))}`:""})]})}s(43265);var eg=s(32639),ex=s(85928);async function eh({game:e}){let{t}=await (0,er.$)("es","main");return ej(e)?a.jsx("div",{className:"",children:t("description.empate")}):(0,a.jsxs)(a.Fragment,{children:[t("description.ganador"),": ",a.jsx("b",{children:e.players[0].name})]})}function ej(e){return e.players.length>1&&e.players[0].totalPoints===e.players[1].totalPoints&&e.players[0].totalTime===e.players[1].totalTime&&(!e.players[0].totalGateProgression||e.players[0].totalGateProgression===e.players[1].totalGateProgression)}async function ef({game:e}){let{t}=await (0,er.$)("es","main");return e.players?(0,a.jsxs)("div",{className:"gameContainer",children:[a.jsx("div",{className:"winnerBox importantNote rounded",children:a.jsx(eh,{game:e})}),(0,a.jsxs)("div",{className:"gameList rounded rounded2",children:[a.jsx(ep,{game:e}),a.jsx(em,{game:e,isDraw:ej(e)}),e.isPublic&&a.jsx(eg.Z,{url:`gameviewer?gid=${e.gid}`,text:`${t("description.resolverjuego")} ${e.name}`,headerText:t("description.compartir")})]})]}):a.jsx(ex.Z,{className:"centerText"})}s(10713);var eT=s(7872);let ev=function(e,t){let[s,a]=n.useState(0),[o,c]=n.useState(e),[l,d]=n.useState([]),m=n.useRef([]),[u,p]=n.useState(-1),x=window.crawlear.fb,{t:T}=(0,i.$G)(["main"]),[v,y]=n.useState({name:"",avatar:"",group:0,id:0,zones:[],uid:""});return n.useEffect(()=>{eT.s?d(r.zo.createGameProgression(o.zones,o.players.length)):x.getGameProgression(o.gid,()=>{},()=>{},(e,t)=>{let s={};s[e]=t,c(g.updateGameFromProgression(t,o)),m.current={...m.current,...s},d({...m.current,...s})},(e,t)=>{let s={};s[e]=t,c(g.updateGameFromProgression(t,o)),m.current={...m.current,...s},d({...m.current,...s})})},[]),[s,o,l,d,v,u,function(e,t){let s=e.id,n=e.group;a(1),y(e),p(t),l[n][s][t].status=h,d(l),x.setGameProgression(o.gid,s,n,t,l[n][s][t])},function(e,s){if(g.isGroupGameFinished(e,l,s)&&window.confirm(T("content.cerrarpartida"))&&!eT.s)x.getGameResult(e,e=>{let s={...e};s.gameStatus=2,t.onGameEnd(s),s=b.Z.getOrderedGameResult(s),x.updateGame(s),x.removeGameProgression(s.gid),c(s),a(2)},()=>{});else if(eT.s){let t=b.Z.getOrderedGameResult(e);c(r.zo.getGameResult(t,l)),a(2)}},function(e){if(g.isIndividualGame(o)){t.onGameEnd(o);let e=b.Z.getOrderedGameResult(o);e.gameStatus=2,x.updateGame(e),x.removeGameProgression(e.gid),x.removeDirectorPresenceRequest(e.gid),a(2),c(e)}else{let t=v.id,s=v.group,n={...l},i={...o};n[s][t][u].status=f,n[s][t][u].data=e.players[t].zones[u],n[s][t][u].data.judgedBy||(n[s][t][u].data.judgedBy=[]),n[s][t][u].data.judgedBy.push(window.crawlear.user.uid),d(n),i.players[t].zones[u]=n[s][t][u].data,x.setGameProgression(i.gid,t,s,u,n[s][t][u]),a(0),c(i)}},function(e,t){let s={...l},n=o.players[e],i=n.group,r=n.id;s[i][e][t].status=j,s[i][e][t].repairData={setTime:new Date().getTime()},s[i][e][t].data=n.zones[t],d(s),x.setGameProgression(o.gid,r,i,t,s[i][r][t]),a(0)}]};s(93605);let eb=function({inGame:e,onBackButtonClick:t}){let s=a.jsx(a.Fragment,{}),{t:o}=(0,i.$G)(["main"]),c=g.getGameExtras(e.gameType),[l,d,m,u,p,x,h,j,f,T]=ev(e,c),v=g.getGameContent(d.gameType,p.id,x),[b]=n.useState(()=>g.getGroupFromJid(d,window.crawlear.user.uid));return 0===l?s=d.gameType===r.te?a.jsx(ei,{game:d,onGameEnd:f,gameExtras:c}):a.jsx(R.Provider,{value:[m,u],children:a.jsx(q,{game:d,gameProgression:m,jidGroup:b,onBeginGame:h,onBackButtonClick:t,onCloseButonClick:j})}):1===l?s=a.jsx(ei,{player:p.id,zone:x,game:d,gameExtras:c,onGameEnd:f,onRepair:T,children:v}):2===l&&(s=(0,a.jsxs)("div",{className:"gameList",children:[a.jsx(ef,{game:d}),a.jsx("button",{className:"backButton",onClick:t,children:o("description.atras")})]})),s}},32639:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var a=s(10326),n=s(17577);let i=(e,t,s)=>{(0,n.useEffect)(()=>{let a=document.getElementById(t),n=document.createElement("script");return a||(n.id=t,n.src=e,n.async=!0,s&&(n.onload=s),document.body.appendChild(n)),()=>{n.parentElement&&document.body.removeChild(n)}},[e])};s(86017);let r=function({url:e,text:t}){return n.useEffect(()=>{document.getElementById("fb-root")?window.FB&&window.FB.XFBML&&window.FB.XFBML.parse():document.createElement("div").id="fb-root"},[]),i("https://connect.facebook.net/es_ES/sdk.js#xfbml=1&version=v14.0","fb-root-script"),a.jsx("div",{className:"fb-share-button","data-href":e,"data-layout":"button","data-size":"small",children:a.jsx("a",{target:"_blank",rel:"noreferrer",href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}&amp;src=sdkpreparse`,className:"fb-xfbml-parse-ignore",children:t})})};s(68248);let o=function({url:e,text:t}){return n.useEffect(()=>{var e,t,s,a,n,i;window.twttr=(t="script",s="twitter-wjs",n=(e=document).getElementsByTagName(t)[0],i=window.twttr||{},e.getElementById(s)?window.twttr&&window.twttr.widgets&&window.twttr.widgets.load():((a=e.createElement(t)).id=s,a.src="https://platform.twitter.com/widgets.js",n.parentNode.insertBefore(a,n),i._e=[],i.ready=function(e){i._e.push(e)}),i)},[]),a.jsx("a",{className:"twitter-share-button",href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(e)}&text=${encodeURI(t)}`,"data-size":"large",children:"Tweet"})};var c=s(28186);let l={src:"/_next/static/media/telegramLogo.d10373b4.png"};s(26325);let d=function({url:e,text:t}){let s=`https://telegram.me/share/url?url=${encodeURIComponent(e)}&text=${encodeURI(t)}`;return a.jsx("a",{onClick:function(){c.Z.event("share","telegram",s)},href:s,target:"_blank",rel:"noreferrer",children:a.jsx("img",{className:"telegramLogo",src:l.src,alt:"Telegram logo"})})},m={src:"/_next/static/media/whatsappLogo.9aa0280f.svg"};s(54730);let u=function({url:e,text:t}){let s=`https://api.whatsapp.com/send?text=${encodeURI(t)} ${encodeURIComponent(e)}`;return a.jsx("a",{rel:"noreferrer",onClick:function(){c.Z.event("share","whatsapp",s)},href:s,target:"_blank","data-action":"share/whatsapp/share",children:a.jsx("img",{className:"whatsappLogo",src:m.src,alt:"whatsapp logo"})})},p=function({url:e,text:t,headerText:s}){return(0,a.jsxs)("div",{className:"sharerContainer",children:[a.jsx("div",{className:"bold shareProfileText",children:s}),(0,a.jsxs)("div",{className:"sharers",children:[a.jsx(r,{url:`https://crawlear.com/${e}`,text:t}),a.jsx(o,{url:`https://crawlear.com/${e}`,text:t}),a.jsx(u,{url:`https://crawlear.com/${e}`,text:t}),a.jsx(d,{url:`https://crawlear.com/${e}`,text:t})]})]})}},34225:()=>{},93605:()=>{},36069:()=>{},9800:()=>{},91401:()=>{},6184:()=>{},59919:()=>{},86017:()=>{},26325:()=>{},68248:()=>{},54730:()=>{},37984:()=>{},43265:()=>{},7081:()=>{},10713:()=>{}};