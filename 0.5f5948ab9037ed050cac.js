"use strict";(self.webpackChunkcrawlear_com=self.webpackChunkcrawlear_com||[]).push([[0],{79e3:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var r=a(96540),n=a(18492),l=a(47767),o=a(76367),i=a(78984);function c(e){return window.crawlear.fbBase.isUserLogged()&&window.crawlear&&window.crawlear.user&&window.crawlear.user.uid===e}const s=function(e){let{user:t,onLogout:a}=e;const{t:s}=(0,n.B)(["main"]),u=window.crawlear.fb,d=window.crawlear.fbBase,m=(0,l.Zp)(),[E,f]=r.useState(t.displayName),[p,g]=r.useState(t.description),[w,v]=r.useState(t.instagram),{isUserLoged:_}=r.useContext(i.F),[h,b]=r.useState(-1),U=[];return r.useEffect((()=>{_&&!c(t.uid)&&u.getFidFromFollow(window.crawlear.user.uid,t.uid,(e=>{b(e)}),(()=>{}))}),[_]),_&&!c(t.uid)&&(-1!==h?U.push(r.createElement("div",{key:"followAction",className:"follow",onClick:function(){u.removeFollow(h,(()=>{b(-1)}),(()=>{}))}},s("description.unfollow"))):U.push(r.createElement("div",{key:"followAction",className:"follow",onClick:function(){u.setFollow(window.crawlear.user.uid,t.uid,(e=>{e&&b(e)}),(()=>{}))}},s("description.follow")))),r.createElement("div",{className:"userProfileContainer rounded rounded2"},r.createElement("div",{className:"userProfilePhotoContainer"},_&&c(t.uid)?r.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:t.photoURL,alt:"user avatar"}):r.createElement("a",{href:"https://crawlear.com/profile?uid=".concat(t.uid)},r.createElement("img",{referrerPolicy:"no-referrer",className:"photo",src:t.photoURL,alt:"user avatar"})),r.createElement("div",{className:"sharerContainer"},c(t.uid)?r.createElement("div",{className:"logout",onClick:()=>{window.crawlear.fb.logout(),a&&a(),m("/")}},"Logout"):r.createElement(r.Fragment,null),U)),r.createElement("div",{className:"userProfileInlineContainer"},r.createElement("div",{className:"name"},r.createElement("input",{type:"text",className:"bold textOverflow hidenInput",readOnly:!_||!c(t.uid),value:E,onChange:function(e){const a=e.target.value;c(t.uid)&&a!==E&&a.length>0&&f(a)},onBlur:function(e){const a=e.target.value;c(t.uid)&&t.displayName!==a&&a.length>0&&(t.displayName=a,f(a),d.setUser(t,(()=>{}),(()=>{})))}})),c(t.uid)?r.createElement("div",{className:"registrationDate"},r.createElement("span",{className:"bold"},s("description.registro")),": ",new Date(t.registrationDate).toLocaleDateString()):r.createElement(r.Fragment,null),r.createElement("div",{className:"description"},c(t.uid)?r.createElement("span",{className:"bold"},s("description.descripcion"),":"):r.createElement(r.Fragment,null),r.createElement("textarea",{type:"text",readOnly:!_||!c(t.uid),className:"hidenInput textOverflow",value:p,onChange:function(e){const a=e.target.value;c(t.uid)&&a!==p&&g(a)},onBlur:function(e){const a=e.target.value;c(t.uid)&&t.description!==a&&(t.description=a,g(a),d.setUser(t,(()=>{}),(()=>{})))}})),(!_||!c(t.uid))&&w||c(t.uid)?r.createElement("div",{className:"instagram"},r.createElement("div",{className:"bold"},"Instagram: "),c(t.uid)?r.createElement("input",{type:"text",className:"textOverflow hidenInput",readOnly:!_||!c(t.uid),value:w,onChange:function(e){const a=e.target.value;c(t.uid)&&a!==w&&v(a)},onBlur:function(e){const a=e.target.value;c(t.uid)&&t.instagram!==a&&(t.instagram=a,v(a),d.setUser(t,(()=>{}),(()=>{})))}}):w?r.createElement("a",{href:"https://www.instagram.com/".concat(w,"/"),target:"_blank"},"@",w):r.createElement(r.Fragment,null)):r.createElement(r.Fragment,null),r.createElement(o.default,{url:"profile?uid=".concat(t.uid),headerText:s("content.comparteenredespiloto"),text:s("content.shareProfileText")}),c(t.uid)?r.createElement("div",{className:"userProfileHelper"},r.createElement("p",null,r.createElement("span",{className:"bold"},s("description.ayuda"),":")," ",s("content.editprofile"))):r.createElement(r.Fragment,null)))};var u=a(25448);var d=a(5507);const m=function(e){let{onVisible:t}=e;const a=r.useRef(null),[n,l]=r.useState(!1),[o,i]=r.useState(!1);return r.useEffect((()=>{l(!0)}),[]),((e,t)=>{(0,r.useEffect)((()=>{if(e){const a=new IntersectionObserver((e=>{t(e[0].isIntersecting)}),{});return a.observe(e),()=>{e&&a.unobserve(e)}}}),[e])})(a.current,(e=>{!o&&e&&(i(!0),t(!0))})),r.createElement("div",{className:"loadingLogo"},r.createElement("a",{href:"https://crawlear.com",target:"_blank",rel:"noreferrer"},r.createElement("img",{ref:a,src:d,className:"notLoggedLogo",alt:"web logo"})),r.createElement("br",null),r.createElement(u.default,null))};var E=a(22585),f=a.n(E);const p=function(e){let{uid:t,onLogout:a}=e;const{t:l}=(0,n.B)(["main"]),o=window.crawlear.fbBase,[i,c,u,p,g]=f()(t);if(i.registrationDate&&u){let e=g(c);return r.createElement("div",{className:"userViewer"},o.isUserLogged()?r.createElement(r.Fragment,null,r.createElement("div",{className:"headerText bold sectionTitle"},l("description.perfilsocial"))):r.createElement("a",{href:"https://crawlear.com",target:"_blank"},r.createElement("img",{src:d,className:"notLoggedLogo",alt:"web logo"})),r.createElement(r.Fragment,null,r.createElement(s,{onLogout:a,user:i}),r.createElement("div",{className:"statistics rounded rounded3"},r.createElement("div",{className:"headerText bold"},l("description.estadisticas")),r.createElement("div",null,l("description.partidasdejuez"),": ",c.judgeGames||0),r.createElement("div",null,l("description.partidascomopiloto"),": ",c.pilotGames||0),r.createElement("div",null,l("description.rutas"),": ",c.routes||0),r.createElement("p",{className:"bold"},e===E.USER_TYPE_JUDGE?l("description.tendenciajuez"):e===E.USER_TYPE_PILOT?l("description.tendenciapiloto"):e===E.USER_TYPE_ROUTE?l("description.tendenciaruta"):l("description.tendencianeutral")),r.createElement("p",null))))}return r.createElement(m,{onVisible:p})}},22585:function(e,t,a){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return l(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.USER_TYPE_ROUTE=t.USER_TYPE_NEUTRAL=t.USER_TYPE_JUDGE=t.USER_TYPE_PILOT=void 0;var c=o(a(96540)),s=i(a(99952));t.USER_TYPE_PILOT=0,t.USER_TYPE_JUDGE=1,t.USER_TYPE_NEUTRAL=2,t.USER_TYPE_ROUTE=3,t.default=function(e){var a=window.crawlear.fb,n=c.useState({uid:"",displayName:"",description:"",instagram:"",photoURL:"",registrationDate:""}),l=n[0],o=n[1],i=c.useState({judgeGames:0,pilotGames:0,routes:0}),u=i[0],d=i[1],m=c.useState(!1),E=m[0],f=m[1];return c.useEffect((function(){e&&E&&(a.getUser(e,(function(t){o(r({},t)),a.getUserExtraData(e,(function(e){d(e)}))})),E&&s.default.pageview("".concat(document.location.pathname).concat(document.location.search)))}),[E,e]),[l,u,E,function(e){e&&f(e)},function(e){return e.routes>e.judgeGames+e.pilotGames?t.USER_TYPE_ROUTE:e.judgeGames-e.pilotGames>0?t.USER_TYPE_JUDGE:e.judgeGames-e.pilotGames==0?t.USER_TYPE_NEUTRAL:t.USER_TYPE_PILOT}]}}}]);