"use strict";(self.webpackChunkcrawlear_com=self.webpackChunkcrawlear_com||[]).push([[9309],{2617:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var n=a(96540),r=a(788),o=a(18492),i=a(85072),l=a.n(i),c=a(97825),s=a.n(c),u=a(77659),m=a.n(u),d=a(55056),p=a.n(d),g=a(10540),f=a.n(g),h=a(41113),v=a.n(h),y=a(17729),E={};E.styleTagTransform=v(),E.setAttributes=p(),E.insert=m().bind(null,"head"),E.domAPI=s(),E.insertStyleElement=f(),l()(y.A,E),y.A&&y.A.locals&&y.A.locals;const x=function(e){let{onGameTypeChange:t,selectedGameType:a=0,selectedPointsType:r=0}=e;const{t:i}=(0,o.B)(["main"]),l=[i("gametype.aecar"),i("gametype.rey"),i("gametype.isrcc"),i("gametype.levante124"),i("gametype.copaespana"),i("gametype.minicrawlerpassion"),i("gametype.generic")],c=[n.createElement("div",null,i("gametype.modojuegoarcar")),n.createElement("div",null,i("gametype.modojuegorey")),n.createElement("div",null,i("gametype.modojuegoisrcc")),n.createElement("div",null,i("gametype.modojuegolevante124")),n.createElement("div",null,i("gametype.modojuegocopaespana")),n.createElement("div",null,i("gametype.modojuegominicrawlerpassion")),n.createElement("div",null,i("gametype.modojuegogeneric"))],[s,u]=n.useState({gameType:a}),m=[];return l.forEach(((e,t)=>{m.push(n.createElement("option",{key:t,value:t},l[t]))})),n.createElement(n.Fragment,null,n.createElement("div",{className:"gameType rounded1 rounded"},n.createElement("label",{htmlFor:"gameTypeSelect",className:"headerText bold"},i("gametype.modojuego"),n.createElement("select",{id:"gameTypeSelect",defaultValue:a,onChange:function(e){const a=e.target.selectedIndex;t&&t(a),u({gameType:a})}},m)),n.createElement("div",{className:"gameSelectText smallText"},c[s.gameType])))};var b=a(13717),T={};T.styleTagTransform=v(),T.setAttributes=p(),T.insert=m().bind(null,"head"),T.domAPI=s(),T.insertStyleElement=f(),l()(b.A,T),b.A&&b.A.locals&&b.A.locals;const w=function(e){let{player:t,i:a,onRemovePlayer:r,onClickPlayer:i,onGroupChange:l,maxGroups:c,editMode:s,isForJudge:u,onGameDirectorChange:m}=e;const{t:d}=(0,o.B)(["main"]),p=[];if(s){const e=[];for(let a=0;a<c;a++)e.push(n.createElement("option",{key:"group".concat(t.name).concat(a),value:a},d("description.grupo")," ",a+1));p.push(n.createElement("button",{key:"remove".concat(t.name).concat(a),className:"buttonControlTextMinus",id:a,onClick:function(e){e.stopPropagation(),r&&r(e)}},"-")),p.push(n.createElement("div",{key:"groupSelection".concat(t.name).concat(a)},n.createElement("select",{value:t.group,onChange:function(e){const a=e.target.selectedIndex;l&&l(t.id,a)}},e))),u&&p.push(n.createElement("div",{key:"gameDirectorCheck{player.name}".concat(a)},n.createElement("input",{type:"checkbox",onChange:function(e){m&&m(t.id,e.target.checked)}}),n.createElement("span",{className:"PlayerItemGameDirector"},d("description.directordepartida"))))}return n.createElement("li",{key:t.name,onClick:function(){i&&i(t.id)},className:"closed importantNote rounded playerListItem",value:t.name},n.createElement("div",{className:"playerBox"},n.createElement("img",{referrerPolicy:"no-referrer",src:t.avatar,alt:"avatar"}),n.createElement("div",{className:"textOverflow"},t.name),p))};var P=a(71698),_=a.n(P);a(74469);const C=a.p+"9f5743cc8ab0daaa6f24.png",A=function(e){let{onUserSeachPlayerAdd:t,gameName:a,isForJudge:r}=e;const i=window.crawlear.fb,l=window.crawlear.fbBase,{t:c}=(0,o.B)(["main"]),s=n.useRef(0),[u,m]=n.useState(0),d=[];return s.current>0&&d.push(n.createElement("div",{key:0},s.current," ",c("description.peticionespendientes"))),n.createElement(_(),{onUserSeachPlayerAdd:function(e){let{uid:n,displayName:r,photoURL:o}=e;if(n&&(n===window.crawlear.user.uid||window.confirm(c("content.peticionjuegoconfirmacion"))))if(n===window.crawlear.user.uid){const e=window.crawlear.user;t({uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,group:0})}else i.setUserGameRequest(window.crawlear.user.uid,window.crawlear.user.displayName,n,a,((e,a)=>{"pending"===a?(s.current+=1,m(u+1)):"accepted"===a?(t({uid:n,displayName:r,photoURL:o,group:0}),s.current-=1,m(u-1)):(s.current-=1,m(u-1))}))},onPlusAddUserClick:r?void 0:t,mainText:l.isUserLogged()?c("content.usuariodesistema"):c("content.usuarionosistema"),secondaryText:"".concat(c("content.enviorequest"),". ").concat(c("content.enviorequest2")),iconSend:C},d)};var N=a(38791),G=a(42298),S={};S.styleTagTransform=v(),S.setAttributes=p(),S.insert=m().bind(null,"head"),S.domAPI=s(),S.insertStyleElement=f(),l()(G.A,S),G.A&&G.A.locals&&G.A.locals;const k=function(e){let{inPlayers:t,onPlayerNumerChange:a,onGameDirectorChange:r,gameName:i,isForJudge:l,maxGroups:c}=e;const[s,u]=n.useState(t||[]),{t:m}=(0,o.B)(["main"]);function d(e){N.default.event("menu","removePlayer",s[e.target.id].name),delete s[e.target.id];const t=s.filter((e=>e));u(t),a&&a(t)}function p(e,t){const a=[...s];a[e].group=t,u(a)}function g(e,t){r&&r(e,t)}let f=s.length?m("description.jugadores"):n.createElement("div",{className:"formError"},m("error.nojugadores")," ");return l&&(f=s.length?m("description.jueces"):n.createElement("div",{className:"formError"},m("description.nojueces")," ")),n.createElement(n.Fragment,null,n.createElement("div",{className:"players rounded rounded1"},n.createElement("div",{className:"headerText bold"},m(l?"description.jueces":"description.jugadores")),n.createElement(A,{isForJudge:l,onUserSeachPlayerAdd:function(e){const t=e.displayName;!t||0===t.trim().length||s.find((t=>t.uid===e.uid&&e.uid.length>0))||l&&!e.uid||(s.push({id:s.length,uid:e.uid||"",name:t,avatar:e.photoURL||"".concat("https://eu.ui-avatars.com/api/?background=345B63&color=FFFFFF&name=").concat(t),group:0,time:0,points:0,battery:!1}),N.default.event("menu","addPlayer",t),a&&a(s))},gameName:i}),n.createElement("div",{className:"headerText"},m(l?"description.juecesenpartida":"description.usuariosenpartida")),n.createElement("ul",{className:"playersList"},0===s.length?f:s.map(((e,t)=>n.createElement(w,{key:e.name,player:e,i:t,onGameDirectorChange:g,maxGroups:c,onGroupChange:p,editMode:!0,isForJudge:l,onRemovePlayer:d}))))))};var j=a(8906),O=a(96976),M={};M.styleTagTransform=v(),M.setAttributes=p(),M.insert=m().bind(null,"head"),M.domAPI=s(),M.insertStyleElement=f(),l()(O.A,M),O.A&&O.A.locals&&O.A.locals;const I=function(e){let{onMaxTimeChange:t,minutes:a,seconds:r}=e;const o=[a,r];function i(e,a){const n=[...o];n[a]=e,e=function(e){const t=Number(e[0])||0;return 1e3*(Number(e[1])||0)+60*t*1e3}(n),t&&t(e)}return n.createElement("div",{className:"pickerContainer rounded rounded2"},n.createElement(j.A,{value:o[0],initialValue:0,minValue:0,maxValue:60,callback:e=>{i(e,0)}}),n.createElement("div",{className:"maxTimePickerContainer--separator"},"m"),n.createElement(j.A,{value:o[1],initialValue:0,minValue:0,maxValue:60,callback:e=>{i(e,1)}}),n.createElement("div",{className:"maxTimePickerContainer--separator"},"s"))};var R=a(55038);const F=function(e){let{onMaxTimeChange:t,onMaxPointsChange:a,showTimePicker:r,time:i,points:l}=e;const{t:c}=(0,o.B)(["main"]),s=R.default.millisToTime(i);let u=n.createElement(n.Fragment,null);return r&&(u=n.createElement(n.Fragment,null,n.createElement("p",null,c("content.maxTimeText1")),n.createElement(I,{onMaxTimeChange:t,onMaxPointsChange:a,minutes:s.m,seconds:s.s,millis:s.mm}))),n.createElement("div",null,u,n.createElement("p",null,c("content.maxTimeText2")),n.createElement("div",{className:"pickerContainer rounded rounded2"},n.createElement(j.A,{value:l,minValue:0,initialValue:0,callback:e=>{a(e)}})))},V=function(e){let{onZonesChange:t,value:a=1}=e;const{t:r}=(0,o.B)(["main"]);return n.createElement("div",null,n.createElement("p",null,r("content.seleccionZonas"),":"),n.createElement("div",{className:"pickerContainer rounded rounded2"},n.createElement(j.A,{value:a,minValue:1,maxValue:40,callback:e=>{t(e)},initialValue:1})))};var U=a(6932);const L=function(e){let{onGroupsChange:t,value:a,minValue:r,maxValue:i}=e;const{t:l}=(0,o.B)(["main"]);return U.isOffline?n.createElement(n.Fragment,null):n.createElement("div",null,n.createElement("p",null,l("content.selecciongrupos"),":"),n.createElement("div",{className:"pickerContainer horizontalScrollContainer rounded rounded2"},n.createElement(j.A,{minValue:r||1,maxValue:i||10,value:a,callback:e=>{t(e)},initialValue:1})))},D=function(e){let{onGatesChange:t,zones:a,value:r,minValue:i,maxValue:l}=e;const{t:c}=(0,o.B)(["main"]),s=[];for(let e=0;e<a;e++)s.push(n.createElement("div",{key:"pickerContainer".concat(e)},n.createElement("div",{key:e,className:"zoneName"},c("description.zona")," ",e+1,":"),n.createElement("br",{key:"br".concat(e)}),n.createElement(j.A,{key:"picker".concat(e),minValue:i||1,maxValue:l||40,value:r,callback:a=>{t(a,e)},initialValue:1})));return n.createElement("div",null,n.createElement("p",null,c("content.seleccionPuertas"),":"),n.createElement("div",{className:"gatesPickerContainer pickerContainer horizontalScrollContainer rounded rounded2"},s))};var B=a(34816),z=a(12996),Y=a.n(z),J=a(93899),K=a.n(J),Z=a(304),q={};q.styleTagTransform=v(),q.setAttributes=p(),q.insert=m().bind(null,"head"),q.domAPI=s(),q.insertStyleElement=f(),l()(Z.A,q),Z.A&&Z.A.locals&&Z.A.locals;const W=function(e){let{preconfiguredGame:t,onGameCreated:a}=e;const{t:i}=(0,o.B)(["main"]),l=[];n.useEffect((()=>{N.default.pageview("/gameconfigurator")}),[]);const[c,s,u,m,d,p,g,f,h,v,y,E,b,T,w,P,_]=K()({preconfiguredGame:t,onGameCreated:a});return l.push(n.createElement(F,{key:0,mode:c.pointsType,onMaxPointsChange:f,onMaxTimeChange:h,time:c.maxTime,points:c.maxPoints,showTimePicker:!0})),c.gameType!==r.GAME_TYPE_KING&&(l.push(n.createElement(V,{key:1,game:c,value:c.zones,onZonesChange:v,onGatesChange:y,onMaxPointsChange:f,onMaxTimeChange:h})),l.push(n.createElement(D,{key:2,zones:c.zones,value:10,onGatesChange:y})),l.push(n.createElement(L,{key:3,onGroupsChange:b,value:1,minValue:1,maxValue:10})),U.isOffline||l.push(n.createElement(k,{key:4,isForJudge:!0,maxGroups:u,inPlayers:c.judges,gameName:c.name,onGameDirectorChange:w,onPlayerNumerChange:p}))),n.createElement(n.Fragment,null,n.createElement(B.default,{message:s}),n.createElement("div",{className:"newGameContainer rounded rounded1"},n.createElement("div",{className:"newGame"},n.createElement("div",{className:"headerText bold"},i("description.nuevaPartida")),n.createElement("div",{className:"newGameRow"},n.createElement("label",{htmlFor:"gameName",className:"formRequiredValue"},i("description.nombre")),!c.name&&n.createElement("div",{className:"formError"},i("error.nonombre")," "),n.createElement("input",{id:"gameName",value:c.name,className:"newGameNameInput",type:"text",onChange:E})),n.createElement("div",{className:"newGameRow"},n.createElement("span",{className:""},i("description.fecha")),": ",c.date.toLocaleString()),n.createElement("div",{className:"newGameRow"},n.createElement("span",{className:""},i("description.esPublica")),": ",n.createElement("input",{type:"checkbox",checked:c.isPublic,onChange:T})),n.createElement("div",{className:"newGameRow"},n.createElement("span",{className:""},i("description.localizacion")),":",n.createElement(Y(),{onLocationResolved:d})))),n.createElement(x,{selectedGameType:c.gameType,selectedPointsType:c.pointsType,onGameTypeChange:e=>{m(e)}}),l,n.createElement(k,{gameName:c.name,isForJudge:!1,inPlayers:c.players,maxGroups:u,onPlayerNumerChange:e=>{g&&g(e)}}),n.createElement("input",{type:"checkbox",onChange:P}),i("description.ordenRamdomJugadores"),n.createElement("p",null,n.createElement("button",{className:"importantNote",disabled:!(c.name&&c.name.length&&c.players.length&&c.judges.length),onClick:()=>{_(u,c)}},i("description.crearjuego")),n.createElement("button",{onClick:()=>{window.location.reload()}},i("description.atras"))))}},304:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(31601),r=a.n(n),o=a(76314),i=a.n(o)()(r());i.push([e.id,".gatesPickerContainer .picker,.gatesPickerContainer .zoneName{margin:0 15px}",""]);const l=i},17729:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(31601),r=a.n(n),o=a(76314),i=a.n(o)()(r());i.push([e.id,".gameType{margin:25px 0}.gameSelectText{line-height:1.5;font-size:16px;padding:25px;text-align:left;margin-bottom:15px;text-align:justify}",""]);const l=i},96976:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(31601),r=a.n(n),o=a(76314),i=a.n(o)()(r());i.push([e.id,".pickerContainer{display:flex;font-size:18px;padding:15px;margin:15px}.maxTimePickerContainer--separator{max-width:40px;height:112px;line-height:112px}",""]);const l=i},42298:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(31601),r=a.n(n),o=a(76314),i=a.n(o)()(r());i.push([e.id,".players{margin-bottom:25px;padding-bottom:15px}.playersList{margin:10px;padding:0}.playerListItem{margin-bottom:10px;line-height:42px;text-align:right;padding-right:10px}",""]);const l=i},13717:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(31601),r=a.n(n),o=a(76314),i=a.n(o)()(r());i.push([e.id,".playerListItem.closed{width:auto;height:155px;overflow:hidden}.pickerContainer.handicapBox{margin:5px;padding:25px}.playerBox .textOverflow{max-width:190px;display:inline-block}.playerBox button{float:right}.handicapBox .handicapLabel{width:50%;text-align:center;line-height:6}.textOverflow{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}",""]);const l=i},56760:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(31601),r=a.n(n),o=a(76314),i=a.n(o)()(r());i.push([e.id,".userSearchContainer img{margin:5px 0 5px 5px}.userSearchContainer .userSearchResultsText{margin-bottom:15px}.userSearchContainer .userSearchText{padding:25px}.userSearchContainer .resultsContainer{border:1px solid;width:85%;border-radius:14px;padding:15px;margin-top:15px}.userSearchContainer .resultsContainer .userSearchItem{text-align:right}.userSearchContainer .resultsContainer .userSearchItem .userSearchResult{max-width:230px;display:block;float:left}.userSearchContainer .resultsContainer .userSearchItem button{float:left;margin:0 0 0 5px}.userSearchContainer .resultsContainer:empty{border:0px solid}",""]);const l=i},74469:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(85072),r=a.n(n),o=a(97825),i=a.n(o),l=a(77659),c=a.n(l),s=a(55056),u=a.n(s),m=a(10540),d=a.n(m),p=a(41113),g=a.n(p),f=a(56760),h={};h.styleTagTransform=g(),h.setAttributes=u(),h.insert=c().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=d(),r()(f.A,h);const v=f.A&&f.A.locals?f.A.locals:void 0},36236:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=a(42578),r=a(46662),o=a(3442),i=a(77267),l=a(43841),c=a(98784),s=a(90598),u=a(788),m={getMaxTimeAndPointsFromGameType:function(e){var t=0,a=0;switch(e){case u.GAME_TYPE_AECAR:t=n.AecarGameScores.maxPoints,a=n.AecarGameScores.maxTime;break;case u.GAME_TYPE_KING:t=l.KingGameScores.maxPoints,a=l.KingGameScores.maxTime;break;case u.GAME_TYPE_ISRCC:t=r.IsrccGameScores.maxPoints,a=r.IsrccGameScores.maxTime;break;case u.GAME_TYPE_LEVANTE:t=o.Levante124GameScores.maxPoints,a=o.Levante124GameScores.maxTime;break;case u.GAME_TYPE_COPAESPANA:t=i.RegionalZonaRcGameScores.maxPoints,a=i.RegionalZonaRcGameScores.maxTime;break;case u.GAME_TYPE_MINICRAWLERPASSION:t=c.MiniCrawlerPassionGameScores.maxPoints,a=c.MiniCrawlerPassionGameScores.maxTime;break;case u.GAME_TYPE_GENERIC:t=s.GenericGameScores.maxPoints,a=s.GenericGameScores.maxTime;break;default:t=0,a=0}return[a,t]}};t.default=m},12996:function(e,t,a){var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(96540)),c=i(a(48298)),s=i(a(55038)),u=a(32418);t.default=function(e){var t,a=e.onLocationResolved,n=l.useState(0),r=n[0],o=n[1],i=l.useState({latitude:0,longitude:0}),m=i[0],d=i[1],p=(0,u.useTranslation)(["main"]).t;return navigator.geolocation?0===r?t=l.createElement("a",{className:"bold",href:"https://crawlear.com",onClick:function(e){e.preventDefault(),navigator.geolocation?(o(2),navigator.geolocation.getCurrentPosition((function(e){var t={latitude:e.coords.latitude,longitude:e.coords.longitude};a(t),o(1),d(t)}),(function(){a({}),o(0)}))):o(0)}},p("description.obtener")):2===r?t=l.createElement(c.default,null):1===r&&(t=l.createElement(l.Fragment,null,l.createElement("span",null,"(","".concat(m.latitude,",").concat(m.longitude),")"),l.createElement("a",{href:s.default.getMapsURL(m.latitude,m.longitude),rel:"noreferrer",target:"_blank"},p("description.vergooglemaps")))):t=l.createElement("div",{className:""},p("content.nogeolocation")),t}},71698:function(e,t,a){var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=o(a(96540)),c=i(a(60737)),s=a(6932);a(74469);var u=i(a(49286));t.default=function(e){var t=e.onUserSeachPlayerAdd,a=e.onUserClick,n=e.onPlusAddUserClick,r=e.mainText,o=e.secondaryText,i=e.iconSend,m=e.children,d=l.useRef(null),p=l.useRef(null),g=(0,c.default)(t,a,n,p),f=g[0],h=g[1],v=g[2],y=g[3],E=g[4],x=g[5],b=[l.createElement("div",{key:"secondaryText",className:"userSearchResultsText smallText"},o)].concat(f.map((function(e){var a=i;return t&&e.uid===window.crawlear.user.uid&&(a=u.default),l.createElement("div",{className:"bold userSearchItem",key:e.displayName},l.createElement("span",{onClick:E,className:"userSearchResult textOverflow"},e.displayName),l.createElement("img",{src:a,alt:"send icon","data-uid":e.uid,"data-displayname":e.displayName,"data-photourl":e.photoURL,onClick:x}))})));return l.createElement("div",{className:"userSearchContainer rounded rounded3"},!s.isOffline||n?l.createElement(l.Fragment,null,l.createElement("div",{className:"userSearchText smallText"},r),l.createElement("input",{ref:p,className:"userSearchName",onChange:y,value:h})):l.createElement(l.Fragment,null),v,m,l.createElement("div",{ref:d,className:"resultsContainer"},b))}},93899:function(e,t,a){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return o(t,e),t},l=this&&this.__spreadArray||function(e,t,a){if(a||2===arguments.length)for(var n,r=0,o=t.length;r<o;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(a(96540)),u=a(788),m=a(788),d=c(a(36236)),p=a(6932),g=a(84976),f=a(32418),h=c(a(38791)),v=c(a(55038));t.default=function(e){var t=e.preconfiguredGame,a=e.onGameCreated,r=s.useState((function(){var e=t||new u.Game("",(new Date).toLocaleDateString(),{latitude:0,longitude:0},!0,m.GAME_TYPE_LEVANTE,[],[],6e5,40,new Array(1).fill(10),1,0,[],[],[]);return e.date=(new Date).toLocaleDateString(),p.isOffline&&(e.judges=[n({},u.OfflinePlayer)]),e})),o=r[0],i=r[1],c=(0,g.useNavigate)(),y=s.useState(""),E=y[0],x=y[1],b=s.useState(!1),T=b[0],w=b[1],P=s.useState(1),_=P[0],C=P[1],A=(0,f.useTranslation)(["main"]).t,N=window.crawlear.fb;return s.useEffect((function(){window.scrollTo(0,0)}),[]),[o,E,_,function(e){var t,a=n({},o);h.default.event("menu","playModeChange",e),a.gameType=e,t=d.default.getMaxTimeAndPointsFromGameType(a.gameType),a.maxTime=t[0],a.maxPoints=t[1],i(a)},function(e){if(e.latitude&&e.longitude){var t=n({},o);t.location=e,i(t)}else x(A("error.nogeolocation"))},function(e){var t=n({},o),a="addJudge";o.judges.length>e.length&&(a="removeJudge"),h.default.event("menu",a,e.length),t.judges=l([],e,!0),p.isOffline&&!t.owner.length&&t.owner.push(m.OFFLINE_USER_UID),i(t),x("")},function(e){var t=n({},o),a="addPlayer";o.players.length>e.length&&(a="removePlayer"),h.default.event("menu",a,e.length),t.players=l([],e,!0),i(t),x("")},function(e){var t=n({},o);h.default.event("menu","maxPointsSet",e),t.maxPoints=e,i(t)},function(e){var t=n({},o);t.maxTime=e,h.default.event("menu","maxTimeSet",e),i(t)},function(e){var t=n({},o);o.zones<e?t.gates.push(10):t.gates.pop(),t.zones=e,h.default.event("menu","zonesSet",e),i(t)},function(e,t){var a=n({},o);a.gates[t]=e,h.default.event("menu","gateSet",e),i(a)},function(e){var t=n({},o),a=e.target.value;a&&(t.name=a,i(t),x(""))},function(e){C(e)},function(e){var t=n({},o);t.isPublic=e.target.value,i(t)},function(e,t){var a=o.judges[e].uid,r=n({},o);if(t&&!r.owner.find((function(e){return e===a})))r.owner.push(a),i(r);else if(!t&&r.owner.find((function(e){return e===a}))){var l=r.owner.indexOf(a);r.owner.splice(l,1),i(r)}},function(e){var t=e.target.checked;w(t)},function(e,t){var r=function(e,t){for(var a=new Array(e).fill(0),n=0;n<t.players.length;n++)a[t.players[n].group]++;return void 0===a.find((function(e){return 0===e}))}(e,t);if(window.scrollTo(0,0),t.name&&t.name.length)if(r)if(t.judges.length||t.gameType===m.GAME_TYPE_KING)if(t.players.length)if(t.gameType===m.GAME_TYPE_KING||t.owner.length){if(t.gameType!==m.GAME_TYPE_KING&&r||t.gameType===m.GAME_TYPE_KING){var o=n({},t);t.gameType===m.GAME_TYPE_KING&&(o.judges.push(n({},window.crawlear.user)),o.zones=1,o.gates=new Array(1).fill(1)),o.uids=v.default.getUidsFromUsers(o.players),o.jids=v.default.getUidsFromUsers(o.judges),T&&function(e){if(e.players.length){var t=l([],e.players,!0);t=t.sort((function(e,t){return Math.random()-.5})),e.players=t,u.GameUtils.redoPlayersIds(e)}}(o),u.GameUtils.init(o,u.GameUtils.getGameTypeControlTextValuesInit(o.gameType),u.GameUtils.getGameTypeFiascoControlTextValuesInit(o.gameType),!0),p.isOffline&&a?a(o):N.setGame(o,(function(e){o.gid=e.gid,N.createGameProgression(o),i(o),c("/game")}),(function(){}))}}else x(A("error.nodirectordepartida"));else x(A("error.nojugadores"));else x(A("error.nojueces"));else x(A("error.rellenargrupos"));else x(A("error.nonombre"))}]}},60737:function(e,t,a){var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(a(96540)),l=a(6932);t.default=function(e,t,a,n){var r=window.crawlear.fb,o=window.crawlear.fbBase,c=i.useState(""),s=c[0],u=c[1],m=i.useState([]),d=m[0],p=m[1],g=a?i.createElement("button",{className:"buttonControlTextPlus",onClick:function(){var e,t=null===(e=null==n?void 0:n.current)||void 0===e?void 0:e.value;p([]),u(""),a({uid:"",displayName:t})}},"+"):i.createElement(i.Fragment,null);return[d,s,g,function(e){var t=e.target.value;u(t),!l.isOffline&&o.isUserLogged()&&(t.length>0?r.userSearch(t,(function(e){p(e)}),(function(){})):p([]))},function(e){var a,n=null===(a=e.target.nextElementSibling)||void 0===a?void 0:a.getAttribute("data-uid");t&&t(n)},function(t){var a=t.target,n=a.getAttribute("data-uid"),r=a.getAttribute("data-displayname"),o=a.getAttribute("data-photourl");p([]),u(""),e&&e({uid:n,displayName:r,photoURL:o})}]}},49286:(e,t,a)=>{e.exports=a.p+"78b7bb4a554381a9ba80.png"}}]);