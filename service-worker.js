const CACHE_NAME="crawlearCache_v16";self.addEventListener("install",(e=>{console.log(`CrawlearServiceWorker::${CACHE_NAME} Installed`),e.waitUntil(caches.open(CACHE_NAME).then((function(e){return e.addAll(["./","index.html"])})))})),self.addEventListener("activate",(e=>{console.log(`CrawlearServiceWorker::${CACHE_NAME} Activated`)})),self.addEventListener("fetch",(function(e){if("image"===e.request.destination)e.respondWith(caches.open(CACHE_NAME).then((t=>t.match(e.request.url).then((n=>n||fetch(e.request).then((n=>(t.put(e.request,n.clone()),n))))))));else{const t=e.request.url;if(!("POST"!==e.request.method&&t.indexOf("crawlear.com")>=0&&t.indexOf("chrome-extension://")<=0))return;e.respondWith(caches.open(CACHE_NAME).then((n=>fetch(t).then((t=>(n.put(e.request,t.clone()),t))).catch((()=>n.match(t))))))}}));